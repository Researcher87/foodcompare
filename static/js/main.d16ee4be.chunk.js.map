{"version":3,"sources":["static/image/carousel sync /^/.*$","static/image/carousel/Img-de-1.png","static/image/carousel/Img-de-2.png","static/image/carousel/Img-de-3.png","static/image/carousel/Img-de-4.png","static/image/carousel/Img-de-5.png","static/image/carousel/Img-de-6.png","static/image/carousel/Img-en-1.png","static/image/carousel/Img-en-2.png","static/image/carousel/Img-en-3.png","static/image/carousel/Img-en-4.png","static/image/carousel/Img-en-5.png","static/image/carousel/Img-en-6.png","service/NutrientDataImportService.ts","config/Constants.ts","config/ApplicationSetting.ts","service/LanguageService.ts","service/nutrientdata/NameTypeService.ts","contexts/ApplicationDataContext.tsx","static/labels.ts","service/nutrientdata/CategoryService.ts","service/nutrientdata/FoodClassService.ts","service/nutrientdata/FoodItemsService.ts","service/nutrientdata/PortionDataService.ts","contexts/LangContext.tsx","service/WindowDimension.ts","components/foodselector/FoodSelector.tsx","components/foodselector/CompositeFoodList.tsx","service/FoodDataAggregationService.ts","components/foodselector/FoodSelectorModal.tsx","service/calculation/MathService.ts","config/ChartConfig.ts","service/ChartConfigurationService.ts","components/charthelper/PieChartConfigurationForm.tsx","components/charthelper/CustomLegend.tsx","service/nutrientdata/ChartSizeCalculation.tsx","components/fooddatapanel/charts/BaseDataChart.tsx","config/EnergyConstants.ts","service/calculation/EnergyService.ts","components/fooddatapanel/charts/EnergyDataChart.tsx","service/calculation/DietaryRequirementService.ts","components/charthelper/BarChartConfigurationForm.tsx","components/fooddatapanel/charts/MineralVitaminChart.tsx","components/fooddatapanel/charts/LipidsDataChart.tsx","components/fooddatapanel/charts/ProteinDataChart.tsx","components/fooddatapanel/charts/CarbsDataChart.tsx","components/fooddatapanel/ChartPanel.tsx","components/fooddatapanel/FoodDataTable.tsx","components/fooddatapanel/charts/InfoData.tsx","components/fooddatapanel/FoodDataPageBody.tsx","components/HelpModal.tsx","components/fooddatapanel/ChartMenuPanel.tsx","components/fooddatapanel/FoodDataPageHeader.tsx","service/HelpService.ts","service/TableService.ts","components/fooddatapanel/FoodDataPage.tsx","components/ConfirmationDialog.tsx","components/fooddatapanel/FoodAnalyzerContainer.tsx","components/fooddatapanel/TabContainer.tsx","components/fooddatapanel/FoodDataPanelContainer.tsx","static/image/logo.png","components/Header.tsx","static/image/text.png","components/UserSettings.tsx","static/image/impressum-german.png","static/image/impressum-english.png","components/Contact.tsx","components/Home.tsx","static/image/app.png","components/FoodCompareApp.tsx","components/foodselector/DirectCompareSelector.tsx","service/calculation/NutrientCalculationService.ts","components/directcompare/DC_MineralVitaminChart.tsx","components/directcompare/DC_PieChart.tsx","components/directcompare/DC_ProteinDataChart.tsx","components/directcompare/DC_EnergyChart.tsx","components/directcompare/DirectCompareDataPanel.tsx","components/directcompare/DirectCompareContainer.tsx","App.tsx","config/GoogleTools.ts","reportWebVitals.ts","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","loadFoodDataCorpus","categories","nutrientdata","conditions","portionTypes","sources","foodNames","foodClasses","foodItems","dietaryRequirements","AMOUNT_PORTION","CHART_TYPE_PIE","CHART_TYPE_BAR","CHART_VITAMINS","CHART_MINERALS","DISPLAYMODE_TABLE","DISPLAYMODE_CHART","GRAM","CARBS_DATA_BASE","CARBS_DATA_DETAIL","LIPIDS_DATA_BASE","LIPIDS_DATA_OMEGA","PATH_DIRECT_COMPARE","PATH_FOODCOMPARE","PATH_FOODDATA_PANEL","PATH_HOME","PATH_CONTACT","PATH_MOBILE_APP","PATH_USERSETTINGS","LANGUAGE_DE","LANGUAGE_EN","SEX_MALE","SEX_FEMALE","TAB_BASE_DATA","TAB_ENERGY_DATA","TAB_VITAMIN_DATA","TAB_MINERAL_DATA","TAB_LIPIDS_DATA","TAB_CARBS_DATA","TAB_PROTEINS_DATA","TAB_INFO","mobileAppPath","smallFormsScreenSize","initialUserDataSize","initialUserDataSex","initialUserDataPregnant","initialUserDataBreastfeeding","initialUserDataLeisureSports","initialChartConfigData","baseChartConfig","chartType","showLegend","showDetails","vitaminChartConfig","portionType","expand100","mineralChartConfig","lipidsChartConfig","subChart","carbsChartConfig","proteinChartConfig","initialDirectCompareConfigData","synchronize","subChart1","subChart2","getName","nameType","language","germanName","englishName","getNameFromFoodNameList","foodNameList","find","ApplicationDataContextStore","createContext","ApplicationDataContextProvider","setSelectedFoodDataPanelTab","selectedTab","setState","state","applicationData","foodDataPanel","selectedFoodItemIndex","setSelectedFoodDataPanelPage","selectedPage","selectedDataPage","addItemToFoodDataPanel","foodItem","newItems","selectedFoodItems","push","removeItemFromFoodDataPanel","foodItemId","filter","selectedFoodItem","newIndex","currentIndex","length","removeAllItemsFromFoodDataPanel","updateAllFoodItemNames","newLanguage","newFoodItems","foodName","nameId","tab","updateFoodDataPanelChartConfig","chartConfig","chartConfigData","setSelectedDirectCompareItems","selectedFoodItem1","selectedFoodItem2","directCompareDataPanel","setSelectedDirectCompareDataPage","updateDirectCompareChartConfig","directCompareConfigChart","setUserData","userData","foodDataCorpus","displayMode","setSelectedFoodTab","setSelectedDataPage","age","size","weight","sex","pregnant","breastFeeding","palValue","leisureSports","initialValues","debug","ready","NutrientDataImportService","this","Provider","value","props","children","Component","applicationStrings","button_add","de","en","button_cancel","button_close","button_getstarted","button_no","button_select","button_show","button_submit","button_update","button_yes","checkbox_chartoption_showLegend","checkbox_chartoption_showDetails","checkbox_english","checkbox_expand100g","checkbox_german","checkbox_synchronize","confirm_close_all_tabs","direct_compare_text","home_carousel_0","home_carousel_1","home_carousel_2","home_carousel_3","home_carousel_4","home_carousel_5","home_text_1","home_text_2","home_text_3","label_amount","label_amount_short","label_category","label_charttype","label_charttype_pie","label_charttype_bar","label_charttype_carbs_base","label_charttype_carbs_detail","label_charttype_energy","label_charttype_lipids_base","label_charttype_lipids_base_title","label_charttype_lipids_omega","label_charttype_lipids_omega_title","label_charttype_minerals","label_charttype_proteins","label_charttype_vitamins","label_chart_bmr","label_chart_energyExpenditure","label_chart_nutrientComposition","label_chart_totalComposition","label_datatype","label_food","label_foodclass","label_fooditem","label_foodselector","label_foodselector_composite","label_info","label_info_category","label_info_foodClass","label_info_foodId","label_info_foodName","label_info_portion","label_info_portionType","label_info_preparation","label_info_source","label_language","label_noData","label_nutrient_ash","label_nutrient_carbohydrates","label_nutrient_carbohydrates_short","label_nutrient_carbohydrates_fructose","label_nutrient_carbohydrates_galactose","label_nutrient_carbohydrates_glucose","label_nutrient_carbohydrates_lactose","label_nutrient_carbohydrates_maltose","label_nutrient_carbohydrates_starch","label_nutrient_carbohydrates_sucrose","label_nutrient_dietaryFibers","label_nutrient_dietaryFibers_short","label_nutrient_energy","label_nutrient_lipids","label_nutrient_lipids_saturated","label_nutrient_lipids_unsaturated","label_nutrient_lipids_unsaturated_mono","label_nutrient_lipids_unsaturated_poly","label_nutrient_lipids_transfattyAcids","label_nutrient_lipids_omega3","label_nutrient_lipids_omega6","label_nutrient_lipids_cholesterol","label_nutrient_min","label_nutrient_min_calcium","label_nutrient_min_copper","label_nutrient_min_iron","label_nutrient_min_magnesium","label_nutrient_min_manganese","label_nutrient_min_phosphorus","label_nutrient_min_potassimum","label_nutrient_min_selenium","label_nutrient_min_sodium","label_nutrient_min_zinc","label_nutrient_omega3","label_nutrient_omega6","label_nutrient_proteins","label_nutrient_proteins_alanine","label_nutrient_proteins_arginine","label_nutrient_proteins_asparticAcid","label_nutrient_proteins_cystine","label_nutrient_proteins_glysine","label_nutrient_proteins_glutamicAcid","label_nutrient_proteins_histidine","label_nutrient_proteins_isoleucine","label_nutrient_proteins_leucine","label_nutrient_proteins_lysine","label_nutrient_proteins_methionine","label_nutrient_proteins_phenylalanine","label_nutrient_proteins_proline","label_nutrient_proteins_serine","label_nutrient_proteins_threonine","label_nutrient_proteins_tryptophan","label_nutrient_proteins_tyrosine","label_nutrient_proteins_valine","label_nutrient_remainder","label_nutrient_sugar","label_nutrient_vit","label_nutrient_vit_a","label_nutrient_vit_b1","label_nutrient_vit_b2","label_nutrient_vit_b3","label_nutrient_vit_b5","label_nutrient_vit_b6","label_nutrient_vit_b9","label_nutrient_vit_b12","label_nutrient_vit_c","label_nutrient_vit_d","label_nutrient_vit_e","label_nutrient_vit_k","label_nutrient_water","label_overview","label_portion","label_prefix_hereof","label_reference","label_unknown","label_userSettings_age","label_userSettings_breastfeeding","label_userSettings_leisureSports","label_userSettings_leisureSports_tooltip","label_userSettings_palValue","label_userSettings_pregnant","label_userSettings_sex","label_userSettings_sex_male","label_userSettings_sex_female","label_userSettings_size","label_userSettings_weight","menu_food_data_panel","menu_direct_compare","menu_home","menu_mobile_app","menu_ranking","menu_settings","menu_contact","message_error_existing_element","message_error_incomplete_form","message_error_invalid_portion","message_userdata_success","message_userdata_error_title","message_userdata_error_age","message_userdata_error_size","message_userdata_error_weight","palcat_name_1","palcat_desc_1","palcat_name_2","palcat_desc_2","palcat_name_3","palcat_desc_3","palcat_name_4","palcat_desc_4","palcat_name_5","palcat_desc_5","palcat_name_6","palcat_desc_6","palcat_name_7","palcat_desc_7","portion_100g","portion_individual","text_contact_disclaimer1","text_contact_disclaimer2","text_contact_source1","text_contact_source2","text_contact_source3","text_contact_source4","text_empty_fooddatapanel","text_foodcompareapp_1","text_foodcompareapp_2","text_setUserdata_p1","text_setUserdata_p2","text_setUserdata_p3","tooltip_icon_charts","tooltip_icon_close","tooltip_icon_newFoodItem","tooltip_icon_newFoodItemStack","tooltip_icon_removeAll","tooltip_icon_table","getCategorySelectList","nameTypeList","sort","names","forEach","reactSelectOptions","name","index","label","getReactSelectOptionsList","getFoodClassSelectList","category","filteredFoodClasses","foodClass","getFoodClassesOfCategory","nameKey","console","error","obj1","obj2","localeCompare","getFoodItemsSelectList","filteredFoodItems","foodClassId","getFoodItemsOfFoodclass","condition","conditionId","conditionName","getPortionReactSelectList","portionData","portionElement","portionTypeIndex","findIndex","portionName","amount","getDefaultPortionData","portionDataList","defaultPortionIndex","defaultPortionId","LanguageContext","userLanguageChange","selectedLanguage","LanguageProvider","preferredLanguage","navigator","useState","setLanguage","provider","selectedLanaguage","getCurrentWindowDimension","width","window","innerWidth","height","innerHeight","useWindowDimension","windowDimension","setWindowDimension","useEffect","addEventListener","removeEventListener","isSmallScreen","FoodSelector","selectedCategory","setSelectedCategory","selectdFoodClass","setSelectedFoodClass","setSelectedFoodItem","selectedPortion","setSelectedPortion","portionAmount","setPortionAmount","initialized","setInitialized","categoriesList","setCategoriesList","foodClassesList","setFoodClassesList","foodItemsList","setFoodItemsList","portionsList","setPortionsList","applicationContext","useContext","windowSize","initialFoodClass","initialFoodClassToSet","categoryItems","foodItemsOfFoodClass","defaultPortion","makeSelectedFoodItemObject","updateFoodClasses","foodClassItems","updateFoodItem","updatePortionsList","portion","newFoodItem","updateSelectedFoodItem","predefinedFoodObject","foodClassOption","portionObject","setInitialFoodElement","amount_label","smallVariant","selectClass","inputClass","className","noCategorySelect","options","onChange","disabled","target","parseInt","isNaN","CompositeFoodList","languageContext","renderLine","style","borderBottom","paddingTop","Button","onClick","deleteItem","onDeleteItem","maxHeight","overflowY","combineFoodItems","compositeList","portionSize","nutrientDataList","baseData","energy","carbohydrates","lipids","proteins","water","dietaryFibers","alcohol","ash","portionFactor","createFinalValue","buildBaseDataObject","vitaminData","a","b1","b2","b3","b5","b6","b7","b9","b12","c","d","k","buildVitaminDataObject","mineralData","calcium","iron","magnesium","phosphorus","potassium","sodium","zinc","copper","manganese","selenium","buildMineralDataObject","carbohydrateData","glucose","fructose","galactose","sucrose","maltose","lactose","starch","sugar","buildCarbohydrateData","lipidData","unsaturatedMono","unsaturatedPoly","saturated","omega3","omega6","omegaUncertain","cholesterol","transFattyAcids","omegaData","uncertain","omegaRatio","uncertainRatio","buildLipidData","proteinData","tryptophan","threonine","isoleucine","leucine","lysine","methionine","cystine","phenylalanine","tyrosine","valine","arginine","histidine","alanine","asparticAcid","glutamicAcid","glycine","proline","serine","buildProteinData","nutrientObject","sourceItemId","source","url","i","nutrientData","threshold","removeNutrientObjectsWithNullValues","buildAggregatedNutrientDataList","Date","getTime","aggregated","compositeSubElements","totalPortionAmount","FoodSelectorModal","setCompositeList","onSubmit","compositeSelector","onSubmitComposite","onSubmitSingleItem","NotificationManager","selectedFoodItemCallback","onHide","aggregatedSelectedFoodItem","title","Modal","show","Header","Body","newList","splice","Footer","autoRound","round","digits","roundFactor","Math","pow","roundToNextValue","chartMaxValue","multiple","remainder","roundUp","color_yellow","color_red","color_brown","color_gray","color_chart_green_1","color_chart_green_2","color_chart_green_3","color_chart_yellow_1","color_chart_yellow_2","color_chart_yellow_3","color_chart_orange","color_chart_misc","default_chart_height","color_water","color_lipids","color_carbs","color_carbs_sugar","color_carbs_dietaryFibers","color_proteins","color_lipids_saturated","color_lipids_unsaturated_mono","color_lipids_unsaturated_poly","color_lipids_omega3","color_lipids_omega6","color_lipids_misc","color_ash","direct_compare_color1","direct_compare_color2","getBarChartOptions","unit","maxYValue","yAxis","display","text","min","max","getOptions","y","getPieChartOptions","scalesObject","maintainAspectRatio","responsive","plugins","fontSize","tooltip","getToolTips","legend","undefined","scales","enabled","callbacks","tooltipItem","formattedValue","PieChartConfigurationForm","Form","Label","Check","inline","type","checked","handleRadioButtonClick","paddingRight","defaultChecked","handleLegendCheckboxClick","detailsCheckboxAvailable","handleDetailsCheckboxClick","CustomLegend","borderLeft","paddingLeft","legendData","element","indent","verticalSpace","separateNextElement","marginLeft","marginBottom","background","color","marginTop","item","renderLegend","calculateChartHeight","currentDimension","directCompare","dataPage","calculateChartContainerHeight","BaseDataChart","lang","directCompareConfig","showDetailsProp","setChartType","setShowLegend","setShowDetails","directCompareUse","chartHeight","setChartHeight","updateChartConfig","currentConfig","newChartConfig","legendAllowed","renderSubChart","chartData","data","totalChartData","labels","datasets","backgroundColor","ChartConfig","borderWidth","borderColor","createTotalChartData","nutrientChartData","totalValue","carbValue","carbValuePerc","sugarValuePerc","dietaryFibersPerc","lipidValuePerc","proteinsValuePerc","values","backgroundColors","createNutrientChartData","totalChartDataTitle","nutrientChartDataTitle","containerHeight","justifyContent","getLegendData","event","PAL_CATEGORY_1","PAL_CATEGORY_2","PAL_CATEGORY_3","PAL_CATEGORY_4","PAL_CATEGORY_5","PAL_CATEGORY_6","PAL_CATEGORY_7","createPalCategoryName","languageLabel","energyLabel","EnergyConstants","EnergyDataChart","energy100g","Chart","register","annotationPlugin","averagePortion","energyPortion","createEnergyLevelChart","bmr","calculateBMR","totalEnergy","calculateTotalEnergyConsumption","annotation","annotations","line1","mode","scaleID","yMin","yMax","content","line2","determineDailyRequirement","dailyRequirementObject","ageGroupRequirements","senior","preSenior","midLifeAdult","youngAdult","youth","male","femalePregnant","femaleBreastFeeding","female","determineFoodRequirementRatio","amountInFood","dailyRequirement","determineProteinRequirementRatio","requirement","BarChartConfigurationForm","handleExpandCheckboxClick","handleSynchronize","MineralVitaminChart","chartConfigVitamins","chartConfigMinerals","portionType_vitamins","setPortionType_vitamins","expand100_vitamins","setExpand100_vitamins","chartType_minerals","setChartType_minerals","expand100_minerals","setExpand100_minerals","config","selectedSubChart","anyValueChanged","handleExpandCheckbox","requirementData","vitaminRequirementData","chartColor","barChartColor","createVitaminChartData","mineralRequirementData","createMineralChartData","maxValue","overallMaxValue","barChartProps","renderChartConfigurationForm","LipidsDataChart","setSubChart","lipidsData","totalLipidsAmount","handleChartSelectionChange","handleSubchartChange","omegaDataAvailabe","chartColType","Constants","renderChart","lipidsType","totalAmount","valueSaturated","valueUnsaturatedMono","valueUnsaturatedPoly","valueRemainder","valueOmega3","valueOmega6","valueUncertain","createOmegaChartData","ProteinDataChart","setPortionType","setExpand100","currentSetting","proteinRequirementData","createProteinChartData","dataExists","CarbsDataChart","currentSettings","chartIndex","detailChartData","valueGlucose","valueFructose","valueGalactose","valueSucrose","valueLactose","valueMaltose","valueStarch","valueMisc","createDetailChartData","basicChartData","totalCarbsAmount","valueSugar","valueDietaryFibers","warn","createBasicChartData","includes","getLegendBaseChart","getLegendDetailsChart","ChartPanel","chart","selectedDataTab","FoodDataTable","tableData","margin","striped","hover","isKey","dataField","InfoData","setContainerHeight","createRow","key","renderSubTable","bordered","padding","foodNameId","foodClassNameId","usdaId","sourceLine2","foodClassName","categoryId","categoryName","tableDataGeneral","getGeneralTableData","foodPortion","portionValue","tableDataPortion","getTableDataPortion","getTableDataCombinedFood","FoodDataPageBody","maxWidth","minWidth","HelpModal","helpText","role","data-dismiss","aria-label","closeHelpModal","dangerouslySetInnerHTML","__html","ChartMenuPanel","handlePageButtonClick","setDataPage","variant","ButtonGroup","vertical","verticalArrangement","active","FoodDataPageHeader","helpModalId","setHelpModalId","fullName","setDisplayMode","enabledDisplayButtonClasses","disabledDisplayButtonClasses","chartButtonClasses","tablesButtonClasses","foodNamesList","languageId","entry","require","entries","languageSection","contentArray","getHelpText","paddingBottom","data-tip","createTableObject","value_100g","valuePortion","calculatePortionData","MathService","value_portion","FoodDataPage","initialDataPage","setSelectedDataTab","setTableData","updatePage","tableDataList","createBaseDataTable","createEnergyTable","createVitaminTable","firstNutrientData","createMineralTable","createLipidsTable","createCarbsTable","createProteinTable","log","newMode","datapage","ConfirmationDialog","okLabel","cancelLabel","confirmation","proceed","enableEscape","backdrop","keyboard","Title","React","confirmAction","createConfirmation","confirmable","FoodAnalyzerContainer","ApplicationContext","showFoodSelector","setShowFoodSelector","showFoodAggregatedFoodSelector","setShowAggregatedFoodSelector","onSelectFoodItemSubmit","component","onNewFoodItemSelected","onCloseAllTabs","deleteIconEnabled","ReactTooltip","rebuild","marginRight","TabContainer","tabPanelClass","tabContentClass","buttonTab","border","verticalAlign","minHeight","alignItems","cursor","onTabClick","onTabChange","activeIndex","FoodDataPanelContainer","selectedTabIndex","newTabIndex","indexToSet","foodId","location","useLocation","handleLanguageButtonClick","activePath","pathname","src","float-start","to","UserSettings","setAge","setSize","setWeight","setSex","setPregnant","setBreastFeeding","setPalValue","leisureSport","setLeisureSport","changePregnant","changeBreastFeeding","changeAdditionalPalPorts","checkInputValidity","showMessage","message","renderTextField","callback","FormControl","value_age","value_size","value_weight","FormGroup","controlId","palCategories","userDataPalValue","palObject","descriptionCode","getPalCategory","description","changePalValue","renderPalList","success","submitUserData","Contact","impressumPath","impressum_de","impressum_en","images","Home","displayedImage","setDisplayedImage","imageChanged","image","fontWeight","langKey","pic1","default","pic2","pic3","pic4","pic5","pic6","captionAttribute","imageCaption","showArrows","infiniteLoop","autoPlay","interval","transitionTime","selectedItem","textAlign","fontStyle","renderCarousel","FoodCompareApp","link","open","focus","href","appPath","STATUS_FIRST_TIME","STATUS_NOT_UPDATED","STATUS_UPDATED","DirectCompareSelector","initialItem1","initialItem2","setSelectedFoodItem1","setSelectedFoodItem2","displayStatus","setDisplayStatus","updateSelectedFoodItem1","updateSelectedFoodItem2","renderFoodSelectorCard","foodSelectorNumber","styleClass","Card","CardDeck","buttonName","updateSelectedFoodItems","getMaximumValue","dataSet","dataSetKey","ratioValue","nullifyIncompleValues","dataSet1","dataSet2","DC_MineralVitaminChart","portionType_minerals","setPortionType_minerals","synchronizeVitamins","setSynchronizeVitamins","synchronizeMinerals","setSynchronizeMinerals","nutrientData1","nutrientData2","maxValue1","maxValue2","maxY","preconfigVitamins","preconfigMinerals","preconfig","preconfigFoodItem1","preconfigFoodItem2","DC_PieChart","initialConfig","setSubChart1","setSubChart2","configObject","pieChartConfig","handleShowLegendCheckbox","handleShowDetailsCheckbox","handleSubchart1Change","handleSubchart2Change","getConfigurationProps","chartProps","getChartComponent","resolvedName","DC_ProteinDataChart","setSynchronize","DC_EnergyChart","DirectCompareDataPanel","initialPage","nameId1","nameId2","name1","name2","renderCharts","DirectCompareContainer","initialFoodItem1","initialFoodItem2","ga4react","GA4React","App","Switch","path","exact","initialize","render","StrictMode","document","getElementById","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","rootElement","hasChildNodes","hydrate"],"mappings":"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","file":"static/js/main.d16ee4be.chunk.js","sourcesContent":["var map = {\n\t\"./Img-de-1.png\": 371,\n\t\"./Img-de-2.png\": 372,\n\t\"./Img-de-3.png\": 373,\n\t\"./Img-de-4.png\": 374,\n\t\"./Img-de-5.png\": 375,\n\t\"./Img-de-6.png\": 376,\n\t\"./Img-en-1.png\": 377,\n\t\"./Img-en-2.png\": 378,\n\t\"./Img-en-3.png\": 379,\n\t\"./Img-en-4.png\": 380,\n\t\"./Img-en-5.png\": 381,\n\t\"./Img-en-6.png\": 382\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 370;","export default __webpack_public_path__ + \"static/media/Img-de-1.f461d8cb.png\";","export default __webpack_public_path__ + \"static/media/Img-de-2.6f0bfc36.png\";","export default __webpack_public_path__ + \"static/media/Img-de-3.f67e30a1.png\";","export default __webpack_public_path__ + \"static/media/Img-de-4.fd525cd7.png\";","export default __webpack_public_path__ + \"static/media/Img-de-5.4b2dfd28.png\";","export default __webpack_public_path__ + \"static/media/Img-de-6.0a5a2015.png\";","export default __webpack_public_path__ + \"static/media/Img-en-1.e75dca7d.png\";","export default __webpack_public_path__ + \"static/media/Img-en-2.ad08b464.png\";","export default __webpack_public_path__ + \"static/media/Img-en-3.f117714f.png\";","export default __webpack_public_path__ + \"static/media/Img-en-4.ec0ccf6b.png\";","export default __webpack_public_path__ + \"static/media/Img-en-5.afac79a2.png\";","export default __webpack_public_path__ + \"static/media/Img-en-6.3238f1c7.png\";","import NameType from '../types/nutrientdata/NameType'\r\nimport Source from '../types/nutrientdata/Source'\r\nimport FoodItem from '../types/nutrientdata/FoodItem'\r\nimport DietaryRequirement from '../types/nutrientdata/DietaryRequirement'\r\n\r\nimport nutrientdata from \"./../static/data/nutrientdata_foodcompare.json\";\r\nimport FoodDataCorpus from \"../types/nutrientdata/FoodDataCorpus\"\r\nimport FoodClass from \"../types/nutrientdata/FoodClass\";\r\n\r\nexport function loadFoodDataCorpus(): FoodDataCorpus {\r\n\tconst categories = loadCategories()\r\n\tconst conditions = loadConditions()\r\n\tconst portionTypes = loadPortionTypes()\r\n\tconst sources = loadSources()\r\n\tconst foodNames = loadFoodNames()\r\n\tconst foodClasses = loadFoodClasses()\r\n\tconst nutrientData = loadNutrientData()\r\n\tconst dietaryRequirements = loadDietaryRequirements()\r\n\r\n\treturn {\r\n\t\tcategories: categories,\r\n\t\tconditions: conditions,\r\n\t\tportionTypes: portionTypes,\r\n\t\tsources: sources,\r\n\t\tfoodNames: foodNames,\r\n\t\tfoodClasses: foodClasses,\r\n\t\tfoodItems: nutrientData,\r\n\t\tdietaryRequirements: dietaryRequirements\r\n\t}\r\n}\r\n\r\nexport function loadConditions(): Array<NameType> {\r\n\treturn nutrientdata.conditions;\r\n}\r\n\r\nexport function loadPortionTypes(): Array<NameType> {\r\n\treturn nutrientdata.portionTypes;\r\n}\r\n\r\nexport function loadFoodNames(): Array<NameType> {\r\n\treturn nutrientdata.foodNames;\r\n}\r\n\r\nexport function loadSources(): Array<Source> {\r\n\treturn nutrientdata.sources;\r\n}\r\n\r\nexport function loadCategories(): Array<NameType> {\r\n\treturn nutrientdata.categories;\r\n}\r\n\r\nexport function loadFoodClasses(): Array<FoodClass> {\r\n\treturn nutrientdata.foodClasses;\r\n}\r\n\r\nexport function loadNutrientData(): Array<FoodItem> {\r\n\treturn nutrientdata.foodItems;\r\n}\r\n\r\nexport function loadDietaryRequirements(): DietaryRequirement {\r\n\treturn nutrientdata.dietaryRequirements;\r\n}","export const AMOUNT_PORTION = \"amount portion\"\r\n\r\nexport const CHART_TYPE_PIE = \"pie chart\"\r\nexport const CHART_TYPE_BAR = \"bar chart\"\r\n\r\nexport const CHART_VITAMINS = \"chart vitamins\"\r\nexport const CHART_MINERALS = \"chart minerals\"\r\n\r\nexport const DATA_MINERAL_CALCIUM = \"data calcium\";\r\nexport const DATA_MINERAL_IRON = \"data iron\";\r\nexport const DATA_MINERAL_MAGNESIUM = \"data magnesium\";\r\nexport const DATA_MINERAL_PHOSPHORUS = \"data phosphorous\";\r\nexport const DATA_MINERAL_POTASSIUM = \"data potassium\";\r\nexport const DATA_MINERAL_SODIUM = \"data sodium\";\r\nexport const DATA_MINERAL_ZINC = \"data zinc\";\r\nexport const DATA_MINERAL_SELENIUM = \"data selenium\";\r\nexport const DATA_MINERAL_MANGANESE = \"data manganese\";\r\nexport const DATA_MINERAL_COPPER = \"data copper\";\r\n\r\nexport const DATA_VITAMINS_A = \"data a\";\r\nexport const DATA_VITAMINS_B1 = \"data b1\";\r\nexport const DATA_VITAMINS_B2 = \"data b2\";\r\nexport const DATA_VITAMINS_B3 = \"data b3\";\r\nexport const DATA_VITAMINS_B5 = \"data b5\";\r\nexport const DATA_VITAMINS_B6 = \"data b6\";\r\nexport const DATA_VITAMINS_B9 = \"data b9\";\r\nexport const DATA_VITAMINS_B12 = \"data b12\";\r\nexport const DATA_VITAMINS_C = \"data c\";\r\nexport const DATA_VITAMINS_D = \"data d\";\r\nexport const DATA_VITAMINS_E = \"data e\";\r\nexport const DATA_VITAMINS_K = \"data k\";\r\n\r\nexport const DISPLAYMODE_TABLE = \"displaymode table\"\r\nexport const DISPLAYMODE_CHART = \"displaymode chart\"\r\n\r\nexport const GRAM = \"gram\"\r\n\r\nexport const CARBS_DATA_BASE = \"carbs data base chart\";\r\nexport const CARBS_DATA_DETAIL = \"carbs data detail chart\"\r\n\r\nexport const LIPIDS_DATA_BASE = \"lipids data base chart\";\r\nexport const LIPIDS_DATA_OMEGA = \"lipids data omega chart\"\r\n\r\nexport const PATH_DIRECT_COMPARE = \"/directcompare\";\r\nexport const PATH_FOODCOMPARE = \"/foodcompare\"\r\nexport const PATH_FOODDATA_PANEL = \"/datapanel\";\r\nexport const PATH_HOME = \"/home\";\r\nexport const PATH_CONTACT = \"/contact\";\r\nexport const PATH_MOBILE_APP = \"/mobileapp\";\r\nexport const PATH_USERSETTINGS= \"/usersettings\";\r\n\r\nexport const LANGUAGE_DE = \"de\";\r\nexport const LANGUAGE_EN = \"en\";\r\n\r\nexport const SEX_MALE = \"sex male\"\r\nexport const SEX_FEMALE = \"sex female\"\r\n\r\nexport const TAB_BASE_DATA = \"tab_base_data\"\r\nexport const TAB_ENERGY_DATA = \"tab_energy_data\"\r\nexport const TAB_VITAMIN_DATA = \"tab_vitamin_data\"\r\nexport const TAB_MINERAL_DATA = \"tab_mineral_data\"\r\nexport const TAB_LIPIDS_DATA = \"tab_lipids_data\"\r\nexport const TAB_CARBS_DATA = \"tab_carps_data\"\r\nexport const TAB_PROTEINS_DATA = \"tab_proteins_data\"\r\nexport const TAB_INFO = \"tab_info\"","import {AMOUNT_PORTION, CARBS_DATA_BASE, CHART_TYPE_PIE, LIPIDS_DATA_BASE, SEX_MALE} from \"./Constants\";\r\nimport {ChartConfigData, DirectCompareChartConfigData} from \"../types/livedata/ChartConfigData\";\r\nimport {WindowDimension} from \"../service/WindowDimension\";\r\n\r\nexport const release = \"1.2\"\r\nexport const buildDate = \"2021-07-17\"\r\n\r\nexport const mobileAppPath = \"https://play.google.com/store/apps/details?id=com.parapps.foodcompareapp\"\r\n\r\nexport const minimalOmegaRatio = 0.3\r\nexport const maximalPortionSize = 5000\r\nexport const defaultPanelHeight = '468px'\r\n\r\nexport const smallFormsScreenSize: WindowDimension = {\r\n    width: 1200,\r\n    height: 800\r\n}\r\n\r\nexport const initialUserDataAge = 35\r\nexport const initialUserDataSize = 175\r\nexport const initialUserDataWeight = 75\r\nexport const initialUserDataSex = SEX_MALE\r\nexport const initialUserDataPregnant = false\r\nexport const initialUserDataBreastfeeding = false\r\nexport const initialUserDataPalValue = 1.6\r\nexport const initialUserDataLeisureSports = false\r\n\r\nexport const initialChartConfigData: ChartConfigData = {\r\n    baseChartConfig: {\r\n        chartType: CHART_TYPE_PIE,\r\n        showLegend: true,\r\n        showDetails: false\r\n    },\r\n    vitaminChartConfig: {\r\n        portionType: AMOUNT_PORTION,\r\n        expand100: false\r\n    },\r\n    mineralChartConfig: {\r\n        portionType: AMOUNT_PORTION,\r\n        expand100: false\r\n    },\r\n    lipidsChartConfig: {\r\n        chartType: CHART_TYPE_PIE,\r\n        showLegend: true,\r\n        subChart: LIPIDS_DATA_BASE\r\n    },\r\n    carbsChartConfig: {\r\n        chartType: CHART_TYPE_PIE,\r\n        showLegend: true,\r\n        subChart: CARBS_DATA_BASE\r\n    },\r\n    proteinChartConfig: {\r\n        portionType: AMOUNT_PORTION,\r\n        expand100: false\r\n    }\r\n}\r\n\r\nexport const initialDirectCompareConfigData: DirectCompareChartConfigData = {\r\n    baseChartConfig: {\r\n        chartType: CHART_TYPE_PIE,\r\n        showLegend: false,\r\n        showDetails: false\r\n    },\r\n    vitaminChartConfig: {\r\n        portionType: AMOUNT_PORTION,\r\n        expand100: false,\r\n        synchronize: true\r\n    },\r\n    mineralChartConfig: {\r\n        portionType: AMOUNT_PORTION,\r\n        expand100: false,\r\n        synchronize: true\r\n    },\r\n    lipidsChartConfig: {\r\n        chartType: CHART_TYPE_PIE,\r\n        showLegend: false,\r\n        subChart1: LIPIDS_DATA_BASE,\r\n        subChart2: LIPIDS_DATA_BASE\r\n    },\r\n    carbsChartConfig: {\r\n        chartType: CHART_TYPE_PIE,\r\n        showLegend: false,\r\n        subChart1: CARBS_DATA_BASE,\r\n        subChart2: CARBS_DATA_BASE\r\n    },\r\n    proteinChartConfig: {\r\n        portionType: AMOUNT_PORTION,\r\n        expand100: false,\r\n        synchronize: true\r\n    }\r\n}","import NameType from \"../types/nutrientdata/NameType\";\r\n\r\nexport default function getName(nameType: NameType, language: string): string {\r\n    if(language === 'de') {\r\n        return nameType.germanName\r\n    } else {\r\n        return nameType.englishName\r\n    }\r\n}\r\n\r\n\r\n","import NameType from \"../../types/nutrientdata/NameType\";\r\nimport ReactSelectOption from \"../../types/ReactSelectOption\";\r\nimport getName from \"../LanguageService\";\r\n\r\nexport function getReactSelectOptionsList(nameTypeList: Array<NameType>, language: string, sort?: boolean): Array<ReactSelectOption> {\r\n    const names: Array<string> = []\r\n\r\n    if(nameTypeList && nameTypeList.length > 0) {\r\n        nameTypeList.forEach(nameType => names.push(getName(nameType, language)))\r\n    }\r\n\r\n    if(sort) {\r\n        names.sort()\r\n    }\r\n\r\n    const reactSelectOptions: Array<ReactSelectOption> = []\r\n    names.forEach((name, index) => {\r\n        reactSelectOptions.push({\r\n            value: index,\r\n            label: name\r\n        })\r\n    })\r\n\r\n    return reactSelectOptions\r\n}\r\n\r\n\r\nexport function getNameFromFoodNameList(foodNameList: Array<NameType>, id: number, language: string): string | null {\r\n    const nameType = foodNameList.find(nameType => nameType.id === id)\r\n\r\n    if(nameType) {\r\n        return getName(nameType, language)\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n\r\n/*\r\n * General method to shorten the name of long food name.\r\n * name: The food name, e.g. \"Linen oil (at least 60 % lineul acid)\"\r\n * maxLength: The maximum length of the food name.\r\n */\r\nexport function shortenName(name, maxLength) {\r\n    if(name.length <= maxLength) {\r\n        return name;\r\n    }\r\n\r\n    if(name.includes(\"(\")) {\r\n        const indexOfBrace = name.indexOf(\"(\");\r\n        if(indexOfBrace >= maxLength-6) {\r\n            return name.substring(0, indexOfBrace-1).trim() + \"...\";\r\n        }\r\n    }\r\n\r\n    return name.substring(0, maxLength-3).trim() + \"...\";\r\n}","import {Component, createContext, ReactElement} from \"react\";\r\nimport * as NutrientDataImportService from \"../service/NutrientDataImportService\";\r\nimport FoodDataCorpus from \"../types/nutrientdata/FoodDataCorpus\";\r\nimport SelectedFoodItem from \"../types/livedata/SelectedFoodItem\";\r\nimport {ApplicationData} from \"../types/livedata/ApplicationData\";\r\nimport {DISPLAYMODE_CHART, TAB_BASE_DATA} from \"../config/Constants\";\r\nimport {UserData} from \"../types/livedata/UserData\";\r\nimport {\r\n    initialChartConfigData, initialDirectCompareConfigData,\r\n    initialUserDataAge,\r\n    initialUserDataBreastfeeding,\r\n    initialUserDataLeisureSports,\r\n    initialUserDataPalValue,\r\n    initialUserDataPregnant,\r\n    initialUserDataSex,\r\n    initialUserDataSize,\r\n    initialUserDataWeight\r\n} from \"../config/ApplicationSetting\";\r\nimport {getNameFromFoodNameList} from \"../service/nutrientdata/NameTypeService\";\r\nimport NameType from \"../types/nutrientdata/NameType\";\r\nimport {ChartConfigData, DirectCompareChartConfigData} from \"../types/livedata/ChartConfigData\";\r\n\r\nexport interface ApplicationDataContext {\r\n    foodDataCorpus: FoodDataCorpus\r\n    applicationData: ApplicationData\r\n    userData: UserData\r\n    debug: boolean\r\n    setUserData: (userData: UserData) => void\r\n    ready: boolean\r\n}\r\n\r\nexport const ApplicationDataContextStore = createContext<ApplicationDataContext | null>(null)\r\n\r\nexport default class ApplicationDataContextProvider extends Component<any, ApplicationDataContext> {\r\n\r\n    setSelectedFoodDataPanelTab = (selectedTab: number) => {\r\n        this.setState({\r\n            ...this.state,\r\n            applicationData: {\r\n                ...this.state.applicationData,\r\n                foodDataPanel: {...this.state.applicationData.foodDataPanel, selectedFoodItemIndex: selectedTab}\r\n            }\r\n        })\r\n    }\r\n\r\n    setSelectedFoodDataPanelPage = (selectedPage: string) => {\r\n        this.setState({\r\n            ...this.state,\r\n            applicationData: {\r\n                ...this.state.applicationData,\r\n                foodDataPanel: {...this.state.applicationData.foodDataPanel, selectedDataPage: selectedPage}\r\n            }\r\n        })\r\n    }\r\n\r\n    addItemToFoodDataPanel = (foodItem: SelectedFoodItem) => {\r\n        const newItems = this.state.applicationData.foodDataPanel.selectedFoodItems\r\n        newItems.push(foodItem)\r\n        this.setState({\r\n            ...this.state,\r\n            applicationData: {\r\n                ...this.state.applicationData,\r\n                foodDataPanel: {...this.state.applicationData.foodDataPanel, selectedFoodItems: newItems}\r\n            }\r\n        })\r\n    }\r\n\r\n    removeItemFromFoodDataPanel = (foodItemId: number) => {\r\n        const newItems = this.state.applicationData.foodDataPanel.selectedFoodItems.filter(\r\n            selectedFoodItem => selectedFoodItem.foodItem.id !== foodItemId\r\n        )\r\n\r\n        let newIndex = 0\r\n        let currentIndex = this.state.applicationData.foodDataPanel.selectedFoodItemIndex\r\n\r\n        if (newItems.length > 0) {\r\n            if (currentIndex < newItems.length) {\r\n                newIndex = currentIndex\r\n            } else {\r\n                newIndex = newItems.length - 1\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            applicationData: {\r\n                ...this.state.applicationData,\r\n                foodDataPanel: {\r\n                    ...this.state.applicationData.foodDataPanel,\r\n                    selectedFoodItems: newItems,\r\n                    selectedFoodItemIndex: newIndex\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    removeAllItemsFromFoodDataPanel = () => {\r\n        this.setState({\r\n            ...this.state,\r\n            applicationData: {\r\n                ...this.state.applicationData,\r\n                foodDataPanel: {\r\n                    ...this.state.applicationData.foodDataPanel,\r\n                    selectedFoodItems: [],\r\n                    selectedFoodItemIndex: 0\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    updateAllFoodItemNames = (foodNames: Array<NameType>, newLanguage: string) => {\r\n        const selectedFoodItems = this.state.applicationData.foodDataPanel.selectedFoodItems\r\n        const newFoodItems = selectedFoodItems.map(selectedFoodItem => {\r\n            const foodName = selectedFoodItem.foodItem.nameId\r\n                ? getNameFromFoodNameList(foodNames, selectedFoodItem.foodItem.nameId, newLanguage)\r\n                : \"Individual\"\r\n            if(foodName) {\r\n                selectedFoodItem = {...selectedFoodItem, tab: foodName}\r\n            }\r\n            return selectedFoodItem\r\n        })\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            applicationData: {\r\n                ...this.state.applicationData,\r\n                foodDataPanel: {\r\n                    ...this.state.applicationData.foodDataPanel,\r\n                    selectedFoodItems: newFoodItems,\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    updateFoodDataPanelChartConfig = (chartConfig: ChartConfigData) => {\r\n        this.setState({\r\n            ...this.state,\r\n            applicationData: {\r\n                ...this.state.applicationData,\r\n                foodDataPanel: {\r\n                    ...this.state.applicationData.foodDataPanel,\r\n                    chartConfigData: chartConfig\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n\r\n    setSelectedDirectCompareItems = (selectedFoodItem1: SelectedFoodItem, selectedFoodItem2: SelectedFoodItem) => {\r\n        this.setState({\r\n            ...this.state,\r\n            applicationData: {\r\n                ...this.state.applicationData,\r\n                directCompareDataPanel: {...this.state.applicationData.directCompareDataPanel,\r\n                    selectedFoodItem1: selectedFoodItem1,\r\n                    selectedFoodItem2: selectedFoodItem2\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    setSelectedDirectCompareDataPage = (selectedPage: string) => {\r\n        this.setState({\r\n            ...this.state,\r\n            applicationData: {\r\n                ...this.state.applicationData,\r\n                directCompareDataPanel: {...this.state.applicationData.directCompareDataPanel, selectedDataPage: selectedPage}\r\n            }\r\n        })\r\n    }\r\n\r\n    updateDirectCompareChartConfig = (chartConfig: DirectCompareChartConfigData) => {\r\n        this.setState({\r\n            ...this.state,\r\n            applicationData: {\r\n                ...this.state.applicationData,\r\n                directCompareDataPanel: {\r\n                    ...this.state.applicationData.directCompareDataPanel,\r\n                    directCompareConfigChart: chartConfig\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    setUserData = (userData: UserData) => {\r\n        this.setState({\r\n            ...this.state,\r\n            userData: userData\r\n        })\r\n    }\r\n\r\n\r\n    state: ApplicationDataContext = {\r\n        foodDataCorpus: {\r\n            categories: [],\r\n            conditions: [],\r\n            portionTypes: [],\r\n            sources: [],\r\n            foodNames: [],\r\n            foodClasses: [],\r\n            foodItems: [],\r\n            dietaryRequirements: null,\r\n        },\r\n        applicationData: {\r\n            foodDataPanel: {\r\n                selectedFoodItems: [],\r\n                selectedDataPage: TAB_BASE_DATA,\r\n                displayMode: DISPLAYMODE_CHART,\r\n                selectedFoodItemIndex: 0,\r\n                chartConfigData: initialChartConfigData,\r\n                setSelectedFoodTab: this.setSelectedFoodDataPanelTab,\r\n                setSelectedDataPage: this.setSelectedFoodDataPanelPage,\r\n                addItemToFoodDataPanel: this.addItemToFoodDataPanel,\r\n                removeItemFromFoodDataPanel: this.removeItemFromFoodDataPanel,\r\n                removeAllItemsFromFoodDataPanel: this.removeAllItemsFromFoodDataPanel,\r\n                updateAllFoodItemNames: this.updateAllFoodItemNames,\r\n                updateFoodDataPanelChartConfig: this.updateFoodDataPanelChartConfig\r\n            },\r\n            directCompareDataPanel: {\r\n                selectedFoodItem1: null,\r\n                selectedFoodItem2: null,\r\n                selectedDataPage: TAB_BASE_DATA,\r\n                directCompareConfigChart: initialDirectCompareConfigData,\r\n                updateDirectCompareChartConfig: this.updateDirectCompareChartConfig,\r\n                setSelectedDirectCompareDataPage: this.setSelectedDirectCompareDataPage,\r\n                setSelectedDirectCompareItems: this.setSelectedDirectCompareItems\r\n            }\r\n        },\r\n        userData: {\r\n            age: initialUserDataAge,\r\n            size: initialUserDataSize,\r\n            weight: initialUserDataWeight,\r\n            sex: initialUserDataSex,\r\n            pregnant: initialUserDataPregnant,\r\n            breastFeeding: initialUserDataBreastfeeding,\r\n            palValue: initialUserDataPalValue,\r\n            leisureSports: initialUserDataLeisureSports,\r\n            initialValues: true\r\n        },\r\n        debug: true,\r\n        setUserData: this.setUserData,\r\n        ready: false\r\n    }\r\n\r\n    componentDidMount() {\r\n        const foodDataCorpus = NutrientDataImportService.loadFoodDataCorpus()\r\n        this.setState({\r\n            foodDataCorpus: foodDataCorpus,\r\n            ready: true\r\n        })\r\n    }\r\n\r\n    render(): ReactElement {\r\n        return (\r\n            <ApplicationDataContextStore.Provider value={{...this.state}}>\r\n                {this.props.children}\r\n            </ApplicationDataContextStore.Provider>\r\n        )\r\n    }\r\n\r\n}\r\n","export const applicationStrings = {\r\n    button_add: {\r\n        de: 'Hinzufügen',\r\n        en: 'Add'\r\n    },\r\n    button_cancel: {\r\n        de: 'Abbrechen',\r\n        en: 'Cancel'\r\n    },\r\n    button_close: {\r\n        de: 'Schließen',\r\n        en: 'Close'\r\n    },\r\n    button_getstarted: {\r\n        de: 'Lebensmittel analysieren',\r\n        en: 'Get started'\r\n    },\r\n    button_no: {\r\n        de: 'Nein',\r\n        en: 'No'\r\n    },\r\n    button_select: {\r\n        de: 'Auswählen',\r\n        en: 'Show'\r\n    },\r\n    button_show: {\r\n        de: 'Anzeigen',\r\n        en: 'Show'\r\n    },\r\n    button_submit: {\r\n        de: 'Übernehmen',\r\n        en: 'Submit'\r\n    },\r\n    button_update: {\r\n        de: \"Aktualisieren\",\r\n        en: \"Update\"\r\n    },\r\n    button_yes: {\r\n        de: 'Ja',\r\n        en: 'Yes'\r\n    },\r\n    checkbox_chartoption_showLegend: {\r\n        de: 'Legende anzeigen',\r\n        en: 'Show legend'\r\n    },\r\n    checkbox_chartoption_showDetails: {\r\n        de: 'Details anzeigen',\r\n        en: 'Show details'\r\n    },\r\n    checkbox_english: {\r\n        de: 'Englisch',\r\n        en: 'English'\r\n    },\r\n    checkbox_expand100g: {\r\n        de: 'Auf 100 % erweitern',\r\n        en: 'Expand to 100 %'\r\n    },\r\n    checkbox_german: {\r\n        de: 'Deutsch',\r\n        en: 'German'\r\n    },\r\n    checkbox_synchronize: {\r\n        de: 'Synchronisieren',\r\n        en: 'Synchronize'\r\n    },\r\n    confirm_close_all_tabs: {\r\n        de: 'Sollen wirklich alle Lebensmittel-Tabs geschlossen werden?',\r\n        en: 'Really close all food tabs?'\r\n    },\r\n    direct_compare_text: {\r\n        de: 'Wählen Sie zwei Lebensmittel aus den beiden Auswahlboxen, um diese miteinander zu vergleichen.',\r\n        en: 'Pick two food elements from the two selectors in order to compare them with each other.'\r\n      },\r\n    home_carousel_0: {\r\n        de: 'Vitamine in Lebensmitteln im Vergleich zum Tagesbedarf',\r\n        en: 'Vitamins in food compared to daily requirements'\r\n    },\r\n    home_carousel_1: {\r\n        de: 'Mineralstoffe in Lebensmitteln im Vergleich zum Tagesbedarf',\r\n        en: 'Minerals in food compared to daily requirements'\r\n    },\r\n    home_carousel_2: {\r\n        de: 'Nährstoffzusammensetzung in einem Lebensmittel',\r\n        en: 'Food composition of nutrients'\r\n    },\r\n    home_carousel_3: {\r\n        de: 'Verteilung der Fettsäuren (gesättigt / ungesättigt)',\r\n        en: 'Distribution of fatty acids (saturated / unsaturated)'\r\n    },\r\n    home_carousel_4: {\r\n        de: 'In Nahrungsmitteln enthaltene Aminosäuren',\r\n        en: 'Amino acids conainted in foods'\r\n    },\r\n    home_carousel_5: {\r\n        de: 'Zusammenstellung von Menüs (aggregierte Daten)',\r\n        en: 'Composite menus (aggregated data)'\r\n    },\r\n    home_text_1: {\r\n        de: 'Food Compare ist ein Webprojekt zur grafischen Darstellung der Zusammensetzung von Lebensmitteln. Während klassische Quellen die enthaltenen Inhaltsstoffe meist nur in tabellarischer Form angeben, verwendet Food Compare Grafiken und Diagramme, um den Gehalt an Vitaminen und Mineralstoffen, Kohlenhydraten, Fettsäuren und Eiweißen (Proteinen) leichter und übersichtlich darzustellen.',\r\n        en: 'FoodCompare is a web project to visually display information about food composition. While conventional resources commonly display nutrient data in tables, Food Compare provides charts and graphics to allow users a better understanding of the containing nutrients (carbohydrates, lipids, proteins) as well as vitamins and minerals.'\r\n    },\r\n    home_text_2: {\r\n        de: 'Das Hauptaugenmerk von Food Compare gilt jedoch nicht nur der Veranschaulichung einzelner Nahrungsmittel, sondern der Vergleichbarkeit von Nährstoffen, Vitaminen und Mineralen in Lebensmittels. Dazu können beliebig viele Tabs geöffnet und Lebensmittel damit leicht miteinander verglichen werden. So lassen sich bspw. auf einfache Weise der Vitamingehalt von einzelnen Obstsorten vergleichen, oder die Aufteilung von Kohlenhydraten, Fetten und Eiweißen zwischen Grundnahrungsmitteln. Dabei erlaubt die Anwendung auch das Zusammenstellen von komplexen Menüs, deren Gesamtgehalt an Nährstoffen, Vitaminen und Mineralstoffen dann berechnet wird.',\r\n        en: 'The primary focus of Food Compare is to visually compare the composition and contents of different foods, though. Food items can be opened in different tabs so that nutrients, vitamins or minerals can be easily compare. As an example, users can compare the containing vitamins between different fruits or the nutrient composition between staple foods. In addition, the application allows to aggregate foods to more complex menus and will then calculate the overall amount of nutrients, vitamins and minerals in that menu.'\r\n    },\r\n    home_text_3: {\r\n        de: 'Um die Nährstoffdiagramme zweier Lebensmittel auf einen Blick miteinander vergleichen zu können, gibt es seit der Version 1.2 nun auch einen zusätzlichen Bereich, in denen die Diagramme entsprechend nebeneinander angeordnet sind. Einige Datenseiten wie Vitamine und Mineralstoffe lassen sich dabei auch synchronisieren, so dass eine einheitliche Skalierung der Diagramme stattfindet und nur die Daten angezeigt werden, welche für beide Lebensmittel vorliegen.',\r\n        en: 'In order to compare nutrient charts of two foods at a glance, an additional page was added in version 1.2 where nutrient charts are placed next to each other. Some data pages like vitamins and minerals can also be synchronized, which means that the charts use a unique scaling and only display data that is available in both food elements.'\r\n    },\r\n    label_amount: {\r\n        de: 'Menge (Gramm)',\r\n        en: 'Amount (gram)'\r\n    },\r\n    label_amount_short: {\r\n        de: 'Gramm',\r\n        en: 'Gram'\r\n    },\r\n    label_category: {\r\n        de: 'Kategorie',\r\n        en: 'Category'\r\n    },\r\n    label_charttype: {\r\n        de: 'Diagrammart',\r\n        en: 'Chart type'\r\n    },\r\n    label_charttype_pie: {\r\n        de: 'Tortendiagramm',\r\n        en: 'Pie chart'\r\n    },\r\n    label_charttype_bar: {\r\n        de: 'Balkendiagramm',\r\n        en: 'Bar chart'\r\n    },\r\n    label_charttype_carbs_base: {\r\n        de: 'Allgemeine Werte',\r\n        en: 'Basic data'\r\n    },\r\n    label_charttype_carbs_detail: {\r\n        de: 'Detailwerte',\r\n        en: 'Detailed data'\r\n    },\r\n    label_charttype_energy: {\r\n        de: 'Grundumsatz und Gesamtumsatz (Energie)',\r\n        en: 'BMR and Energy Expenditure'\r\n    },\r\n    label_charttype_lipids_base: {\r\n        de: 'Allgemeine Werte',\r\n        en: 'Basic data'\r\n    },\r\n    label_charttype_lipids_base_title: {\r\n        de: 'Allgemeine Verteilung der Fettsäuren',\r\n        en: 'Basic distributions of fatty acids'\r\n    },\r\n    label_charttype_lipids_omega: {\r\n        de: 'Omega-Werte',\r\n        en: 'Omega data'\r\n    },\r\n    label_charttype_lipids_omega_title: {\r\n        de: 'Allgemeine Verteilung der Omega-3/6-Fettsäuren',\r\n        en: 'Basic distributions of Omega 3/6 acids'\r\n    },\r\n    label_charttype_minerals: {\r\n        de: 'Minerale (im Vgl. zum Tagesbedarf)',\r\n        en: 'Minerals (compared to dietary requirements)'\r\n    },\r\n    label_charttype_proteins: {\r\n        de: 'Proteine (im Vgl. zum Tagesbedarf)',\r\n        en: 'Proteins  (compared to dietary requirements)'\r\n    },\r\n    label_charttype_vitamins: {\r\n        de: 'Vitamine (im Vgl. zum Tagesbedarf)',\r\n        en: 'Vitamins (compared to dietary requirements)'\r\n    },\r\n    label_chart_bmr: {\r\n        de: 'Grundumsatz',\r\n        en: 'Basal Metabolic Rate (BMR)'\r\n    },\r\n    label_chart_energyExpenditure: {\r\n        de: 'Gesamtumsatz',\r\n        en: 'Energy Expenditure'\r\n    },\r\n    label_chart_nutrientComposition: {\r\n        de: 'Nährstoffzusammensetzung',\r\n        en: 'Nutrient Composition'\r\n    },\r\n    label_chart_totalComposition: {\r\n        de: 'Gesamtzusammensetzung',\r\n        en: 'Total Composition'\r\n    },\r\n    label_datatype: {\r\n        de: 'Datentyp',\r\n        en: 'Data type'\r\n    },\r\n    label_food: {\r\n        de: \"Lebensmittel\",\r\n        en: \"Food\"\r\n    },\r\n    label_foodclass: {\r\n        de: 'Lebensmittel',\r\n        en: 'Food Class'\r\n    },\r\n    label_fooditem: {\r\n        de: 'Typ',\r\n        en: 'Food type'\r\n    },\r\n    label_foodselector: {\r\n        de: 'Lebensmittelauswahl',\r\n        en: 'Food Selector'\r\n    },\r\n    label_foodselector_composite: {\r\n        de: 'Zusammenstellung eines Lebensmittels',\r\n        en: 'Composite food generation'\r\n    },\r\n    label_info: {\r\n        de: 'Info',\r\n        en: 'Info'\r\n    },\r\n    label_info_category: {\r\n        de: 'Kategorie',\r\n        en: 'Category'\r\n    },\r\n    label_info_foodClass: {\r\n        de: 'Lebensmittel-Klasse',\r\n        en: 'Food Class'\r\n    },\r\n    label_info_foodId: {\r\n        de: 'Lebensmittel ID',\r\n        en: 'Food Id'\r\n    },\r\n    label_info_foodName: {\r\n        de: 'Lebensmittel',\r\n        en: 'Food'\r\n    },\r\n    label_info_portion: {\r\n        de: 'Portionsdaten',\r\n        en: 'Portion data'\r\n    },\r\n    label_info_portionType: {\r\n        de: 'Portionstyp',\r\n        en: 'Portion type'\r\n    },\r\n    label_info_preparation: {\r\n        de: 'Zubereitungsart',\r\n        en: 'Preparation type'\r\n    },\r\n    label_info_source: {\r\n        de: 'Quelle',\r\n        en: 'Source'\r\n    },\r\n    label_language: {\r\n        de: 'Sprache',\r\n        en: 'Language'\r\n    },\r\n    label_noData: {\r\n        de: 'Keine Daten vorhanden',\r\n        en: 'No data available'\r\n    },\r\n    label_nutrient_ash: {\r\n        de: 'Reststoffe',\r\n        en: 'Ash'\r\n    },\r\n    label_nutrient_carbohydrates: {\r\n        de: 'Kohlenhydrate',\r\n        en: 'Carbohydrates'\r\n    },\r\n    label_nutrient_carbohydrates_short: {\r\n        de: 'Kohlenhyd.',\r\n        en: 'Carbs'\r\n    },\r\n    label_nutrient_carbohydrates_fructose: {\r\n        de: 'Fruktose',\r\n        en: 'Fructose'\r\n    },\r\n    label_nutrient_carbohydrates_galactose: {\r\n        de: 'Galaktose',\r\n        en: 'Galactose'\r\n    },\r\n    label_nutrient_carbohydrates_glucose: {\r\n        de: 'Glukose (Traubenzucker)',\r\n        en: 'Glucose'\r\n    },\r\n    label_nutrient_carbohydrates_lactose: {\r\n        de: 'Laktose',\r\n        en: 'Lactose'\r\n    },\r\n    label_nutrient_carbohydrates_maltose: {\r\n        de: 'Maltose',\r\n        en: 'Maltose'\r\n    },\r\n    label_nutrient_carbohydrates_starch: {\r\n        de: 'Stärke',\r\n        en: 'Starch'\r\n    },\r\n    label_nutrient_carbohydrates_sucrose: {\r\n        de: 'Sukrose',\r\n        en: 'Sucrose'\r\n    },\r\n    label_nutrient_dietaryFibers: {\r\n        de: 'Ballaststoffe',\r\n        en: 'Dietary fibers'\r\n    },\r\n    label_nutrient_dietaryFibers_short: {\r\n        de: 'Ballastst.',\r\n        en: 'Dietary fib.'\r\n    },\r\n    label_nutrient_energy: {\r\n        de: 'Energie',\r\n        en: 'Energy'\r\n    },\r\n    label_nutrient_lipids: {\r\n        de: 'Fett',\r\n        en: 'Fats'\r\n    },\r\n    label_nutrient_lipids_saturated: {\r\n        de: 'Gesättigte Fettsäuren',\r\n        en: 'Saturated fatty acids'\r\n    },\r\n    label_nutrient_lipids_unsaturated: {\r\n        de: 'Ungesättigte Fettsäuren',\r\n        en: 'Unsaturated fatty acids'\r\n    },\r\n    label_nutrient_lipids_unsaturated_mono: {\r\n        de: 'Einfach ungesättigte Fettsäuren',\r\n        en: 'Mono-unsaturated fatty acids'\r\n    },\r\n    label_nutrient_lipids_unsaturated_poly: {\r\n        de: 'Mehrfach ungesättigte Fettsäuren',\r\n        en: 'Poly-unsaturated fatty acids'\r\n    },\r\n    label_nutrient_lipids_transfattyAcids: {\r\n        de: 'Transfettsäuren',\r\n        en: 'Transfatty acids'\r\n    },\r\n    label_nutrient_lipids_omega3: {\r\n        de: 'Omega-3-Fettsäuren',\r\n        en: 'Omega-3 fatty acids'\r\n    },\r\n    label_nutrient_lipids_omega6: {\r\n        de: 'Omega-6-Fettsäuren',\r\n        en: 'Omega-6 fatty acids'\r\n    },\r\n    label_nutrient_lipids_cholesterol: {\r\n        de: 'Cholesterin',\r\n        en: 'Cholesterol'\r\n    },\r\n    label_nutrient_min: {\r\n        de: 'Mineralstoffe',\r\n        en: 'Minerals'\r\n    },\r\n    label_nutrient_min_calcium: {\r\n        de: 'Kalzium',\r\n        en: 'Calcium'\r\n    },\r\n    label_nutrient_min_copper: {\r\n        de: 'Kupfer',\r\n        en: 'Copper'\r\n    },\r\n    label_nutrient_min_iron: {\r\n        de: 'Eisen',\r\n        en: 'Iron'\r\n    },\r\n    label_nutrient_min_magnesium: {\r\n        de: 'Magnesium',\r\n        en: 'Magnesium'\r\n    },\r\n    label_nutrient_min_manganese: {\r\n        de: 'Mangan',\r\n        en: 'Manganese'\r\n    },\r\n    label_nutrient_min_phosphorus: {\r\n        de: 'Phosphor',\r\n        en: 'Phosphorus'\r\n    },\r\n    label_nutrient_min_potassimum: {\r\n        de: 'Kalium',\r\n        en: 'Potassimum'\r\n    },\r\n    label_nutrient_min_selenium: {\r\n        de: 'Selen',\r\n        en: 'Selenium'\r\n    },\r\n    label_nutrient_min_sodium: {\r\n        de: 'Natrium',\r\n        en: 'Sodium'\r\n    },\r\n    label_nutrient_min_zinc: {\r\n        de: 'Zink',\r\n        en: 'Zinc'\r\n    },\r\n    label_nutrient_omega3: {\r\n        de: 'Omega-3-Fettsäuren',\r\n        en: 'Omega-3 Fatty acids'\r\n    },\r\n    label_nutrient_omega6: {\r\n        de: 'Omega-6-Fettsäuren',\r\n        en: 'Omega-6 Fatty acids'\r\n    },\r\n    label_nutrient_proteins: {\r\n        de: 'Eiweiß',\r\n        en: 'Proteins'\r\n    },\r\n    label_nutrient_proteins_alanine: {\r\n        de: 'Alanin',\r\n        en: 'Alanine'\r\n    },\r\n    label_nutrient_proteins_arginine: {\r\n        de: 'Arginin',\r\n        en: 'Arginin'\r\n    },\r\n    label_nutrient_proteins_asparticAcid: {\r\n        de: 'Asparaginsäure',\r\n        en: 'Aspartic acid'\r\n    },\r\n    label_nutrient_proteins_cystine: {\r\n        de: 'Cystein',\r\n        en: 'Cystein'\r\n    },\r\n    label_nutrient_proteins_glysine: {\r\n        de: 'Glysin',\r\n        en: 'Glysine'\r\n    },\r\n    label_nutrient_proteins_glutamicAcid: {\r\n        de: 'Glutamin',\r\n        en: 'Glutamic acid'\r\n    },\r\n    label_nutrient_proteins_histidine: {\r\n        de: 'Histidin',\r\n        en: 'Histidine'\r\n    },\r\n    label_nutrient_proteins_isoleucine: {\r\n        de: 'Isoleucin',\r\n        en: 'Isoleucin'\r\n    },\r\n    label_nutrient_proteins_leucine: {\r\n        de: 'Leucin',\r\n        en: 'Leucin'\r\n    },\r\n    label_nutrient_proteins_lysine: {\r\n        de: 'Lysin',\r\n        en: 'Lysine'\r\n    },\r\n    label_nutrient_proteins_methionine: {\r\n        de: 'Methionin',\r\n        en: 'Methionin'\r\n    },\r\n    label_nutrient_proteins_phenylalanine: {\r\n        de: 'Phenylalanin',\r\n        en: 'Phenylalanin'\r\n    },\r\n    label_nutrient_proteins_proline: {\r\n        de: 'Prolin',\r\n        en: 'Proline'\r\n    },\r\n    label_nutrient_proteins_serine: {\r\n        de: 'Serin',\r\n        en: 'Serine'\r\n    },\r\n    label_nutrient_proteins_threonine: {\r\n        de: 'Threonin',\r\n        en: 'Threonine'\r\n    },\r\n    label_nutrient_proteins_tryptophan: {\r\n        de: 'Tryptophan',\r\n        en: 'Tryptophan'\r\n    },\r\n    label_nutrient_proteins_tyrosine: {\r\n        de: 'Tyrosin',\r\n        en: 'Tyrosin'\r\n    },\r\n    label_nutrient_proteins_valine: {\r\n        de: 'Valin',\r\n        en: 'Valin'\r\n    },\r\n    label_nutrient_remainder: {\r\n        de: 'Rest',\r\n        en: 'Remainder'\r\n    },\r\n    label_nutrient_sugar: {\r\n        de: 'Zucker',\r\n        en: 'Sugar'\r\n    },\r\n    label_nutrient_vit: {\r\n        de: 'Vitamine',\r\n        en: 'Vitamins'\r\n    },\r\n    label_nutrient_vit_a: {\r\n        de: 'Vitamin A (Retinol, Retinal, ...)',\r\n        en: 'Vitamin A (Retinol, Retinal, ...)'\r\n    },\r\n    label_nutrient_vit_b1: {\r\n        de: 'Vitamin B1 (Thiamine)',\r\n        en: 'Vitamin B1 (Thiamine)'\r\n    },\r\n    label_nutrient_vit_b2: {\r\n        de: 'Vitamin B2 (Riboflavin)',\r\n        en: 'Vitamin B2 (Riboflavin)'\r\n    },\r\n    label_nutrient_vit_b3: {\r\n        de: 'Vitamin B3 (Niacin)',\r\n        en: 'Vitamin B3 (Niacin)'\r\n    },\r\n    label_nutrient_vit_b5: {\r\n        de: 'Vitamin B5 (Pantothensäure)',\r\n        en: 'Vitamin B5 (Pantothenic acid)'\r\n    },\r\n    label_nutrient_vit_b6: {\r\n        de: 'Vitamin B6',\r\n        en: 'Vitamin B6'\r\n    },\r\n    label_nutrient_vit_b9: {\r\n        de: 'Vitamin B9 (Folsäure)',\r\n        en: 'Vitamin B9 (Folate)'\r\n    },\r\n    label_nutrient_vit_b12: {\r\n        de: 'Vitamin B12',\r\n        en: 'Vitamin B12'\r\n    },\r\n    label_nutrient_vit_c: {\r\n        de: 'Vitamin C',\r\n        en: 'Vitamin C'\r\n    },\r\n    label_nutrient_vit_d: {\r\n        de: 'Vitamin D',\r\n        en: 'Vitamin D'\r\n    },\r\n    label_nutrient_vit_e: {\r\n        de: 'Vitamin E',\r\n        en: 'Vitamin E'\r\n    },\r\n    label_nutrient_vit_k: {\r\n        de: 'Vitamin K',\r\n        en: 'Vitamin K'\r\n    },\r\n    label_nutrient_water: {\r\n        de: 'Wasser',\r\n        en: 'Water'\r\n    },\r\n    label_overview: {\r\n        de: 'Übersicht',\r\n        en: 'Overview'\r\n    },\r\n    label_portion: {\r\n        de: 'Portion',\r\n        en: 'Portion'\r\n    },\r\n    label_prefix_hereof: {\r\n        de: 'davon',\r\n        en: 'hereof'\r\n    },\r\n    label_reference: {\r\n        de: 'Bezug',\r\n        en: 'Reference'\r\n    },\r\n    label_unknown: {\r\n        de: 'Unbekannt',\r\n        en: 'Unknown'\r\n    },\r\n    label_userSettings_age: {\r\n        de: 'Alter',\r\n        en: 'Age'\r\n    },\r\n    label_userSettings_breastfeeding: {\r\n        de: 'stillend',\r\n        en: 'breast-feeding'\r\n    },\r\n    label_userSettings_leisureSports: {\r\n        de: 'Freizeitsport',\r\n        en: 'Leisure sports'\r\n    },\r\n    label_userSettings_leisureSports_tooltip: {\r\n        de: 'Angabe, ob Sie an dem betreffenden Tag zusätzlich zu Ihrer Tätigkeit nennenswert Sport ausgeübt haben, z.B. 30-45 min joggen oder 45-60 min Rad fahren (erhöht PAL-Wert um 0.3)',\r\n        en: 'Specifies whether you did some notable (leisure) sports or activity that day, like 30-45 minutes jogging or 45-60 minutes biking (increases PAL-value by 0.3)'\r\n    },\r\n    label_userSettings_palValue: {\r\n        de: 'PAL-Value',\r\n        en: 'Pal Value'\r\n    },\r\n    label_userSettings_pregnant: {\r\n        de: 'schwanger',\r\n        en: 'pregnant'\r\n    },\r\n    label_userSettings_sex: {\r\n        de: 'Geschlecht:',\r\n        en: 'Sex:'\r\n    },\r\n    label_userSettings_sex_male: {\r\n        de: 'männlich',\r\n        en: 'male'\r\n    },\r\n    label_userSettings_sex_female: {\r\n        de: 'weiblich',\r\n        en: 'female'\r\n    },\r\n    label_userSettings_size: {\r\n        de: 'Körpergröße',\r\n        en: 'Size'\r\n    },\r\n    label_userSettings_weight: {\r\n        de: 'Gewicht',\r\n        en: 'Weight'\r\n    },\r\n    menu_food_data_panel: {\r\n        de: 'Lebensmittel analysieren',\r\n        en: 'Food data analyzer'\r\n    },\r\n    menu_direct_compare: {\r\n        de: 'Direktvergleich',\r\n        en: 'Direct comparison'\r\n    },\r\n    menu_home: {\r\n        de: 'Home',\r\n        en: 'Home'\r\n    },\r\n    menu_mobile_app: {\r\n        de: 'Mobile App',\r\n        en: 'Mobile App'\r\n    },\r\n    menu_ranking: {\r\n        de: 'Lebensmittel Ranking',\r\n        en: 'Food ranking'\r\n    },\r\n    menu_settings: {\r\n        de: 'User Einstellungen',\r\n        en: 'User settings'\r\n    },\r\n    menu_contact: {\r\n        de: 'Kontakt',\r\n        en: 'Contact'\r\n    },\r\n    message_error_existing_element: {\r\n        de: 'Das ausgewählte Element befindet sich bereits im Datenbereich. Ein Lebensmittel darf nur einmal hinzugefügt werden.',\r\n        en: 'The selected food item already exists in your list. A food item can be added only once.'\r\n    },\r\n    message_error_incomplete_form: {\r\n        de: 'Das Formular ist unvollständig ausgefüllt.',\r\n        en: 'The form is incomplete.'\r\n    },\r\n    message_error_invalid_portion: {\r\n        de: 'Geben Sie bitte eine Portion zwischen 1 und 5000 Gramm an.',\r\n        en: 'Please specify a portion amount between 1 and 5000 gram.'\r\n    },\r\n    message_userdata_success: {\r\n        de: 'Änderungen wurden gespeichert.',\r\n        en: 'Saved changes.'\r\n    },\r\n    message_userdata_error_title: {\r\n        de: 'Fehlerhafte Eingabe',\r\n        en: 'Invalid input'\r\n    },\r\n    message_userdata_error_age: {\r\n        de: 'Geben Sie bitte ein Alter zwischen 15 und 100 Jahren ein.',\r\n        en: 'Please enter an age between 15 and 100 years.'\r\n    },\r\n    message_userdata_error_size: {\r\n        de: 'Geben Sie bitte eine Körpergröße zwischen 80 und 225 cm ein.',\r\n        en: 'Please enter a body height between 80 and 225 cm.'\r\n    },\r\n    message_userdata_error_weight: {\r\n        de: 'Geben Sie bitte ein Gewicht zwischen 30 und 250 kg ein.',\r\n        en: 'Please enter a body weight between 30 and 250 kg.'\r\n    },\r\n    palcat_name_1: {\r\n        de: 'Extrem niedrige Aktivität',\r\n        en: 'Extremely light activity.'\r\n    },\r\n    palcat_desc_1: {\r\n        de: 'Bspw. ans Bett gebundene Menschen.',\r\n        en: 'Such as bed-ridden people.'\r\n    },\r\n    palcat_name_2: {\r\n        de: 'Sehr nierdige Aktivität',\r\n        en: 'Very light activity'\r\n    },\r\n    palcat_desc_2: {\r\n        de: 'Bspw. sehr einfache Büroarbeit in permanent sitzender Haltung, Reisende in einem Flugzeug oder Zug (sitzend).',\r\n        en: 'Such as very light office work (permanently seated), passengers sitting in a train or airplane.'\r\n    },\r\n    palcat_name_3: {\r\n        de: 'Niedrige Aktivität',\r\n        en: 'Light activity'\r\n    },\r\n    palcat_desc_3: {\r\n        de: 'Überwiegend sitzende Tätigkeit, mit Phasen im stehenden Zustand (z.B. Berufsfahrer, Ärzte, Lehrer, Schüler) oder dem Ausführen zusätzlicher leichter Tätigkeiten (z.B. einfache Haushaltstätigkeiten).',\r\n        en: 'Mostly seated activity, with phases of standing activity (e.g., drivers, doctors, students, teachers...) or additional tasks like simple household chores.'\r\n    },\r\n    palcat_name_4: {\r\n        de: 'Mäßige Aktivität',\r\n        en: 'Mediocre Activity'\r\n    },\r\n    palcat_desc_4: {\r\n        de: 'Überwiegende Stehende Tätigkeit (z.B. Handwerker, Verkäufer, Kellner, Krankenschwester).',\r\n        en: 'Mostly standing activity (e.g. shop assistants, waiters, craftsmen, nurses).'\r\n    },\r\n    palcat_name_5: {\r\n        de: 'Hohe Aktivität',\r\n        en: 'High activity'\r\n    },\r\n    palcat_desc_5: {\r\n        de: 'Körperlich schwere Arbeit, z.B. Bauarbeiter, Möbelpacker, Sportlehrer.',\r\n        en: 'Hard work, such as construction workers, movers, gym teachers etc.'\r\n    },\r\n    palcat_name_6: {\r\n        de: 'Sehr hohe Aktivität',\r\n        en: 'Very high activity'\r\n    },\r\n    palcat_desc_6: {\r\n        de: 'Körperlich sehr schwere Arbeit, z.B. Bauarbeiter, Möbelpacker, Fitnesstrainer, Bergarbeiter.',\r\n        en: 'Very hard work, such as construction workers, movers, fitness trainers, miners etc.'\r\n    },\r\n    palcat_name_7: {\r\n        de: 'Extrem hohe Aktivität',\r\n        en: 'Extremely high activity'\r\n    },\r\n    palcat_desc_7: {\r\n        de: 'Bspw. (Hoch-) Leistungssportler.',\r\n        en: 'Such as professional athletes.'\r\n    },\r\n    portion_100g: {\r\n        de: '100 Gramm',\r\n        en: '100 Gram'\r\n    },\r\n    portion_individual: {\r\n        de: 'Individuell',\r\n        en: 'Individual'\r\n    },\r\n    text_contact_disclaimer1: {\r\n        de: 'Alle Rechte vorbehalten.',\r\n        en: 'All rights reserved.'\r\n    },\r\n    text_contact_disclaimer2: {\r\n        de: 'Food Compare basiert auf freien Datenquellen, die im Quellenabschnitt weiter unten aufgelistet sind. Es besteht keinerlei Garantie für die Korrektheit oder Zuverlässigkeit der ins Projekt geladenen und im Projekt verwendeten Daten. Food Compare ist ein freies Programm zur Visualisierung von Nährwerten in Lebensmitteln, das in keiner Weise medizinische oder biologische Befunde ersetzt, sondern lediglich bestehende Nährwertdaten und -quellen grafisch aufbereitet darstellt.',\r\n        en: 'Food Compare is based upon free data sources listed in the sources section below. There is no warranty for the correctness or reliability of the data imported to and used within the project. Food Compare is a free visualization tool for food nutrients, which does not replace in any way medical or biological food and nutrient data sources and will merely supplement existing food nutrient sources for laypeople that are interested in this matter.'\r\n    },\r\n    text_contact_source1: {\r\n        de: 'Quellen:',\r\n        en: 'Sources:',\r\n    },\r\n    text_contact_source2: {\r\n        de: 'Nährwert-Daten:',\r\n        en: 'Nutrient Data:',\r\n    },\r\n    text_contact_source3: {\r\n        de: 'Daten für Tagesbedarf von Vitaminen/Mineralstoffen:',\r\n        en: 'Source for Dietary Requirement of Minerals and Vitamins',\r\n    },\r\n    text_contact_source4: {\r\n        de: 'Berechnung von Grundumsatz und PAL:',\r\n        en: 'Calculation of BMR and PAL:',\r\n    },\r\n    text_empty_fooddatapanel: {\r\n        de: 'Klicken Sie links auf den Plus-Button, um Lebensmittel zum Analysebereich hinzufügen. Es können beliebig viele Lebensmittel hinzugefügt werden. Klicken Sie den Stapel-Button, um ein komplexes Lebensmittel bzw. ein Menü zusammenzustellen, dessen Gesamtwerte dann agezeigt werden.',\r\n        en: 'Click the plus button on the left to add food elements to the analysis panel. You can add as many food elements as you like. Click the stack button if you want to create complex meals to show their total nutrient data.'\r\n    },\r\n    text_foodcompareapp_1: {\r\n        de: 'Für Androidgeräte bieten wir eine Mobilversion von Food Compare an, welche dieselben Funktionen wie die Website beinhaltet. Zusätzlich können Lebensmittel dort auch nach einem bestimmten Nährstoff, Vitamin oder Mineralstoff sortiert werden. So lassen sich leicht Lebensmittel mit den höchsten Werten von einer Gruppe identifizieren.',\r\n        en: 'For Android devices we also provide a mobile app containing the same functionality as the website. Additionally, the mobile app also allows you to rank food by specific nutrients, vitamins or minerals to support users in identifying food elements that have the highest amount of a specific nutrient aspect.',\r\n    },\r\n    text_foodcompareapp_2: {\r\n        de: 'App im Playstore erhalten',\r\n        en: 'Get the App from the Playstore'\r\n    },\r\n    text_setUserdata_p1: {\r\n        de: 'Es werden aktuell Standardwerte für einen durchschnittlichen Erwachsenen (männlich, 35 Jahre) angezeigt.',\r\n        en: 'You are currently seeing the reference data for an average adult (male, 35 years).'\r\n    },\r\n    text_setUserdata_p2: {\r\n        de: 'Geben Sie, bei Bedarf, in den Einstellungen Ihre eigenen Körperdaten für ein genaueres Ergebnis ein.',\r\n        en: 'For more accurate data, if necessary, please enter your personal body data in the settings menu.'\r\n    },\r\n    text_setUserdata_p3: {\r\n        de: 'Die Referenzwerte beziehen sich auf die eingestellten Nutzerdaten.',\r\n        en: 'The reference data refer to your entered body data.'\r\n    },\r\n    tooltip_icon_charts: {\r\n        de: 'Diagramm-Modus',\r\n        en: 'Chart mode'\r\n    },\r\n    tooltip_icon_close: {\r\n        de: 'Tab schließen',\r\n        en: 'Close tab'\r\n    },\r\n    tooltip_icon_newFoodItem: {\r\n        de: 'Lebensmittel hinzufügen',\r\n        en: 'Add food item'\r\n    },\r\n    tooltip_icon_newFoodItemStack: {\r\n        de: 'Kombinierte Liste an Lebensmitteln hinzufügen (aggregierte Daten)',\r\n        en: 'Add composite list of food items (aggregated data)'\r\n    },\r\n    tooltip_icon_removeAll: {\r\n        de: 'Alle Tabs schließen',\r\n        en: 'Close all data tabs'\r\n    },\r\n    tooltip_icon_table: {\r\n        de: 'Tabellen-Modus',\r\n        en: 'Table mode'\r\n    }\r\n}","import ReactSelectOption from \"../../types/ReactSelectOption\";\r\nimport NameType from \"../../types/nutrientdata/NameType\";\r\nimport {getReactSelectOptionsList} from \"./NameTypeService\";\r\n\r\nexport function getCategorySelectList(categories: Array<NameType>, language: string): Array<ReactSelectOption> {\r\n    return getReactSelectOptionsList(categories, language)\r\n}\r\n\r\n","import {ReactSelectFoodClassOption} from \"../../types/ReactSelectOption\";\r\nimport FoodClass from \"../../types/nutrientdata/FoodClass\";\r\nimport getName from \"../LanguageService\";\r\nimport NameType from \"../../types/nutrientdata/NameType\";\r\n\r\nexport function getFoodClassSelectList(foodClasses: Array<FoodClass>, category: number, foodNames: Array<NameType>, language: string): Array<ReactSelectFoodClassOption> {\r\n    const filteredFoodClasses = getFoodClassesOfCategory(foodClasses, category)\r\n\r\n    if(!filteredFoodClasses || filteredFoodClasses.length === 0) {\r\n        return []\r\n    }\r\n\r\n    const reactSelectOptions: Array<ReactSelectFoodClassOption> = []\r\n    filteredFoodClasses.forEach(foodClass => {\r\n        const nameId = foodClass.nameKey\r\n        if(nameId > foodNames.length) {\r\n            console.error(`Illegal food name Id in food class having ID=${foodClass.id}`)\r\n            return\r\n        }\r\n        const nameType = foodNames[nameId-1]\r\n        const foodName = getName(nameType, language)\r\n        reactSelectOptions.push({\r\n            value: foodClass,\r\n            label: foodName\r\n        })\r\n    })\r\n\r\n    reactSelectOptions.sort((obj1, obj2) => obj1.label.localeCompare(obj2.label))\r\n    return reactSelectOptions\r\n}\r\n\r\n\r\nfunction getFoodClassesOfCategory(foodClasses: Array<FoodClass>, category: number): Array<FoodClass> {\r\n    return foodClasses.filter(foodClass => {\r\n        if(category === 0) {\r\n            return foodClass\r\n        } else if(foodClass.category === category) {\r\n            return foodClass\r\n        } else {\r\n            return null\r\n        }\r\n    })\r\n}","import FoodItem from \"../../types/nutrientdata/FoodItem\";\r\nimport NameType from \"../../types/nutrientdata/NameType\";\r\nimport {ReactSelectFoodItemOption} from \"../../types/ReactSelectOption\";\r\nimport getName from \"../LanguageService\";\r\n\r\nexport function getFoodItem(foodItemId: number, foodItems: Array<FoodItem>): FoodItem | null {\r\n    const index = foodItems.findIndex(foodItem => foodItem.id === foodItemId)\r\n    if(index >= 0) {\r\n        return foodItems[index]\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n\r\nexport function getFoodItemsSelectList(foodItems: Array<FoodItem>, foodClass: number, foodNames: Array<NameType>, conditions: Array<NameType>, language: string): Array<ReactSelectFoodItemOption> {\r\n    const filteredFoodItems = getFoodItemsOfFoodclass(foodItems, foodClass)\r\n    const reactSelectOptions: Array<ReactSelectFoodItemOption> = []\r\n\r\n    if(filteredFoodItems && filteredFoodItems.length > 0) {\r\n        filteredFoodItems.forEach(foodItem => {\r\n            const nameId = foodItem.nameId!!\r\n            if(nameId > foodNames.length) {\r\n                console.error(`Illegal food name Id in food item having ID=${foodItem.id}`)\r\n                return\r\n            }\r\n            const nameType = foodNames[nameId-1]\r\n            let foodName = getName(nameType, language)\r\n            const condition = conditions.find(condition => condition.id === foodItem.conditionId)\r\n            const conditionName =condition ? getName(condition, language) : null\r\n\r\n            if(conditionName) {\r\n                foodName = `${foodName} (${conditionName})`\r\n            }\r\n\r\n            reactSelectOptions.push({\r\n                value: foodItem,\r\n                label: foodName\r\n            })\r\n        })\r\n    }\r\n\r\n    return reactSelectOptions\r\n}\r\n\r\n\r\nfunction getFoodItemsOfFoodclass(foodItems: Array<FoodItem>, foodClassId: number): Array<FoodItem> {\r\n    return foodItems.filter(foodItem => {\r\n        if(foodItem.foodClass === foodClassId) {\r\n            return foodItem\r\n        } else {\r\n            return null\r\n        }\r\n    })\r\n}","import NameType from \"../../types/nutrientdata/NameType\";\r\nimport {ReactSelectPortionOption} from \"../../types/ReactSelectOption\";\r\nimport FoodItem, {PortionData} from \"../../types/nutrientdata/FoodItem\";\r\nimport getName from \"../LanguageService\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\n\r\n\r\nexport function getPortionReactSelectList(portionData: Array<PortionData>, portionTypes: Array<NameType>, language: string): Array<ReactSelectPortionOption> {\r\n    const reactSelectOptions: Array<ReactSelectPortionOption> = []\r\n    portionData.forEach(portionElement => {\r\n        const portionTypeIndex = portionTypes.findIndex(portionType => {\r\n             return portionType.id === portionElement.portionType\r\n        })\r\n\r\n        const portionType = portionTypes[portionTypeIndex]\r\n        const portionName = getName(portionType, language)\r\n        reactSelectOptions.push({\r\n            value: portionElement,\r\n            label: portionName\r\n        })\r\n    })\r\n\r\n    reactSelectOptions.push({\r\n        value: {amount: 100, portionType: 1},\r\n        label: applicationStrings.portion_100g[language]\r\n    })\r\n\r\n    reactSelectOptions.push({\r\n        value: {amount: 0, portionType: 0},\r\n        label: applicationStrings.portion_individual[language]\r\n    })\r\n\r\n    return reactSelectOptions\r\n}\r\n\r\n\r\nexport function getDefaultPortionData(foodItem: FoodItem, portionDataList: Array<ReactSelectPortionOption>): ReactSelectPortionOption {\r\n    let defaultPortionIndex = portionDataList.findIndex(portionData => {\r\n        return portionData.value.portionType === foodItem.defaultPortionId\r\n    })\r\n\r\n    if (defaultPortionIndex < 0 || defaultPortionIndex >= portionDataList.length) {\r\n        defaultPortionIndex = 0;\r\n    }\r\n\r\n    return portionDataList[defaultPortionIndex]\r\n}","import {createContext, useState} from \"react\";\r\nimport {LANGUAGE_DE, LANGUAGE_EN} from \"../config/Constants\";\r\n\r\nexport interface LanguageProviderProps {\r\n    language: string\r\n    userLanguageChange: (selectedLanguage: string) => void\r\n}\r\n\r\nexport const LanguageContext = createContext<LanguageProviderProps>({\r\n    language: 'en',\r\n    userLanguageChange: (selectedLanguage) => {return 'en'}\r\n});\r\n\r\nexport function LanguageProvider({ children }) {\r\n    const userLanguage = navigator.language;\r\n    const preferredLanguage = userLanguage === 'de' ? LANGUAGE_DE : LANGUAGE_EN\r\n\r\n    const [language, setLanguage] = useState(preferredLanguage);\r\n\r\n\r\n    const userLanguageChange = (selectedLanaguage: string): void => {\r\n        const newLanguage = selectedLanaguage ? selectedLanaguage : LANGUAGE_EN\r\n        setLanguage(newLanguage);\r\n    }\r\n\r\n    const provider: LanguageProviderProps = {\r\n        language,\r\n        userLanguageChange\r\n    };\r\n\r\n    return (\r\n        <LanguageContext.Provider value={provider}>\r\n            {children}\r\n        </LanguageContext.Provider>\r\n    );\r\n};\r\n\r\n\r\n\r\n","import {useEffect, useState} from \"react\";\r\nimport {smallFormsScreenSize} from \"../config/ApplicationSetting\";\r\n\r\nexport interface WindowDimension {\r\n    width: number\r\n    height: number\r\n}\r\n\r\nfunction getCurrentWindowDimension() {\r\n    return {\r\n        width: window.innerWidth,\r\n        height: window.innerHeight\r\n    }\r\n}\r\n\r\nexport function useWindowDimension() {\r\n    const [windowDimension, setWindowDimension] = useState(getCurrentWindowDimension())\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"resize\", () => setWindowDimension(getCurrentWindowDimension))\r\n        return () => window.removeEventListener(\"resize\", () => setWindowDimension(getCurrentWindowDimension))\r\n    }, [])\r\n\r\n    return windowDimension\r\n}\r\n\r\n\r\nexport function isSmallScreen(windowDimension: WindowDimension) {\r\n    return windowDimension.width < smallFormsScreenSize.width || windowDimension.height < smallFormsScreenSize.height\r\n}","import {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport Select from 'react-select';\r\nimport ReactSelectOption, {\r\n    ReactSelectFoodClassOption,\r\n    ReactSelectFoodItemOption,\r\n    ReactSelectPortionOption\r\n} from \"../../types/ReactSelectOption\";\r\nimport {getCategorySelectList} from \"../../service/nutrientdata/CategoryService\";\r\nimport {getFoodClassSelectList} from \"../../service/nutrientdata/FoodClassService\";\r\nimport {getFoodItemsSelectList} from \"../../service/nutrientdata/FoodItemsService\";\r\nimport FoodItem, {PortionData} from \"../../types/nutrientdata/FoodItem\";\r\nimport {getDefaultPortionData, getPortionReactSelectList} from \"../../service/nutrientdata/PortionDataService\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport FoodClass from \"../../types/nutrientdata/FoodClass\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {isSmallScreen, useWindowDimension} from \"../../service/WindowDimension\";\r\n\r\nexport interface FoodSelectorProps {\r\n    updateSelectedFoodItem: (selectedFoodItem: SelectedFoodItem) => void\r\n    smallVariant: boolean\r\n    noCategorySelect?: boolean\r\n    initialFoodClassToSet?: number\r\n    selectedFoodItem?: SelectedFoodItem | null\r\n}\r\n\r\n/**\r\n * Component to select a food element. The component can optionally show the category list and can be initialized\r\n * with an already existing selected food item (in case of component re-rendering).\r\n */\r\nexport default function FoodSelector(props: FoodSelectorProps): JSX.Element {\r\n    const [selectedCategory, setSelectedCategory] = useState<ReactSelectOption | null>(null)\r\n    const [selectdFoodClass, setSelectedFoodClass] = useState<ReactSelectFoodClassOption | null>(null)\r\n    const [selectedFoodItem, setSelectedFoodItem] = useState<ReactSelectFoodItemOption | null>(null)\r\n    const [selectedPortion, setSelectedPortion] = useState<ReactSelectPortionOption | null>(null)\r\n    const [portionAmount, setPortionAmount] = useState<number>(0)\r\n    const [initialized, setInitialized] = useState<boolean>(false)\r\n\r\n    const [categoriesList, setCategoriesList] = useState<Array<ReactSelectOption>>([])\r\n    const [foodClassesList, setFoodClassesList] = useState<Array<ReactSelectFoodClassOption>>([])\r\n    const [foodItemsList, setFoodItemsList] = useState<Array<ReactSelectFoodItemOption>>([])\r\n    const [portionsList, setPortionsList] = useState<Array<ReactSelectPortionOption>>([])\r\n\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const {language} = useContext(LanguageContext)\r\n\r\n    const windowSize = useWindowDimension()\r\n\r\n    useEffect(() => {\r\n        const initialFoodClass = props.initialFoodClassToSet ? props.initialFoodClassToSet : 0\r\n\r\n        if (applicationContext && applicationContext.foodDataCorpus && categoriesList.length === 0) {\r\n            const foodDataCorpus = applicationContext.foodDataCorpus\r\n\r\n            if (foodDataCorpus.categories) {\r\n                const categoryItems = getCategorySelectList(foodDataCorpus.categories, language)\r\n                setCategoriesList(categoryItems)\r\n            }\r\n\r\n            if (foodDataCorpus.foodClasses) {\r\n                const foodClasses = getFoodClassSelectList(foodDataCorpus.foodClasses, 0, applicationContext.foodDataCorpus.foodNames, language)\r\n                setFoodClassesList(foodClasses)\r\n                const foodClass = foodClasses[initialFoodClass]\r\n                setSelectedFoodClass(foodClass)\r\n\r\n                if (foodDataCorpus.foodItems && foodClasses) {\r\n                    const foodItemsOfFoodClass = getFoodItemsSelectList(foodDataCorpus.foodItems, foodClasses[initialFoodClass].value.id, foodDataCorpus.foodNames,\r\n                        foodDataCorpus.conditions, language)\r\n\r\n                    setFoodItemsList(foodItemsOfFoodClass)\r\n                    setSelectedFoodItem(foodItemsOfFoodClass[0])\r\n                    const foodItem = foodItemsOfFoodClass[0].value\r\n\r\n                    if (foodItem && foodItem.portionData) {\r\n                        const portionDataList = getPortionReactSelectList(foodItem.portionData, foodDataCorpus.portionTypes, language)\r\n                        setPortionsList(portionDataList)\r\n\r\n                        const defaultPortion = getDefaultPortionData(foodItem, portionDataList)\r\n                        setSelectedPortion(defaultPortion)\r\n                        setPortionAmount(defaultPortion.value.amount)\r\n\r\n                        if (!props.selectedFoodItem) {\r\n                            makeSelectedFoodItemObject(foodItem, foodClass.value, defaultPortion.value)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            // Update data for outer component whenever render is triggered\r\n            makeSelectedFoodItemObject(selectedFoodItem?.value, selectdFoodClass?.value, selectedPortion?.value)\r\n        }\r\n\r\n    }, [selectedFoodItem, selectedPortion, selectdFoodClass, selectedCategory, portionAmount])\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const handleCategoryChange = (category: ReactSelectOption) => {\r\n        setSelectedCategory(category)\r\n        updateFoodClasses(category)\r\n    }\r\n\r\n    const handleFoodClassChange = (foodClass: ReactSelectFoodClassOption) => {\r\n        setSelectedFoodClass(foodClass)\r\n        updateFoodItem(foodClass)\r\n    }\r\n\r\n    const handleFoodItemChange = (foodItem: ReactSelectFoodItemOption) => {\r\n        setSelectedFoodItem(foodItem)\r\n        updatePortionsList(foodItem.value)\r\n    }\r\n\r\n    const handlePortionChange = (portion: ReactSelectPortionOption) => {\r\n        setSelectedPortion(portion)\r\n        setPortionAmount(portion.value.amount)\r\n    }\r\n\r\n    const handlePortionAmountChange = (e) => {\r\n        if (!e.target.value) {\r\n            setPortionAmount(0)\r\n            return\r\n        }\r\n\r\n        const amount = parseInt(e.target.value)\r\n\r\n        if (!isNaN(amount)) {\r\n            setPortionAmount(amount)\r\n        }\r\n    }\r\n\r\n    const updateFoodClasses = (category: ReactSelectOption) => {\r\n        const foodClasses = applicationContext.foodDataCorpus.foodClasses\r\n\r\n        if (foodClasses) {\r\n            const foodClassItems = getFoodClassSelectList(foodClasses, category.value, applicationContext.foodDataCorpus.foodNames, language)\r\n            setFoodClassesList(foodClassItems)\r\n            setSelectedFoodClass(foodClassItems[0])\r\n            updateFoodItem(foodClassItems[0])\r\n        }\r\n    }\r\n\r\n    const updateFoodItem = (foodClass: ReactSelectFoodClassOption) => {\r\n        const {foodItems, foodNames, conditions} = applicationContext.foodDataCorpus\r\n\r\n        if (foodItems) {\r\n            const foodClassItems = getFoodItemsSelectList(foodItems, foodClass.value.id, foodNames, conditions, language)\r\n            setFoodItemsList(foodClassItems)\r\n            setSelectedFoodItem(foodClassItems[0])\r\n\r\n            const foodItem = foodClassItems[0].value\r\n            if (foodItem) {\r\n                updatePortionsList(foodItem)\r\n            }\r\n        }\r\n    }\r\n\r\n    const updatePortionsList = (foodItem: FoodItem) => {\r\n        const portionDataList = getPortionReactSelectList(foodItem.portionData!!, applicationContext.foodDataCorpus.portionTypes, language)\r\n        setPortionsList(portionDataList)\r\n        const defaultPortion = getDefaultPortionData(foodItem, portionDataList)\r\n        setSelectedPortion(defaultPortion)\r\n        setPortionAmount(defaultPortion.value.amount)\r\n    }\r\n\r\n\r\n    const makeSelectedFoodItemObject = (foodItem: FoodItem | undefined, foodClass: FoodClass | undefined, portion: PortionData | undefined) => {\r\n        if (!foodItem || !foodClass || !portion) {\r\n            return\r\n        }\r\n\r\n        if (portion.portionType === 0) {\r\n            portion.amount = portionAmount\r\n        }\r\n\r\n        const newFoodItem: SelectedFoodItem = {\r\n            foodItem: foodItem,\r\n            foodClass: foodClass,\r\n            portion: portion\r\n        }\r\n\r\n        props.updateSelectedFoodItem(newFoodItem)\r\n    }\r\n\r\n\r\n    const setInitialFoodElement = () => {\r\n        if (!foodClassesList || foodClassesList.length === 0) {\r\n            return\r\n        }\r\n\r\n        if(!props.selectedFoodItem || !props.selectedFoodItem.foodClass) {\r\n            return\r\n        }\r\n\r\n        const predefinedFoodObject = props.selectedFoodItem\r\n\r\n        // @ts-ignore\r\n        const foodClassOption = foodClassesList.find(foodClass => foodClass.value.id === predefinedFoodObject.foodClass.id)\r\n        const {foodItems, foodNames, conditions, portionTypes} = applicationContext.foodDataCorpus\r\n\r\n        if (foodClassOption) {\r\n            setSelectedFoodClass(foodClassOption)\r\n            const foodClassItems = getFoodItemsSelectList(foodItems, foodClassOption.value.id, foodNames, conditions, language)\r\n\r\n            if (foodClassItems) {\r\n                setFoodItemsList(foodClassItems)\r\n                const foodItem = foodClassItems.find(foodItem => foodItem.value.id === predefinedFoodObject.foodItem.id)\r\n\r\n                if (foodItem && foodItem.value && foodItem.value.portionData) {\r\n                    setSelectedFoodItem(foodItem)\r\n\r\n                    const portionDataList = getPortionReactSelectList(foodItem.value.portionData, portionTypes, language)\r\n                    setPortionsList(portionDataList)\r\n\r\n                    const portionType = predefinedFoodObject.portion.portionType\r\n                    const portionObject = portionDataList.find(portion => portion.value.portionType === portionType)\r\n                    if (portionObject) {\r\n                        setSelectedPortion(portionObject)\r\n\r\n                        //@ts-ignore\r\n                        const amount = predefinedFoodObject.portion.amount\r\n                        setPortionAmount(amount)\r\n                    }\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        setInitialized(true)\r\n    }\r\n\r\n    if (props.selectedFoodItem && !initialized) {\r\n        setInitialFoodElement()\r\n    }\r\n\r\n    const amount_label = props.smallVariant ? `${applicationStrings.label_amount_short[language]}:` : `${applicationStrings.label_amount[language]}:`\r\n    const initialFoodClass = props.initialFoodClassToSet ? props.initialFoodClassToSet : 0\r\n\r\n    const selectClass = isSmallScreen(windowSize) ? \"form-control-sm\" : \"\"\r\n    const inputClass =  isSmallScreen(windowSize) ? \"form-control form-control-sm input-sm\" : \"form-control input\"\r\n\r\n    return <div>\r\n        <div className=\"container\">\r\n            {props.noCategorySelect !== true &&\r\n            <div className=\"column select-menu form-section\">\r\n                <span className={'form-label'}>{applicationStrings.label_category[language]}:</span>\r\n                <Select className={selectClass}\r\n                        options={categoriesList}\r\n                        value={selectedCategory ? selectedCategory : categoriesList[0]}\r\n                        onChange={(value) => handleCategoryChange(value)}\r\n                />\r\n            </div>\r\n            }\r\n            <div className=\"column select-menu form-section\">\r\n                <span className={'form-label'}>{applicationStrings.label_foodclass[language]}:</span>\r\n                <Select className={selectClass}\r\n                        options={foodClassesList}\r\n                        value={selectdFoodClass ? selectdFoodClass : foodClassesList[initialFoodClass]}\r\n                        onChange={(value) => handleFoodClassChange(value)}\r\n                />\r\n            </div>\r\n            <div className=\"column select-menu form-section\">\r\n                <span className={'form-label'}>{applicationStrings.label_fooditem[language]}:</span>\r\n                <Select className={selectClass}\r\n                        options={foodItemsList}\r\n                        value={selectedFoodItem ? selectedFoodItem : foodItemsList[0]}\r\n                        onChange={handleFoodItemChange}\r\n                />\r\n            </div>\r\n            <div className=\"column select-menu form-section\">\r\n                <div className={\"row\"}>\r\n                    <div className={\"col-lg-8 col-xl-9\"}>\r\n                        <span\r\n                            className={'form-label'}>{applicationStrings.label_portion[language]}:</span>\r\n                        <Select className={selectClass}\r\n                                options={portionsList}\r\n                                value={selectedPortion ? selectedPortion : portionsList[0]}\r\n                                onChange={(value) => handlePortionChange(value)}/>\r\n                    </div>\r\n                    <div className={\"col-lg-4 col-xl-3\"}>\r\n                        <span\r\n                            className={'form-label'}>{amount_label}</span>\r\n                        <input className={inputClass}\r\n                               disabled={selectedPortion?.value.portionType !== 0}\r\n                               value={portionAmount}\r\n                               onChange={handlePortionAmountChange}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n}","import React, {useContext} from \"react\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {getNameFromFoodNameList} from \"../../service/nutrientdata/NameTypeService\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {Button} from \"react-bootstrap\";\r\nimport {FaTrash} from \"react-icons/all\";\r\n\r\nexport interface CompositeFoodListProps {\r\n    selectedFoodItems: Array<SelectedFoodItem>\r\n    deleteItem: (index: number) => void\r\n}\r\n\r\nexport function CompositeFoodList(props: CompositeFoodListProps) {\r\n    const languageContext = useContext(LanguageContext)\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n\r\n    const onDeleteItem = (index: number) => {\r\n        props.deleteItem(index)\r\n    }\r\n\r\n    const renderLine = (selectedFoodItem: SelectedFoodItem, index: number) => {\r\n        if(applicationContext) {\r\n            const name = getNameFromFoodNameList(applicationContext.foodDataCorpus.foodNames, selectedFoodItem.foodItem.nameId!!, languageContext.language)\r\n\r\n            return <div className={\"row\"}\r\n                        key={`composite food list ${index}`}\r\n                        style={{borderBottom: \"1px solid #dddddd\", paddingTop: \"6px\"}}>\r\n                <div className={\"col-1\"}>\r\n                    <b>{index+1}.</b>\r\n                </div>\r\n                <div className={\"col-8\"}>\r\n                    {name}\r\n                    <br/>\r\n                    {selectedFoodItem.portion.amount} g\r\n                </div>\r\n                <div className={\"col-3\"}>\r\n                    <Button onClick={() => onDeleteItem(index)}>\r\n                        <FaTrash/>\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        }\r\n\r\n        return <div></div>\r\n    }\r\n\r\n    return <div className={\"container\"} style={{maxHeight: \"300px\", overflowY: \"auto\"}}>\r\n        {props.selectedFoodItems.map((selectedFoodItem, index) => renderLine(selectedFoodItem, index))}\r\n    </div>\r\n\r\n}","import SelectedFoodItem from \"../types/livedata/SelectedFoodItem\";\r\nimport FoodItem, {\r\n    BaseData,\r\n    CarbohydrateData,\r\n    LipidData,\r\n    MineralData,\r\n    NutrientData,\r\n    ProteinData,\r\n    VitaminData\r\n} from \"../types/nutrientdata/FoodItem\";\r\n\r\nexport default function combineFoodItems(compositeList: Array<SelectedFoodItem>): SelectedFoodItem {\r\n    let portionSize = 0;\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        portionSize += selectedFoodItem.portion.amount\r\n    })\r\n\r\n    const nutrientDataList = buildAggregatedNutrientDataList(compositeList, portionSize);\r\n    const id = new Date().getTime();\r\n\r\n    const aggreatedFoodItem: FoodItem = {\r\n        id: id,\r\n        nutrientDataList: nutrientDataList,\r\n        aggregated: true\r\n    }\r\n\r\n    let combinedFoodItem: SelectedFoodItem = {\r\n        id: id,\r\n        foodItem: aggreatedFoodItem,\r\n        portion: {\r\n            portionType: 999,\r\n            amount: portionSize\r\n        },\r\n        compositeSubElements: compositeList\r\n    };\r\n\r\n    return combinedFoodItem;\r\n}\r\n\r\n\r\nfunction buildAggregatedNutrientDataList(compositeList: Array<SelectedFoodItem>, portionSize: number): Array<NutrientData> {\r\n    const baseData = buildBaseDataObject(compositeList, portionSize);\r\n    const vitaminData = buildVitaminDataObject(compositeList, portionSize);\r\n    const mineralData = buildMineralDataObject(compositeList, portionSize);\r\n    const carbohydrateData = buildCarbohydrateData(compositeList, portionSize);\r\n    const lipidData = buildLipidData(compositeList, portionSize);\r\n    const proteinData = buildProteinData(compositeList, portionSize);\r\n\r\n    let nutrientObject: NutrientData = {\r\n        sourceItemId: \"0\",\r\n        source: {id: 0, url: \"\", name: \"\"},\r\n        baseData: baseData,\r\n        vitaminData: vitaminData,\r\n        mineralData: mineralData,\r\n        carbohydrateData: carbohydrateData,\r\n        lipidData: lipidData,\r\n        proteinData: proteinData\r\n    }\r\n\r\n    nutrientObject = removeNutrientObjectsWithNullValues(nutrientObject, compositeList);\r\n\r\n    const nutrientDataList: Array<NutrientData> = [];\r\n    nutrientDataList.push(nutrientObject);\r\n\r\n    return nutrientDataList;\r\n}\r\n\r\n\r\n/**\r\n * Removes all nutrient data elements that do not exist in ALL of the food elements within the list.\r\n * @param nutrientObject\r\n * @param compositeList\r\n */\r\nfunction removeNutrientObjectsWithNullValues(nutrientObject: NutrientData, compositeList: Array<SelectedFoodItem>) {\r\n    if (!compositeList) {\r\n        return nutrientObject;\r\n    }\r\n\r\n    for (let i = 0; i < compositeList.length; i++) {\r\n        let foodItem = compositeList[i].foodItem;\r\n        const nutrientData = foodItem.nutrientDataList[0];\r\n\r\n        const threshold = 0.1;   // Defines the amount of base data which must exist to set a sub-value to null.\r\n\r\n        // Remove base data\r\n        if (nutrientData.baseData.carbohydrates >= threshold) {\r\n            if (nutrientData.baseData.dietaryFibers == null) {\r\n                nutrientObject.baseData.dietaryFibers = null;\r\n            }\r\n        }\r\n\r\n\r\n        // Lipid data\r\n        if (nutrientData.baseData.lipids >= threshold) {\r\n            if (!nutrientData.lipidData || nutrientData.lipidData.saturated == null) {\r\n                nutrientObject.lipidData.saturated = null;\r\n            }\r\n\r\n            if (!nutrientData.lipidData || nutrientData.lipidData.unsaturatedMono == null) {\r\n                nutrientObject.lipidData.unsaturatedMono = null;\r\n            }\r\n\r\n            if (!nutrientData.lipidData || nutrientData.lipidData.unsaturatedPoly == null) {\r\n                nutrientObject.lipidData.unsaturatedPoly = null;\r\n            }\r\n\r\n            if (!nutrientData.lipidData || nutrientData.lipidData.transFattyAcids == null) {\r\n                nutrientObject.lipidData.transFattyAcids = null;\r\n            }\r\n\r\n            if (!nutrientData.lipidData || nutrientData.lipidData.cholesterol == null) {\r\n                nutrientObject.lipidData.cholesterol = null;\r\n            }\r\n\r\n            if (!nutrientData.lipidData.omegaData &&\r\n                (nutrientData.lipidData && nutrientData.lipidData.unsaturatedPoly && nutrientData.lipidData.unsaturatedPoly > threshold)) {\r\n                nutrientObject.lipidData.omegaData = null;\r\n            }\r\n        }\r\n\r\n\r\n        // Carbohydrate data\r\n        if (nutrientData.baseData.carbohydrates >= threshold) {\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.sugar == null) {\r\n                nutrientObject.carbohydrateData.sugar = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.glucose == null) {\r\n                nutrientObject.carbohydrateData.glucose = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.fructose == null) {\r\n                nutrientObject.carbohydrateData.fructose = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.galactose == null) {\r\n                nutrientObject.carbohydrateData.galactose = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.sucrose == null) {\r\n                nutrientObject.carbohydrateData.sucrose = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.lactose == null) {\r\n                nutrientObject.carbohydrateData.lactose = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.maltose == null) {\r\n                nutrientObject.carbohydrateData.maltose = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.starch == null) {\r\n                nutrientObject.carbohydrateData.starch = null;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    return nutrientObject;\r\n}\r\n\r\n\r\nfunction buildBaseDataObject(compositeList: Array<SelectedFoodItem>, portionSize: number): BaseData {\r\n    let energy = 0;\r\n    let carbohydrates = 0;\r\n    let lipids = 0;\r\n    let proteins = 0;\r\n    let water = 0;\r\n    let dietaryFibers = 0;\r\n    let alcohol = 0;\r\n    let ash = 0;\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        const baseData = selectedFoodItem.foodItem.nutrientDataList[0].baseData;\r\n        const userSetPortion = selectedFoodItem.portion.amount;\r\n        const portionFactor = userSetPortion / 100;\r\n\r\n        energy += (baseData.energy ? baseData.energy : 0) * portionFactor;\r\n        carbohydrates += baseData.carbohydrates * portionFactor;\r\n        lipids += baseData.lipids * portionFactor;\r\n        proteins += baseData.proteins * portionFactor;\r\n        water += baseData.water * portionFactor;\r\n        dietaryFibers += (baseData.dietaryFibers ? baseData.dietaryFibers : 0) * portionFactor;\r\n        alcohol += (baseData.alcohol ? baseData.alcohol : 0) * portionFactor;\r\n        ash += (baseData.ash ? baseData.ash : 0) * portionFactor;\r\n    })\r\n\r\n    return {\r\n        energy: createFinalValue(energy, portionSize),\r\n        carbohydrates: createFinalValue(carbohydrates, portionSize),\r\n        lipids: createFinalValue(lipids, portionSize),\r\n        proteins: createFinalValue(proteins, portionSize),\r\n        water: createFinalValue(water, portionSize),\r\n        dietaryFibers: createFinalValue(dietaryFibers, portionSize),\r\n        alcohol: alcohol,\r\n        ash: ash\r\n    }\r\n\r\n}\r\n\r\n\r\nfunction buildVitaminDataObject(compositeList: Array<SelectedFoodItem>, portionSize: number): VitaminData {\r\n    let a = 0\r\n    let b1 = 0\r\n    let b2 = 0\r\n    let b3 = 0\r\n    let b5 = 0\r\n    let b6 = 0\r\n    let b7 = 0\r\n    let b9 = 0\r\n    let b12 = 0\r\n    let c = 0\r\n    let d = 0\r\n    let e = 0\r\n    let k = 0\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        const vitaminData = selectedFoodItem.foodItem.nutrientDataList[0].vitaminData\r\n        const userSetPortion = selectedFoodItem.portion.amount\r\n        const portionFactor = userSetPortion / 100\r\n\r\n        a += (vitaminData.a ? vitaminData.a : 0) * portionFactor\r\n        b1 += (vitaminData.b1 ? vitaminData.b1 : 0) * portionFactor\r\n        b2 += (vitaminData.b2 ? vitaminData.b2 : 0) * portionFactor\r\n        b3 += (vitaminData.b3 ? vitaminData.b3 : 0) * portionFactor\r\n        b5 += (vitaminData.b5 ? vitaminData.b5 : 0) * portionFactor\r\n        b6 += (vitaminData.b6 ? vitaminData.b6 : 0) * portionFactor\r\n        b7 += (vitaminData.b7 ? vitaminData.b7 : 0) * portionFactor\r\n        b9 += (vitaminData.b9 ? vitaminData.b9 : 0) * portionFactor\r\n        b12 += (vitaminData.b12 ? vitaminData.b12 : 0) * portionFactor\r\n        c += (vitaminData.c ? vitaminData.c : 0) * portionFactor\r\n        d += (vitaminData.d ? vitaminData.d : 0) * portionFactor\r\n        e += (vitaminData.e ? vitaminData.e : 0) * portionFactor\r\n        k += (vitaminData.k ? vitaminData.k : 0) * portionFactor\r\n    })\r\n\r\n    return {\r\n        a: createFinalValue(a, portionSize),\r\n        b1: createFinalValue(b1, portionSize),\r\n        b2: createFinalValue(b2, portionSize),\r\n        b3: createFinalValue(b3, portionSize),\r\n        b5: createFinalValue(b5, portionSize),\r\n        b6: createFinalValue(b6, portionSize),\r\n        b7: createFinalValue(b7, portionSize),\r\n        b9: createFinalValue(b9, portionSize),\r\n        b12: createFinalValue(b12, portionSize),\r\n        c: createFinalValue(c, portionSize),\r\n        d: createFinalValue(d, portionSize),\r\n        e: createFinalValue(e, portionSize),\r\n        k: createFinalValue(k, portionSize),\r\n    }\r\n}\r\n\r\n\r\nfunction buildMineralDataObject(compositeList: Array<SelectedFoodItem>, portionSize: number): MineralData {\r\n    let calcium = 0;\r\n    let iron = 0;\r\n    let magnesium = 0;\r\n    let phosphorus = 0;\r\n    let potassium = 0;\r\n    let sodium = 0;\r\n    let zinc = 0;\r\n    let copper = 0;\r\n    let manganese = 0;\r\n    let selenium = 0;\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        const mineralData = selectedFoodItem.foodItem.nutrientDataList[0].mineralData\r\n        const userSetPortion = selectedFoodItem.portion.amount\r\n        const portionFactor = userSetPortion / 100\r\n\r\n        calcium += (mineralData.calcium ? mineralData.calcium : 0) * portionFactor;\r\n        iron += (mineralData.iron ? mineralData.iron : 0) * portionFactor;\r\n        magnesium += (mineralData.magnesium ? mineralData.magnesium : 0)\r\n        phosphorus += (mineralData.phosphorus ? mineralData.phosphorus : 0)\r\n        potassium += (mineralData.potassium ? mineralData.potassium : 0)\r\n        sodium += (mineralData.sodium ? mineralData.sodium : 0)\r\n        zinc += (mineralData.zinc ? mineralData.zinc : 0)\r\n        copper += (mineralData.copper ? mineralData.copper : 0)\r\n        manganese += (mineralData.manganese ? mineralData.manganese : 0)\r\n        selenium += (mineralData.selenium ? mineralData.selenium : 0)\r\n    })\r\n\r\n    return {\r\n        calcium: createFinalValue(calcium, portionSize),\r\n        iron: createFinalValue(iron, portionSize),\r\n        magnesium: createFinalValue(magnesium, portionSize),\r\n        phosphorus: createFinalValue(phosphorus, portionSize),\r\n        potassium: createFinalValue(potassium, portionSize),\r\n        sodium: createFinalValue(sodium, portionSize),\r\n        zinc: createFinalValue(zinc, portionSize),\r\n        copper: createFinalValue(copper, portionSize),\r\n        manganese: createFinalValue(manganese, portionSize),\r\n        selenium: createFinalValue(selenium, portionSize),\r\n    }\r\n}\r\n\r\n\r\nfunction buildCarbohydrateData(compositeList: Array<SelectedFoodItem>, portionSize: number): CarbohydrateData {\r\n    let glucose = 0;\r\n    let fructose = 0;\r\n    let galactose = 0;\r\n    let sucrose = 0;\r\n    let maltose = 0;\r\n    let lactose = 0;\r\n    let starch = 0;\r\n    let sugar = 0;\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        const carbohydrateData = selectedFoodItem.foodItem.nutrientDataList[0].carbohydrateData\r\n        const userSetPortion = selectedFoodItem.portion.amount\r\n        const portionFactor = userSetPortion / 100\r\n\r\n        glucose += (carbohydrateData.glucose ? carbohydrateData.glucose : 0) * portionFactor;\r\n        fructose += (carbohydrateData.fructose ? carbohydrateData.fructose : 0) * portionFactor;\r\n        galactose += (carbohydrateData.galactose ? carbohydrateData.galactose : 0) * portionFactor;\r\n        sucrose += (carbohydrateData.sucrose ? carbohydrateData.sucrose : 0) * portionFactor;\r\n        maltose += (carbohydrateData.maltose ? carbohydrateData.maltose : 0) * portionFactor;\r\n        lactose += (carbohydrateData.lactose ? carbohydrateData.lactose : 0) * portionFactor;\r\n        starch += (carbohydrateData.starch ? carbohydrateData.starch : 0) * portionFactor;\r\n        sugar += (carbohydrateData.sugar ? carbohydrateData.sugar : 0) * portionFactor;\r\n    })\r\n\r\n    return {\r\n        glucose: createFinalValue(glucose, portionSize),\r\n        fructose: createFinalValue(fructose, portionSize),\r\n        galactose: createFinalValue(galactose, portionSize),\r\n        sucrose: createFinalValue(sucrose, portionSize),\r\n        maltose: createFinalValue(maltose, portionSize),\r\n        lactose: createFinalValue(lactose, portionSize),\r\n        starch: createFinalValue(starch, portionSize),\r\n        sugar: createFinalValue(sugar, portionSize),\r\n    }\r\n}\r\n\r\n\r\nfunction buildProteinData(compositeList: Array<SelectedFoodItem>, portionSize: number): ProteinData {\r\n    let tryptophan = 0;\r\n    let threonine = 0;\r\n    let isoleucine = 0;\r\n    let leucine = 0;\r\n    let lysine = 0;\r\n    let methionine = 0;\r\n    let cystine = 0;\r\n    let phenylalanine = 0;\r\n    let tyrosine = 0;\r\n    let valine = 0;\r\n    let arginine = 0;\r\n    let histidine = 0;\r\n    let alanine = 0;\r\n    let asparticAcid = 0;\r\n    let glutamicAcid = 0;\r\n    let glycine = 0;\r\n    let proline = 0;\r\n    let serine = 0;\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        const proteinData = selectedFoodItem.foodItem.nutrientDataList[0].proteinData\r\n        const userSetPortion = selectedFoodItem.portion.amount\r\n        const portionFactor = userSetPortion / 100\r\n\r\n        tryptophan += (proteinData.tryptophan ? proteinData.tryptophan : 0) * portionFactor;\r\n        threonine += (proteinData.threonine ? proteinData.threonine : 0) * portionFactor;\r\n        isoleucine += (proteinData.isoleucine ? proteinData.isoleucine : 0) * portionFactor;\r\n        leucine += (proteinData.leucine ? proteinData.leucine : 0) * portionFactor;\r\n        lysine += (proteinData.lysine ? proteinData.lysine : 0) * portionFactor;\r\n        methionine += (proteinData.methionine ? proteinData.methionine : 0) * portionFactor;\r\n        cystine += (proteinData.cystine ? proteinData.cystine : 0) * portionFactor;\r\n        phenylalanine += (proteinData.phenylalanine ? proteinData.phenylalanine : 0) * portionFactor;\r\n        tyrosine += (proteinData.tyrosine ? proteinData.tyrosine : 0) * portionFactor;\r\n        valine += (proteinData.valine ? proteinData.valine : 0) * portionFactor;\r\n        arginine += (proteinData.arginine ? proteinData.arginine : 0) * portionFactor;\r\n        histidine += (proteinData.histidine ? proteinData.histidine : 0) * portionFactor;\r\n        alanine += (proteinData.alanine ? proteinData.alanine : 0) * portionFactor;\r\n        asparticAcid += (proteinData.asparticAcid ? proteinData.asparticAcid : 0) * portionFactor;\r\n        glutamicAcid += (proteinData.glutamicAcid ? proteinData.glutamicAcid : 0) * portionFactor;\r\n        glycine += (proteinData.glycine ? proteinData.glycine : 0) * portionFactor;\r\n        proline += (proteinData.proline ? proteinData.proline : 0) * portionFactor;\r\n        serine += (proteinData.serine ? proteinData.serine : 0) * portionFactor;\r\n    })\r\n\r\n    return {\r\n        tryptophan: createFinalValue(tryptophan, portionSize),\r\n        threonine: createFinalValue(threonine, portionSize),\r\n        isoleucine: createFinalValue(isoleucine, portionSize),\r\n        leucine: createFinalValue(leucine, portionSize),\r\n        lysine: createFinalValue(lysine, portionSize),\r\n        methionine: createFinalValue(methionine, portionSize),\r\n        cystine: createFinalValue(cystine, portionSize),\r\n        phenylalanine: createFinalValue(phenylalanine, portionSize),\r\n        tyrosine: createFinalValue(tyrosine, portionSize),\r\n        valine: createFinalValue(valine, portionSize),\r\n        arginine: createFinalValue(arginine, portionSize),\r\n        histidine: createFinalValue(histidine, portionSize),\r\n        alanine: createFinalValue(alanine, portionSize),\r\n        asparticAcid: createFinalValue(asparticAcid, portionSize),\r\n        glutamicAcid: createFinalValue(glutamicAcid, portionSize),\r\n        glycine: createFinalValue(glycine, portionSize),\r\n        proline: createFinalValue(proline, portionSize),\r\n        serine: createFinalValue(serine, portionSize),\r\n    }\r\n\r\n}\r\n\r\n\r\nfunction buildLipidData(compositeList: Array<SelectedFoodItem>, portionSize: number): LipidData {\r\n    let unsaturatedMono = 0;\r\n    let unsaturatedPoly = 0;\r\n    let saturated = 0;\r\n    let omega3 = 0;\r\n    let omega6 = 0;\r\n    let omegaUncertain = 0;\r\n    let cholesterol = 0;\r\n    let transFattyAcids = 0;\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        const lipidData = selectedFoodItem.foodItem.nutrientDataList[0].lipidData\r\n        const userSetPortion = selectedFoodItem.portion.amount\r\n        const portionFactor = userSetPortion / 100\r\n\r\n        unsaturatedMono += (lipidData.unsaturatedMono ? lipidData.unsaturatedMono : 0) * portionFactor;\r\n        unsaturatedPoly += (lipidData.unsaturatedPoly ? lipidData.unsaturatedPoly : 0) * portionFactor;\r\n        saturated += (lipidData.saturated ? lipidData.saturated : 0) * portionFactor;\r\n        omega3 += (lipidData.omegaData?.omega3 ? lipidData.omegaData.omega3 : 0) * portionFactor;\r\n        omega6 += (lipidData.omegaData?.omega6 ? lipidData.omegaData.omega6 : 0) * portionFactor;\r\n        omegaUncertain += (lipidData.omegaData?.uncertain ? lipidData.omegaData.uncertain : 0) * portionFactor;\r\n        cholesterol += (lipidData.cholesterol ? lipidData.cholesterol : 0) * portionFactor;\r\n        transFattyAcids += (lipidData.transFattyAcids ? lipidData.transFattyAcids : 0) * portionFactor;\r\n    })\r\n\r\n    const omegaRatio = (omega3 + omega6) / (omega3 + omega6 + omegaUncertain)\r\n\r\n    return {\r\n        unsaturatedMono: createFinalValue(unsaturatedMono, portionSize),\r\n        unsaturatedPoly: createFinalValue(unsaturatedPoly, portionSize),\r\n        saturated: createFinalValue(saturated, portionSize),\r\n        omegaData: {\r\n            omega3: createFinalValue(omega3, portionSize),\r\n            omega6: createFinalValue(omega6, portionSize),\r\n            uncertain: createFinalValue(omegaUncertain, portionSize),\r\n            uncertainRatio: omegaRatio\r\n        },\r\n        cholesterol: createFinalValue(cholesterol, portionSize),\r\n        transFattyAcids: createFinalValue(transFattyAcids, portionSize),\r\n    }\r\n}\r\n\r\n\r\nfunction createFinalValue(value, totalPortionAmount) {\r\n    return (value / totalPortionAmount) * 100;\r\n}","import React, {useContext, useState} from 'react'\r\n\r\nimport {Button, Modal} from 'react-bootstrap'\r\n\r\nimport {NotificationManager} from 'react-notifications'\r\nimport 'react-notifications/lib/notifications.css';\r\n\r\nimport FoodSelector from \"./FoodSelector\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {CompositeFoodList} from \"./CompositeFoodList\";\r\nimport {maximalPortionSize} from \"../../config/ApplicationSetting\";\r\nimport combineFoodItems from \"../../service/FoodDataAggregationService\";\r\n\r\nexport interface FoodSelectorModalProps {\r\n    onHide: () => void,\r\n    selectedFoodItemCallback: (selectedFoodItem: SelectedFoodItem) => void\r\n    compositeSelector: boolean\r\n}\r\n\r\n\r\nconst FoodSelectorModal: React.FC<FoodSelectorModalProps> = (props: FoodSelectorModalProps) => {\r\n    const applicationData = useContext(ApplicationDataContextStore)\r\n    const {language} = useContext(LanguageContext)\r\n\r\n    const [selectedFoodItem, setSelectedFoodItem] = useState<SelectedFoodItem | null>(null)\r\n    const [compositeList, setCompositeList] = useState<Array<SelectedFoodItem>>([])\r\n\r\n    if (!applicationData) {\r\n        return <div/>\r\n    }\r\n\r\n    const updateSelectedFoodItem = (selectedFoodItem: SelectedFoodItem): void => {\r\n        setSelectedFoodItem(selectedFoodItem)\r\n    }\r\n\r\n    const addCompositeElement = () => {\r\n        if (selectedFoodItem !== null) {\r\n            if(selectedFoodItem.portion.amount < 1 || selectedFoodItem.portion.amount > maximalPortionSize) {\r\n                NotificationManager.error(applicationStrings.message_error_invalid_portion[language])\r\n                return;\r\n            }\r\n\r\n            const newList: Array<SelectedFoodItem> = [...compositeList]\r\n            newList.push(selectedFoodItem)\r\n            setCompositeList(newList)\r\n        }\r\n    }\r\n\r\n    const deleteCompositeElement = (index: number) => {\r\n        const newList: Array<SelectedFoodItem> = [...compositeList]\r\n        newList.splice(index, 1)\r\n        setCompositeList(newList)\r\n    }\r\n\r\n    const onSubmit = () => {\r\n        if (props.compositeSelector) {\r\n            onSubmitComposite()\r\n        } else {\r\n            onSubmitSingleItem()\r\n        }\r\n    }\r\n\r\n    const onSubmitSingleItem = () => {\r\n        const foodItemId = selectedFoodItem ? selectedFoodItem.foodItem.id : null\r\n        if (foodItemId) {\r\n            const existingItemInList = applicationData?.applicationData.foodDataPanel.selectedFoodItems.find(foodItem => foodItem.id === foodItemId)\r\n\r\n            if (existingItemInList) {\r\n                NotificationManager.error(applicationStrings.message_error_existing_element[language])\r\n                return\r\n            }\r\n        }\r\n\r\n        if (!selectedFoodItem || !selectedFoodItem.foodItem || !selectedFoodItem.foodClass || !selectedFoodItem.portion) {\r\n            NotificationManager.error(applicationStrings.message_error_incomplete_form[language])\r\n        } else if (selectedFoodItem.portion.amount < 1 || selectedFoodItem.portion.amount > maximalPortionSize) {\r\n            NotificationManager.error(applicationStrings.message_error_invalid_portion[language])\r\n        } else {\r\n            props.selectedFoodItemCallback(selectedFoodItem)\r\n            props.onHide()\r\n        }\r\n    }\r\n\r\n    const onSubmitComposite = () => {\r\n        const aggregatedSelectedFoodItem = combineFoodItems(compositeList)\r\n\r\n        if(!aggregatedSelectedFoodItem) {\r\n            console.error('Error while creating aggregated food item.')\r\n            return\r\n        }\r\n\r\n        props.selectedFoodItemCallback(aggregatedSelectedFoodItem)\r\n        props.onHide()\r\n    }\r\n\r\n    const onCancel = () => {\r\n        props.onHide()\r\n    }\r\n\r\n    const title = props.compositeSelector ? applicationStrings.label_foodselector_composite[language] : applicationStrings.label_foodselector[language]\r\n\r\n    return (\r\n        <Modal size={'lg'} show={true} onHide={props.onHide}>\r\n            <Modal.Header>\r\n                <b>{title}</b>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div>\r\n                    {!props.compositeSelector ?\r\n                        <FoodSelector updateSelectedFoodItem={updateSelectedFoodItem} smallVariant={false}/>\r\n                        :\r\n                        <div className={\"container\"}>\r\n                            <div className={\"row\"}>\r\n                                <div className={\"col-6\"}>\r\n                                    <FoodSelector updateSelectedFoodItem={updateSelectedFoodItem}\r\n                                                  smallVariant={true}/>\r\n                                </div>\r\n                                <div className={\"col-6\"}>\r\n                                    <CompositeFoodList selectedFoodItems={compositeList}\r\n                                                       deleteItem={deleteCompositeElement}/>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <div className={\"container-fluid\"}>\r\n                    {props.compositeSelector ?\r\n                        <Button className={\"form-button float-end\"}\r\n                                onClick={onSubmit}\r\n                                disabled={!compositeList || compositeList.length < 1}>\r\n                            {applicationStrings.button_show[language]}\r\n                        </Button>\r\n                        :\r\n                        <Button className={\"form-button float-end\"} onClick={onSubmit}>\r\n                            {applicationStrings.button_select[language]}\r\n                        </Button>\r\n                    }\r\n\r\n                    {props.compositeSelector &&\r\n                    <Button className={\"form-button float-end\"} onClick={addCompositeElement}>\r\n                        {applicationStrings.button_add[language]}\r\n                    </Button>\r\n                    }\r\n\r\n                    <Button className={\"btn-secondary form-button float-end\"} onClick={onCancel}>\r\n                        {applicationStrings.button_cancel[language]}\r\n                    </Button>\r\n                </div>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    )\r\n\r\n}\r\n\r\nexport default FoodSelectorModal","/**\r\n * Checks whether a value is a positive integer value.\r\n */\r\nexport function isPositiveIntegerValue(value) {\r\n    const number = Number(value);\r\n    return Number.isInteger(number) && number > 0;\r\n}\r\n\r\n/**\r\n * Checks whether a value is a positive integer value or 0.\r\n */\r\nexport function isPositiveIntegerValueOrZero(value) {\r\n    const number = Number(value);\r\n    return Number.isInteger(number) && number >= 0;\r\n}\r\n\r\n/**\r\n * Rounds a value between 0 and 100 automatically to a reasonable number of digits:\r\n *\r\n * - Generally the value is rounded to one digit.\r\n * - Between 1 and 10, the value is rounded to two digits.\r\n * - Between 0.1 and 1, the value is rounded to three digits.\r\n * - Between 0.01 and 0.1, the value is rounded to four digits.\r\n * - Otherwise it is rounded to five digits.\r\n *\r\n */\r\nexport function autoRound(value) {\r\n    let roundFactor = 0;   // Default round factor\r\n\r\n    if(value >= 100) {\r\n        roundFactor = 0;\r\n    } else if(value < 100 && value >= 10) {\r\n        roundFactor = 1;\r\n    } else if(value < 10 && value >= 1) {\r\n        roundFactor = 2;\r\n    } else if(value < 1 && value >= 0.1) {\r\n        roundFactor = 3;\r\n    } else if(value < 0.1 && value >= 0.01) {\r\n        roundFactor = 4;\r\n    } else {\r\n        roundFactor = 5;\r\n    }\r\n\r\n    return round(value, roundFactor);\r\n}\r\n\r\n/**\r\n * Simple round function to round a number to a specific number of digits.\r\n */\r\nexport function round(value, digits) {\r\n    const roundFactor = Math.pow(10, digits);\r\n    return (Math.round(value * roundFactor)) / roundFactor;\r\n}\r\n\r\nexport function roundToNextValue(chartMaxValue: number) {\r\n\r\n    const roundUp = (value: number, multiple: number) => {\r\n        const remainder = value % multiple\r\n        if (remainder === 0) {\r\n            return value\r\n        } else {\r\n            return value + multiple - remainder\r\n        }\r\n    }\r\n\r\n    let multiple\r\n    if (chartMaxValue < 0.2) {\r\n        multiple = 0.1\r\n    } else if (chartMaxValue < 0.5) {\r\n        multiple = 0.2\r\n    } else if (chartMaxValue < 1) {\r\n        multiple = 0.5\r\n    } else if (chartMaxValue < 2) {\r\n        multiple = 1\r\n    } else if (chartMaxValue < 5) {\r\n        multiple = 2\r\n    } else if (chartMaxValue < 10) {\r\n        multiple = 5\r\n    } else if (chartMaxValue < 20) {\r\n        multiple = 10\r\n    } else if (chartMaxValue < 50) {\r\n        multiple = 20\r\n    } else if (chartMaxValue < 100) {\r\n        multiple = 50\r\n    } else if (chartMaxValue < 200) {\r\n        multiple = 100\r\n    } else if (chartMaxValue < 500) {\r\n        multiple = 200\r\n    } else if (chartMaxValue < 1000) {\r\n        multiple = 500\r\n    } else if (chartMaxValue < 2000) {\r\n        multiple = 1000\r\n    } else if (chartMaxValue < 5000) {\r\n        multiple = 2000\r\n    } else if (chartMaxValue < 10000) {\r\n        multiple = 5000\r\n    } else if (chartMaxValue < 20000) {\r\n        multiple = 10000\r\n    } else if (chartMaxValue < 50000) {\r\n        multiple = 20000\r\n    } else if (chartMaxValue < 100000) {\r\n        multiple = 50000\r\n    } else if (chartMaxValue < 200000) {\r\n        multiple = 100000\r\n    } else {\r\n        multiple = 200000\r\n    }\r\n\r\n    // Add 1 % buffer to the maximum value\r\n    chartMaxValue = chartMaxValue * 1.01\r\n\r\n    return round(roundUp(chartMaxValue, multiple),2)\r\n}","export const color_yellow = \"rgba(255, 255, 153, 1.0)\";   // Default for Lipids\r\nexport const color_green = \"rgba(132, 225, 132, 1.0)\";   // Default for Carbs\r\n\r\nexport const color_green_light = \"rgba(196, 236, 193, 1.0)\";   // Default for Sugar (as part of carbs)\r\nexport const color_red = \"rgba(255, 204, 204, 1.0)\";   // Default for proteins\r\nexport const color_blue = \"rgba(133, 193, 233, 1.0)\";   // Default for Water\r\nexport const color_purple = \"rgba(213, 205, 237, 1.0)\"; // Default color for a blue line\r\n\r\nexport const color_brown = \"rgba(202, 132, 0)\";\r\n\r\nexport const color_gray = \"rgba(235, 235, 235, 1.0)\"; // Default color for a blue line\r\nexport const color_line_blue = \"rgba(0, 107, 215, 1.0)\"; // Default color for a blue line\r\nexport const color_line_red = \"rgba(255, 102, 102, 1.0)\"; // Default color for a red line\r\n\r\nexport const color_chart_green_1 = \"rgba(39, 177, 96)\";\t\t// Dark green\r\nexport const color_chart_green_2 = \"rgba(137, 238, 137)\";\t// Normal green\r\nexport const color_chart_green_3 = \"rgba(214, 245, 214)\";\t\t// Light green\r\n\r\nexport const color_chart_yellow_1 = \"rgba(212, 172, 13)\";\t\t// Dark yellow\r\nexport const color_chart_yellow_2 = \"rgba(244, 208, 63)\";\t// Normal yellow\r\nexport const color_chart_yellow_3 = \"rgba(249, 231, 159)\";\t\t// Light yellow\r\n\r\nexport const color_chart_orange = \"rgba(230, 126, 34)\";\r\nexport const color_chart_misc = color_gray;\r\n\r\nexport const basedata_chart_height = 300;\r\nexport const basedata_piechart_width = 300;\r\nexport const basedata_barchart_width = 380;\r\n\r\nexport const default_chart_height = 380;\r\nexport const default_chart_width = 800;\r\n\r\nexport const direct_compare_chartheight = 300;\r\n\r\nexport const energy_chart_height = 413;\r\n\r\nexport const minimal_table_height = energy_chart_height;\r\n\r\nexport const max_portion = 5000;\r\n\r\nexport const color_water = color_blue;\r\nexport const color_lipids = color_yellow;\r\nexport const color_carbs = color_green;\r\nexport const color_carbs_sugar = color_green_light;\r\nexport const color_carbs_dietaryFibers = color_chart_green_1;\r\nexport const color_carbs_misc = color_gray;\r\n\r\nexport const color_proteins = color_red;\r\n\r\nexport const color_lipids_saturated = color_brown;\r\nexport const color_lipids_unsaturated_mono = color_chart_yellow_2;\r\nexport const color_lipids_unsaturated_poly = color_chart_yellow_3;\r\n\r\nexport const color_lipids_omega3 = color_chart_yellow_2;\r\nexport const color_lipids_omega6 = color_brown;\r\n\r\nexport const color_lipids_misc = color_gray;\r\n\r\nexport const color_ash = color_gray;\r\n\r\nexport const direct_compare_color1 = \"#ffe085\"\r\nexport const direct_compare_color2 = \"#d9ecff\"","/**\r\n * Returns a default-styled configuration for a bar chart.\r\n *\r\n * title: The charts title.\r\n * unit: The unit to use for the axis title and tooltip.\r\n * minYValue: Optional, a pre-defined maxYValue for the Y axis (e.g. 100)\r\n */\r\nimport {shortenName} from \"./nutrientdata/NameTypeService\";\r\n\r\nexport function getBarChartOptions(title: string, unit: string, maxYValue?: number | undefined) {\r\n    let yAxis: any = {\r\n        title: {\r\n            display: true,\r\n            text: unit\r\n        }\r\n    }\r\n\r\n    if(maxYValue) {\r\n        yAxis = {...yAxis, min: 0, max: maxYValue}\r\n    }\r\n\r\n    const scalesObject = {y: yAxis}\r\n\r\n    return getOptions(title, unit, scalesObject);\r\n}\r\n\r\n\r\nexport function getBarChartOptionsForRanking(title: string, unit: string) {\r\n    const scales = getScalesForRankingChart(unit);\r\n    return getOptions(title, unit, scales);\r\n}\r\n\r\n\r\nexport function getPieChartOptions(title: string, unit: string) {\r\n    return getOptions(title, unit);\r\n}\r\n\r\n\r\nfunction getOptions(title: string, unit: string, scalesObject?: any | undefined) {\r\n    const titleObj = title ? {display: true, text: title, fontSize: 18} : null;\r\n\r\n    let options: any = {\r\n        maintainAspectRatio: false,\r\n        responsive: true,\r\n        plugins: {\r\n            title: titleObj,\r\n            tooltip: getToolTips(unit),\r\n            legend: {\r\n                display: false\r\n            },\r\n        }\r\n    }\r\n\r\n    if (scalesObject !== undefined) {\r\n        options = {...options, scales: scalesObject}\r\n    }\r\n\r\n    return options;\r\n}\r\n\r\nfunction getToolTips(unit: string) {\r\n    return {\r\n        enabled: true,\r\n        maintainAspectRatio: true,\r\n        callbacks: {\r\n            label: tooltipItem => `${tooltipItem.label}: ${tooltipItem.formattedValue} ${unit}`\r\n        }\r\n    };\r\n}\r\n\r\n\r\nfunction getScalesForRankingChart(unit: string) {\r\n    let scaleLabel: any | null = null;\r\n\r\n    if (unit) {\r\n        scaleLabel = {\r\n            display: true,\r\n            labelString: unit\r\n        }\r\n    }\r\n\r\n    let axesObj = {};\r\n    if (scaleLabel) {\r\n        axesObj[\"scaleLabel\"] = scaleLabel;\r\n    }\r\n\r\n    const yAxes = [axesObj];\r\n\r\n    const scales = {\r\n        yAxes: yAxes,\r\n        xAxes: [{\r\n            ticks: {\r\n                autoSkip: false,\r\n                callback: function (value, index, values) {\r\n                    return shortenName(value, 24);\r\n                }\r\n            }\r\n        }]\r\n    };\r\n\r\n    return scales;\r\n}","import {useContext} from \"react\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {CHART_TYPE_BAR, CHART_TYPE_PIE} from \"../../config/Constants\";\r\nimport {Form} from 'react-bootstrap';\r\nimport {PieChartConfigurationProps} from \"../../types/livedata/ChartPropsData\";\r\n\r\nexport function PieChartConfigurationForm(props: PieChartConfigurationProps) {\r\n    const languageContext = useContext(LanguageContext)\r\n\r\n    return (\r\n        <div className=\"container form-main\">\r\n            <div className=\"row\">\r\n                <form className=\"form-inline form-group\">\r\n                    <Form.Label className=\"form-elements\">\r\n                        <b>{applicationStrings.label_charttype[languageContext.language]}:</b>\r\n                    </Form.Label>\r\n                    <Form.Check inline={true}\r\n                                label={applicationStrings.label_charttype_pie[languageContext.language]}\r\n                                type=\"radio\"\r\n                                value={CHART_TYPE_PIE}\r\n                                checked={props.chartType === CHART_TYPE_PIE}\r\n                                onChange={props.handleRadioButtonClick}>\r\n                    </Form.Check>\r\n                    <Form.Check inline={true}\r\n                                style={{paddingRight: \"48px\"}}\r\n                                label={applicationStrings.label_charttype_bar[languageContext.language]}\r\n                                type=\"radio\"\r\n                                value={CHART_TYPE_BAR}\r\n                                checked={props.chartType === CHART_TYPE_BAR}\r\n                                onChange={props.handleRadioButtonClick}>\r\n                    </Form.Check>\r\n                    <Form.Check inline={true}\r\n                                label={applicationStrings.checkbox_chartoption_showLegend[languageContext.language]}\r\n                                defaultChecked={props.showLegend}\r\n                                disabled={props.chartType === CHART_TYPE_BAR}\r\n                                onClick={props.handleLegendCheckboxClick}>\r\n                    </Form.Check>\r\n                    {props.detailsCheckboxAvailable &&\r\n                    <Form.Check inline={true}\r\n                                label={applicationStrings.checkbox_chartoption_showDetails[languageContext.language]}\r\n                                defaultChecked={props.showDetails}\r\n                                onClick={props.handleDetailsCheckboxClick}>\r\n                    </Form.Check>\r\n                    }\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import {ReactElement} from \"react\";\r\n\r\ninterface CustomLegendProps {\r\n    legendData: Array<any>\r\n}\r\n\r\nexport function CustomLegend(props: CustomLegendProps) {\r\n\r\n    const renderLegend = () => {\r\n        let legend: Array<ReactElement> = [];\r\n\r\n        for (let i = 0; i < props.legendData.length; i++) {\r\n            const element = props.legendData[i];\r\n            const indent = element.indent > 0 ? \"25px\" : \"0px\";\r\n            const verticalSpace = element.separateNextElement ? \"15px\" : \"0px\";\r\n            const id = `legendrow ${i}`;\r\n\r\n            legend.push(\r\n                <div key={id} className=\"row\" style={{marginLeft: indent, marginBottom: verticalSpace}}>\r\n                    <div style={{display: \"flex\"}}>\r\n                        <div className=\"legendItem\" style={{background: element.color}}></div>\r\n                        <p style={{marginTop: \"-3px\"}}>{element.item}</p>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return legend;\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={\"form-main\"} style={{borderLeft: \"1px solid #aaaaaa\", paddingLeft: \"5px\"}}>\r\n            <div style={{paddingTop: \"4px\"}}>\r\n                {renderLegend()}\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n\r\n}","import {WindowDimension} from \"../WindowDimension\";\r\nimport {basedata_piechart_width, default_chart_height} from \"../../config/ChartConfig\";\r\nimport {TAB_BASE_DATA} from \"../../config/Constants\";\r\n\r\nexport function calculateChartHeight(currentDimension: WindowDimension, directCompare?: boolean, dataPage?: string): number {\r\n    return directCompare === true\r\n        ? currentDimension.height / 3\r\n        : dataPage === TAB_BASE_DATA\r\n            ? basedata_piechart_width\r\n            : default_chart_height\r\n}\r\n\r\nexport function calculateChartContainerHeight(currentDimension: WindowDimension, directCompare?: boolean): number {\r\n    return directCompare === true\r\n        ? calculateChartHeight(currentDimension, directCompare) + 24\r\n        : calculateChartHeight(currentDimension, directCompare) + 10\r\n}\r\n","import {useContext, useEffect, useState} from \"react\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport {autoRound} from \"../../../service/calculation/MathService\";\r\nimport * as ChartConfig from \"../../../config/ChartConfig\"\r\nimport {CHART_TYPE_BAR, CHART_TYPE_PIE, TAB_BASE_DATA} from \"../../../config/Constants\";\r\nimport {Bar, Pie} from \"react-chartjs-2\";\r\nimport {getBarChartOptions, getPieChartOptions} from \"../../../service/ChartConfigurationService\";\r\nimport {PieChartConfigurationForm} from \"../../charthelper/PieChartConfigurationForm\";\r\nimport {CustomLegend} from \"../../charthelper/CustomLegend\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {initialChartConfigData} from \"../../../config/ApplicationSetting\";\r\nimport {BaseDataChartProps} from \"../../../types/livedata/ChartPropsData\";\r\nimport {default_chart_height, direct_compare_chartheight} from \"../../../config/ChartConfig\";\r\nimport {useWindowDimension} from \"../../../service/WindowDimension\";\r\nimport {calculateChartContainerHeight, calculateChartHeight} from \"../../../service/nutrientdata/ChartSizeCalculation\";\r\n\r\nexport default function BaseDataChart(props: BaseDataChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n    const windowSize = useWindowDimension()\r\n\r\n    const chartConfig = props.directCompareConfig\r\n        ? props.directCompareConfig\r\n        : applicationContext\r\n            ? applicationContext.applicationData.foodDataPanel.chartConfigData.baseChartConfig\r\n            : initialChartConfigData.baseChartConfig\r\n\r\n    const showDetailsProp = chartConfig.showDetails\r\n        ? chartConfig.showDetails\r\n        : applicationContext\r\n            ? applicationContext.applicationData.foodDataPanel.chartConfigData.baseChartConfig.showDetails\r\n            : initialChartConfigData.baseChartConfig.showDetails\r\n\r\n    const [chartType, setChartType] = useState<string>(chartConfig.chartType)\r\n    const [showLegend, setShowLegend] = useState<boolean>(chartConfig.showLegend)\r\n    const [showDetails, setShowDetails] = useState<boolean>(showDetailsProp)\r\n    const [chartHeight, setChartHeight] = useState<number>(calculateChartHeight(windowSize, props.directCompareUse, TAB_BASE_DATA))\r\n\r\n    useEffect(() => {\r\n        if (props.directCompareConfig) {\r\n            setChartType(chartConfig.chartType)\r\n            setShowLegend(chartConfig.showLegend)\r\n            setShowDetails(showDetailsProp)\r\n        }\r\n\r\n        setChartHeight(calculateChartHeight(windowSize, props.directCompareUse, TAB_BASE_DATA))\r\n        updateChartConfig()\r\n    }, [chartType, showDetails, showLegend, chartHeight, props])\r\n\r\n    const updateChartConfig = () => {\r\n        if (applicationContext && !props.directCompareConfig) {\r\n            const currentConfig = applicationContext.applicationData.foodDataPanel.chartConfigData\r\n            if (chartType !== currentConfig.baseChartConfig.chartType\r\n                || showDetails !== currentConfig.baseChartConfig.showDetails\r\n                || showLegend !== currentConfig.baseChartConfig.showLegend) {\r\n                const newChartConfig = {\r\n                    ...currentConfig,\r\n                    baseChartConfig: {\r\n                        chartType: chartType,\r\n                        showDetails: showDetails,\r\n                        showLegend: showLegend\r\n                    }\r\n                }\r\n                applicationContext.applicationData.foodDataPanel.updateFoodDataPanelChartConfig(newChartConfig)\r\n            }\r\n        }\r\n    }\r\n\r\n    const createTotalChartData = () => {\r\n        const nutrientData = props.selectedFoodItem.foodItem.nutrientDataList[0];\r\n\r\n        return {\r\n            labels: [applicationStrings.label_nutrient_water[lang],\r\n                applicationStrings.label_nutrient_carbohydrates_short[lang],\r\n                applicationStrings.label_nutrient_lipids[lang],\r\n                applicationStrings.label_nutrient_proteins[lang],\r\n                applicationStrings.label_nutrient_ash[lang]],\r\n            datasets: [{\r\n                label: applicationStrings.label_chart_totalComposition[lang],\r\n                data: [autoRound(nutrientData.baseData.water),\r\n                    autoRound(nutrientData.baseData.carbohydrates),\r\n                    autoRound(nutrientData.baseData.lipids),\r\n                    autoRound(nutrientData.baseData.proteins),\r\n                    autoRound(nutrientData.baseData.ash)\r\n                ],\r\n                backgroundColor: [\r\n                    ChartConfig.color_water,\r\n                    ChartConfig.color_carbs,\r\n                    ChartConfig.color_lipids,\r\n                    ChartConfig.color_proteins,\r\n                    ChartConfig.color_ash,\r\n                ],\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        }\r\n    }\r\n\r\n\r\n    const createNutrientChartData = () => {\r\n        const nutrientData = props.selectedFoodItem.foodItem.nutrientDataList[0];\r\n        const totalValue = nutrientData.baseData.carbohydrates + nutrientData.baseData.lipids + nutrientData.baseData.proteins;\r\n\r\n        const sugar = nutrientData.carbohydrateData?.sugar ? nutrientData.carbohydrateData.sugar : 0\r\n        const dietaryFibers = nutrientData.baseData.dietaryFibers ? nutrientData.baseData.dietaryFibers : 0\r\n\r\n        let carbValue = showDetails ? (nutrientData.baseData.carbohydrates - sugar - dietaryFibers)\r\n            : nutrientData.baseData.carbohydrates;\r\n\r\n        if (carbValue < 0) {\r\n            carbValue = 0\r\n        }\r\n\r\n        const carbValuePerc = autoRound(carbValue / totalValue * 100)\r\n        const sugarValuePerc = autoRound(sugar / totalValue * 100)\r\n        const dietaryFibersPerc = autoRound(dietaryFibers / totalValue * 100)\r\n        const lipidValuePerc = autoRound(nutrientData.baseData.lipids / totalValue * 100)\r\n        const proteinsValuePerc = autoRound(nutrientData.baseData.proteins / totalValue * 100)\r\n\r\n        const labels = [applicationStrings.label_nutrient_lipids[lang],\r\n            applicationStrings.label_nutrient_proteins[lang],\r\n            applicationStrings.label_nutrient_carbohydrates_short[lang]]\r\n\r\n        const values = [lipidValuePerc, proteinsValuePerc, carbValuePerc];\r\n\r\n        const backgroundColors = [\r\n            ChartConfig.color_lipids,\r\n            ChartConfig.color_proteins,\r\n            ChartConfig.color_carbs\r\n        ];\r\n\r\n        if (showDetails) {\r\n            if (sugarValuePerc > 0) {\r\n                labels.push(applicationStrings.label_nutrient_sugar[lang]);\r\n                values.push(sugarValuePerc);\r\n                backgroundColors.push(ChartConfig.color_carbs_sugar);\r\n            }\r\n            if (dietaryFibersPerc > 0) {\r\n                labels.push(applicationStrings.label_nutrient_dietaryFibers_short[lang]);\r\n                values.push(dietaryFibersPerc);\r\n                backgroundColors.push(ChartConfig.color_carbs_dietaryFibers);\r\n            }\r\n        }\r\n\r\n        return {\r\n            labels: labels,\r\n            datasets: [{\r\n                label: applicationStrings.label_chart_nutrientComposition[lang],\r\n                data: values,\r\n                backgroundColor: backgroundColors,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        }\r\n    }\r\n\r\n\r\n    const getLegendData = () => {\r\n        const legendData: Array<any> = [\r\n            {\r\n                item: applicationStrings.label_nutrient_water[lang],\r\n                color: ChartConfig.color_water,\r\n                separateNextElement: true\r\n            },\r\n            {\r\n                item: applicationStrings.label_nutrient_lipids[lang],\r\n                color: ChartConfig.color_lipids\r\n            },\r\n            {\r\n                item: applicationStrings.label_nutrient_proteins[lang],\r\n                color: ChartConfig.color_proteins\r\n            },\r\n            {\r\n                item: applicationStrings.label_nutrient_carbohydrates_short[lang],\r\n                color: ChartConfig.color_carbs,\r\n            }\r\n        ];\r\n\r\n        if (showDetails) {\r\n            legendData.push(\r\n                {\r\n                    item: applicationStrings.label_nutrient_sugar[lang],\r\n                    color: ChartConfig.color_carbs_sugar,\r\n                    indent: 1,\r\n                },\r\n                {\r\n                    item: applicationStrings.label_nutrient_dietaryFibers[lang],\r\n                    color: ChartConfig.color_carbs_dietaryFibers,\r\n                    indent: 1,\r\n                    separateNextElement: true\r\n                }\r\n            );\r\n\r\n        }\r\n\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_ash[lang],\r\n            color: ChartConfig.color_ash\r\n        })\r\n\r\n        return legendData;\r\n    }\r\n\r\n\r\n    const handleRadioButtonClick = (event: any) => {\r\n        setChartType(event.target.value)\r\n        updateChartConfig()\r\n    }\r\n\r\n    const handleLegendCheckboxClick = () => {\r\n        setShowLegend(!showLegend)\r\n        updateChartConfig()\r\n    }\r\n\r\n    const handleDetailsCheckboxClick = () => {\r\n        setShowDetails(!showDetails)\r\n        updateChartConfig()\r\n    }\r\n\r\n    const legendAllowed = showLegend && chartType === CHART_TYPE_PIE\r\n\r\n    const getOptions = (title) => {\r\n        return chartType === CHART_TYPE_BAR ? getBarChartOptions(title, \"%\") : getPieChartOptions(title, \"%\")\r\n    }\r\n\r\n\r\n    const renderSubChart = (title: string, chartData: any) => {\r\n        if (!chartData) {\r\n            return <div/>\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {chartType === CHART_TYPE_PIE &&\r\n                <Pie\r\n                    data={chartData}\r\n                    key={'chart ' + chartHeight}\r\n                    height={chartHeight}\r\n                    width={ChartConfig.basedata_piechart_width}\r\n                    options={getOptions(title)}\r\n                    type={\"pie\"}/>\r\n                }\r\n                {chartType === CHART_TYPE_BAR &&\r\n                <Bar\r\n                    data={chartData}\r\n                    key={'chart ' + chartHeight}\r\n                    height={chartHeight}\r\n                    width={ChartConfig.basedata_barchart_width}\r\n                    options={getOptions(title)}\r\n                    type={\"bar\"}/>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    const totalChartData = createTotalChartData();\r\n    const nutrientChartData = createNutrientChartData();\r\n\r\n    const totalChartDataTitle = applicationStrings.label_chart_totalComposition[lang]\r\n    const nutrientChartDataTitle = applicationStrings.label_chart_nutrientComposition[lang]\r\n\r\n    const containerHeight = calculateChartContainerHeight(windowSize,  props.directCompareUse)\r\n    const justifyContent = props.directCompareUse ? \"center\" : \"left\"\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"d-flex text-align-center\" style={{justifyContent: justifyContent}}>\r\n                <div className=\"d-inline-block\">\r\n                    <div className=\"row\" style={{height: containerHeight}} key={\"base chart container \" + containerHeight}>\r\n                        <div className=\"col-6\">\r\n                            <div>{renderSubChart(totalChartDataTitle, totalChartData)}</div>\r\n                        </div>\r\n                        <div className=\"col-6\">\r\n                            <div>{renderSubChart(nutrientChartDataTitle, nutrientChartData)}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {legendAllowed &&\r\n                <div className=\"d-inline-block float-right\">\r\n                    <CustomLegend legendData={getLegendData()}/>\r\n                </div>\r\n                }\r\n            </div>\r\n            {!props.directCompareUse &&\r\n                <div className=\"row chartFormLine\">\r\n                    <PieChartConfigurationForm chartType={chartType}\r\n                                               showLegend={showLegend}\r\n                                               showDetails={showDetails}\r\n                                               detailsCheckboxAvailable={true}\r\n                                               handleRadioButtonClick={handleRadioButtonClick}\r\n                                               handleLegendCheckboxClick={handleLegendCheckboxClick}\r\n                                               handleDetailsCheckboxClick={handleDetailsCheckboxClick}/>\r\n                </div>\r\n            }\r\n        </div>\r\n    )\r\n\r\n\r\n}","export const PAL_CATEGORY_1 = 1.2;\r\nexport const PAL_CATEGORY_2 = 1.4;\r\nexport const PAL_CATEGORY_3 = 1.6;\r\nexport const PAL_CATEGORY_4 = 1.8;\r\nexport const PAL_CATEGORY_5 = 2.1;\r\nexport const PAL_CATEGORY_6 = 2.4;\r\nexport const PAL_CATEGORY_7 = 2.8;","import * as Constants from '../../config/Constants';\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport * as EnergyConstants from '../../config/EnergyConstants'\r\nimport {SEX_MALE} from \"../../config/Constants\";\r\nimport {PalCategory} from \"../../types/livedata/PalCategory\";\r\n\r\n\r\n/**\r\n * Creates a list of PAL categories with name and value for the user settings form.\r\n */\r\nexport function getPalCategories(language: string): Array<PalCategory> {\r\n    const palCategories = [\r\n        {label: createPalCategoryName(language, 1), value: EnergyConstants.PAL_CATEGORY_1},\r\n        {label: createPalCategoryName(language, 2), value: EnergyConstants.PAL_CATEGORY_2},\r\n        {label: createPalCategoryName(language, 3), value: EnergyConstants.PAL_CATEGORY_3},\r\n        {label: createPalCategoryName(language, 4), value: EnergyConstants.PAL_CATEGORY_4},\r\n        {label: createPalCategoryName(language, 5), value: EnergyConstants.PAL_CATEGORY_5},\r\n        {label: createPalCategoryName(language, 6), value: EnergyConstants.PAL_CATEGORY_6},\r\n        {label: createPalCategoryName(language, 7), value: EnergyConstants.PAL_CATEGORY_7},\r\n    ];\r\n\r\n    return palCategories;\r\n}\r\n\r\n/**\r\n * Returns the PAL category number of a PAL value.\r\n *\r\n * value: The PAL value, e.g. 1.4 or 1.6.\r\n */\r\nexport function getPalCategory(value: number): number {\r\n\r\n    switch(value) {\r\n        case EnergyConstants.PAL_CATEGORY_1:\r\n            return 1\r\n        case EnergyConstants.PAL_CATEGORY_2:\r\n            return 2\r\n        case EnergyConstants.PAL_CATEGORY_3:\r\n            return 3\r\n        case EnergyConstants.PAL_CATEGORY_4:\r\n            return 4\r\n        case EnergyConstants.PAL_CATEGORY_5:\r\n            return 5\r\n        case EnergyConstants.PAL_CATEGORY_6:\r\n            return 6\r\n        case EnergyConstants.PAL_CATEGORY_7:\r\n            return 7\r\n        default:\r\n            return 1\r\n    }\r\n}\r\n\r\nfunction createPalCategoryName(language, category): string {\r\n    const languageLabel = `palcat_name_${category}`;\r\n    const name = applicationStrings[languageLabel][language]\r\n\r\n    const energyLabel = `PAL_CATEGORY_${category}`;\r\n    const value = EnergyConstants[energyLabel];\r\n    return `${name} (${value})`;\r\n}\r\n\r\n\r\n/**\r\n * Calculates the Basal Metabolic Rate (BMR) of a person.\r\n */\r\nexport function calculateBMR(age: number, size: number, weight: number, sex: string): number {\r\n    if(sex === SEX_MALE) {\r\n        const bmr = 3.4 * weight + 15.3 * size - 6.8 * age - 961;\r\n        return Math.round(bmr);\r\n    } else {\r\n        const bmr = 2.4 * weight + 9.0 * size - 4.7 * age - 65;\r\n        return Math.round(bmr);\r\n    }\r\n}\r\n\r\n/**\r\n * Calculates the total energy consumption of a person in one day.\r\n *\r\n * bmr: The bmr value.\r\n * palValue: The pal value\r\n * leisureSports: Specifies whether leisure sports is performed or not (+0.3 PAL).\r\n */\r\nexport function calculateTotalEnergyConsumption(bmr: number, palValue: number, leisureSports: boolean): number {\r\n    if(leisureSports) {\r\n        palValue += 0.3;\r\n    }\r\n\r\n    return bmr * palValue;\r\n}","import {useContext, useEffect, useState} from \"react\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport * as ChartConfig from \"../../../config/ChartConfig\"\r\nimport {Bar, Chart} from \"react-chartjs-2\";\r\nimport {getBarChartOptions} from \"../../../service/ChartConfigurationService\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport {calculateBMR, calculateTotalEnergyConsumption} from \"../../../service/calculation/EnergyService\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {default_chart_height} from \"../../../config/ChartConfig\";\r\nimport annotationPlugin from 'chartjs-plugin-annotation'\r\nimport {ChartProps} from \"../../../types/livedata/ChartPropsData\";\r\nimport {useWindowDimension} from \"../../../service/WindowDimension\";\r\nimport {calculateChartContainerHeight, calculateChartHeight} from \"../../../service/nutrientdata/ChartSizeCalculation\";\r\n\r\nexport default function EnergyDataChart(props: ChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n    const windowSize = useWindowDimension()\r\n\r\n    const nutrientData = props.selectedFoodItem.foodItem.nutrientDataList[0];\r\n    const energy100g = nutrientData.baseData.energy;\r\n\r\n    Chart.register(annotationPlugin)\r\n\r\n    const [chartHeight, setChartHeight] = useState<number>(calculateChartHeight(windowSize, props.directCompareUse))\r\n\r\n    useEffect(() => {\r\n        setChartHeight(calculateChartHeight(windowSize, props.directCompareUse))\r\n    }, [chartHeight])\r\n\r\n    if (!applicationContext || !energy100g) {\r\n        return <div>No data.</div>\r\n    }\r\n\r\n    const createEnergyLevelChart = () => {\r\n        const averagePortion = props.selectedFoodItem.portion.amount\r\n        const energyPortion = Math.round(energy100g / 100 * averagePortion);\r\n\r\n        return {\r\n            labels: [\"100 g\", \"Portion\"],\r\n            datasets: [{\r\n                data: [energy100g,\r\n                    energyPortion\r\n                ],\r\n                backgroundColor: [\r\n                    ChartConfig.color_yellow,\r\n                    ChartConfig.color_red,\r\n                ],\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n\r\n        }\r\n    }\r\n\r\n\r\n    const renderUserDataInfoPage = () => {\r\n        return (\r\n            <div style={{paddingLeft: \"50px\", paddingTop: \"50px\"}}>\r\n                {applicationContext.userData.initialValues ?\r\n                    (<div>\r\n                        <p>{applicationStrings.text_setUserdata_p1[lang]}</p>\r\n                        <p>{applicationStrings.text_setUserdata_p2[lang]}</p>\r\n                    </div>)\r\n                    :\r\n                    <p>{applicationStrings.text_setUserdata_p3[lang]}</p>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    const getOptions = () => {\r\n        const {age, size, weight, sex, palValue, leisureSports} = applicationContext.userData\r\n        const bmr = calculateBMR(age, size, weight, sex);\r\n        const totalEnergy = calculateTotalEnergyConsumption(bmr, palValue, leisureSports);\r\n\r\n        const annotation = {\r\n            annotations: {\r\n                line1: {\r\n                    type: 'line',\r\n                    mode: 'horizontal',\r\n                    scaleID: 'y-axis-0',\r\n                    yMin: bmr,\r\n                    yMax: bmr,\r\n                    borderColor: ChartConfig.color_line_red,\r\n                    borderWidth: 4,\r\n                    label: {\r\n                        enabled: true,\r\n                        content: applicationStrings.label_chart_bmr[lang]\r\n                    }\r\n                },\r\n                line2:\r\n                    {\r\n                        type: 'line',\r\n                        mode: 'horizontal',\r\n                        scaleID: 'y-axis-0',\r\n                        yMin: totalEnergy,\r\n                        yMax: totalEnergy,\r\n                        borderColor: ChartConfig.color_line_blue,\r\n                        borderWidth: 4,\r\n                        label: {\r\n                            enabled: true,\r\n                            content: applicationStrings.label_chart_energyExpenditure[lang]\r\n                        }\r\n                    },\r\n            }\r\n        }\r\n\r\n        let options: any = getBarChartOptions(applicationStrings.label_charttype_energy[languageContext.language], \"kCal\");\r\n        options = {\r\n            ...options, plugins: {\r\n                ...options.plugins,\r\n                annotation: annotation\r\n            }\r\n        }\r\n\r\n        return options;\r\n    }\r\n\r\n    const data = createEnergyLevelChart();\r\n    if (!data) {\r\n        return <div style={{height: default_chart_height}}>{applicationStrings.label_noData[lang]}</div>\r\n    }\r\n\r\n    const containerHeight = calculateChartContainerHeight(windowSize,  props.directCompareUse)\r\n\r\n    return (\r\n        <div className=\"container-fluid\" >\r\n            <div className=\"row \" style={{height: containerHeight}} key={\"energy container \" + containerHeight}>\r\n                <div className=\"col-6\">\r\n                    <div>\r\n                        <Bar\r\n                            data={data}\r\n                            key={'chart ' + chartHeight}\r\n                            height={chartHeight}\r\n                            options={getOptions()}\r\n                            type={\"bar\"}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-6\">\r\n                    {renderUserDataInfoPage()}\r\n                </div>\r\n            </div>\r\n            <div style={{height: \"64px\"}}></div>\r\n        </div>\r\n    )\r\n\r\n}","import * as Constants from '../../config/Constants';\r\nimport DietaryRequirement, {\r\n    RequirementAgeGroupData,\r\n    RequirementData\r\n} from \"../../types/nutrientdata/DietaryRequirement\";\r\nimport {UserData} from \"../../types/livedata/UserData\";\r\nimport {SEX_MALE} from \"../../config/Constants\";\r\n\r\n/*\r\n * Determines the daily requirements of a vitamin or mineral for a specific user.\r\n *\r\n * dailyRequirementObject: A vitamin or mineral requirement object (e.g. for Vitamin C or Iron).\r\n * userData: The user data object containing the user data.\r\n */\r\nexport function determineDailyRequirement(dailyRequirementObject: RequirementData, userData: UserData) {\r\n    let ageGroupRequirements\r\n\r\n    if (userData.age >= 65) {\r\n        ageGroupRequirements = dailyRequirementObject.senior;\r\n    } else if (userData.age >= 51) {\r\n        ageGroupRequirements = dailyRequirementObject.preSenior;\r\n    } else if (userData.age >= 26) {\r\n        ageGroupRequirements = dailyRequirementObject.midLifeAdult;\r\n    } else if (userData.age >= 19) {\r\n        ageGroupRequirements = dailyRequirementObject.youngAdult;\r\n    } else if (userData.age >= 15) {\r\n        ageGroupRequirements = dailyRequirementObject.youth;\r\n    } else {\r\n        ageGroupRequirements = dailyRequirementObject.youth;   // Default case (should not occur!)\r\n    }\r\n\r\n    let value\r\n    if (userData.sex === SEX_MALE) {\r\n        value = ageGroupRequirements.male;\r\n    } else {\r\n        if (userData.pregnant) {\r\n            value = ageGroupRequirements.femalePregnant!!;\r\n        } else if (userData.breastFeeding) {\r\n            value = ageGroupRequirements.femaleBreastFeeding!!;\r\n        } else {\r\n            value = ageGroupRequirements.female;\r\n        }\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\n\r\n/*\r\n * Determines the ratio (percentage) of vitamins/minerals in food compared to the daily requirements of the user.\r\n * Example: The daily requirements of Vitamin C is 120 mg for the user. The food contains 24 mg C. The ratio is 0.2 (20 %).\r\n *\r\n * dailyRequirementObject: A vitamin or mineral requirement object (e.g. for Vitamin C or Iron).\r\n * userData: The user data object containing the user data.\r\n * portionSize: The portion size in gram (100 = default value, i.e., 100 gram).\r\n * amountInFood: The amount of the vitamin or mineral in the food (which is always 100 gram).\r\n */\r\nexport function determineFoodRequirementRatio(dailyRequirementObject: RequirementData, amountInFood: number, portionSize: number, userData: UserData): number {\r\n    const dailyRequirement = determineDailyRequirement(dailyRequirementObject, userData);\r\n    if (portionSize == 100) {\r\n        return Math.round(amountInFood / dailyRequirement * 1000) / 10;\r\n    } else {   // Calculate ration for a special amount (portion):\r\n        return Math.round(amountInFood / dailyRequirement * (portionSize * 10)) / 10;\r\n    }\r\n}\r\n\r\n\r\n/*\r\n * Determines the ratio (percentage) of proteins in food compared to the daily requirements of the user.\r\n * Example: The daily requirements of Lysine is 30 mg per kg. The user weights 80 kg. His dietary requirement\r\n * is thus 30 * 80 = 2400 mg per day. The food contains 240 mg C. The ratio is 0.1 (10 %).\r\n *\r\n * dailyRequirementObject: A protein requirement object for a specific protein (e.g. for Lycin).\r\n * userData: The user data object containing the user data.\r\n * portionSize: The portion size in gram (100 = default value, i.e., 100 gram).\r\n * amountInFood: The amount of the vitamin or mineral in the food (which is always 100 gram).\r\n */\r\nexport function determineProteinRequirementRatio(requirement: number, amountInFood: number, portionSize: number, userData: UserData) {\r\n    const dailyRequirement = (requirement * userData.weight) / 1000;\r\n\r\n    if (portionSize == 100) {\r\n        return Math.round(amountInFood / dailyRequirement * 1000) / 10;\r\n    } else {   // Calculate ration for a special amount (portion):\r\n        return Math.round(amountInFood / dailyRequirement * (portionSize * 10)) / 10;\r\n    }\r\n}\r\n\r\n\r\nexport function convertAbsoluteValueToDailyRequirement(dailyRequirements: DietaryRequirement, item: string, amount: number, userData: UserData) {\r\n    let dailyRequirementObject\r\n\r\n    if (item === Constants.DATA_VITAMINS_A) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.a;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B1) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b1;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B2) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b2;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B3) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b3;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B5) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b5;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B6) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b6;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B9) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b9;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B12) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b12;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_C) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.c;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_D) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.d;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_E) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.e;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_K) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.k;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_CALCIUM) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.calcium;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_COPPER) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.copper;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_IRON) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.iron;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_MAGNESIUM) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.magnesium;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_MANGANESE) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.manganese;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_PHOSPHORUS) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.phosphorus;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_POTASSIUM) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.potassium;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_SELENIUM) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.selenium;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_SODIUM) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.sodium;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_ZINC) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.zinc;\r\n    }\r\n\r\n    if (!dailyRequirementObject) {\r\n        console.error('No requirement data object generated.')\r\n        return 0\r\n    }\r\n\r\n    const dailyRequirement = determineDailyRequirement(dailyRequirementObject, userData);\r\n    return Math.round(amount / dailyRequirement * 1000) / 10;\r\n}","import {useContext} from \"react\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {Form} from \"react-bootstrap\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {AMOUNT_PORTION, GRAM} from \"../../config/Constants\";\r\nimport {BarChartConfigurationProps} from \"../../types/livedata/ChartPropsData\";\r\n\r\nexport function BarChartConfigurationForm(props: BarChartConfigurationProps) {\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n\r\n    const label_portion = props.selectedFoodItem\r\n        ?`${applicationStrings.label_portion[lang]} (${props.selectedFoodItem.portion.amount} g)`\r\n        : applicationStrings.label_portion[lang]\r\n\r\n    return (\r\n        <div className=\"container-fluid form-main\">\r\n            <div className=\"row foodDataPageHeader\">\r\n                <form className=\"form-inline form-group\">\r\n                    <Form.Label className={\"form-elements\"}>\r\n                        <b>{applicationStrings.label_reference[lang]}:</b>\r\n                    </Form.Label>\r\n                    <Form.Check type=\"radio\"\r\n                                inline={true}\r\n                                label={\"100g\"}\r\n                                value={GRAM}\r\n                                checked={(props.portionType === GRAM)}\r\n                                onChange={props.handleRadioButtonClick}\r\n                    />\r\n                    <Form.Check type=\"radio\"\r\n                                inline={true}\r\n                                style={{paddingRight: \"48px\"}}\r\n                                label={label_portion}\r\n                                value={AMOUNT_PORTION}\r\n                                checked={props.portionType === AMOUNT_PORTION}\r\n                                onChange={props.handleRadioButtonClick}\r\n                    />\r\n                    <Form.Check className=\"form-radiobutton\"\r\n                                inline={true}\r\n                                label={applicationStrings.checkbox_expand100g[lang]}\r\n                                checked={props.expand100}\r\n                                onChange={props.handleExpandCheckboxClick}>\r\n                    </Form.Check>\r\n                    {props.handleSynchronize !== undefined && props.synchronize !== undefined &&\r\n                    < Form.Check className=\"form-radiobutton\"\r\n                        inline={true}\r\n                        label={applicationStrings.checkbox_synchronize[lang]}\r\n                        checked={props.synchronize}\r\n                        onChange={props.handleSynchronize}>\r\n                        </Form.Check>\r\n                    }\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}","import {useContext, useEffect, useState} from \"react\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {CHART_MINERALS, CHART_VITAMINS, GRAM} from \"../../../config/Constants\";\r\nimport {determineFoodRequirementRatio} from \"../../../service/calculation/DietaryRequirementService\";\r\nimport * as ChartConfig from \"../../../config/ChartConfig\"\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport {getBarChartOptions} from \"../../../service/ChartConfigurationService\"\r\nimport {Bar} from \"react-chartjs-2\";\r\nimport {initialChartConfigData} from \"../../../config/ApplicationSetting\";\r\nimport {BarChartConfigurationForm} from \"../../charthelper/BarChartConfigurationForm\";\r\nimport {MineralVitaminChartProps} from \"../../../types/livedata/ChartPropsData\";\r\nimport {useWindowDimension} from \"../../../service/WindowDimension\";\r\nimport {calculateChartContainerHeight, calculateChartHeight} from \"../../../service/nutrientdata/ChartSizeCalculation\";\r\n\r\nexport default function MineralVitaminChart(props: MineralVitaminChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n    const windowSize = useWindowDimension()\r\n\r\n    const chartConfigVitamins = props.directCompareConfig\r\n        ? props.directCompareConfig\r\n        : applicationContext\r\n            ? applicationContext.applicationData.foodDataPanel.chartConfigData.vitaminChartConfig\r\n            : initialChartConfigData.vitaminChartConfig\r\n\r\n    const chartConfigMinerals = props.directCompareConfig\r\n        ? props.directCompareConfig\r\n        : applicationContext\r\n            ? applicationContext.applicationData.foodDataPanel.chartConfigData.mineralChartConfig\r\n            : initialChartConfigData.mineralChartConfig\r\n\r\n    const [portionType_vitamins, setPortionType_vitamins] = useState<string>(chartConfigVitamins.portionType)\r\n    const [expand100_vitamins, setExpand100_vitamins] = useState<boolean>(chartConfigVitamins.expand100)\r\n    const [chartType_minerals, setChartType_minerals] = useState<string>(chartConfigMinerals.portionType)\r\n    const [expand100_minerals, setExpand100_minerals] = useState<boolean>(chartConfigMinerals.expand100)\r\n    const [chartHeight, setChartHeight] = useState<number>(calculateChartHeight(windowSize, props.directCompareUse))\r\n\r\n    useEffect(() => {\r\n        if (props.directCompareConfig) {\r\n            setPortionType_vitamins(chartConfigVitamins.portionType)\r\n            setExpand100_vitamins(chartConfigVitamins.expand100)\r\n            setChartType_minerals(chartConfigMinerals.portionType)\r\n            setExpand100_minerals(chartConfigMinerals.expand100)\r\n        }\r\n\r\n        setChartHeight(calculateChartHeight(windowSize, props.directCompareUse))\r\n        updateChartConfig()\r\n    }, [portionType_vitamins, chartType_minerals, expand100_vitamins, expand100_minerals, chartHeight, props])\r\n\r\n\r\n    if (!applicationContext || applicationContext.foodDataCorpus.dietaryRequirements === null) {\r\n        return <div/>\r\n    }\r\n\r\n    const anyValueChanged = (): boolean => {\r\n        const config = props.selectedSubChart === CHART_VITAMINS\r\n            ? applicationContext.applicationData.foodDataPanel.chartConfigData.vitaminChartConfig\r\n            : applicationContext.applicationData.foodDataPanel.chartConfigData.mineralChartConfig\r\n\r\n        if (props.selectedSubChart === CHART_VITAMINS) {\r\n            return portionType_vitamins !== config.portionType || expand100_vitamins !== config.expand100\r\n        } else {\r\n            return chartType_minerals !== config.portionType || expand100_minerals !== config.expand100\r\n        }\r\n    }\r\n\r\n    const updateChartConfig = () => {\r\n        if (!props.directCompareConfig && anyValueChanged()) {\r\n            if (applicationContext) {\r\n                const newChartConfig = {\r\n                    ...applicationContext.applicationData.foodDataPanel.chartConfigData,\r\n                    vitaminChartConfig: {\r\n                        portionType: portionType_vitamins,\r\n                        expand100: expand100_vitamins\r\n                    },\r\n                    mineralChartConfig: {\r\n                        portionType: chartType_minerals,\r\n                        expand100: expand100_minerals\r\n                    }\r\n                }\r\n\r\n                applicationContext.applicationData.foodDataPanel.updateFoodDataPanelChartConfig(newChartConfig)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    const createVitaminChartData = () => {\r\n        const vitaminData = props.selectedFoodItem.foodItem.nutrientDataList[0].vitaminData;\r\n        const requirementData = applicationContext.foodDataCorpus.dietaryRequirements?.vitaminRequirementData;\r\n\r\n        if (!vitaminData || !requirementData) {\r\n            return null\r\n        }\r\n\r\n        const amount = portionType_vitamins === GRAM ? 100 : props.selectedFoodItem.portion.amount\r\n\r\n        const labels: Array<string> = [];\r\n        const data: Array<number> = [];\r\n\r\n        if (vitaminData.a !== null) {\r\n            labels.push(\"A\");\r\n            data.push(determineFoodRequirementRatio(requirementData.a, vitaminData.a, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (vitaminData.b1 !== null) {\r\n            labels.push(\"B1\");\r\n            data.push(determineFoodRequirementRatio(requirementData.b1, vitaminData.b1, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (vitaminData.b2 !== null) {\r\n            labels.push(\"B2\");\r\n            data.push(determineFoodRequirementRatio(requirementData.b2, vitaminData.b2, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (vitaminData.b3 !== null) {\r\n            labels.push(\"B3\");\r\n            data.push(determineFoodRequirementRatio(requirementData.b3, vitaminData.b3, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (vitaminData.b5 !== null) {\r\n            labels.push(\"B5\");\r\n            data.push(determineFoodRequirementRatio(requirementData.b5, vitaminData.b5, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (vitaminData.b6 !== null) {\r\n            labels.push(\"B6\");\r\n            data.push(determineFoodRequirementRatio(requirementData.b6, vitaminData.b6, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (vitaminData.b9 !== null) {\r\n            labels.push(\"B9\");\r\n            data.push(determineFoodRequirementRatio(requirementData.b9, vitaminData.b9, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (vitaminData.b12 !== null) {\r\n            labels.push(\"B12\");\r\n            data.push(determineFoodRequirementRatio(requirementData.b12, vitaminData.b12, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (vitaminData.c !== null) {\r\n            labels.push(\"C\");\r\n            data.push(determineFoodRequirementRatio(requirementData.c, vitaminData.c, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (vitaminData.d !== null) {\r\n            labels.push(\"D\");\r\n            data.push(determineFoodRequirementRatio(requirementData.d, vitaminData.d, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (vitaminData.e !== null) {\r\n            labels.push(\"E\");\r\n            data.push(determineFoodRequirementRatio(requirementData.e, vitaminData.e, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (vitaminData.k !== null) {\r\n            labels.push(\"K\");\r\n            data.push(determineFoodRequirementRatio(requirementData.k, vitaminData.k, amount, applicationContext.userData));\r\n        }\r\n\r\n        const chartColor = props.directCompareConfig && props.directCompareConfig.barChartColor\r\n            ? props.directCompareConfig.barChartColor\r\n            : ChartConfig.color_chart_green_3\r\n\r\n        return {\r\n            labels: labels,\r\n            datasets: [{\r\n                label: applicationStrings.label_charttype_vitamins[lang],\r\n                data: data,\r\n                backgroundColor: chartColor,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n\r\n        }\r\n    }\r\n\r\n    const createMineralChartData = () => {\r\n        const mineralData = props.selectedFoodItem.foodItem.nutrientDataList[0].mineralData;\r\n        const requirementData = applicationContext.foodDataCorpus.dietaryRequirements?.mineralRequirementData;\r\n\r\n        if (!mineralData || !requirementData) {\r\n            return null\r\n        }\r\n\r\n        const amount = chartType_minerals === GRAM ? 100 : props.selectedFoodItem.portion.amount\r\n\r\n        const labels: Array<string> = [];\r\n        const data: Array<number> = [];\r\n\r\n        if (mineralData.calcium !== null) {\r\n            labels.push(applicationStrings.label_nutrient_min_calcium[lang]);\r\n            data.push(determineFoodRequirementRatio(requirementData.calcium, mineralData.calcium, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (mineralData.iron !== null) {\r\n            labels.push(applicationStrings.label_nutrient_min_iron[lang]);\r\n            data.push(determineFoodRequirementRatio(requirementData.iron, mineralData.iron, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (mineralData.magnesium !== null) {\r\n            labels.push(applicationStrings.label_nutrient_min_magnesium[lang]);\r\n            data.push(determineFoodRequirementRatio(requirementData.magnesium, mineralData.magnesium, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (mineralData.phosphorus !== null) {\r\n            labels.push(applicationStrings.label_nutrient_min_phosphorus[lang]);\r\n            data.push(determineFoodRequirementRatio(requirementData.phosphorus, mineralData.phosphorus, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (mineralData.potassium !== null) {\r\n            labels.push(applicationStrings.label_nutrient_min_potassimum[lang]);\r\n            data.push(determineFoodRequirementRatio(requirementData.potassium, mineralData.potassium, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (mineralData.sodium !== null) {\r\n            labels.push(applicationStrings.label_nutrient_min_sodium[lang]);\r\n            data.push(determineFoodRequirementRatio(requirementData.sodium, mineralData.sodium, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (mineralData.zinc !== null) {\r\n            labels.push(applicationStrings.label_nutrient_min_zinc[lang]);\r\n            data.push(determineFoodRequirementRatio(requirementData.zinc, mineralData.zinc, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (mineralData.copper !== null) {\r\n            labels.push(applicationStrings.label_nutrient_min_copper[lang]);\r\n            data.push(determineFoodRequirementRatio(requirementData.copper, mineralData.copper, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (mineralData.manganese !== null) {\r\n            labels.push(applicationStrings.label_nutrient_min_manganese[lang]);\r\n            data.push(determineFoodRequirementRatio(requirementData.manganese, mineralData.manganese, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (mineralData.selenium !== null) {\r\n            labels.push(applicationStrings.label_nutrient_min_selenium[lang]);\r\n            data.push(determineFoodRequirementRatio(requirementData.selenium, mineralData.selenium, amount, applicationContext.userData));\r\n        }\r\n\r\n        const chartColor = props.directCompareConfig && props.directCompareConfig.barChartColor\r\n            ? props.directCompareConfig.barChartColor\r\n            : ChartConfig.color_purple\r\n\r\n        const chartData = {\r\n            labels: labels,\r\n            datasets: [{\r\n                label: applicationStrings.label_charttype_minerals[lang],\r\n                data: data,\r\n                backgroundColor: chartColor,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n\r\n        }\r\n\r\n        return chartData;\r\n    }\r\n\r\n    const handleRadioButtonClick = (event: any): void => {\r\n        if (props.selectedSubChart === CHART_VITAMINS) {\r\n            setPortionType_vitamins(event.target.value)\r\n        } else if (props.selectedSubChart === CHART_MINERALS) {\r\n            setChartType_minerals(event.target.value)\r\n        }\r\n    }\r\n\r\n    const handleExpandCheckbox = () => {\r\n        if (props.selectedSubChart === CHART_VITAMINS) {\r\n            setExpand100_vitamins(!expand100_vitamins)\r\n        } else if (props.selectedSubChart === CHART_MINERALS) {\r\n            setExpand100_minerals(!expand100_minerals)\r\n        }\r\n    }\r\n\r\n    const getOptions = (title, maxValue) => {\r\n        const expand100 = props.selectedSubChart === CHART_VITAMINS ? expand100_vitamins : expand100_minerals;\r\n        const overallMaxValue = props.directCompareConfig && props.directCompareConfig.maxValue\r\n            ? props.directCompareConfig.maxValue\r\n            : maxValue\r\n\r\n        let maxYValue\r\n        if (!props.directCompareConfig) {\r\n            if (expand100 && overallMaxValue < 100) {\r\n                maxYValue = 100\r\n            }\r\n        } else {\r\n\r\n            if (props.directCompareConfig.maxValue) {\r\n                maxYValue = props.directCompareConfig.maxValue\r\n            }\r\n            if (expand100 === true) {\r\n                if (maxYValue === undefined) {\r\n                    if (overallMaxValue < 100) {\r\n                        maxYValue = 100\r\n                    }\r\n                } else if (maxYValue < 100) {\r\n                    maxYValue = 100\r\n                }\r\n            }\r\n        }\r\n\r\n        return getBarChartOptions(title, \"%\", maxYValue);\r\n    }\r\n\r\n\r\n    const renderChartConfigurationForm = () => {\r\n        const portionType = props.selectedSubChart === CHART_VITAMINS ? portionType_vitamins : chartType_minerals;\r\n        const expand100 = props.selectedSubChart === CHART_VITAMINS ? expand100_vitamins : expand100_minerals;\r\n\r\n        const barChartProps = {\r\n            selectedFoodItem: props.selectedFoodItem,\r\n            portionType: portionType,\r\n            expand100: expand100,\r\n            handleRadioButtonClick: handleRadioButtonClick,\r\n            handleExpandCheckboxClick: handleExpandCheckbox\r\n        }\r\n\r\n        return <BarChartConfigurationForm {...barChartProps} />\r\n    }\r\n\r\n\r\n    const data = props.selectedSubChart === CHART_VITAMINS ? createVitaminChartData() : createMineralChartData();\r\n    if (!data) {\r\n        return <div/>\r\n    }\r\n\r\n    const maxValue = (data && data.datasets && data.datasets.length > 0) ? Math.max(...data.datasets[0].data) : 0;\r\n\r\n    const title = props.selectedSubChart === CHART_VITAMINS ? applicationStrings.label_charttype_vitamins[lang] :\r\n        applicationStrings.label_charttype_minerals[lang];\r\n\r\n    const options = getOptions(title, maxValue);\r\n    const containerHeight = calculateChartContainerHeight(windowSize, props.directCompareUse)\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\" style={{height: containerHeight}} key={\"base chart container \" + containerHeight}>\r\n                <div className={\"col-12\"}>\r\n                    <Bar\r\n                        data={data}\r\n                        key={'chart ' + chartHeight}\r\n                        height={chartHeight}\r\n                        options={options}\r\n                        type={\"bar\"}\r\n                    />\r\n                </div>\r\n            </div>\r\n            {props.directCompareUse !== true &&\r\n            <div className=\"row chartFormLine\">\r\n                {renderChartConfigurationForm()}\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n\r\n}","import {useContext, useEffect, useState} from \"react\";\r\n\r\nimport * as ChartConfig from \"../../../config/ChartConfig\"\r\nimport {default_chart_height, direct_compare_chartheight} from \"../../../config/ChartConfig\"\r\nimport * as Constants from \"../../../config/Constants\"\r\nimport {CHART_TYPE_BAR, CHART_TYPE_PIE, LIPIDS_DATA_BASE} from \"../../../config/Constants\"\r\nimport {Bar, Pie} from \"react-chartjs-2\";\r\nimport {getBarChartOptions, getPieChartOptions} from \"../../../service/ChartConfigurationService\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {autoRound} from \"../../../service/calculation/MathService\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport {OmegaData} from \"../../../types/nutrientdata/FoodItem\";\r\nimport {initialChartConfigData, minimalOmegaRatio} from \"../../../config/ApplicationSetting\";\r\nimport {CustomLegend} from \"../../charthelper/CustomLegend\";\r\nimport {PieChartConfigurationForm} from \"../../charthelper/PieChartConfigurationForm\";\r\nimport {Form} from \"react-bootstrap\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {LipidsDataChartProps} from \"../../../types/livedata/ChartPropsData\";\r\nimport {\r\n    calculateChartContainerHeight,\r\n    calculateChartHeight\r\n} from \"../../../service/nutrientdata/ChartSizeCalculation\";\r\nimport {useWindowDimension} from \"../../../service/WindowDimension\";\r\n\r\nexport default function LipidsDataChart(props: LipidsDataChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n    const windowSize = useWindowDimension()\r\n\r\n    let chartConfig = props.directCompareConfig\r\n        ? props.directCompareConfig\r\n        : applicationContext\r\n            ? applicationContext.applicationData.foodDataPanel.chartConfigData.lipidsChartConfig\r\n            : initialChartConfigData.lipidsChartConfig\r\n\r\n    const [chartType, setChartType] = useState<string>(chartConfig.chartType)\r\n    const [showLegend, setShowLegend] = useState<boolean>(chartConfig.showLegend)\r\n    const [subChart, setSubChart] = useState<string>(chartConfig.subChart  ? chartConfig.subChart : LIPIDS_DATA_BASE)\r\n\r\n    const [chartHeight, setChartHeight] = useState<number>(calculateChartHeight(windowSize, props.directCompareUse))\r\n\r\n    useEffect(() => {\r\n        if (props.directCompareConfig) {\r\n            setChartType(chartConfig.chartType)\r\n            setShowLegend(chartConfig.showLegend)\r\n            setSubChart(chartConfig.subChart ? chartConfig.subChart : LIPIDS_DATA_BASE)\r\n        }\r\n\r\n        setChartHeight(calculateChartHeight(windowSize, props.directCompareUse))\r\n        updateChartConfig()\r\n    }, [chartType, showLegend, subChart, chartHeight, windowSize, props])\r\n\r\n    const updateChartConfig = () => {\r\n        if (applicationContext && !props.directCompareConfig) {\r\n            const currentConfig = applicationContext.applicationData.foodDataPanel.chartConfigData.lipidsChartConfig\r\n            if (chartType !== currentConfig.chartType\r\n                || subChart !== currentConfig.subChart\r\n                || showLegend !== currentConfig.showLegend) {\r\n                const newChartConfig = {\r\n                    ...applicationContext.applicationData.foodDataPanel.chartConfigData,\r\n                    lipidsChartConfig: {\r\n                        chartType: chartType,\r\n                        showLegend: showLegend,\r\n                        subChart: subChart\r\n                    }\r\n                }\r\n                applicationContext.applicationData.foodDataPanel.updateFoodDataPanelChartConfig(newChartConfig)\r\n            }\r\n        }\r\n    }\r\n\r\n    const lipidsData = props.selectedFoodItem.foodItem.nutrientDataList[0].lipidData;\r\n    const totalLipidsAmount = props.selectedFoodItem.foodItem.nutrientDataList[0].baseData.lipids;\r\n\r\n    const handleChartSelectionChange = (event: any) => {\r\n        if (props.directCompareConfig && props.directCompareConfig.handleSubchartChange) {\r\n            props.directCompareConfig.handleSubchartChange(event)\r\n        } else {\r\n            setSubChart(event.target.value)\r\n        }\r\n    }\r\n\r\n    const createTotalChartData = (totalAmount: number, saturated: number, unsaturatedMono: number, unsaturatedPoly: number): any => {\r\n        const valueSaturated = autoRound(lipidsData.saturated!! / totalAmount * 100);\r\n        const valueUnsaturatedMono = autoRound(lipidsData.unsaturatedMono!! / totalAmount * 100);\r\n        const valueUnsaturatedPoly = autoRound(lipidsData.unsaturatedPoly!! / totalAmount * 100);\r\n\r\n        let valueRemainder = totalAmount - (saturated + unsaturatedMono + unsaturatedPoly);\r\n        valueRemainder = autoRound(valueRemainder / totalAmount * 100);\r\n\r\n        if (valueRemainder < 0) {\r\n            console.error(\"Fatty acids sum is erroneous. Food-Obj: \", props.selectedFoodItem);\r\n            valueRemainder = 0;\r\n        }\r\n\r\n        return {\r\n            labels: [applicationStrings.label_nutrient_lipids_saturated[lang],\r\n                applicationStrings.label_nutrient_lipids_unsaturated_mono[lang],\r\n                applicationStrings.label_nutrient_lipids_unsaturated_poly[lang],\r\n                applicationStrings.label_nutrient_remainder[lang]],\r\n            datasets: [{\r\n                data: [valueSaturated,\r\n                    valueUnsaturatedMono,\r\n                    valueUnsaturatedPoly,\r\n                    valueRemainder],\r\n                backgroundColor: [\r\n                    ChartConfig.color_lipids_saturated,\r\n                    ChartConfig.color_lipids_unsaturated_mono,\r\n                    ChartConfig.color_lipids_unsaturated_poly,\r\n                    ChartConfig.color_lipids_misc,\r\n                ],\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        };\r\n    }\r\n\r\n\r\n    const createOmegaChartData = (totalAmount: number, omegaData: OmegaData) => {\r\n        if (omegaData.omega3 === null || omegaData.omega6 === null || omegaData.uncertain === null) {\r\n            return null;\r\n        }\r\n\r\n        const valueOmega3 = autoRound(omegaData.omega3 / totalAmount * 100);\r\n        const valueOmega6 = autoRound(omegaData.omega6 / totalAmount * 100);\r\n        const valueUncertain = autoRound(omegaData.uncertain / totalAmount * 100);\r\n\r\n        return {\r\n            labels: [applicationStrings.label_nutrient_omega3[lang],\r\n                applicationStrings.label_nutrient_omega6[lang],\r\n                applicationStrings.label_unknown[lang]],\r\n            datasets: [{\r\n                data: [valueOmega3,\r\n                    valueOmega6,\r\n                    valueUncertain],\r\n                backgroundColor: [\r\n                    ChartConfig.color_lipids_omega3,\r\n                    ChartConfig.color_lipids_omega6,\r\n                    ChartConfig.color_lipids_misc,\r\n                ],\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        };\r\n\r\n    }\r\n\r\n\r\n    const getLegendBaseChart = () => {\r\n        return [\r\n            {\r\n                item: applicationStrings.label_nutrient_lipids_saturated[lang],\r\n                color: ChartConfig.color_lipids_saturated,\r\n            },\r\n            {\r\n                item: applicationStrings.label_nutrient_lipids_unsaturated_mono[lang],\r\n                color: ChartConfig.color_lipids_unsaturated_mono\r\n            },\r\n            {\r\n                item: applicationStrings.label_nutrient_lipids_unsaturated_poly[lang],\r\n                color: ChartConfig.color_lipids_unsaturated_poly,\r\n            },\r\n            {\r\n                item: applicationStrings.label_nutrient_remainder[lang],\r\n                color: ChartConfig.color_lipids_misc\r\n            },\r\n        ];\r\n    }\r\n\r\n\r\n    const getLegendOmegaChart = () => {\r\n        return [\r\n            {\r\n                item: applicationStrings.label_nutrient_omega3[lang],\r\n                color: ChartConfig.color_lipids_omega3,\r\n            },\r\n            {\r\n                item: applicationStrings.label_nutrient_omega6[lang],\r\n                color: ChartConfig.color_lipids_omega6\r\n            },\r\n            {\r\n                item: applicationStrings.label_unknown[lang],\r\n                color: ChartConfig.color_lipids_misc,\r\n            },\r\n        ];\r\n    }\r\n\r\n\r\n    const handleRadioButtonClick = (event: any) => {\r\n        setChartType(event.target.value)\r\n    }\r\n\r\n    const handleLegendCheckbox = () => {\r\n        setShowLegend(!showLegend)\r\n    }\r\n\r\n    const lipidData = props.selectedFoodItem.foodItem.nutrientDataList[0].lipidData;\r\n\r\n    let omegaDataAvailabe = false\r\n    if (lipidData.omegaData && lipidData.omegaData.uncertainRatio && lipidData.omegaData.uncertainRatio <= minimalOmegaRatio) {\r\n        omegaDataAvailabe = true\r\n    }\r\n\r\n    const chartColType = chartType === CHART_TYPE_PIE ? \"col-6\" : \"col-8\";\r\n\r\n    const getOptions = () => {\r\n        let title;\r\n\r\n        if (subChart === Constants.LIPIDS_DATA_BASE) {\r\n            title = applicationStrings.label_charttype_lipids_base_title[lang]\r\n        } else if (subChart === Constants.LIPIDS_DATA_OMEGA) {\r\n            title = applicationStrings.label_charttype_lipids_omega_title[lang];\r\n        }\r\n\r\n        if (chartType === CHART_TYPE_BAR) {\r\n            return getBarChartOptions(title, \"%\");\r\n        } else {\r\n            return getPieChartOptions(title, \"%\");\r\n        }\r\n    }\r\n\r\n    const renderChartSelector = () => {\r\n        return (\r\n            <Form>\r\n                <Form.Label>\r\n                    <b>{applicationStrings.label_datatype[languageContext.language]}:</b>\r\n                </Form.Label>\r\n                <Form.Check inline={false}\r\n                            label={applicationStrings.label_charttype_lipids_base[lang]}\r\n                            type=\"radio\"\r\n                            value={Constants.LIPIDS_DATA_BASE}\r\n                            checked={subChart === Constants.LIPIDS_DATA_BASE}\r\n                            onChange={handleChartSelectionChange}>\r\n                </Form.Check>\r\n                <Form.Check inline={false}\r\n                            label={applicationStrings.label_charttype_lipids_omega[lang]}\r\n                            type=\"radio\"\r\n                            value={Constants.LIPIDS_DATA_OMEGA}\r\n                            checked={subChart === Constants.LIPIDS_DATA_OMEGA}\r\n                            onChange={handleChartSelectionChange}>\r\n                </Form.Check>\r\n            </Form>\r\n        )\r\n    }\r\n\r\n    const renderChart = (lipidsType) => {\r\n        const {saturated, unsaturatedMono, unsaturatedPoly, omegaData} = lipidData\r\n\r\n        let data\r\n        if (lipidsType === Constants.LIPIDS_DATA_BASE) {\r\n            if (!saturated || !unsaturatedMono || !unsaturatedPoly) {\r\n                return <div style={{height: default_chart_height}}>{applicationStrings.label_noData[lang]}</div>\r\n            }\r\n            data = createTotalChartData(totalLipidsAmount, saturated, unsaturatedMono, unsaturatedPoly);\r\n        } else if (lipidsType === Constants.LIPIDS_DATA_OMEGA) {\r\n            if (omegaData) {\r\n                data = createOmegaChartData(totalLipidsAmount, omegaData)\r\n            }\r\n\r\n            if (!omegaData) {\r\n                return <div style={{height: default_chart_height}}>{applicationStrings.label_noData[lang]}</div>\r\n            }\r\n        }\r\n\r\n        if (!data) {\r\n            return <div style={{height: default_chart_height}}>{applicationStrings.label_noData[lang]}</div>\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {chartType === CHART_TYPE_PIE &&\r\n                <Pie data={data}\r\n                     key={'chart ' + chartHeight}\r\n                     height={chartHeight}\r\n                     options={getOptions()}\r\n                     type=\"pie\"\r\n                />\r\n                }\r\n                {chartType === CHART_TYPE_BAR &&\r\n                <Bar data={data}\r\n                     key={'chart ' + chartHeight}\r\n                     height={chartHeight}\r\n                     options={getOptions()}\r\n                     type=\"bar\"\r\n                />\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    //const height = props.directCompareUse === true ? direct_compare_chartheight : default_chart_height\r\n    const containerHeight = calculateChartContainerHeight(windowSize, props.directCompareUse)\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\" style={{height: containerHeight}} key={\"lipids container \" + containerHeight}>\r\n                <div className=\"col-3 text-align-center\">\r\n                    {renderChartSelector()}\r\n                </div>\r\n                <div className={chartColType}>\r\n                    {subChart === Constants.LIPIDS_DATA_BASE &&\r\n                    renderChart(Constants.LIPIDS_DATA_BASE)\r\n                    }\r\n                    {omegaDataAvailabe && subChart === Constants.LIPIDS_DATA_OMEGA &&\r\n                    renderChart(Constants.LIPIDS_DATA_OMEGA)\r\n                    }\r\n                    {!omegaDataAvailabe && subChart === Constants.LIPIDS_DATA_OMEGA &&\r\n                    <div style={{height: default_chart_height}}>{applicationStrings.label_noData[lang]}</div>\r\n                    }\r\n                </div>\r\n\r\n                {showLegend && chartType === CHART_TYPE_PIE &&\r\n                <div className=\"col-3\">\r\n                    {subChart === Constants.LIPIDS_DATA_BASE &&\r\n                    <CustomLegend legendData={getLegendBaseChart()}/>\r\n                    }\r\n                    {subChart === Constants.LIPIDS_DATA_OMEGA &&\r\n                    <CustomLegend legendData={getLegendOmegaChart()}/>\r\n                    }\r\n                </div>\r\n                }\r\n            </div>\r\n            <div className=\"row chartFormLine\">\r\n                {!props.directCompareConfig &&\r\n                <PieChartConfigurationForm chartType={chartType}\r\n                                           showLegend={showLegend}\r\n                                           handleRadioButtonClick={handleRadioButtonClick}\r\n                                           handleLegendCheckboxClick={handleLegendCheckbox}/>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}","import {useContext, useEffect, useState} from \"react\";\r\nimport {AMOUNT_PORTION} from \"../../../config/Constants\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport {determineProteinRequirementRatio} from \"../../../service/calculation/DietaryRequirementService\";\r\nimport * as ChartConfig from \"../../../config/ChartConfig\"\r\nimport {getBarChartOptions} from \"../../../service/ChartConfigurationService\"\r\nimport {Bar} from \"react-chartjs-2\";\r\nimport {initialChartConfigData} from \"../../../config/ApplicationSetting\";\r\nimport {BarChartConfigurationForm} from \"../../charthelper/BarChartConfigurationForm\";\r\nimport {ProteinDataChartProps} from \"../../../types/livedata/ChartPropsData\";\r\nimport {useWindowDimension} from \"../../../service/WindowDimension\";\r\nimport {calculateChartContainerHeight, calculateChartHeight} from \"../../../service/nutrientdata/ChartSizeCalculation\";\r\n\r\nexport default function ProteinDataChart(props: ProteinDataChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n    const windowSize = useWindowDimension()\r\n\r\n    const chartConfig = props.directCompareConfig\r\n        ? props.directCompareConfig\r\n        : applicationContext\r\n            ? applicationContext.applicationData.foodDataPanel.chartConfigData.proteinChartConfig\r\n            : initialChartConfigData.proteinChartConfig\r\n\r\n    const [portionType, setPortionType] = useState<string>(chartConfig.portionType)\r\n    const [expand100, setExpand100] = useState<boolean>(chartConfig.expand100)\r\n    const [chartHeight, setChartHeight] = useState<number>(calculateChartHeight(windowSize, props.directCompareUse))\r\n\r\n    useEffect(() => {\r\n        if (props.directCompareConfig) {\r\n            setExpand100(chartConfig.expand100)\r\n            setPortionType(chartConfig.portionType)\r\n        }\r\n\r\n        setChartHeight(calculateChartHeight(windowSize, props.directCompareUse))\r\n        updateChartConfig()\r\n    }, [portionType, expand100, chartHeight, props])\r\n\r\n    const updateChartConfig = () => {\r\n        if (applicationContext && !props.directCompareConfig) {\r\n            const currentSetting = applicationContext.applicationData.foodDataPanel.chartConfigData.proteinChartConfig\r\n            if (expand100 !== currentSetting.expand100 || portionType !== currentSetting.portionType) {\r\n                const newChartConfig = {\r\n                    ...applicationContext.applicationData.foodDataPanel.chartConfigData,\r\n                    proteinChartConfig: {\r\n                        portionType: portionType,\r\n                        expand100: expand100\r\n                    }\r\n                }\r\n                applicationContext.applicationData.foodDataPanel.updateFoodDataPanelChartConfig(newChartConfig)\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    const createProteinChartData = () => {\r\n        const proteinData = props.selectedFoodItem.foodItem.nutrientDataList[0].proteinData;\r\n        if (!proteinData || !applicationContext) {\r\n            return null;\r\n        }\r\n\r\n        const requirementData = applicationContext.foodDataCorpus.dietaryRequirements?.proteinRequirementData;\r\n        if (!requirementData) {\r\n            return null;\r\n        }\r\n\r\n        const userData = applicationContext.userData;\r\n        const amount = portionType === AMOUNT_PORTION ? props.selectedFoodItem.portion.amount : 100;\r\n\r\n        const labels: Array<string> = [];\r\n        const data: Array<number> = [];\r\n\r\n        if (proteinData.histidine !== null) {\r\n            labels.push(applicationStrings.label_nutrient_proteins_histidine[lang]);\r\n            data.push(determineProteinRequirementRatio(\r\n                requirementData.histidine, proteinData.histidine, amount, userData)\r\n            )\r\n        }\r\n\r\n        if (proteinData.isoleucine !== null) {\r\n            labels.push(applicationStrings.label_nutrient_proteins_isoleucine[lang]);\r\n            data.push(determineProteinRequirementRatio(\r\n                requirementData.isoleucine, proteinData.isoleucine, amount, userData)\r\n            )\r\n        }\r\n\r\n        if (proteinData.leucine !== null) {\r\n            labels.push(applicationStrings.label_nutrient_proteins_leucine[lang]);\r\n            data.push(determineProteinRequirementRatio(\r\n                requirementData.leucine, proteinData.leucine, amount, userData)\r\n            )\r\n        }\r\n\r\n        if (proteinData.lysine !== null) {\r\n            labels.push(applicationStrings.label_nutrient_proteins_lysine[lang]);\r\n            data.push(determineProteinRequirementRatio(\r\n                requirementData.lysine, proteinData.lysine, amount, userData)\r\n            )\r\n        }\r\n\r\n        if (proteinData.methionine !== null) {\r\n            labels.push(applicationStrings.label_nutrient_proteins_methionine[lang]);\r\n            data.push(determineProteinRequirementRatio(\r\n                requirementData.methionine, proteinData.methionine, amount, userData)\r\n            )\r\n        }\r\n\r\n        if (proteinData.phenylalanine !== null) {\r\n            labels.push(applicationStrings.label_nutrient_proteins_phenylalanine[lang]);\r\n            data.push(determineProteinRequirementRatio(\r\n                requirementData.phenylalanine, proteinData.phenylalanine, amount, userData)\r\n            )\r\n        }\r\n\r\n        if (proteinData.threonine !== null) {\r\n            labels.push(applicationStrings.label_nutrient_proteins_threonine[lang]);\r\n            data.push(determineProteinRequirementRatio(\r\n                requirementData.threonine, proteinData.threonine, amount, userData)\r\n            )\r\n        }\r\n\r\n        if (proteinData.tryptophan !== null) {\r\n            labels.push(applicationStrings.label_nutrient_proteins_tryptophan[lang]);\r\n            data.push(determineProteinRequirementRatio(\r\n                requirementData.tryptophan, proteinData.tryptophan, amount, userData)\r\n            )\r\n        }\r\n\r\n        if (proteinData.valine !== null) {\r\n            labels.push(applicationStrings.label_nutrient_proteins_valine[lang]);\r\n            data.push(determineProteinRequirementRatio(\r\n                requirementData.valine, proteinData.valine, amount, userData)\r\n            )\r\n        }\r\n\r\n        if (proteinData.cystine !== null) {\r\n            labels.push(applicationStrings.label_nutrient_proteins_cystine[lang]);\r\n            data.push(determineProteinRequirementRatio(\r\n                requirementData.cystine, proteinData.cystine, amount, userData)\r\n            )\r\n        }\r\n\r\n        const chartColor = props.directCompareConfig && props.directCompareConfig.barChartColor\r\n            ? props.directCompareConfig.barChartColor\r\n            : ChartConfig.color_proteins\r\n\r\n        return {\r\n            labels: labels,\r\n            datasets: [{\r\n                label: applicationStrings.label_charttype_proteins[lang],\r\n                data: data,\r\n                backgroundColor: chartColor,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        }\r\n    }\r\n\r\n\r\n    const handleRadioButtonClick = (event: any) => {\r\n        setPortionType(event.target.value)\r\n    }\r\n\r\n    const handleExpandCheckbox = () => {\r\n        setExpand100(!expand100)\r\n    }\r\n\r\n    const getOptions = (title, maxValue) => {\r\n        const overallMaxValue = props.directCompareConfig && props.directCompareConfig.maxValue\r\n            ? props.directCompareConfig.maxValue\r\n            : maxValue\r\n\r\n        let maxYValue\r\n        if (!props.directCompareConfig) {\r\n            if (expand100 && overallMaxValue < 100) {\r\n                maxYValue = 100\r\n            }\r\n        } else {\r\n            if (props.directCompareConfig.maxValue) {\r\n                maxYValue = props.directCompareConfig.maxValue\r\n            }\r\n            if (expand100 === true && (maxYValue === undefined || maxYValue < 100)) {\r\n                maxYValue = 100\r\n            }\r\n        }\r\n\r\n        return getBarChartOptions(title, \"%\", maxYValue);\r\n    }\r\n\r\n    const renderChartConfigurationForm = () => {\r\n        const barChartProps = {\r\n            selectedFoodItem: props.selectedFoodItem,\r\n            portionType: portionType,\r\n            expand100: expand100,\r\n            handleRadioButtonClick: handleRadioButtonClick,\r\n            handleExpandCheckboxClick: handleExpandCheckbox\r\n        }\r\n\r\n        return <BarChartConfigurationForm {...barChartProps} />\r\n    }\r\n\r\n    const data = createProteinChartData();\r\n    if (!data) {\r\n        return <div/>\r\n    }\r\n\r\n    const maxValue = (data && data.datasets && data.datasets.length > 0) ? Math.max(...data.datasets[0].data) : 0;\r\n    const options = getOptions(applicationStrings.label_charttype_proteins[lang], maxValue);\r\n    const dataExists = data.datasets && data.datasets[0].data && data.datasets[0].data.length > 0\r\n\r\n    const containerHeight = calculateChartContainerHeight(windowSize,  props.directCompareUse)\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\" style={{height: containerHeight}} key={\"base chart container \" + containerHeight}>\r\n                <div className=\"col-12\">\r\n                    {dataExists &&\r\n                    <Bar\r\n                        data={data}\r\n                        key={'chart ' + chartHeight}\r\n                        height={chartHeight}\r\n                        options={options}\r\n                        type={\"bar\"}\r\n                    />\r\n                    }\r\n                    {!dataExists &&\r\n                    <p className=\"text-center\" style={{height: ChartConfig.default_chart_height}}>\r\n                        {applicationStrings.label_noData[lang]}\r\n                    </p>\r\n                    }\r\n                </div>\r\n            </div>\r\n            {props.directCompareUse !== true &&\r\n            <div className=\"row chartFormLine\">\r\n                {renderChartConfigurationForm()}\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n\r\n}","import {useContext, useEffect, useState} from \"react\";\r\nimport * as ChartConfig from \"../../../config/ChartConfig\"\r\nimport * as Constants from \"../../../config/Constants\"\r\nimport {\r\n    CARBS_DATA_BASE,\r\n    CARBS_DATA_DETAIL,\r\n    CHART_TYPE_BAR,\r\n    CHART_TYPE_PIE,\r\n    LIPIDS_DATA_OMEGA\r\n} from \"../../../config/Constants\";\r\nimport {Bar, Pie} from \"react-chartjs-2\";\r\nimport {getBarChartOptions, getPieChartOptions} from \"../../../service/ChartConfigurationService\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {autoRound} from \"../../../service/calculation/MathService\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport {Form} from \"react-bootstrap\";\r\nimport {CustomLegend} from \"../../charthelper/CustomLegend\";\r\nimport {PieChartConfigurationForm} from \"../../charthelper/PieChartConfigurationForm\";\r\nimport {initialChartConfigData} from \"../../../config/ApplicationSetting\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {CarbDataChartProps} from \"../../../types/livedata/ChartPropsData\";\r\nimport {GeneralChartConfigDirectCompareWithSubCharts} from \"../../../types/livedata/ChartConfigData\";\r\nimport {default_chart_height, direct_compare_chartheight} from \"../../../config/ChartConfig\";\r\nimport {useWindowDimension} from \"../../../service/WindowDimension\";\r\nimport {calculateChartContainerHeight, calculateChartHeight} from \"../../../service/nutrientdata/ChartSizeCalculation\";\r\n\r\nexport default function CarbsDataChart(props: CarbDataChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n    const windowSize = useWindowDimension()\r\n\r\n    let chartConfig = props.directCompareConfig\r\n        ? props.directCompareConfig\r\n        : applicationContext\r\n            ? applicationContext.applicationData.foodDataPanel.chartConfigData.carbsChartConfig\r\n            : initialChartConfigData.carbsChartConfig\r\n\r\n    const [chartType, setChartType] = useState<string>(chartConfig.chartType)\r\n    const [showLegend, setShowLegend] = useState<boolean>(chartConfig.showLegend)\r\n    const [subChart, setSubChart] = useState<string>(chartConfig.subChart ? chartConfig.subChart : CARBS_DATA_BASE)\r\n    const [chartHeight, setChartHeight] = useState<number>(calculateChartHeight(windowSize, props.directCompareUse))\r\n\r\n    useEffect(() => {\r\n        if (props.directCompareConfig) {\r\n            setChartType(chartConfig.chartType)\r\n            setShowLegend(chartConfig.showLegend)\r\n            setSubChart(chartConfig.subChart ? chartConfig.subChart : CARBS_DATA_BASE)\r\n        }\r\n\r\n        setChartHeight(calculateChartHeight(windowSize, props.directCompareUse))\r\n        updateChartConfig()\r\n    }, [chartType, showLegend, subChart, chartHeight, props])\r\n\r\n    const updateChartConfig = () => {\r\n        if (applicationContext && !props.directCompareConfig) {\r\n            const currentConfig = applicationContext.applicationData.foodDataPanel.chartConfigData.carbsChartConfig\r\n            if (chartType !== currentConfig.chartType\r\n                || subChart !== currentConfig.subChart\r\n                || showLegend !== currentConfig.showLegend) {\r\n                const newChartConfig = {\r\n                    ...applicationContext.applicationData.foodDataPanel.chartConfigData,\r\n                    carbsChartConfig: {\r\n                        chartType: chartType,\r\n                        showLegend: showLegend,\r\n                        subChart: subChart\r\n                    }\r\n                }\r\n                applicationContext.applicationData.foodDataPanel.updateFoodDataPanelChartConfig(newChartConfig)\r\n            }\r\n        }\r\n    }\r\n\r\n    const carbohydrateData = props.selectedFoodItem.foodItem.nutrientDataList[0].carbohydrateData;\r\n\r\n    const handleChartSelectionChange = (event: any) => {\r\n        if (applicationContext && props.directCompareConfig) {\r\n            const currentSettings = applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart\r\n\r\n            const carbsChartConfig: GeneralChartConfigDirectCompareWithSubCharts = props.directCompareConfig.chartIndex === 1\r\n                ? {\r\n                    chartType: chartType,\r\n                    showLegend: showLegend,\r\n                    subChart1: event.target.value,\r\n                    subChart2: currentSettings.carbsChartConfig.subChart2\r\n                }\r\n                : {\r\n                    chartType: chartType,\r\n                    showLegend: showLegend,\r\n                    subChart1: currentSettings.carbsChartConfig.subChart1,\r\n                    subChart2: event.target.value\r\n                }\r\n\r\n            const newChartConfig = {\r\n                ...currentSettings,\r\n                carbsChartConfig: carbsChartConfig\r\n            }\r\n            applicationContext.applicationData.directCompareDataPanel.updateDirectCompareChartConfig(newChartConfig)\r\n        } else {\r\n            setSubChart(event.target.value)\r\n        }\r\n    }\r\n\r\n    const createBasicChartData = () => {\r\n        const totalCarbsAmount = props.selectedFoodItem.foodItem.nutrientDataList[0].baseData.carbohydrates;\r\n        const dietaryFibers = props.selectedFoodItem.foodItem.nutrientDataList[0].baseData.dietaryFibers;\r\n        const sugar = carbohydrateData.sugar\r\n\r\n        if (!sugar || !dietaryFibers) {\r\n            return null\r\n        }\r\n\r\n        const valueSugar = autoRound(sugar / totalCarbsAmount * 100);\r\n        const valueDietaryFibers = autoRound(dietaryFibers / totalCarbsAmount * 100);\r\n\r\n        if (totalCarbsAmount === 0) {\r\n            return null;\r\n        }\r\n\r\n        let valueMisc = totalCarbsAmount - (sugar + dietaryFibers);\r\n        valueMisc = autoRound(valueMisc / totalCarbsAmount * 100);\r\n\r\n        if (valueMisc < 0) {\r\n            console.warn(\"Carbo hydrate value is erroneous. Food-Obj: \", props.selectedFoodItem);\r\n            valueMisc = 0;\r\n        }\r\n\r\n        return {\r\n            labels: [applicationStrings.label_nutrient_sugar[lang],\r\n                applicationStrings.label_nutrient_dietaryFibers[lang],\r\n                applicationStrings.label_nutrient_remainder[lang]\r\n            ],\r\n            datasets: [{\r\n                data: [valueSugar,\r\n                    valueDietaryFibers,\r\n                    valueMisc],\r\n                backgroundColor: [\r\n                    ChartConfig.color_chart_green_3,\r\n                    ChartConfig.color_chart_green_2,\r\n                    ChartConfig.color_chart_misc,\r\n                ],\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        }\r\n    }\r\n\r\n\r\n    const createDetailChartData = () => {\r\n        const carbohydrateData = props.selectedFoodItem.foodItem.nutrientDataList[0].carbohydrateData;\r\n\r\n        const totalAmount = props.selectedFoodItem.foodItem.nutrientDataList[0].baseData.carbohydrates;\r\n\r\n        const valueGlucose = carbohydrateData.glucose !== null ? autoRound(carbohydrateData.glucose / totalAmount * 100) : null;\r\n        const valueFructose = carbohydrateData.fructose !== null ? autoRound(carbohydrateData.fructose / totalAmount * 100) : null;\r\n        const valueGalactose = carbohydrateData.galactose !== null ? autoRound(carbohydrateData.galactose / totalAmount * 100) : null;\r\n        const valueSucrose = carbohydrateData.sucrose !== null ? autoRound(carbohydrateData.sucrose / totalAmount * 100) : null;\r\n        const valueLactose = carbohydrateData.lactose !== null ? autoRound(carbohydrateData.lactose / totalAmount * 100) : null;\r\n        const valueMaltose = carbohydrateData.maltose !== null ? autoRound(carbohydrateData.maltose / totalAmount * 100) : null;\r\n        const valueStarch = carbohydrateData.starch !== null ? autoRound(carbohydrateData.starch / totalAmount * 100) : null;\r\n\r\n        if (!valueMaltose && !valueSucrose && !valueLactose && !valueGlucose && !valueFructose && !valueGalactose) {\r\n            return null\r\n        }\r\n\r\n        let valueMisc = 100\r\n        const labels: Array<String> = []\r\n        const values: Array<number> = []\r\n\r\n        if (valueGlucose) {\r\n            valueMisc -= valueGlucose\r\n            labels.push(applicationStrings.label_nutrient_carbohydrates_glucose[lang])\r\n            values.push(valueGlucose)\r\n        }\r\n        if (valueFructose) {\r\n            valueMisc -= valueFructose\r\n            labels.push(applicationStrings.label_nutrient_carbohydrates_fructose[lang])\r\n            values.push(valueFructose)\r\n        }\r\n        if (valueGalactose) {\r\n            valueMisc -= valueGalactose\r\n            labels.push(applicationStrings.label_nutrient_carbohydrates_galactose[lang])\r\n            values.push(valueGalactose)\r\n        }\r\n        if (valueSucrose) {\r\n            valueMisc -= valueSucrose\r\n            labels.push(applicationStrings.label_nutrient_carbohydrates_sucrose[lang])\r\n            values.push(valueSucrose)\r\n        }\r\n        if (valueLactose) {\r\n            valueMisc -= valueLactose\r\n            labels.push(applicationStrings.label_nutrient_carbohydrates_lactose[lang])\r\n            values.push(valueLactose)\r\n        }\r\n        if (valueMaltose) {\r\n            valueMisc -= valueMaltose\r\n            labels.push(applicationStrings.label_nutrient_carbohydrates_maltose[lang])\r\n            values.push(valueMaltose)\r\n        }\r\n        if (valueStarch) {\r\n            valueMisc -= valueStarch\r\n            labels.push(applicationStrings.label_nutrient_carbohydrates_starch[lang])\r\n            values.push(valueStarch)\r\n        }\r\n\r\n        valueMisc = autoRound(valueMisc);\r\n        labels.push(applicationStrings.label_nutrient_remainder[lang])\r\n        values.push(valueMisc)\r\n\r\n        return {\r\n            labels: labels,\r\n            datasets: [{\r\n                data: values,\r\n                backgroundColor: [\r\n                    ChartConfig.color_chart_green_1,\r\n                    ChartConfig.color_chart_green_2,\r\n                    ChartConfig.color_chart_green_3,\r\n                    ChartConfig.color_chart_yellow_1,\r\n                    ChartConfig.color_chart_yellow_2,\r\n                    ChartConfig.color_chart_yellow_3,\r\n                    ChartConfig.color_chart_orange,\r\n                    ChartConfig.color_chart_misc\r\n                ],\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        };\r\n    }\r\n\r\n\r\n    const getLegendBaseChart = (labels: Array<String>) => {\r\n        const legendData: Array<any> = []\r\n\r\n        if (labels.includes(applicationStrings.label_nutrient_sugar[lang])) {\r\n            legendData.push({\r\n                item: applicationStrings.label_nutrient_sugar[lang],\r\n                color: ChartConfig.color_chart_green_3,\r\n            })\r\n        }\r\n\r\n        if (labels.includes(applicationStrings.label_nutrient_dietaryFibers[lang])) {\r\n            legendData.push({\r\n                item: applicationStrings.label_nutrient_dietaryFibers[lang],\r\n                color: ChartConfig.color_chart_green_2,\r\n            })\r\n        }\r\n\r\n        if (labels.includes(applicationStrings.label_nutrient_remainder[lang])) {\r\n            legendData.push({\r\n                item: applicationStrings.label_nutrient_remainder[lang],\r\n                color: ChartConfig.color_chart_misc,\r\n            })\r\n        }\r\n\r\n        return legendData;\r\n    }\r\n\r\n\r\n    const getLegendDetailsChart = (labels: Array<String>) => {\r\n        const legendData: Array<any> = []\r\n\r\n        if (labels.includes(applicationStrings.label_nutrient_carbohydrates_glucose[lang])) {\r\n            legendData.push({\r\n                item: applicationStrings.label_nutrient_carbohydrates_glucose[lang],\r\n                color: ChartConfig.color_chart_green_1,\r\n            })\r\n        }\r\n\r\n        if (labels.includes(applicationStrings.label_nutrient_carbohydrates_fructose[lang])) {\r\n            legendData.push({\r\n                item: applicationStrings.label_nutrient_carbohydrates_fructose[lang],\r\n                color: ChartConfig.color_chart_green_2,\r\n            })\r\n        }\r\n\r\n        if (labels.includes(applicationStrings.label_nutrient_carbohydrates_galactose[lang])) {\r\n            legendData.push({\r\n                item: applicationStrings.label_nutrient_carbohydrates_galactose[lang],\r\n                color: ChartConfig.color_chart_green_3,\r\n            })\r\n        }\r\n\r\n        if (labels.includes(applicationStrings.label_nutrient_carbohydrates_sucrose[lang])) {\r\n            legendData.push({\r\n                item: applicationStrings.label_nutrient_carbohydrates_sucrose[lang],\r\n                color: ChartConfig.color_chart_yellow_1,\r\n            })\r\n        }\r\n\r\n        if (labels.includes(applicationStrings.label_nutrient_carbohydrates_lactose[lang])) {\r\n            legendData.push({\r\n                item: applicationStrings.label_nutrient_carbohydrates_lactose[lang],\r\n                color: ChartConfig.color_chart_yellow_2,\r\n            })\r\n        }\r\n\r\n        if (labels.includes(applicationStrings.label_nutrient_carbohydrates_maltose[lang])) {\r\n            legendData.push({\r\n                item: applicationStrings.label_nutrient_carbohydrates_maltose[lang],\r\n                color: ChartConfig.color_chart_yellow_3,\r\n            })\r\n        }\r\n\r\n        if (labels.includes(applicationStrings.label_nutrient_carbohydrates_starch[lang])) {\r\n            legendData.push({\r\n                item: applicationStrings.label_nutrient_carbohydrates_starch[lang],\r\n                color: ChartConfig.color_chart_orange,\r\n            })\r\n        }\r\n\r\n        if (labels.includes(applicationStrings.label_nutrient_remainder[lang])) {\r\n            legendData.push({\r\n                item: applicationStrings.label_nutrient_remainder[lang],\r\n                color: ChartConfig.color_chart_misc,\r\n            })\r\n        }\r\n\r\n        return legendData;\r\n    }\r\n\r\n\r\n    const handleRadioButtonClick = (event: any) => {\r\n        setChartType(event.target.value)\r\n    }\r\n\r\n    const handleLegendCheckbox = () => {\r\n        setShowLegend(!showLegend)\r\n    }\r\n\r\n    const getOptions = () => {\r\n        let title;\r\n\r\n        if (subChart === Constants.CARBS_DATA_BASE) {\r\n            title = applicationStrings.label_charttype_carbs_base[lang];\r\n        } else if (subChart === Constants.CARBS_DATA_DETAIL) {\r\n            title = applicationStrings.label_charttype_carbs_detail[lang];\r\n        }\r\n\r\n        if (chartType === CHART_TYPE_BAR) {\r\n            return getBarChartOptions(title, \"%\");\r\n        } else {\r\n            return getPieChartOptions(title, \"%\");\r\n        }\r\n    }\r\n\r\n\r\n    const renderChartSelector = () => {\r\n        return (\r\n            <Form>\r\n                <Form.Label>\r\n                    <b>{applicationStrings.label_datatype[lang]}:</b>\r\n                </Form.Label>\r\n                <Form.Check inline={false}\r\n                            label={applicationStrings.label_charttype_carbs_base[lang]}\r\n                            type=\"radio\"\r\n                            value={Constants.CARBS_DATA_BASE}\r\n                            checked={subChart === Constants.CARBS_DATA_BASE}\r\n                            onChange={handleChartSelectionChange}>\r\n                </Form.Check>\r\n                <Form.Check inline={false}\r\n                            label={applicationStrings.label_charttype_carbs_detail[lang]}\r\n                            type=\"radio\"\r\n                            value={Constants.CARBS_DATA_DETAIL}\r\n                            checked={subChart === Constants.CARBS_DATA_DETAIL}\r\n                            onChange={handleChartSelectionChange}>\r\n                </Form.Check>\r\n            </Form>\r\n        )\r\n    }\r\n\r\n\r\n    const renderChart = (data: any) => {\r\n        if (!data) {\r\n            return (\r\n                <div style={{height: ChartConfig.default_chart_height}}>\r\n                    {applicationStrings.label_noData[lang]}\r\n                </div>\r\n            )\r\n        }\r\n\r\n        const height = props.directCompareUse ? ChartConfig.direct_compare_chartheight : ChartConfig.default_chart_height\r\n\r\n        return (\r\n            <div>\r\n                {chartType === CHART_TYPE_PIE &&\r\n                <Pie data={data}\r\n                     key={'chart ' + chartHeight}\r\n                     height={chartHeight}\r\n                     options={getOptions()}\r\n                     type=\"pie\"\r\n                />\r\n                }\r\n                {chartType === CHART_TYPE_BAR &&\r\n                <Bar data={data}\r\n                     key={'chart ' + chartHeight}\r\n                     height={chartHeight}\r\n                     options={getOptions()}\r\n                     type={\"bar\"}\r\n                />\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    const chartColType = chartType === CHART_TYPE_PIE ? \"col-6\" : \"col-8\";\r\n    const detailChartData = createDetailChartData()\r\n    const basicChartData = createBasicChartData()\r\n\r\n    const containerHeight = calculateChartContainerHeight(windowSize,  props.directCompareUse)\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\" style={{height: containerHeight}} key={\"carbs container \" + containerHeight}>\r\n                <div className=\"col-3\" style={{display: \"block\"}}>\r\n                    {renderChartSelector()}\r\n                </div>\r\n                <div className={chartColType}>\r\n                    {subChart === Constants.CARBS_DATA_BASE &&\r\n                    renderChart(basicChartData)\r\n                    }\r\n                    {detailChartData && subChart === Constants.CARBS_DATA_DETAIL &&\r\n                    renderChart(detailChartData)\r\n                    }\r\n                    {!detailChartData && subChart === Constants.CARBS_DATA_DETAIL &&\r\n                    <div style={{height: ChartConfig.default_chart_height}}>\r\n                        {applicationStrings.label_noData[lang]}\r\n                    </div>\r\n                    }\r\n                </div>\r\n\r\n                {showLegend && chartType === Constants.CHART_TYPE_PIE &&\r\n                <div className=\"col-3\">\r\n                    {subChart === Constants.CARBS_DATA_BASE && basicChartData &&\r\n                    <CustomLegend legendData={getLegendBaseChart(basicChartData.labels)}/>\r\n                    }\r\n                    {subChart === Constants.CARBS_DATA_DETAIL && detailChartData &&\r\n                    <CustomLegend legendData={getLegendDetailsChart(detailChartData.labels)}/>\r\n                    }\r\n                </div>\r\n                }\r\n            </div>\r\n            {!props.directCompareConfig &&\r\n            <div className=\"row chartFormLine\">\r\n                <PieChartConfigurationForm chartType={chartType}\r\n                                           showLegend={showLegend}\r\n                                           handleRadioButtonClick={handleRadioButtonClick}\r\n                                           handleLegendCheckboxClick={handleLegendCheckbox}/>\r\n\r\n            </div>\r\n            }\r\n        </div>\r\n    );\r\n\r\n\r\n}","import BaseDataChart from \"./charts/BaseDataChart\";\r\nimport EnergyDataChart from \"./charts/EnergyDataChart\";\r\nimport {\r\n    CHART_MINERALS,\r\n    CHART_VITAMINS,\r\n    TAB_BASE_DATA,\r\n    TAB_CARBS_DATA,\r\n    TAB_ENERGY_DATA,\r\n    TAB_LIPIDS_DATA,\r\n    TAB_MINERAL_DATA,\r\n    TAB_PROTEINS_DATA,\r\n    TAB_VITAMIN_DATA\r\n} from \"../../config/Constants\";\r\nimport MineralVitaminChart from \"./charts/MineralVitaminChart\";\r\nimport LipidsDataChart from \"./charts/LipidsDataChart\";\r\nimport ProteinDataChart from \"./charts/ProteinDataChart\";\r\nimport CarbsDataChart from \"./charts/CarbsDataChart\";\r\nimport {ChartPanelProps} from \"../../types/livedata/ChartPropsData\";\r\n\r\nexport function ChartPanel(props: ChartPanelProps) {\r\n\r\n        let chart = <div>Nothing to show</div>;\r\n        if(props.selectedDataTab === TAB_BASE_DATA) {\r\n            chart = <BaseDataChart selectedFoodItem={props.selectedFoodItem} />\r\n        } else if(props.selectedDataTab === TAB_ENERGY_DATA) {\r\n            chart = <EnergyDataChart selectedFoodItem={props.selectedFoodItem} />\r\n        } else if(props.selectedDataTab === TAB_VITAMIN_DATA) {\r\n            chart = <MineralVitaminChart selectedFoodItem={props.selectedFoodItem} selectedSubChart={CHART_VITAMINS} />\r\n        } else if(props.selectedDataTab === TAB_MINERAL_DATA) {\r\n            chart = <MineralVitaminChart selectedFoodItem={props.selectedFoodItem} selectedSubChart={CHART_MINERALS} />\r\n        } else if(props.selectedDataTab === TAB_LIPIDS_DATA) {\r\n            chart = <LipidsDataChart selectedFoodItem={props.selectedFoodItem}  />\r\n        } else if(props.selectedDataTab === TAB_CARBS_DATA) {\r\n            chart = <CarbsDataChart selectedFoodItem={props.selectedFoodItem}  />\r\n        } else if(props.selectedDataTab === TAB_PROTEINS_DATA) {\r\n            chart = <ProteinDataChart selectedFoodItem={props.selectedFoodItem}  />\r\n        }\r\n\r\n        return(\r\n            <div style={{paddingTop: \"24px\"}}>\r\n                {chart}\r\n            </div>\r\n        )\r\n}","import FoodItem from \"../../types/nutrientdata/FoodItem\";\r\nimport {FoodTableDataObject} from \"../../types/livedata/SelectedFoodItemData\";\r\nimport {BootstrapTable, TableHeaderColumn} from 'react-bootstrap-table';\r\nimport {useContext} from \"react\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {minimal_table_height} from \"../../config/ChartConfig\";\r\nimport 'react-bootstrap-table/dist/react-bootstrap-table-all.min.css';\r\nimport {defaultPanelHeight} from \"../../config/ApplicationSetting\";\r\n\r\ninterface FoodDataTableProps {\r\n    tableData: Array<FoodTableDataObject>\r\n}\r\n\r\nexport function FoodDataTable(props: FoodDataTableProps) {\r\n    const dataExists = props.tableData && props.tableData.length > 0;\r\n    const language = useContext(LanguageContext)\r\n\r\n    return(\r\n        <div style={{height: \"418px\", margin: \"25px\", overflowY: \"auto\" }}>\r\n            {dataExists &&\r\n            <BootstrapTable className=\"table-sm\" data={props.tableData} striped hover>\r\n                <TableHeaderColumn isKey dataField='label'>Element</TableHeaderColumn>\r\n                <TableHeaderColumn dataField='value_100g'>per 100 g</TableHeaderColumn>\r\n                <TableHeaderColumn dataField='value_portion'>per Portion</TableHeaderColumn>\r\n            </BootstrapTable>\r\n            }\r\n            {!dataExists &&\r\n            <div className=\"text-center\">{applicationStrings.label_noData[language.language]}</div>\r\n            }\r\n        </div>\r\n    );\r\n}","import React, {useContext, useEffect, useState} from \"react\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {BootstrapTable, TableHeaderColumn} from 'react-bootstrap-table';\r\nimport SelectedFoodItem from \"../../../types/livedata/SelectedFoodItem\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {getNameFromFoodNameList} from \"../../../service/nutrientdata/NameTypeService\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport getName from \"../../../service/LanguageService\";\r\nimport {defaultPanelHeight} from \"../../../config/ApplicationSetting\";\r\nimport {direct_compare_chartheight} from \"../../../config/ChartConfig\";\r\nimport {calculateChartContainerHeight, calculateChartHeight} from \"../../../service/nutrientdata/ChartSizeCalculation\";\r\nimport {TAB_BASE_DATA} from \"../../../config/Constants\";\r\nimport {useWindowDimension} from \"../../../service/WindowDimension\";\r\n\r\ninterface InfoDataProps {\r\n    selectedFoodItem: SelectedFoodItem,\r\n    directCompare?: boolean\r\n}\r\n\r\ninterface RowElement {\r\n    key: string,\r\n    value: string\r\n}\r\n\r\nexport function InfoData(props: InfoDataProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n\r\n    const windowSize = useWindowDimension()\r\n    const [containerHeight, setContainerHeight] = useState<number>(calculateChartContainerHeight(windowSize, props.directCompare))\r\n\r\n    useEffect(() => {\r\n        setContainerHeight(calculateChartContainerHeight(windowSize, props.directCompare))\r\n    }, [containerHeight])\r\n\r\n    const createRow = (key, value): RowElement => {\r\n        return {\r\n            key: key,\r\n            value: value\r\n        }\r\n    }\r\n\r\n    const getGeneralTableData = (): Array<RowElement> => {\r\n        if (!applicationContext) {\r\n            return []\r\n        }\r\n\r\n        const foodNameId = props.selectedFoodItem.foodItem.nameId\r\n        const foodName = foodNameId ? getNameFromFoodNameList(applicationContext.foodDataCorpus.foodNames, foodNameId, lang) : ''\r\n\r\n        const foodClass = props.selectedFoodItem.foodClass;\r\n        const foodClassNameId = foodClass ? foodClass.nameKey : null\r\n\r\n        const sourceItemId = props.selectedFoodItem.foodItem.usdaId\r\n        const source = `United States Department of Agriculture (USDA)`;\r\n        const sourceLine2 = `ID = ${sourceItemId}`;\r\n        const foodClassName = foodClassNameId ? getNameFromFoodNameList(applicationContext.foodDataCorpus.foodNames, foodClassNameId, lang) : null;\r\n\r\n        const categoryId = foodClass ? foodClass.category : null\r\n        const category = categoryId ? applicationContext.foodDataCorpus.categories.find(category => category.id === categoryId) : null\r\n        const categoryName = category ? getName(category, lang) : null;\r\n\r\n        const conditionId = props.selectedFoodItem.foodItem.conditionId\r\n        const condition = applicationContext.foodDataCorpus.conditions.find(condition => condition.id === conditionId)\r\n        const conditionName = condition ? getName(condition, lang) : null;\r\n\r\n        const tableDataGeneral: Array<RowElement> = [];\r\n\r\n        tableDataGeneral.push(\r\n            createRow(`${applicationStrings.label_info_foodName[lang]}:`, foodName)\r\n        );\r\n        tableDataGeneral.push(\r\n            createRow(`${applicationStrings.label_info_preparation[lang]}:`, conditionName)\r\n        );\r\n        tableDataGeneral.push(\r\n            createRow(`${applicationStrings.label_info_foodId[lang]}:`, props.selectedFoodItem.foodItem.id)\r\n        );\r\n        tableDataGeneral.push(\r\n            createRow(`${applicationStrings.label_info_foodClass[lang]}:`, foodClassName)\r\n        );\r\n        tableDataGeneral.push(\r\n            createRow(`${applicationStrings.label_info_category[lang]}:`, categoryName)\r\n        );\r\n        tableDataGeneral.push(\r\n            createRow(`${applicationStrings.label_info_source[lang]}:`, source)\r\n        );\r\n        tableDataGeneral.push(\r\n            createRow(\"\", sourceLine2)\r\n        );\r\n\r\n        return tableDataGeneral;\r\n    }\r\n\r\n    const getTableDataPortion = () => {\r\n        const foodPortion = props.selectedFoodItem.portion;\r\n        const portionValue = `${foodPortion.amount} g`;\r\n\r\n        const portionObject = applicationContext?.foodDataCorpus.portionTypes.find(portion => portion.id === foodPortion.portionType)\r\n        if (portionObject) {\r\n            const portionName = foodPortion.portionType !== 0 ? getName(portionObject, lang) : applicationStrings.portion_individual[lang];\r\n            const tableDataPortion: Array<RowElement> = [];\r\n\r\n            tableDataPortion.push(\r\n                createRow(`${applicationStrings.label_info_portionType[lang]}:`, portionName)\r\n            );\r\n\r\n            tableDataPortion.push(\r\n                createRow(`${applicationStrings.label_portion[lang]}:`, portionValue)\r\n            );\r\n\r\n            return tableDataPortion\r\n        }\r\n\r\n\r\n        return [];\r\n    }\r\n\r\n\r\n    const getTableDataCombinedFood = () => {\r\n        // const individualList = props.foodItem.individualData;\r\n        // const tableData = [];\r\n        //\r\n        // for(let i=0; i < individualList.length; i++) {\r\n        //     tableData.push(\r\n        //         createRow(`${individualList[i].name}:`, `${individualList[i].portion} g`)\r\n        //     );\r\n        // }\r\n        //\r\n        // return tableData;\r\n    }\r\n\r\n\r\n    const renderSubTable = (data) => {\r\n        return (\r\n            <div>\r\n                <BootstrapTable bordered={false} data={data}>\r\n                    <TableHeaderColumn className=\"tableHeaderClass\" dataField='key' isKey width=\"200px\"/>\r\n                    <TableHeaderColumn className=\"tableHeaderClass\" dataField='value'/>\r\n                </BootstrapTable>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div style={{height: containerHeight, maxHeight: containerHeight, overflowY: \"auto\", padding: \"15px\"}}>\r\n            {props.selectedFoodItem.foodItem.foodClass !== 0 &&\r\n            <div>\r\n                <div>\r\n                    {renderSubTable(getGeneralTableData())}\r\n                </div>\r\n                <div style={{paddingTop: \"30px\"}}>\r\n                    <h5>{applicationStrings.label_info_portion[lang]}</h5>\r\n                    {renderSubTable(getTableDataPortion())}\r\n                </div>\r\n            </div>\r\n            }\r\n            {props.selectedFoodItem.foodItem.foodClass === 0 &&\r\n            <div>\r\n                <h5>Individual</h5>\r\n                {renderSubTable(getTableDataCombinedFood())}\r\n            </div>\r\n            }\r\n\r\n        </div>\r\n    );\r\n\r\n\r\n}","import {FoodTableDataObject} from \"../../types/livedata/SelectedFoodItemData\";\r\nimport {DISPLAYMODE_CHART, DISPLAYMODE_TABLE, TAB_INFO} from \"../../config/Constants\";\r\nimport {ChartPanel} from \"./ChartPanel\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {FoodDataTable} from \"./FoodDataTable\";\r\nimport {InfoData} from \"./charts/InfoData\";\r\n\r\ninterface FoodDataPageBodyProps {\r\n    tableData: Array<FoodTableDataObject>\r\n    displayMode: string\r\n    selectedDataTab: string\r\n    selectedFoodItem: SelectedFoodItem\r\n}\r\n\r\nexport default function FoodDataPageBody(props: FoodDataPageBodyProps) {\r\n\r\n    const renderDataPage = () => {\r\n        return (\r\n            <div>\r\n                {props.displayMode === DISPLAYMODE_TABLE &&\r\n                <div className=\"col\">\r\n                    <FoodDataTable tableData={props.tableData}/>\r\n                </div>\r\n                }\r\n                {props.displayMode === DISPLAYMODE_CHART &&\r\n                <div className=\"col\">\r\n                    <ChartPanel selectedFoodItem={props.selectedFoodItem} selectedDataTab={props.selectedDataTab}/>\r\n                </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className={\"form-main\"} style={{maxWidth: \"1200px\", minWidth: \"850px\"}}>\r\n            {props.selectedDataTab === TAB_INFO &&\r\n            <InfoData selectedFoodItem={props.selectedFoodItem}/>\r\n            }\r\n            {props.selectedDataTab !== TAB_INFO &&\r\n            renderDataPage()\r\n            }\r\n        </div>\r\n    )\r\n\r\n}","import {ReactElement, useContext} from \"react\";\r\nimport {LanguageContext} from \"../contexts/LangContext\";\r\nimport {applicationStrings} from \"../static/labels\";\r\nimport {HelpText} from \"../service/HelpService\";\r\n\r\ninterface HelpModalProps {\r\n    helpText: HelpText\r\n    closeHelpModal: () => void\r\n}\r\n\r\nexport function HelpModal(props: HelpModalProps): ReactElement {\r\n    const languageContext = useContext(LanguageContext)\r\n\r\n    if (!props.helpText) {\r\n        return (<div>No data available.</div>);\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"modal\" style={{display: \"block\"}} role=\"dialog\">\r\n            <div className=\"modal-dialog\" role=\"document\">\r\n                <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                        <h5 className=\"modal-title\">{props.helpText.title}</h5>\r\n                        <button type=\"button\"\r\n                                className=\"btn-close\"\r\n                                data-dismiss=\"modal\"\r\n                                aria-label=\"Close\"\r\n                                onClick={props.closeHelpModal}>\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"modal-body\">\r\n                        <span dangerouslySetInnerHTML={{__html: props.helpText.content}}/>\r\n                    </div>\r\n                    <div className=\"modal-footer\">\r\n                        <button type=\"button\"\r\n                                className=\"btn btn-primary\"\r\n                                onClick={props.closeHelpModal}>\r\n                            {applicationStrings.button_close[languageContext.language]}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import {getHelpText, HelpText} from \"../../service/HelpService\";\r\nimport {HelpModal} from \"../HelpModal\";\r\nimport {Button, ButtonGroup} from \"react-bootstrap\";\r\nimport {\r\n    TAB_BASE_DATA, TAB_CARBS_DATA,\r\n    TAB_ENERGY_DATA, TAB_INFO,\r\n    TAB_LIPIDS_DATA,\r\n    TAB_MINERAL_DATA, TAB_PROTEINS_DATA,\r\n    TAB_VITAMIN_DATA\r\n} from \"../../config/Constants\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {useContext} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\n\r\ninterface ChartMenuPanelProps {\r\n    dataPage: string\r\n    setDataPage: (id: string) => void\r\n    verticalArrangement: boolean\r\n}\r\n\r\nexport function ChartMenuPanel(props: ChartMenuPanelProps) {\r\n    const languageContext = useContext(LanguageContext)\r\n\r\n    const handlePageButtonClick = (value: string) => {\r\n        props.setDataPage(value)\r\n    }\r\n\r\n    const variant = \"link\"\r\n\r\n    return (\r\n        <div className={\"d-flex\"}>\r\n            <ButtonGroup vertical={props.verticalArrangement}>\r\n                <Button className=\"btn btn-link header-link\"\r\n                        onClick={() => handlePageButtonClick(TAB_BASE_DATA)}\r\n                        variant={variant}\r\n                        active={props.dataPage === TAB_BASE_DATA}>\r\n                    {applicationStrings.label_overview[languageContext.language]}\r\n                </Button>\r\n                <Button className=\"btn btn-link header-link header-link\"\r\n                        onClick={() => handlePageButtonClick(TAB_ENERGY_DATA)}\r\n                        variant={variant}\r\n                        active={props.dataPage === TAB_ENERGY_DATA}>\r\n                    {applicationStrings.label_nutrient_energy[languageContext.language]}\r\n                </Button>\r\n                <Button className=\"btn btn-link header-link\"\r\n                        onClick={() => handlePageButtonClick(TAB_VITAMIN_DATA)}\r\n                        variant={variant}\r\n                        active={props.dataPage === TAB_VITAMIN_DATA}>\r\n                    {applicationStrings.label_nutrient_vit[languageContext.language]}\r\n                </Button>\r\n                <Button className=\"btn btn-link page-head-button header-link\"\r\n                        onClick={() => handlePageButtonClick(TAB_MINERAL_DATA)}\r\n                        variant={variant}\r\n                        active={props.dataPage === TAB_MINERAL_DATA}>\r\n                    {applicationStrings.label_nutrient_min[languageContext.language]}\r\n                </Button>\r\n                <Button className=\"btn btn-link page-head-button header-link\"\r\n                        onClick={() => handlePageButtonClick(TAB_LIPIDS_DATA)}\r\n                        variant={variant}\r\n                        active={props.dataPage === TAB_LIPIDS_DATA}>\r\n                    {applicationStrings.label_nutrient_lipids[languageContext.language]}\r\n                </Button>\r\n                <Button className=\"btn btn-link page-head-button header-link\"\r\n                        onClick={() => handlePageButtonClick(TAB_CARBS_DATA)}\r\n                        variant={variant}\r\n                        active={props.dataPage === TAB_CARBS_DATA}>\r\n                    {applicationStrings.label_nutrient_carbohydrates[languageContext.language]}\r\n                </Button>\r\n                <Button className=\"btn btn-link page-head-button header-link\"\r\n                        onClick={() => handlePageButtonClick(TAB_PROTEINS_DATA)}\r\n                        variant={variant}\r\n                        active={props.dataPage === TAB_PROTEINS_DATA}>\r\n                    {applicationStrings.label_nutrient_proteins[languageContext.language]}\r\n                </Button>\r\n                <Button className=\"btn btn-link page-head-button header-link\"\r\n                        onClick={() => handlePageButtonClick(TAB_INFO)}\r\n                        variant={variant}\r\n                        active={props.dataPage === TAB_INFO}>\r\n                    {applicationStrings.label_info[languageContext.language]}\r\n                </Button>\r\n            </ButtonGroup>\r\n        </div>\r\n    );\r\n\r\n}","import {useContext, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {Button} from \"react-bootstrap\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {FaChartBar, FaQuestionCircle, FaThList, FaTimes} from \"react-icons/all\";\r\nimport {\r\n    DISPLAYMODE_CHART,\r\n    DISPLAYMODE_TABLE,\r\n    TAB_BASE_DATA,\r\n    TAB_CARBS_DATA,\r\n    TAB_ENERGY_DATA,\r\n    TAB_INFO,\r\n    TAB_LIPIDS_DATA,\r\n    TAB_MINERAL_DATA,\r\n    TAB_PROTEINS_DATA,\r\n    TAB_VITAMIN_DATA\r\n} from \"../../config/Constants\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport {getNameFromFoodNameList} from \"../../service/nutrientdata/NameTypeService\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport FoodDataPageBody from \"./FoodDataPageBody\";\r\nimport {FoodTableDataObject} from \"../../types/livedata/SelectedFoodItemData\";\r\nimport {HelpModal} from \"../HelpModal\";\r\nimport {getHelpText, HelpText} from \"../../service/HelpService\";\r\nimport getName from \"../../service/LanguageService\";\r\nimport {ChartMenuPanel} from \"./ChartMenuPanel\";\r\n\r\n\r\ninterface FoodDataPageHeaderProps {\r\n    displayMode: string\r\n    setDisplayMode: (id: string) => void\r\n    dataPage: string\r\n    setDataPage: (id: string) => void\r\n    selectedFoodItem: SelectedFoodItem\r\n    tableData: Array<FoodTableDataObject>\r\n    selectedDataTab: string\r\n}\r\n\r\nexport default function FoodDataPageHeader(props: FoodDataPageHeaderProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n\r\n    const [helpModalId, setHelpModalId] = useState<number>(0)\r\n\r\n    if (applicationContext === null) {\r\n        return <div/>\r\n    }\r\n\r\n    const handleRadioButtonClick = (value: string) => {\r\n        props.setDisplayMode(value)\r\n    }\r\n\r\n    const closeTab = () => {\r\n        const id = (props.selectedFoodItem.foodItem.id)\r\n        applicationContext.applicationData.foodDataPanel.removeItemFromFoodDataPanel(id)\r\n    }\r\n\r\n    const help = () => {\r\n        switch (props.dataPage) {\r\n            case TAB_BASE_DATA:\r\n                setHelpModalId(1)\r\n                return;\r\n            case TAB_ENERGY_DATA:\r\n                setHelpModalId(2)\r\n                return;\r\n            case TAB_VITAMIN_DATA:\r\n                setHelpModalId(3)\r\n                return;\r\n            case TAB_MINERAL_DATA:\r\n                setHelpModalId(4)\r\n                return;\r\n            case TAB_LIPIDS_DATA:\r\n                setHelpModalId(5)\r\n                return;\r\n            case TAB_INFO:\r\n                setHelpModalId(6)\r\n                return;\r\n            case TAB_CARBS_DATA:\r\n                setHelpModalId(7)\r\n                return;\r\n            case TAB_PROTEINS_DATA:\r\n                setHelpModalId(8)\r\n                return;\r\n            default:\r\n                return;\r\n        }\r\n    }\r\n\r\n    const enabledDisplayButtonClasses = \"btn button-displaymode-enabled\"\r\n    const disabledDisplayButtonClasses = \"btn button-displaymode-disabled\"\r\n\r\n    const chartButtonClasses = props.displayMode === DISPLAYMODE_CHART ? enabledDisplayButtonClasses\r\n        : disabledDisplayButtonClasses;\r\n\r\n    const tablesButtonClasses = props.displayMode === DISPLAYMODE_TABLE ? enabledDisplayButtonClasses\r\n        : disabledDisplayButtonClasses;\r\n\r\n    const foodNamesList = applicationContext.foodDataCorpus.foodNames;\r\n\r\n\r\n    let foodName\r\n    if (props.selectedFoodItem.foodItem.nameId) {\r\n        foodName = getNameFromFoodNameList(foodNamesList, props.selectedFoodItem.foodItem.nameId, languageContext.language)\r\n    } else {\r\n        foodName = 'Individual'\r\n    }\r\n\r\n    let fullName\r\n    const portionSize = props.selectedFoodItem.portion.amount\r\n\r\n    if (!props.selectedFoodItem.foodItem.aggregated) {\r\n        const condition = applicationContext.foodDataCorpus.conditions.find(condition => condition.id === props.selectedFoodItem.foodItem.conditionId)\r\n        const conditionName = condition ? getName(condition, languageContext.language) : \"\"\r\n        fullName = `${foodName} (${conditionName}, ${portionSize} g)`\r\n    } else {\r\n        fullName = `${foodName} (${portionSize} g)`\r\n    }\r\n\r\n    const helpText: HelpText | null = helpModalId > 0 ? getHelpText(helpModalId, languageContext.language) : null\r\n\r\n    return (\r\n        <div style={{paddingBottom: \"6px\"}}>\r\n            {helpText !== null &&\r\n            <HelpModal helpText={helpText} closeHelpModal={() => setHelpModalId(0)}></HelpModal>\r\n            }\r\n            <div className={\"row d-flex flex-nowrap\"}>\r\n                <div className=\"col-md-2 col-sm-3\">\r\n                    <div className={\"card\"}>\r\n                        <div className=\"card-body\" style={{paddingRight: \"30px\"}}>\r\n                            <ChartMenuPanel dataPage={props.dataPage} verticalArrangement={true} setDataPage={props.setDataPage}/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className={\"col\"}>\r\n                    <div className=\"row d-flex flex-nowrap\" style={{marginTop: \"10px\"}}>\r\n                        <div className=\"col-md-8\" style={{paddingTop: \"6px\", paddingLeft: \"32px\"}}>\r\n                            <div style={{borderBottom: \"1px solid #BBBBBB\", paddingLeft: \"12px\"}}>\r\n                                <b>{fullName}</b>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-md-auto\">\r\n                            <div style={{width: \"200px\", padding: \"0px !important\", margin: \"0px !important\"}}>\r\n                                <div className=\"btn-group\" role=\"group\">\r\n                                    <Button className={chartButtonClasses}\r\n                                            onClick={() => handleRadioButtonClick(DISPLAYMODE_CHART)}\r\n                                            active={props.displayMode === DISPLAYMODE_CHART}\r\n                                            data-tip={applicationStrings.tooltip_icon_charts[languageContext.language]}>\r\n                                        <ReactTooltip/>\r\n                                        <FaChartBar/>\r\n                                    </Button>\r\n                                    <Button className={tablesButtonClasses}\r\n                                            onClick={() => handleRadioButtonClick(DISPLAYMODE_TABLE)}\r\n                                            active={props.displayMode === DISPLAYMODE_TABLE}\r\n                                            data-tip={applicationStrings.tooltip_icon_table[languageContext.language]}>\r\n                                        <FaThList/>\r\n                                    </Button>\r\n                                </div>\r\n\r\n                                <div className=\"btn-group\" role=\"group\" style={{paddingLeft: \"24px\"}}>\r\n                                    <Button className={\"btn-primary button-foodPanelHead\"}\r\n                                            onClick={help}\r\n                                            active={props.displayMode === DISPLAYMODE_CHART}>\r\n                                        <ReactTooltip/>\r\n                                        <FaQuestionCircle/>\r\n                                    </Button>\r\n                                    <Button className={\"button-closeTab\"}\r\n                                            onClick={closeTab}\r\n                                            data-tip={applicationStrings.tooltip_icon_close[languageContext.language]}>\r\n                                        <ReactTooltip/>\r\n                                        <FaTimes/>\r\n                                    </Button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <FoodDataPageBody selectedFoodItem={props.selectedFoodItem}\r\n                                      tableData={props.tableData}\r\n                                      displayMode={props.displayMode}\r\n                                      selectedDataTab={props.selectedDataTab}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}","import {LANGUAGE_EN} from \"../config/Constants\";\r\n\r\nexport interface HelpText {\r\n    title: string,\r\n    content: string\r\n}\r\n\r\nexport function getHelpText(helpModalId: number, languageId: string): HelpText | null {\r\n    const helpFile = require(\"../static/help/help.json\");\r\n\r\n    let helpEntry = 0;\r\n    const entry = helpFile.entries.find( (entry) => entry.id === helpModalId);\r\n\r\n    if(entry) {\r\n        const languageSection = languageId === LANGUAGE_EN ? entry.en : entry.de;\r\n        const title = languageSection.title;\r\n        const contentArray = languageSection.content;\r\n\r\n        let content = \"\";\r\n        for(let i=0; i < contentArray.length; i++) {\r\n            content += contentArray[i];\r\n            if(i < (contentArray.length-1)) {\r\n                content += \"<br />\"\r\n            }\r\n        }\r\n\r\n        return {\r\n            title: title,\r\n            content: content\r\n        };\r\n    }\r\n\r\n    return null\r\n}","import * as MathService from './calculation/MathService';\r\nimport {applicationStrings} from \"../static/labels\";\r\nimport {FoodTableDataObject} from \"../types/livedata/SelectedFoodItemData\";\r\nimport FoodItem from \"../types/nutrientdata/FoodItem\";\r\n\r\nexport function createBaseDataTable(foodItem: FoodItem, portion: number, language: string): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject> = [];\r\n\r\n    const {water, carbohydrates, lipids, proteins, dietaryFibers, ash} = foodItem.nutrientDataList[0].baseData\r\n    const {sugar}  = foodItem.nutrientDataList[0].carbohydrateData\r\n\r\n    if(water) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_water[language],\r\n            water,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(carbohydrates) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates[language],\r\n            carbohydrates,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(sugar) {\r\n        tableData.push(createTableObject(\r\n            `${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_sugar[language]}`,\r\n            sugar,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(dietaryFibers) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_dietaryFibers[language],\r\n            dietaryFibers,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(lipids) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_lipids[language],\r\n            lipids,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteins) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins[language],\r\n            proteins,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(ash) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_ash[language],\r\n            ash,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\n\r\nexport function createVitaminTable(foodItem: FoodItem, portion: number, language: string): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject>  = [];\r\n\r\n    if(foodItem.nutrientDataList[0].vitaminData.a != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_a[language],\r\n            foodItem.nutrientDataList[0].vitaminData.a,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(foodItem.nutrientDataList[0].vitaminData.b1 != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_b1[language],\r\n            foodItem.nutrientDataList[0].vitaminData.b1,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(foodItem.nutrientDataList[0].vitaminData.b2 != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_b2[language],\r\n            foodItem.nutrientDataList[0].vitaminData.b2,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(foodItem.nutrientDataList[0].vitaminData.b3 != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_b3[language],\r\n            foodItem.nutrientDataList[0].vitaminData.b3,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(foodItem.nutrientDataList[0].vitaminData.b5 != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_b5[language],\r\n            foodItem.nutrientDataList[0].vitaminData.b5,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(foodItem.nutrientDataList[0].vitaminData.b6 != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_b6[language],\r\n            foodItem.nutrientDataList[0].vitaminData.b6,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(foodItem.nutrientDataList[0].vitaminData.b9 != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_b9[language],\r\n            foodItem.nutrientDataList[0].vitaminData.b9,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(foodItem.nutrientDataList[0].vitaminData.b12 != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_b12[language],\r\n            foodItem.nutrientDataList[0].vitaminData.b12,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(foodItem.nutrientDataList[0].vitaminData.c != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_c[language],\r\n            foodItem.nutrientDataList[0].vitaminData.c,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(foodItem.nutrientDataList[0].vitaminData.d != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_d[language],\r\n            foodItem.nutrientDataList[0].vitaminData.d,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(foodItem.nutrientDataList[0].vitaminData.e != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_e[language],\r\n            foodItem.nutrientDataList[0].vitaminData.e,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(foodItem.nutrientDataList[0].vitaminData.k != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_k[language],\r\n            foodItem.nutrientDataList[0].vitaminData.k,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\nexport function createMineralTable(foodItem: FoodItem, portion: number, language: string): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject>  = [];\r\n\r\n    const firstNutrientData = foodItem.nutrientDataList[0];\r\n\r\n    if(firstNutrientData.mineralData.calcium != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_calcium[language],\r\n            firstNutrientData.mineralData.calcium,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.iron != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_iron[language],\r\n            firstNutrientData.mineralData.iron,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.magnesium != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_magnesium[language],\r\n            firstNutrientData.mineralData.magnesium,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.phosphorus != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_phosphorus[language],\r\n            firstNutrientData.mineralData.phosphorus,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.potassium != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_potassimum[language],\r\n            firstNutrientData.mineralData.potassium,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.sodium != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_sodium[language],\r\n            firstNutrientData.mineralData.sodium,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.zinc != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_zinc[language],\r\n            firstNutrientData.mineralData.zinc,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.copper != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_copper[language],\r\n            firstNutrientData.mineralData.copper,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.manganese != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_manganese[language],\r\n            firstNutrientData.mineralData.manganese,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.selenium != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_selenium[language],\r\n            firstNutrientData.mineralData.selenium,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\nexport function createLipidsTable(foodItem: FoodItem, portion: number, language: string): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject>  = [];\r\n    const firstNutrientData = foodItem.nutrientDataList[0];\r\n\r\n    if(firstNutrientData.lipidData.saturated != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_lipids_saturated[language],\r\n            firstNutrientData.lipidData.saturated,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.lipidData.unsaturatedMono != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_lipids_unsaturated_mono[language],\r\n            firstNutrientData.lipidData.unsaturatedMono,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.lipidData.unsaturatedPoly != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_lipids_unsaturated_poly[language],\r\n            firstNutrientData.lipidData.unsaturatedPoly,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.lipidData.omegaData) {\r\n        if(firstNutrientData.lipidData.omegaData.omega3 != null) {\r\n            tableData.push(createTableObject(\r\n                `${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_lipids_omega3[language]}`,\r\n                firstNutrientData.lipidData.omegaData.omega3,\r\n                portion, \"g\")\r\n            );\r\n        }\r\n\r\n        if(firstNutrientData.lipidData.omegaData.omega6 != null) {\r\n            tableData.push(createTableObject(\r\n                `${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_lipids_omega6[language]}`,\r\n                firstNutrientData.lipidData.omegaData.omega6,\r\n                portion, \"g\")\r\n            );\r\n        }\r\n    }\r\n\r\n    if(firstNutrientData.lipidData.transFattyAcids != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_lipids_transfattyAcids[language],\r\n            firstNutrientData.lipidData.transFattyAcids,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.lipidData.cholesterol != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_lipids_cholesterol[language],\r\n            firstNutrientData.lipidData.cholesterol,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\nexport function createEnergyTable(foodItem: FoodItem, portion: number, language: string): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject>  = [];\r\n    const energy = foodItem.nutrientDataList[0].baseData.energy !== null ? foodItem.nutrientDataList[0].baseData.energy : 0;\r\n\r\n    tableData.push(createTableObject(\r\n        \"kcal\",\r\n        energy,\r\n        portion, \"\")\r\n    );\r\n\r\n    tableData.push(createTableObject(\r\n        \"kJ\",\r\n        MathService.round(4.186 * energy, 1),\r\n        portion, \"\")\r\n    );\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\n\r\nexport function createCarbsTable(foodItem: FoodItem, portion: number, language: string): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject>  = [];\r\n\r\n    const firstNutrientData = foodItem.nutrientDataList[0];\r\n\r\n    tableData.push(createTableObject(\r\n        applicationStrings.label_nutrient_carbohydrates[language],\r\n        firstNutrientData.baseData.carbohydrates,\r\n        portion, \"g\")\r\n    );\r\n\r\n    if(firstNutrientData.carbohydrateData.sugar != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_sugar[language],\r\n            firstNutrientData.carbohydrateData.sugar,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.baseData.dietaryFibers != null) {\r\n        tableData.push(createTableObject(\r\n            `${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_dietaryFibers[language]}`,\r\n            firstNutrientData.baseData.dietaryFibers,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.carbohydrateData.glucose != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_glucose[language],\r\n            firstNutrientData.carbohydrateData.glucose,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.carbohydrateData.fructose != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_fructose[language],\r\n            firstNutrientData.carbohydrateData.fructose,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.carbohydrateData.galactose != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_galactose[language],\r\n            firstNutrientData.carbohydrateData.galactose,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.carbohydrateData.sucrose != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_sucrose[language],\r\n            firstNutrientData.carbohydrateData.sucrose,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.carbohydrateData.lactose != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_lactose[language],\r\n            firstNutrientData.carbohydrateData.lactose,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.carbohydrateData.maltose != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_maltose[language],\r\n            firstNutrientData.carbohydrateData.maltose,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.carbohydrateData.starch != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_starch[language],\r\n            firstNutrientData.carbohydrateData.starch,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\n\r\nexport function createProteinTable(foodItem: FoodItem, portion: number, language: string): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject>  = [];\r\n\r\n    const proteinData = foodItem.nutrientDataList[0].proteinData;\r\n    if(!proteinData) {\r\n        return tableData;\r\n    }\r\n\r\n    if(proteinData.tryptophan != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_tryptophan[language],\r\n            proteinData.tryptophan,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.threonine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_threonine[language],\r\n            proteinData.threonine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.isoleucine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_isoleucine[language],\r\n            proteinData.isoleucine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.leucine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_leucine[language],\r\n            proteinData.leucine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.lysine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_lysine[language],\r\n            proteinData.lysine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.methionine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_methionine[language],\r\n            proteinData.methionine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.cystine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_cystine[language],\r\n            proteinData.cystine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.phenylalanine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_phenylalanine[language],\r\n            proteinData.phenylalanine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.tyrosine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_tyrosine[language],\r\n            proteinData.tyrosine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.valine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_valine[language],\r\n            proteinData.valine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.arginine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_arginine[language],\r\n            proteinData.arginine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.histidine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_histidine[language],\r\n            proteinData.histidine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.alanine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_alanine[language],\r\n            proteinData.alanine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.asparticAcid != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_asparticAcid[language],\r\n            proteinData.asparticAcid,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.glutamicAcid != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_glutamicAcid[language],\r\n            proteinData.glutamicAcid,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.glycine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_glysine[language],\r\n            proteinData.glycine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.proline != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_proline[language],\r\n            proteinData.proline,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.serine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_serine[language],\r\n            proteinData.serine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\nfunction createTableObject(label: string, value_100g: number, portion: number, unit: String): FoodTableDataObject {\r\n    const valuePortion = calculatePortionData(value_100g, portion);\r\n    return {\r\n        label: label,\r\n        value_100g: `${MathService.autoRound(value_100g)} ${unit}`,\r\n        value_portion: `${MathService.autoRound(valuePortion)} ${unit}`\r\n    }\r\n}\r\n\r\n\r\nfunction calculatePortionData(value: number | null, portionSize: number) {\r\n    if(value === null || value === undefined) {\r\n        return \"n/a\";\r\n    } else if(value === 0) {\r\n        return 0;\r\n    }\r\n    return (value / 100) * portionSize;\r\n}","import SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport FoodDataPageHeader from \"./FoodDataPageHeader\";\r\nimport {FoodTableDataObject} from \"../../types/livedata/SelectedFoodItemData\";\r\nimport {\r\n    DISPLAYMODE_CHART,\r\n    TAB_BASE_DATA,\r\n    TAB_CARBS_DATA,\r\n    TAB_ENERGY_DATA,\r\n    TAB_LIPIDS_DATA,\r\n    TAB_MINERAL_DATA,\r\n    TAB_PROTEINS_DATA,\r\n    TAB_VITAMIN_DATA\r\n} from \"../../config/Constants\";\r\nimport {\r\n    createBaseDataTable,\r\n    createCarbsTable,\r\n    createEnergyTable,\r\n    createLipidsTable,\r\n    createMineralTable,\r\n    createProteinTable,\r\n    createVitaminTable\r\n} from \"../../service/TableService\";\r\n\r\ninterface FoodDataPageProps {\r\n    selectedFoodItem: SelectedFoodItem\r\n}\r\n\r\nexport default function FoodDataPage(props: FoodDataPageProps) {\r\n    const applicationData = useContext(ApplicationDataContextStore)\r\n    const {language} = useContext(LanguageContext)\r\n\r\n    const initialDataPage = applicationData?.applicationData.foodDataPanel.selectedDataPage\r\n        ? applicationData.applicationData.foodDataPanel.selectedDataPage\r\n        : TAB_BASE_DATA\r\n\r\n    const [displayMode, setDisplayMode] = useState<string>(DISPLAYMODE_CHART)\r\n    const [selectedDataTab, setSelectedDataTab] = useState<string>(initialDataPage)\r\n    const [tableData, setTableData] = useState<Array<FoodTableDataObject>>([])\r\n\r\n    useEffect(() => {\r\n        updatePage()\r\n    }, [displayMode, selectedDataTab, props.selectedFoodItem])\r\n\r\n    if (!applicationData) {\r\n        return <div/>\r\n    }\r\n\r\n    const onNewDataPage = (datapage: string) => {\r\n        setSelectedDataTab(datapage)\r\n        applicationData.applicationData.foodDataPanel.setSelectedDataPage(datapage)\r\n        updatePage()\r\n    }\r\n\r\n    const onDisplayModeChange = (newMode: string) => {\r\n        setDisplayMode(newMode)\r\n        updatePage()\r\n    }\r\n\r\n    const updatePage = () => {   // Central update method when any (radio) button was clicked\r\n        let tableDataList: Array<FoodTableDataObject> = [];\r\n        const {foodItem, portion} = props.selectedFoodItem\r\n\r\n        if (selectedDataTab === TAB_BASE_DATA) {\r\n            tableDataList = createBaseDataTable(foodItem, portion.amount, language);\r\n        } else if (selectedDataTab === TAB_ENERGY_DATA) {\r\n            tableDataList = createEnergyTable(foodItem, portion.amount, language);\r\n        } else if (selectedDataTab === TAB_VITAMIN_DATA) {\r\n            tableDataList = createVitaminTable(foodItem, portion.amount, language);\r\n        } else if (selectedDataTab === TAB_MINERAL_DATA) {\r\n            tableDataList = createMineralTable(foodItem, portion.amount, language);\r\n        } else if (selectedDataTab === TAB_LIPIDS_DATA) {\r\n            tableDataList = createLipidsTable(foodItem, portion.amount, language);\r\n        } else if (selectedDataTab === TAB_CARBS_DATA) {\r\n            tableDataList = createCarbsTable(foodItem, portion.amount, language);\r\n        } else if (selectedDataTab === TAB_PROTEINS_DATA) {\r\n            tableDataList = createProteinTable(foodItem, portion.amount, language);\r\n        }\r\n\r\n        setTableData(tableDataList)\r\n    }\r\n\r\n    if (applicationData.debug) {\r\n        console.log('FoodDataPage: Render, tabledata = ', tableData)\r\n    }\r\n\r\n    return <div>\r\n        <FoodDataPageHeader displayMode={displayMode}\r\n                            setDisplayMode={onDisplayModeChange}\r\n                            dataPage={selectedDataTab}\r\n                            setDataPage={onNewDataPage}\r\n                            selectedFoodItem={props.selectedFoodItem}\r\n                            tableData={tableData}\r\n                            selectedDataTab={selectedDataTab}\r\n        />\r\n    </div>\r\n\r\n}","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport {confirmable, createConfirmation} from \"react-confirm\";\r\nimport {Button, Modal} from \"react-bootstrap\";\r\nimport {applicationStrings} from \"../static/labels\";\r\n\r\ninterface ConfirmationDialogProps {\r\n    okLabel: string,\r\n    cancelLabel: string,\r\n    title: string,\r\n    confirmation: string,\r\n    show: boolean,\r\n    proceed: (procedd: boolean) => void, // called when ok button is clicked.\r\n    enableEscape: boolean\r\n};\r\n\r\nclass ConfirmationDialog extends React.Component<ConfirmationDialogProps> {\r\n\r\n    render() {\r\n        const {\r\n            okLabel,\r\n            cancelLabel,\r\n            title,\r\n            confirmation,\r\n            show,\r\n            proceed,\r\n            enableEscape = true\r\n        } = this.props;\r\n\r\n        return (\r\n            <div className=\"static-modal\">\r\n                <Modal\r\n                    show={show}\r\n                    onHide={() => proceed(false)}\r\n                    backdrop={enableEscape ? true : \"static\"}\r\n                    keyboard={enableEscape}\r\n                >\r\n                    <Modal.Header>\r\n                        <Modal.Title>{title}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>{confirmation}</Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button onClick={() => proceed(false)}>{cancelLabel}</Button>\r\n                        <Button\r\n                            className=\"primary button-l\"\r\n                            onClick={() => proceed(true)}>\r\n                            {okLabel}\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\n\r\nexport function confirmAction(\r\n    confirmation,\r\n    okLabel,\r\n    cancelLabel,\r\n    options = {}\r\n) {\r\n    return createConfirmation(confirmable(ConfirmationDialog))({\r\n        confirmation,\r\n        okLabel,\r\n        cancelLabel,\r\n        ...options\r\n    });\r\n}\r\n","import React, {useContext, useState} from 'react'\r\nimport {Button} from 'react-bootstrap'\r\n\r\nimport FoodSelectorModal from '../foodselector/FoodSelectorModal'\r\nimport {FaLayerGroup, FaPlusSquare, FaTrash} from \"react-icons/all\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {getNameFromFoodNameList} from \"../../service/nutrientdata/NameTypeService\";\r\nimport FoodDataPage from \"./FoodDataPage\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {confirmAction} from \"../ConfirmationDialog\";\r\nimport ReactTooltip from \"react-tooltip\";\r\n\r\ninterface FoodAnalyzerContainerProps {\r\n    onNewFoodItemSelected: () => void\r\n}\r\n\r\nexport default function FoodAnalyzerContainer(props: FoodAnalyzerContainerProps) {\r\n    const ApplicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n\r\n    const [showFoodSelector, setShowFoodSelector] = useState<Boolean>(false)\r\n    const [showFoodAggregatedFoodSelector, setShowAggregatedFoodSelector] = useState<Boolean>(false)\r\n\r\n\r\n    const onHide = (): void => {\r\n        setShowFoodSelector(false)\r\n        setShowAggregatedFoodSelector(false)\r\n    }\r\n\r\n    const onSelectFoodItemSubmit = (selectedFoodItem: SelectedFoodItem): void => {\r\n        if (ApplicationContext === null) {\r\n            return\r\n        }\r\n\r\n        let foodName\r\n        if(selectedFoodItem.foodItem.nameId) {\r\n            foodName = getNameFromFoodNameList(ApplicationContext.foodDataCorpus.foodNames,\r\n                selectedFoodItem.foodItem.nameId, languageContext.language)\r\n        } else {\r\n            foodName = 'Individual'\r\n        }\r\n\r\n        if (foodName === null) {\r\n            console.error('No food name available.')\r\n            return\r\n        }\r\n\r\n        selectedFoodItem.component = <FoodDataPage selectedFoodItem={selectedFoodItem}/>\r\n        selectedFoodItem.tab = foodName\r\n        selectedFoodItem.id = selectedFoodItem.foodItem.id\r\n        ApplicationContext?.applicationData.foodDataPanel.addItemToFoodDataPanel(selectedFoodItem)\r\n\r\n        if (ApplicationContext?.debug) {\r\n            console.log('FoodAnalyzerContainer: Set new selected item and execute callback. Selected item = ', selectedFoodItem)\r\n        }\r\n\r\n        props.onNewFoodItemSelected()\r\n    }\r\n\r\n    const onCloseAllTabs = async () => {\r\n        if (await confirmAction(\r\n            applicationStrings.confirm_close_all_tabs[languageContext.language],\r\n            applicationStrings.button_yes[languageContext.language],\r\n            applicationStrings.button_no[languageContext.language],\r\n            {}\r\n        )) {\r\n            ApplicationContext?.applicationData.foodDataPanel.removeAllItemsFromFoodDataPanel()\r\n        }\r\n    }\r\n\r\n    if (ApplicationContext?.debug) {\r\n        console.log('FoodAnalyzerContainer: Render')\r\n    }\r\n\r\n    const selectedFoodItems = ApplicationContext?.applicationData.foodDataPanel.selectedFoodItems\r\n    const deleteIconEnabled = selectedFoodItems && selectedFoodItems.length > 0\r\n\r\n    ReactTooltip.rebuild()\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                {showFoodSelector &&\r\n                <FoodSelectorModal onHide={onHide} selectedFoodItemCallback={onSelectFoodItemSubmit} compositeSelector={false}/>\r\n                }\r\n                { showFoodAggregatedFoodSelector &&\r\n                <FoodSelectorModal onHide={onHide} selectedFoodItemCallback={onSelectFoodItemSubmit} compositeSelector={true}/>\r\n                }\r\n                <div className={\"text-center\"} style={{paddingTop: \"16px\"}}>\r\n                    <Button onClick={() => setShowFoodSelector(!showFoodSelector)}\r\n                            className={\"btn\"}\r\n                            style={{marginRight: \"12px\"}}\r\n                            data-tip={applicationStrings.tooltip_icon_newFoodItem[languageContext.language]}>\r\n                        <FaPlusSquare/>\r\n                    </Button>\r\n                    <Button onClick={() => setShowAggregatedFoodSelector(!showFoodAggregatedFoodSelector)}\r\n                            className={\"btn\"}\r\n                            style={{marginRight: \"12px\"}}\r\n                            data-tip={applicationStrings.tooltip_icon_newFoodItemStack[languageContext.language]}>\r\n                        <FaLayerGroup/>\r\n                    </Button>\r\n                    <Button onClick={() => onCloseAllTabs()}\r\n                            disabled={deleteIconEnabled === false}\r\n                            data-tip={applicationStrings.tooltip_icon_removeAll[languageContext.language]}>\r\n                        <FaTrash/>\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}","import React, {useContext} from \"react\";\r\nimport CloseableTabs from 'react-closeable-tabs';\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\n\r\ninterface TabContainerProps {\r\n    onTabChange: (id: number) => void\r\n    indexToSet: number\r\n}\r\n\r\n// Origin: Vinus Online\r\nexport default function TabContainer(props: TabContainerProps) {\r\n    const applicationData = useContext(ApplicationDataContextStore)\r\n\r\n    const style = {\r\n        buttonTab: {\r\n            border: \"border border-secondary\",\r\n            background: \"none\",\r\n            display: \"inline-flex\",\r\n            verticalAlign: \"middle\",\r\n            minHeight: \"30px\",\r\n            alignItems: \"center\",\r\n            cursor: \"pointer\",\r\n            marginTop: \"-12px\",\r\n            borderBottom: \"2px solid transparent\"\r\n        }\r\n    }\r\n\r\n    if(applicationData?.debug) {\r\n        console.log('TabContainer: Render, food panel data = ', applicationData.applicationData.foodDataPanel.selectedFoodItems)\r\n    }\r\n\r\n    if (!applicationData || !applicationData.applicationData.foodDataPanel.selectedFoodItems) {\r\n        return <div/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <CloseableTabs\r\n                data={applicationData.applicationData.foodDataPanel.selectedFoodItems}\r\n                tabPanelClass=\"tab-panel\"\r\n                tabContentClass=\"tab-content mainPanel\"\r\n                style={style}\r\n                onTabClick={(id) => props.onTabChange(id)}\r\n                activeIndex={applicationData.applicationData.foodDataPanel.selectedFoodItemIndex}\r\n            />\r\n        </div>\r\n    )\r\n}","import FoodAnalyzerContainer from \"./FoodAnalyzerContainer\";\r\nimport {useContext} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport TabContainer from \"./TabContainer\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\n\r\n\r\nexport default function FoodDataPanelContainer() {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n\r\n    if (!applicationContext || !applicationContext.ready) {\r\n        return <div/>\r\n    }\r\n\r\n    const selectedFoodItems = applicationContext.applicationData.foodDataPanel.selectedFoodItems\r\n\r\n    const onTabChange = (foodId) => {\r\n        for (let i = 0; i < selectedFoodItems.length; i++) {\r\n            if (selectedFoodItems[i].id === foodId) {\r\n                applicationContext.applicationData.foodDataPanel.setSelectedFoodTab(i)\r\n            }\r\n        }\r\n    }\r\n\r\n    const onNewFoodItemSelected = (): void => {\r\n        const newTabIndex = applicationContext.applicationData.foodDataPanel.selectedFoodItems.length - 1\r\n        applicationContext.applicationData.foodDataPanel.setSelectedFoodTab(newTabIndex)\r\n    }\r\n\r\n    const selectedTabIndex = applicationContext.applicationData.foodDataPanel.selectedFoodItemIndex\r\n\r\n    if (!(selectedTabIndex >= 0)) {\r\n        return <div/>\r\n    }\r\n\r\n    const selectedFoodItem = applicationContext.applicationData.foodDataPanel.selectedFoodItems[selectedTabIndex]\r\n\r\n    if (applicationContext.debug) {\r\n        console.log('FoodDataPanelContainer: Render, selected food item = ', selectedFoodItem)\r\n    }\r\n\r\n    return <div>\r\n        {selectedFoodItem !== null &&\r\n        <div className=\"container-fluid\" style={{paddingTop: \"20px\"}}>\r\n            <div className=\"row\">\r\n                <div className={\"col-2\"}>\r\n                    <FoodAnalyzerContainer onNewFoodItemSelected={onNewFoodItemSelected}/>\r\n                </div>\r\n                <div className=\"col-10 media app\" style={{maxWidth: \"1100px\", marginTop: \"-10px\"}}>\r\n                    {selectedFoodItems && selectedFoodItems.length > 0 ?\r\n                        <div>\r\n                            <TabContainer indexToSet={selectedTabIndex} onTabChange={onTabChange}/>\r\n                        </div>\r\n                        :\r\n                        <div style={{padding: \"24px\"}}>\r\n                            <i>\r\n                                {applicationStrings.text_empty_fooddatapanel[languageContext.language]}\r\n                            </i>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n        }\r\n    </div>\r\n\r\n\r\n}","export default \"data:image/png;base64,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\"","import logo from '../static/image/logo.png'\r\nimport text from '../static/image/text.png'\r\nimport {Button} from \"react-bootstrap\";\r\nimport {\r\n    LANGUAGE_DE,\r\n    LANGUAGE_EN,\r\n    PATH_FOODDATA_PANEL,\r\n    PATH_HOME,\r\n    PATH_CONTACT,\r\n    PATH_USERSETTINGS, PATH_MOBILE_APP, PATH_DIRECT_COMPARE, PATH_FOODCOMPARE\r\n} from \"../config/Constants\";\r\nimport {useContext} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../contexts/ApplicationDataContext\";\r\nimport {applicationStrings} from \"../static/labels\";\r\nimport {LanguageContext} from \"../contexts/LangContext\";\r\nimport {Link} from 'react-router-dom';\r\nimport {useLocation} from 'react-router-dom';\r\n\r\n\r\nexport default function Header() {\r\n    const applicationData = useContext(ApplicationDataContextStore)\r\n    const {language, userLanguageChange} = useContext(LanguageContext)\r\n    const location = useLocation();\r\n\r\n    if (applicationData === null) {\r\n        return <div/>\r\n    }\r\n\r\n    const handleLanguageButtonClick = (event: any): void => {\r\n        userLanguageChange(event.target.value)\r\n        applicationData.applicationData.foodDataPanel.updateAllFoodItemNames(applicationData.foodDataCorpus.foodNames, event.target.value)\r\n    }\r\n\r\n    const activePath = location.pathname && location.pathname !== \"/\" ? location.pathname : PATH_HOME\r\n\r\n    const renderMenus = () => {\r\n        return (\r\n            <div className=\"btn-group\" role=\"group\">\r\n                <div className=\"header-menu\">\r\n                    <Link to={PATH_HOME}>\r\n                        <Button className=\"header-link\"\r\n                                value={PATH_HOME}\r\n                                variant={'link'}\r\n                                active={activePath === PATH_HOME || activePath === PATH_FOODCOMPARE}>\r\n                            {applicationStrings.menu_home[language]}\r\n                        </Button>\r\n                    </Link>\r\n                </div>\r\n                <div className=\"header-menu\">\r\n                    <Link to={PATH_FOODDATA_PANEL}>\r\n                        <Button className=\"header-link\"\r\n                                value={PATH_FOODDATA_PANEL}\r\n                                variant={'link'}\r\n                                active={activePath === PATH_FOODDATA_PANEL}>\r\n                            {applicationStrings.menu_food_data_panel[language]}\r\n                        </Button>\r\n                    </Link>\r\n                </div>\r\n                <div className=\"header-menu\">\r\n                    <Link to={PATH_DIRECT_COMPARE}>\r\n                        <Button className=\"header-link\"\r\n                                value={PATH_DIRECT_COMPARE}\r\n                                variant={'link'}\r\n                                active={activePath === PATH_DIRECT_COMPARE}>\r\n                            {applicationStrings.menu_direct_compare[language]}\r\n                        </Button>\r\n                    </Link>\r\n                </div>\r\n                {/*<div className=\"header-menu\">*/}\r\n                {/*    <Button className=\"blink header-link\"*/}\r\n                {/*            value={MENU_RANKING}*/}\r\n                {/*            variant={'link'}*/}\r\n                {/*            active={props.selectedMenu === MENU_RANKING}*/}\r\n                {/*            onClick={props.changeMenu}>*/}\r\n                {/*        {applicationStrings.menu_ranking[language]}*/}\r\n                {/*    </Button>*/}\r\n                {/*</div>*/}\r\n                <div className=\"header-menu\">\r\n                    <Link to={PATH_MOBILE_APP}>\r\n                        <Button className=\"header-link\"\r\n                                value={PATH_MOBILE_APP}\r\n                                variant={'link'}\r\n                                active={activePath === PATH_MOBILE_APP}>\r\n                            {applicationStrings.menu_mobile_app[language]}\r\n                        </Button>\r\n                    </Link>\r\n                </div>\r\n                <div className=\"header-menu\">\r\n                    <Link to={PATH_USERSETTINGS}>\r\n                        <Button className=\"link header-link\"\r\n                                value={PATH_USERSETTINGS}\r\n                                variant={'link'}\r\n                                active={activePath === PATH_USERSETTINGS}>\r\n                            {applicationStrings.menu_settings[language]}\r\n                        </Button>\r\n                    </Link>\r\n                </div>\r\n                <div className=\"header-menu\">\r\n                    <Link to={PATH_CONTACT}>\r\n                        <Button className=\"link header-link\"\r\n                                variant={'link'}\r\n                                value={PATH_CONTACT}\r\n                                active={activePath === PATH_CONTACT}>\r\n                            {applicationStrings.menu_contact[language]}\r\n                        </Button>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    const renderLanguageButtons = () => {\r\n        return (\r\n            <div className=\"form-language text-right\">\r\n                <form className=\"form-group\">\r\n                    <label className=\"form-elements\">\r\n                        <b>{applicationStrings.label_language[language]}</b>\r\n                    </label>\r\n                    <label className=\"form-elements\">\r\n                        <input className=\"form-radiobutton\"\r\n                               type=\"radio\"\r\n                               value={LANGUAGE_EN}\r\n                               checked={language === LANGUAGE_EN}\r\n                               onChange={handleLanguageButtonClick}\r\n                        />\r\n                        {applicationStrings.checkbox_english[language]}\r\n                    </label>\r\n                    <label className=\"form-elements-largespace\">\r\n                        <input className=\"form-radiobutton\"\r\n                               type=\"radio\"\r\n                               value={LANGUAGE_DE}\r\n                               checked={(language === LANGUAGE_DE)}\r\n                               onChange={handleLanguageButtonClick}\r\n                        />\r\n                        {applicationStrings.checkbox_german[language]}\r\n                    </label>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row header\">\r\n                <div className=\"col-1\"\r\n                     style={{paddingLeft: \"10px\", paddingTop: \"8px\", minWidth: \"120px\", maxWidth: \"120px\"}}>\r\n                    <img src={logo}/>\r\n                </div>\r\n                <div className=\"col\">\r\n                    <div className=\"container-fluid\">\r\n                        <div className=\"row\" float-start>\r\n                            <div className=\"col-5 text-start\" style={{paddingTop: \"5px\"}}>\r\n                                <img src={text}/>\r\n                            </div>\r\n                            <div className=\"col text-end\" style={{paddingTop: \"6px\"}}>\r\n                                {renderLanguageButtons()}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\" style={{marginTop: \"3px\"}}>\r\n                            <div className=\"col-md-12 text-start\">\r\n                                {renderMenus()}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}","export default \"data:image/png;base64,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\"","import React, {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../contexts/ApplicationDataContext\";\r\nimport {LanguageContext} from \"../contexts/LangContext\";\r\nimport {SEX_FEMALE, SEX_MALE} from \"../config/Constants\";\r\nimport {UserData} from \"../types/livedata/UserData\";\r\nimport {\r\n    initialUserDataAge,\r\n    initialUserDataBreastfeeding,\r\n    initialUserDataLeisureSports,\r\n    initialUserDataPregnant,\r\n    initialUserDataSex,\r\n    initialUserDataSize,\r\n    initialUserDataWeight\r\n} from \"../config/ApplicationSetting\";\r\nimport {applicationStrings} from \"../static/labels\";\r\nimport {NotificationManager} from 'react-notifications'\r\nimport 'react-notifications/lib/notifications.css';\r\nimport {Form, FormControl, FormGroup} from \"react-bootstrap\";\r\nimport Select from 'react-select';\r\nimport {getPalCategories, getPalCategory} from \"../service/calculation/EnergyService\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport ReactSelectOption from \"../types/ReactSelectOption\";\r\nimport {isSmallScreen, useWindowDimension} from \"../service/WindowDimension\";\r\n\r\nexport function UserSettings() {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n\r\n    const [age, setAge] = useState<number>(initialUserDataAge)\r\n    const [size, setSize] = useState<number>(initialUserDataSize)\r\n    const [weight, setWeight] = useState<number>(initialUserDataWeight)\r\n    const [sex, setSex] = useState<string>(initialUserDataSex)\r\n    const [pregnant, setPregnant] = useState<boolean>(initialUserDataPregnant)\r\n    const [breastFeeding, setBreastFeeding] = useState<boolean>(initialUserDataBreastfeeding)\r\n    const [palValue, setPalValue] = useState<ReactSelectOption | null>(null)\r\n    const [leisureSport, setLeisureSport] = useState<boolean>(initialUserDataLeisureSports)\r\n\r\n    const windowSize = useWindowDimension()\r\n\r\n    useEffect(() => {\r\n        if(applicationContext) {\r\n            setAge(applicationContext.userData.age)\r\n            setSize(applicationContext.userData.size)\r\n            setWeight(applicationContext.userData.weight)\r\n            setSex(applicationContext.userData.sex)\r\n            setPregnant(applicationContext.userData.pregnant)\r\n            setBreastFeeding(applicationContext.userData.breastFeeding)\r\n            setLeisureSport(applicationContext.userData.leisureSports)\r\n        }\r\n    }, [])\r\n\r\n    const changeAge = (event: any) => {\r\n        setAge(event.target.value)\r\n    }\r\n\r\n    const changeSize = (event: any) => {\r\n        setSize(event.target.value)\r\n    }\r\n\r\n    const changeWeight = (event: any) => {\r\n        setWeight(event.target.value)\r\n    }\r\n\r\n    const handleRadioButtonClick = (event: any) => {\r\n        const value = event.target.value;\r\n        const sex = value === SEX_MALE ? SEX_MALE : SEX_FEMALE;\r\n        if (sex === SEX_MALE) {\r\n            setPregnant(false)\r\n            setBreastFeeding(false)\r\n        }\r\n        setSex(sex)\r\n    }\r\n\r\n    const changePregnant = (event: any) => {\r\n        setPregnant(!pregnant)\r\n    }\r\n\r\n    const changeBreastFeeding = (event: any) => {\r\n        setBreastFeeding(!breastFeeding)\r\n    }\r\n\r\n    const changeAdditionalPalPorts = (event: any) => {\r\n        setLeisureSport(!leisureSport)\r\n    }\r\n\r\n    const changePalValue = (value: ReactSelectOption) => {\r\n        setPalValue(value)\r\n    }\r\n\r\n    const submitUserData = () => {\r\n        if (!applicationContext) {\r\n            return\r\n        }\r\n\r\n        const userData: UserData = {\r\n            age: age,\r\n            size: size,\r\n            weight: weight,\r\n            sex: sex,\r\n            pregnant: pregnant,\r\n            breastFeeding: breastFeeding,\r\n            palValue: palValue ? palValue.value : applicationContext.userData.palValue,\r\n            leisureSports: leisureSport,\r\n            initialValues: false\r\n        }\r\n\r\n        const inputOk = checkInputValidity(userData)\r\n\r\n        if (inputOk) {\r\n            applicationContext.setUserData(userData)\r\n            NotificationManager.success(applicationStrings.message_userdata_success[lang])\r\n        }\r\n    }\r\n\r\n\r\n    const checkInputValidity = (userData: UserData) => {\r\n        const {age, size, weight} = userData\r\n\r\n        if (age != null && (age < 15 || age > 100)) {\r\n            showMessage(applicationStrings.message_userdata_error_age[lang]);\r\n            return false;\r\n        } else if (size != null && (size < 80 || size > 225)) {\r\n            showMessage(applicationStrings.message_userdata_error_size[lang]);\r\n            return false;\r\n        } else if (weight != null && (weight < 30 || weight > 250)) {\r\n            showMessage(applicationStrings.message_userdata_error_weight[lang]);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    const showMessage = (message: string) => {\r\n        NotificationManager.error(message)\r\n    }\r\n\r\n    const selectClass = isSmallScreen(windowSize) ? \"form-control-sm\" : \"\"\r\n    const inputClass =  isSmallScreen(windowSize) ? \"form-control form-control-sm input-sm\" : \"form-control input\"\r\n\r\n    const renderTextField = (label, value, callback) => {\r\n        return (\r\n            <div className=\"form-row\">\r\n                <Form.Label className=\"form-label\">{label}:</Form.Label>\r\n                <FormControl\r\n                    className={inputClass}\r\n                    type=\"text\"\r\n                    value={value}\r\n                    onChange={callback}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const renderSexRadioButtons = () => {\r\n        return (\r\n            <div className=\"form-row-indent\">\r\n                <Form.Label className=\"form-elements\">\r\n                    <Form.Check type=\"radio\"\r\n                                inline={true}\r\n                                label={applicationStrings.label_userSettings_sex_male[lang]}\r\n                                value={SEX_MALE}\r\n                                checked={(sex === SEX_MALE)}\r\n                                onChange={handleRadioButtonClick}\r\n                    />\r\n                </Form.Label>\r\n                <Form.Label className=\"form-elements-largespace\">\r\n                    <Form.Check type=\"radio\"\r\n                                inline={true}\r\n                                label={applicationStrings.label_userSettings_sex_female[lang]}\r\n                                value={SEX_FEMALE}\r\n                                checked={(sex !== SEX_MALE)}\r\n                                onChange={handleRadioButtonClick}\r\n                    />\r\n                </Form.Label>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const renderFemaleCheckboxes = () => {\r\n        return (\r\n            <div className=\"form\" style={{marginLeft: \"48px\", marginBottom: \"10px\"}}>\r\n                <div>\r\n                    <Form.Check inline className=\"form-radiobutton\"\r\n                                checked={pregnant === true}\r\n                                disabled={sex === SEX_MALE}\r\n                                label={applicationStrings.label_userSettings_pregnant[lang]}\r\n                                onClick={changePregnant}>\r\n                    </Form.Check>\r\n                </div>\r\n                <div>\r\n                    <Form.Check inline className=\"form-radiobutton\"\r\n                                checked={breastFeeding === true}\r\n                                disabled={sex === SEX_MALE}\r\n                                label={applicationStrings.label_userSettings_breastfeeding[lang]}\r\n                                onClick={changeBreastFeeding}>\r\n                    </Form.Check>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    const renderPalList = (userData: UserData) => {\r\n        const palCategories = getPalCategories(lang);\r\n        if (!palCategories) {\r\n            return <div/>\r\n        }\r\n\r\n        if (!palValue) {   // Initialize pal value first time\r\n            let userDataPalValue = palCategories.find(palObject => palObject.value === userData.palValue)\r\n            if (!userDataPalValue) {\r\n                console.error('Error: Pal object could not be determined.')\r\n                userDataPalValue = palCategories[0]\r\n            }\r\n            setPalValue(userDataPalValue)\r\n        }\r\n\r\n        if (!palValue) {\r\n            return <div/>\r\n        }\r\n\r\n        const descriptionCode = `palcat_desc_${getPalCategory(palValue.value)}`\r\n        const description = applicationStrings[descriptionCode][lang];\r\n\r\n        return (\r\n            <div className=\"form-row\">\r\n                <div style={{width: \"450px\", paddingTop: \"30px\"}}>\r\n                    <label className=\"form-label\">{applicationStrings.label_userSettings_palValue[lang]}:</label>\r\n                    <Select className={selectClass}\r\n                            options={palCategories}\r\n                            value={palValue}\r\n                            onChange={(value) => changePalValue(value)}\r\n                    />\r\n                </div>\r\n                <p className=\"app\">\r\n                    {description}\r\n                </p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    const renderActivityCheckboxes = () => {\r\n        return (\r\n            <div className=\"form-row-indent\" style={{marginTop: \"-15px\"}}>\r\n                <label className=\"form-elements\"\r\n                       data-tip={applicationStrings.label_userSettings_leisureSports_tooltip[lang]}>\r\n                    <ReactTooltip/>\r\n                    <Form.Check inline className=\"form-radiobutton\"\r\n                                label={applicationStrings.label_userSettings_leisureSports[lang]}\r\n                                checked={leisureSport === true}\r\n                                onClick={changeAdditionalPalPorts}>\r\n                    </Form.Check>\r\n                </label>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const renderSubmitButton = () => {\r\n        return (\r\n            <div className=\"text-center\">\r\n                <button type=\"button\"\r\n                        className=\"btn btn-primary button-base\"\r\n                        onClick={() => submitUserData()}>\r\n                    {applicationStrings.button_submit[lang]}\r\n                </button>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const value_age = (age != null) ? age : initialUserDataAge\r\n    const value_size = (size != null) ? size : initialUserDataSize\r\n    const value_weight = (weight != null) ? weight : initialUserDataWeight\r\n\r\n    return (\r\n        <div className=\"container\" style={{paddingTop: \"24px\"}}>\r\n            <div className=\"row userDataSettings\">\r\n                <div className=\"col-12\">\r\n                    <form>\r\n                        <FormGroup controlId=\"formBasicText\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-6\">\r\n                                    {renderTextField(applicationStrings.label_userSettings_age[lang], value_age, changeAge)}\r\n                                    {renderTextField(applicationStrings.label_userSettings_size[lang], value_size, changeSize)}\r\n                                    {renderTextField(applicationStrings.label_userSettings_weight[lang], value_weight, changeWeight)}\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <Form.Label className=\"form-label\" style={{paddingLeft: \"20px\"}}>\r\n                                        {applicationStrings.label_userSettings_sex[lang]}\r\n                                    </Form.Label>\r\n                                    {renderSexRadioButtons()}\r\n                                    {renderFemaleCheckboxes()}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                {renderPalList(applicationContext.userData)}\r\n                                {renderActivityCheckboxes()}\r\n                            </div>\r\n                        </FormGroup>\r\n                        {renderSubmitButton()}\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}","export default __webpack_public_path__ + \"static/media/impressum-german.92ba80d6.png\";","export default __webpack_public_path__ + \"static/media/impressum-english.f6495d9a.png\";","import {useContext} from \"react\";\r\nimport {LanguageContext} from \"../contexts/LangContext\";\r\nimport {applicationStrings} from \"../static/labels\";\r\nimport {LANGUAGE_DE} from \"../config/Constants\";\r\n\r\nimport impressum_de from '../static/image/impressum-german.png';\r\nimport impressum_en from '../static/image/impressum-english.png';\r\nimport {buildDate, release} from \"../config/ApplicationSetting\";\r\n\r\nexport function Contact() {\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n\r\n    const renderDisclaimer = () => {\r\n        return(\r\n            <div>\r\n                <p>\r\n                    <b>{applicationStrings.text_contact_disclaimer1[lang]}</b>\r\n                </p>\r\n                <p>\r\n                    <i>\r\n                        {applicationStrings.text_contact_disclaimer2[lang]}\r\n                    </i>\r\n                </p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const renderSources = () => {\r\n        return (\r\n            <div style={{paddingTop: \"50px\"}}>\r\n                <h4>{applicationStrings.text_contact_source1[lang]}</h4>\r\n                <h5>{applicationStrings.text_contact_source2[lang]}</h5>\r\n                <p>United States Department of Agriculture (USDA)</p>\r\n                <h5>{applicationStrings.text_contact_source3[lang]}</h5>\r\n                <p>Deutsche Gesellschaft für Ernährung e.V.</p>\r\n                <h5>{applicationStrings.text_contact_source4[lang]}</h5>\r\n                <p>Prakash S. Shetty, Christiani J. K. Henry, Alison E. Black and A. M. Prentice:<br/>\r\n                    \"Energy requirements of adults: an update on basal metabolic rates (BMRs) and physical activity levels (PALs).\",<br/>\r\n                    European journal of clinical nutrition (1996), Volume 50, Suppl 1, pp. 11-23\r\n                </p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    const impressumPath = lang === LANGUAGE_DE ? impressum_de : impressum_en;\r\n\r\n    return(\r\n        <div className=\"container-fluid\"  style={{paddingLeft: \"50px\", paddingTop: \"20px\"}}>\r\n            <div className=\"row\">\r\n                <div className=\"col-6\" style={{paddingBottom: \"40px\", paddingRight: \"80px\"}}>\r\n                    <div>\r\n                        <h1>\r\n                            Food Compare\r\n                        </h1>\r\n                        <h6>\r\n                            Version {release}\r\n                        </h6>\r\n                        <h6>\r\n                            Build time: {buildDate}\r\n                        </h6>\r\n                    </div>\r\n                    <div style={{paddingTop: \"50px\"}}>\r\n                        {renderDisclaimer()}\r\n                        {renderSources()}\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-6\">\r\n                    <div style={{height: '180px'}}>\r\n                        <img src={impressumPath} style={{height: '180px'}} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}","import {useContext, useState} from \"react\";\r\nimport {LanguageContext} from \"../contexts/LangContext\";\r\nimport {Carousel} from 'react-responsive-carousel';\r\nimport {applicationStrings} from \"../static/labels\";\r\n\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\r\nimport {Link} from 'react-router-dom';\r\nimport {PATH_FOODDATA_PANEL} from \"../config/Constants\";\r\n\r\nconst images = require.context('../static/image/carousel', true);\r\n\r\n\r\nexport function Home() {\r\n    const languageContext = useContext(LanguageContext)\r\n    const [displayedImage, setDisplayedImage] = useState<number>(0)\r\n\r\n    const imageChanged = (image) => {\r\n        setDisplayedImage(image)\r\n    }\r\n\r\n    const renderCarousel = () => {\r\n        let langKey = languageContext.language\r\n\r\n        const pic1 = images(`./Img-${langKey}-1.png`).default;\r\n        const pic2 = images(`./Img-${langKey}-2.png`).default;\r\n        const pic3 = images(`./Img-${langKey}-3.png`).default;\r\n        const pic4 = images(`./Img-${langKey}-4.png`).default;\r\n        const pic5 = images(`./Img-${langKey}-5.png`).default;\r\n        const pic6 = images(`./Img-${langKey}-6.png`).default;\r\n\r\n        const captionAttribute = `home_carousel_${displayedImage}`;\r\n        const imageCaption = applicationStrings[captionAttribute][languageContext.language];\r\n\r\n        return (\r\n            <div style={{paddingTop: \"20px\", paddingBottom: \"50px\"}}>\r\n                <Carousel showArrows={true}\r\n                          infiniteLoop={true} autoPlay={true}\r\n                          interval={6000}\r\n                          transitionTime={800}\r\n                          selectedItem={displayedImage}\r\n                          onChange={imageChanged}>\r\n                    <div>\r\n                        <img src={pic1}/>\r\n                    </div>\r\n                    <div>\r\n                        <img src={pic2}/>\r\n                    </div>\r\n                    <div>\r\n                        <img src={pic3}/>\r\n                    </div>\r\n                    <div>\r\n                        <img src={pic4}/>\r\n                    </div>\r\n                    <div>\r\n                        <img src={pic5}/>\r\n                    </div>\r\n                    <div>\r\n                        <img src={pic6}/>\r\n                    </div>\r\n                </Carousel>\r\n                <div style={{textAlign: \"center\", fontStyle: \"oblique\"}}>\r\n                    {imageCaption}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    const renderStartButton = () => {\r\n        return (\r\n            <div className=\"text-center\">\r\n                <Link to={PATH_FOODDATA_PANEL}>\r\n                <button type=\"button\"\r\n                        className=\"btn btn-warning button-apply media app\"\r\n                        style={{minWidth: \"150px\"}}>\r\n\t\t\t\t\t<span className={\"media app\"} style={{fontWeight: \"bold\"}}>\r\n\t\t\t\t\t\t{applicationStrings.button_getstarted[languageContext.language]}\r\n\t\t\t\t\t</span>\r\n                </button>\r\n                </Link>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"media home app\" style={{margin: \"0 auto\"}}>\r\n            <div className={\"container-fluid\"}>\r\n                <div className=\"row\">\r\n                    <div className={\"col-5\"}>\r\n                        <p>{applicationStrings.home_text_1[languageContext.language]}</p>\r\n                        <div style={{paddingTop: \"20px\", paddingBottom: \"60px\"}}>\r\n                            {renderStartButton()}\r\n                        </div>\r\n                        <p>{applicationStrings.home_text_2[languageContext.language]}</p>\r\n                        <p>{applicationStrings.home_text_3[languageContext.language]}</p>\r\n                    </div>\r\n                    <div className={\"col-7\"} style={{paddingLeft: \"45px\"}}>\r\n                        {renderCarousel()}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}","export default __webpack_public_path__ + \"static/media/app.efc3a150.png\";","import {useContext} from \"react\";\r\nimport {LanguageContext} from \"../contexts/LangContext\";\r\nimport {applicationStrings} from \"../static/labels\";\r\n\r\nimport appPath from '../static/image/app.png';\r\nimport {mobileAppPath} from \"../config/ApplicationSetting\";\r\n\r\nexport function FoodCompareApp() {\r\n    const languageContext = useContext(LanguageContext)\r\n\r\n    const linkToPlayStore = () => {\r\n        const link = window.open(mobileAppPath, '_blank')\r\n        if(link) {\r\n            link.focus()\r\n        } else {\r\n            window.location.href = mobileAppPath\r\n        }\r\n    }\r\n\r\n    return <div className={\"container media app\"} style={{paddingTop: \"24px\"}}>\r\n        <div className={\"row\"}>\r\n            <div className={\"col-6\"}>\r\n                {applicationStrings.text_foodcompareapp_1[languageContext.language]}\r\n                <div className=\"text-center\" style={{paddingTop: \"32px\"}}>\r\n                    <button type=\"button\"\r\n                            className=\"btn btn-warning btn-small button-apply media app\"\r\n                            onClick={linkToPlayStore}\r\n                            style={{minWidth: \"250px\"}}>\r\n\t\t\t\t\t<span className={\"media app\"} style={{fontWeight: \"bold\"}}>\r\n\t\t\t\t\t\t{applicationStrings.text_foodcompareapp_2[languageContext.language]}\r\n\t\t\t\t\t</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div className={\"col-6\"}>\r\n                <img src={appPath} className={\"media mobile-app-img\"}/>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n}","import React, {useContext, useEffect, useState} from \"react\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport FoodSelector from \"./FoodSelector\";\r\nimport {Button, Card, CardDeck} from \"react-bootstrap\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {direct_compare_color1, direct_compare_color2} from \"../../config/ChartConfig\";\r\n\r\ninterface DirectCompareSelectorProps {\r\n    updateSelectedFoodItems: (selectedFoodItem1: SelectedFoodItem, selectedFoodItem2: SelectedFoodItem) => void\r\n}\r\n\r\nconst STATUS_FIRST_TIME = \"first time\"\r\nconst STATUS_NOT_UPDATED = \"not updated\"\r\nconst STATUS_UPDATED = \"updated\"\r\n\r\nexport function DirectCompareSelector(props: DirectCompareSelectorProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const language = languageContext.language\r\n\r\n    const initialItem1 = applicationContext && applicationContext.applicationData.directCompareDataPanel.selectedFoodItem1\r\n        ? applicationContext && applicationContext.applicationData.directCompareDataPanel.selectedFoodItem1\r\n        : null\r\n\r\n    const initialItem2 = applicationContext && applicationContext.applicationData.directCompareDataPanel.selectedFoodItem2\r\n        ? applicationContext && applicationContext.applicationData.directCompareDataPanel.selectedFoodItem2\r\n        : null\r\n\r\n    console.log('STATUS:', initialItem1)\r\n\r\n    const [selectedFoodItem1, setSelectedFoodItem1] = useState<SelectedFoodItem | null>(initialItem1)\r\n    const [selectedFoodItem2, setSelectedFoodItem2] = useState<SelectedFoodItem | null>(initialItem2)\r\n    const [displayStatus, setDisplayStatus] = useState<string>(STATUS_FIRST_TIME)\r\n\r\n    useEffect(() => {\r\n    }, [selectedFoodItem1, selectedFoodItem2])\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const updateSelectedFoodItem1 = (selectedFoodItem: SelectedFoodItem): void => {\r\n        setSelectedFoodItem1(selectedFoodItem)\r\n        if(displayStatus !== STATUS_FIRST_TIME) {\r\n            setDisplayStatus(STATUS_UPDATED)\r\n        }\r\n    }\r\n\r\n    const updateSelectedFoodItem2 = (selectedFoodItem: SelectedFoodItem): void => {\r\n        setSelectedFoodItem2(selectedFoodItem)\r\n        if(displayStatus !== STATUS_FIRST_TIME) {\r\n            setDisplayStatus(STATUS_UPDATED)\r\n        }\r\n    }\r\n\r\n    const onSubmit = () => {\r\n        if(selectedFoodItem1 && selectedFoodItem2) {\r\n            props.updateSelectedFoodItems(selectedFoodItem1, selectedFoodItem2)\r\n        }\r\n\r\n        setDisplayStatus(STATUS_NOT_UPDATED)\r\n    }\r\n\r\n\r\n    const renderFoodSelectorCard = (foodSelectorNumber: number) => {\r\n        const updateSelectedFoodItem = foodSelectorNumber === 1 ? updateSelectedFoodItem1 : updateSelectedFoodItem2\r\n        const styleClass = foodSelectorNumber === 1 ? {backgroundColor: direct_compare_color1} : {backgroundColor: direct_compare_color2}\r\n        const initialFoodClassToSet = foodSelectorNumber -1\r\n\r\n        const selectedFoodItem = foodSelectorNumber === 1 ? selectedFoodItem1 : selectedFoodItem2\r\n\r\n        return <div style={{paddingTop: \"32px\"}}>\r\n            <Card style={styleClass}>\r\n                <Card.Header>\r\n                    {applicationStrings.label_food[language]} {foodSelectorNumber}\r\n                </Card.Header>\r\n                <CardDeck>\r\n                    <FoodSelector updateSelectedFoodItem={updateSelectedFoodItem}\r\n                                  smallVariant={true}\r\n                                  noCategorySelect={true}\r\n                                  initialFoodClassToSet={initialFoodClassToSet}\r\n                                  selectedFoodItem={selectedFoodItem}\r\n                    />\r\n                </CardDeck>\r\n            </Card>\r\n        </div>\r\n    }\r\n\r\n    const buttonName = displayStatus === STATUS_FIRST_TIME ? applicationStrings.button_show[language] : applicationStrings.button_update[language]\r\n\r\n    return <div>\r\n        {renderFoodSelectorCard(1)}\r\n        {renderFoodSelectorCard(2)}\r\n        <div style={{paddingTop: \"20px\", paddingBottom: \"64px\"}}>\r\n            <Button className={\"form-button float-end\"}\r\n                    disabled={displayStatus === STATUS_NOT_UPDATED}\r\n                    onClick={onSubmit}>\r\n                {buttonName}\r\n            </Button>\r\n        </div>\r\n    </div>\r\n}","import {determineFoodRequirementRatio, determineProteinRequirementRatio} from \"./DietaryRequirementService\";\r\nimport {UserData} from \"../../types/livedata/UserData\";\r\n\r\n/**\r\n * Determines the maximum vitamin or mineral or protein value of a food item (referring to the daily dietary requirements).\r\n */\r\nexport function getMaximumValue(dataSet: any, amount: number, requirementData: any, userData: UserData, proteins?: boolean) {\r\n    let maxValue = 0\r\n    for (let dataSetKey in dataSet) {\r\n        if (requirementData[dataSetKey]) {\r\n            const ratioValue = proteins === true\r\n                ? determineProteinRequirementRatio(requirementData[dataSetKey], dataSet[dataSetKey], amount, userData)\r\n                : determineFoodRequirementRatio(requirementData[dataSetKey], dataSet[dataSetKey], amount, userData)\r\n            if (ratioValue > maxValue) {\r\n                maxValue = ratioValue\r\n            }\r\n        }\r\n    }\r\n    return maxValue\r\n}\r\n\r\n/**\r\n * Given two data sets of vitamins, minerals or proteins, this method nullifies each value if it does not occur in\r\n * both data sets. This can be used as part of the synchronization process where two bar charts should contain the\r\n * exact same amount of columns.\r\n */\r\nexport function nullifyIncompleValues(dataSet1: any, dataSet2: any) {\r\n    for (let dataSetKey in dataSet1) {\r\n        const value = dataSet1[dataSetKey]\r\n        if(value === null && dataSet2[dataSetKey]) {\r\n            dataSet2[dataSetKey] = null\r\n        } else if(value !== null && (dataSet2[dataSetKey] === null || dataSet2[dataSetKey] === undefined)) {\r\n            dataSet1[dataSetKey] = null\r\n        }\r\n    }\r\n\r\n    for (let dataSetKey in dataSet2) {\r\n        const value = dataSet2[dataSetKey]\r\n        if(value === null && dataSet2[dataSetKey]) {\r\n            dataSet2[dataSetKey] = null\r\n        } else if(value !== null && (dataSet1[dataSetKey] === null || dataSet1[dataSetKey] === undefined)) {\r\n            dataSet2[dataSetKey] = null\r\n        }\r\n    }\r\n}","import MineralVitaminChart from \"../fooddatapanel/charts/MineralVitaminChart\";\r\nimport {CHART_VITAMINS} from \"../../config/Constants\";\r\nimport {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {BarChartConfigurationForm} from \"../charthelper/BarChartConfigurationForm\";\r\nimport {roundToNextValue} from \"../../service/calculation/MathService\";\r\nimport {getMaximumValue, nullifyIncompleValues} from \"../../service/calculation/NutrientCalculationService\";\r\nimport {direct_compare_color1, direct_compare_color2} from \"../../config/ChartConfig\";\r\nimport {initialDirectCompareConfigData} from \"../../config/ApplicationSetting\";\r\nimport {Card} from \"react-bootstrap\";\r\nimport {DC_MineralVitaminChartProps} from \"../../types/livedata/ChartPropsData\";\r\nimport {useWindowDimension} from \"../../service/WindowDimension\";\r\nimport {calculateChartContainerHeight} from \"../../service/nutrientdata/ChartSizeCalculation\";\r\n\r\nexport function DC_MineralVitaminChart(props: DC_MineralVitaminChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const windowSize = useWindowDimension()\r\n\r\n    const chartConfigVitamins = applicationContext\r\n        ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.vitaminChartConfig\r\n        : initialDirectCompareConfigData.vitaminChartConfig\r\n\r\n    const chartConfigMinerals = applicationContext\r\n        ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.mineralChartConfig\r\n        : initialDirectCompareConfigData.mineralChartConfig\r\n\r\n    const [portionType_vitamins, setPortionType_vitamins] = useState<string>(chartConfigVitamins.portionType)\r\n    const [portionType_minerals, setPortionType_minerals] = useState<string>(chartConfigMinerals.portionType)\r\n    const [expand100_vitamins, setExpand100_vitamins] = useState<boolean>(chartConfigVitamins.expand100)\r\n    const [expand100_minerals, setExpand100_minerals] = useState<boolean>(chartConfigMinerals.expand100)\r\n    const [synchronizeVitamins, setSynchronizeVitamins] = useState<boolean>(chartConfigVitamins.synchronize)\r\n    const [synchronizeMinerals, setSynchronizeMinerals] = useState<boolean>(chartConfigMinerals.synchronize)\r\n\r\n    const [containerHeight, setContainerHeight] = useState<number>(calculateChartContainerHeight(windowSize, true))\r\n\r\n    useEffect(() => {\r\n        updateChartConfig()\r\n        setContainerHeight(calculateChartContainerHeight(windowSize, true))\r\n    }, [portionType_minerals, portionType_vitamins, synchronizeVitamins, synchronizeMinerals, expand100_vitamins, expand100_minerals, containerHeight])\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const updateChartConfig = () => {\r\n        if (applicationContext) {\r\n            const newChartConfig = {\r\n                ...applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart,\r\n                vitaminChartConfig: {\r\n                    portionType: portionType_vitamins,\r\n                    expand100: expand100_vitamins,\r\n                    synchronize: synchronizeVitamins\r\n                },\r\n                mineralChartConfig: {\r\n                    portionType: portionType_minerals,\r\n                    expand100: expand100_minerals,\r\n                    synchronize: synchronizeMinerals\r\n                }\r\n            }\r\n            applicationContext.applicationData.directCompareDataPanel.updateDirectCompareChartConfig(newChartConfig)\r\n        }\r\n    }\r\n\r\n    const requirementData = props.selectedSubChart === CHART_VITAMINS\r\n        ? applicationContext.foodDataCorpus.dietaryRequirements?.vitaminRequirementData\r\n        : applicationContext.foodDataCorpus.dietaryRequirements?.mineralRequirementData\r\n\r\n    if (!requirementData) {\r\n        return <div></div>\r\n    }\r\n\r\n    const handleRadioButtonClick = (event: any): void => {\r\n        props.selectedSubChart === CHART_VITAMINS ? setPortionType_vitamins(event.target.value) : setPortionType_minerals(event.target.value)\r\n    }\r\n\r\n    const handleExpandCheckbox = () => {\r\n        props.selectedSubChart === CHART_VITAMINS ? setExpand100_vitamins(!expand100_vitamins) : setExpand100_minerals(!expand100_minerals)\r\n    }\r\n\r\n    const handleSynchronize = () => {\r\n        props.selectedSubChart === CHART_VITAMINS ? setSynchronizeVitamins(!synchronizeVitamins) : setSynchronizeMinerals(!synchronizeMinerals)\r\n    }\r\n\r\n    const renderChartConfigurationForm = () => {\r\n        const portionType = props.selectedSubChart === CHART_VITAMINS ? portionType_vitamins : portionType_minerals\r\n        const expand100 = props.selectedSubChart === CHART_VITAMINS ? expand100_vitamins : expand100_minerals\r\n        const synchronize = props.selectedSubChart === CHART_VITAMINS ? synchronizeVitamins : synchronizeMinerals\r\n\r\n        const barChartProps = {\r\n            portionType: portionType,\r\n            expand100: expand100,\r\n            synchronize: synchronize,\r\n            handleRadioButtonClick: handleRadioButtonClick,\r\n            handleExpandCheckboxClick: handleExpandCheckbox,\r\n            handleSynchronize: handleSynchronize\r\n        }\r\n\r\n        return <BarChartConfigurationForm {...barChartProps}/>\r\n    }\r\n\r\n\r\n    const nutrientData1 = props.selectedFoodItem1.foodItem.nutrientDataList[0]\r\n    const nutrientData2 = props.selectedFoodItem2.foodItem.nutrientDataList[0]\r\n\r\n    const dataSet1 = props.selectedSubChart === CHART_VITAMINS ? nutrientData1.vitaminData : nutrientData1.mineralData\r\n    const dataSet2 = props.selectedSubChart === CHART_VITAMINS ? nutrientData2.vitaminData : nutrientData2.mineralData\r\n\r\n    const maxValue1 = getMaximumValue(dataSet1, props.selectedFoodItem1.portion.amount, requirementData, applicationContext.userData)\r\n    const maxValue2 = getMaximumValue(dataSet2, props.selectedFoodItem2.portion.amount, requirementData, applicationContext.userData)\r\n    const maxValue = Math.max(maxValue1, maxValue2)\r\n\r\n    const synchronize = props.selectedSubChart === CHART_VITAMINS ? synchronizeVitamins : synchronizeMinerals\r\n\r\n    if (synchronize) {\r\n        nullifyIncompleValues(dataSet1, dataSet2)\r\n    }\r\n\r\n    const maxY = synchronize\r\n        ? roundToNextValue(maxValue) : undefined\r\n\r\n    const preconfigVitamins = {\r\n        maxValue: maxY,\r\n        portionType: portionType_vitamins,\r\n        expand100: expand100_vitamins,\r\n        synchronize: synchronizeVitamins\r\n    }\r\n\r\n    const preconfigMinerals = {\r\n        maxValue: maxY,\r\n        portionType: portionType_minerals,\r\n        expand100: expand100_minerals,\r\n        synchronize: synchronizeMinerals\r\n    }\r\n\r\n    const preconfig = props.selectedSubChart === CHART_VITAMINS ? preconfigVitamins : preconfigMinerals\r\n\r\n    const preconfigFoodItem1 = {...preconfig, barChartColor: direct_compare_color1}\r\n    const preconfigFoodItem2 = {...preconfig, barChartColor: direct_compare_color2}\r\n\r\n    return <div className={\"direct-compare-panel\"}>\r\n        <Card>\r\n            <div className={\"d-flex\"} style={{maxHeight: containerHeight}}>\r\n                <MineralVitaminChart selectedSubChart={props.selectedSubChart}\r\n                                     selectedFoodItem={props.selectedFoodItem1}\r\n                                     directCompareUse={true} directCompareConfig={preconfigFoodItem1}/>\r\n            </div>\r\n        </Card>\r\n\r\n        <Card>\r\n            <div className={\"d-flex\"} style={{maxHeight: containerHeight}}>\r\n                <MineralVitaminChart selectedSubChart={props.selectedSubChart}\r\n                                     selectedFoodItem={props.selectedFoodItem2}\r\n                                     directCompareUse={true} directCompareConfig={preconfigFoodItem2}/>\r\n            </div>\r\n        </Card>\r\n        <Card.Footer>\r\n            {renderChartConfigurationForm()}\r\n        </Card.Footer>\r\n    </div>\r\n\r\n}","import {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {initialDirectCompareConfigData} from \"../../config/ApplicationSetting\";\r\nimport {PieChartConfigurationForm} from \"../charthelper/PieChartConfigurationForm\";\r\nimport {Card} from \"react-bootstrap\";\r\nimport BaseDataChart from \"../fooddatapanel/charts/BaseDataChart\";\r\nimport {\r\n    CARBS_DATA_BASE,\r\n    LIPIDS_DATA_BASE,\r\n    TAB_BASE_DATA,\r\n    TAB_CARBS_DATA,\r\n    TAB_LIPIDS_DATA\r\n} from \"../../config/Constants\";\r\nimport LipidsDataChart from \"../fooddatapanel/charts/LipidsDataChart\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {\r\n    PieChartConfigurationProps,\r\n    PieChartDirectCompareConfig,\r\n    PieChartDirectCompareProp\r\n} from \"../../types/livedata/ChartPropsData\";\r\nimport CarbsDataChart from \"../fooddatapanel/charts/CarbsDataChart\";\r\nimport {\r\n    DirectCompareChartConfigData,\r\n    GeneralChartConfigDirectCompareWithSubCharts, GeneralChartConfigWithDetails, GeneralChartConfigWithSubCharts\r\n} from \"../../types/livedata/ChartConfigData\";\r\nimport {\r\n    calculateChartContainerHeight\r\n} from \"../../service/nutrientdata/ChartSizeCalculation\";\r\nimport {useWindowDimension} from \"../../service/WindowDimension\";\r\n\r\n/**\r\n * Re-usable direct compare chart component for pie-chart data pages (Lipids, Carbs, Base Data)\r\n */\r\nexport function DC_PieChart(props: PieChartDirectCompareProp) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const windowSize = useWindowDimension()\r\n\r\n    let initialConfig\r\n    switch (props.dataPage) {\r\n        case TAB_BASE_DATA:\r\n            initialConfig = applicationContext && applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.baseChartConfig\r\n                ? applicationContext?.applicationData.directCompareDataPanel.directCompareConfigChart.baseChartConfig\r\n                : initialDirectCompareConfigData.baseChartConfig\r\n            break\r\n        case TAB_LIPIDS_DATA:\r\n            initialConfig = applicationContext && applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig\r\n                ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig\r\n                : initialDirectCompareConfigData.lipidsChartConfig\r\n            break\r\n        case TAB_CARBS_DATA:\r\n            initialConfig = applicationContext && applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig\r\n                ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig\r\n                : initialDirectCompareConfigData.carbsChartConfig\r\n            break\r\n    }\r\n\r\n    const [chartType, setChartType] = useState<string>(initialConfig.chartType)\r\n    const [showLegend, setShowLegend] = useState<boolean>(initialConfig.showLegend)\r\n    const [showDetails, setShowDetails] = useState<boolean>(initialConfig.showDetails)\r\n    const [subChart1, setSubChart1] = useState<string>(initialConfig.subChart1)\r\n    const [subChart2, setSubChart2] = useState<string>(initialConfig.subChart2)\r\n\r\n    const [containerHeight, setContainerHeight] = useState<number>(calculateChartContainerHeight(windowSize, true))\r\n\r\n    console.log('Chart Type:', props.dataPage, applicationContext?.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig)\r\n    console.log('Chart Type 2:', chartType)\r\n\r\n    useEffect(() => {\r\n        const currentConfig = applicationContext?.applicationData.directCompareDataPanel.directCompareConfigChart\r\n\r\n        if (!currentConfig) {\r\n            return\r\n        }\r\n\r\n        if (props.dataPage === TAB_LIPIDS_DATA || props.dataPage === TAB_CARBS_DATA) {\r\n            const configObject: GeneralChartConfigDirectCompareWithSubCharts = props.dataPage === TAB_LIPIDS_DATA\r\n                ? currentConfig.lipidsChartConfig\r\n                : currentConfig.carbsChartConfig\r\n\r\n            if (chartType !== configObject.chartType || showLegend !== configObject.showLegend\r\n                || subChart1 !== configObject.subChart1 || subChart2 !== configObject.subChart2) {\r\n                updateChartConfig()\r\n            }\r\n        } else if (props.dataPage === TAB_BASE_DATA) {\r\n            const configObject: GeneralChartConfigWithDetails = currentConfig.baseChartConfig\r\n            if (chartType !== configObject.chartType || showLegend !== configObject.showLegend || showDetails !== configObject?.showDetails) {\r\n                updateChartConfig()\r\n            }\r\n        }\r\n\r\n        setContainerHeight(calculateChartContainerHeight(windowSize, true))\r\n    }, [chartType, showDetails, showLegend, subChart1, subChart2, containerHeight])\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const updateChartConfig = () => {\r\n        if (applicationContext) {\r\n            let newChartConfig\r\n\r\n            if (props.dataPage === TAB_BASE_DATA) {\r\n                const pieChartConfig: GeneralChartConfigWithDetails = {\r\n                    chartType: chartType,\r\n                    showLegend: showLegend,\r\n                    showDetails: showDetails\r\n                }\r\n\r\n                newChartConfig = {\r\n                    ...applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart,\r\n                    baseChartConfig: pieChartConfig\r\n                }\r\n            } else {\r\n                const pieChartConfig: GeneralChartConfigDirectCompareWithSubCharts = {\r\n                    chartType: chartType,\r\n                    showLegend: showLegend,\r\n                    subChart1: subChart1,\r\n                    subChart2: subChart2\r\n                }\r\n\r\n                if (props.dataPage === TAB_LIPIDS_DATA) {\r\n                    newChartConfig = {\r\n                        ...applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart,\r\n                        lipidsChartConfig: pieChartConfig\r\n                    }\r\n                } else if (props.dataPage === TAB_CARBS_DATA) {\r\n                    newChartConfig = {\r\n                        ...applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart,\r\n                        carbsChartConfig: pieChartConfig\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (newChartConfig) {\r\n                applicationContext.applicationData.directCompareDataPanel.updateDirectCompareChartConfig(newChartConfig)\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleRadioButtonClick = (event: any): void => {\r\n        setChartType(event.target.value)\r\n    }\r\n\r\n    const handleShowLegendCheckbox = () => {\r\n        setShowLegend(!showLegend)\r\n    }\r\n\r\n    const handleShowDetailsCheckbox = () => {\r\n        setShowDetails(!showDetails)\r\n    }\r\n\r\n    const handleSubchart1Change = (event: any): void => {\r\n        setSubChart1(event.target.value)\r\n    }\r\n\r\n    const handleSubchart2Change = (event: any): void => {\r\n        setSubChart2(event.target.value)\r\n    }\r\n\r\n    const renderChartConfigurationForm = () => {\r\n        const chartProps = getConfigurationProps()\r\n        return <PieChartConfigurationForm key = {`Config ${props.dataPage}`} {...chartProps}/>\r\n    }\r\n\r\n    const getConfigurationProps = (): PieChartConfigurationProps => {\r\n        let chartProps: PieChartConfigurationProps = {\r\n            chartType: chartType,\r\n            showLegend: showLegend,\r\n            handleRadioButtonClick: handleRadioButtonClick,\r\n            handleLegendCheckboxClick: handleShowLegendCheckbox,\r\n        }\r\n\r\n        if (props.dataPage === TAB_BASE_DATA) {\r\n            chartProps = {\r\n                ...chartProps,\r\n                detailsCheckboxAvailable: true,\r\n                showDetails: showDetails,\r\n                handleDetailsCheckboxClick: handleShowDetailsCheckbox\r\n            }\r\n        }\r\n\r\n        return chartProps\r\n    }\r\n\r\n\r\n    const getChartComponent = (selectedFoodItem: SelectedFoodItem, index: number) => {\r\n        let preconfig: PieChartDirectCompareConfig = {\r\n            chartType: chartType,\r\n            showLegend: showLegend,\r\n            showDetails: showDetails,\r\n        }\r\n\r\n        if (props.dataPage === TAB_BASE_DATA) {\r\n            return <BaseDataChart key = {`${TAB_BASE_DATA} ${index}`} selectedFoodItem={selectedFoodItem} directCompareUse={true}\r\n                                  directCompareConfig={preconfig}/>\r\n        }\r\n\r\n        if (props.dataPage === TAB_LIPIDS_DATA) {\r\n            const selectedSubChart = applicationContext\r\n                ? index === 1\r\n                    ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig.subChart1\r\n                        ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig.subChart1\r\n                        : LIPIDS_DATA_BASE\r\n                    : applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig.subChart2\r\n                        ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig.subChart2\r\n                        : LIPIDS_DATA_BASE\r\n                : LIPIDS_DATA_BASE\r\n\r\n            console.log('Get lipids data:', preconfig)\r\n\r\n            preconfig = {\r\n                ...preconfig,\r\n                subChart: selectedSubChart,\r\n                handleSubchartChange: index === 1 ? handleSubchart1Change : handleSubchart2Change,\r\n                chartIndex: index\r\n            }\r\n\r\n            return <LipidsDataChart key = {`${TAB_LIPIDS_DATA} ${index}`} selectedFoodItem={selectedFoodItem} directCompareUse={true}\r\n                                    directCompareConfig={preconfig}/>\r\n        }\r\n\r\n        if (props.dataPage === TAB_CARBS_DATA) {\r\n            const selectedSubChart = applicationContext\r\n                ? index === 1\r\n                    ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig.subChart1\r\n                        ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig.subChart1\r\n                        : CARBS_DATA_BASE\r\n                    : applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig.subChart2\r\n                        ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig.subChart2\r\n                        : CARBS_DATA_BASE\r\n                : CARBS_DATA_BASE\r\n\r\n            preconfig = {\r\n                ...preconfig,\r\n                subChart: selectedSubChart,\r\n                chartIndex: index,\r\n                handleSubchartChange: index === 1 ? handleSubchart1Change : handleSubchart2Change\r\n            }\r\n\r\n            return <CarbsDataChart key = {`${TAB_CARBS_DATA} ${index}`} selectedFoodItem={selectedFoodItem} directCompareUse={true}\r\n                                   directCompareConfig={preconfig}/>\r\n        }\r\n    }\r\n\r\n    return <div className={\"direct-compare-panel\"}>\r\n        <Card>\r\n            <div className={\"d-flex\"} style={{maxHeight: containerHeight}} key={\"directcompare container\" + containerHeight}>\r\n                <div className={\"vertical-label\"}>{props.selectedFoodItem1.resolvedName}</div>\r\n                {getChartComponent(props.selectedFoodItem1, 1)}\r\n            </div>\r\n        </Card>\r\n\r\n        <Card>\r\n            <div className={\"d-flex\"} style={{maxHeight: containerHeight}} key={\"directcompare container\" + containerHeight}>\r\n                <div className={\"vertical-label\"}>{props.selectedFoodItem2.resolvedName}</div>\r\n                {getChartComponent(props.selectedFoodItem2, 2)}\r\n            </div>\r\n        </Card>\r\n        <Card.Footer>\r\n            {renderChartConfigurationForm()}\r\n        </Card.Footer>\r\n    </div>\r\n\r\n}","import {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {initialDirectCompareConfigData} from \"../../config/ApplicationSetting\";\r\nimport {BarChartConfigurationForm} from \"../charthelper/BarChartConfigurationForm\";\r\nimport {getMaximumValue, nullifyIncompleValues} from \"../../service/calculation/NutrientCalculationService\";\r\nimport {roundToNextValue} from \"../../service/calculation/MathService\";\r\nimport {direct_compare_color1, direct_compare_color2} from \"../../config/ChartConfig\";\r\nimport {Card} from \"react-bootstrap\";\r\nimport ProteinDataChart from \"../fooddatapanel/charts/ProteinDataChart\";\r\nimport {\r\n    BarChartDirectCompareConfig,\r\n    DirectCompareDataPanelProps,\r\n    ProteinDataChartProps\r\n} from \"../../types/livedata/ChartPropsData\";\r\nimport {useWindowDimension} from \"../../service/WindowDimension\";\r\nimport {calculateChartContainerHeight} from \"../../service/nutrientdata/ChartSizeCalculation\";\r\n\r\nexport function DC_ProteinDataChart(props: DirectCompareDataPanelProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const windowSize = useWindowDimension()\r\n\r\n    const chartConfig = applicationContext\r\n        ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.proteinChartConfig\r\n        : initialDirectCompareConfigData.proteinChartConfig\r\n\r\n    const [portionType, setPortionType] = useState<string>(chartConfig.portionType)\r\n    const [expand100, setExpand100] = useState<boolean>(chartConfig.expand100)\r\n    const [synchronize, setSynchronize] = useState<boolean>(chartConfig.synchronize)\r\n\r\n    const [containerHeight, setContainerHeight] = useState<number>(calculateChartContainerHeight(windowSize, true))\r\n\r\n    useEffect(() => {\r\n        updateChartConfig()\r\n        setContainerHeight(calculateChartContainerHeight(windowSize, true))\r\n    }, [portionType, expand100, synchronize, containerHeight])\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const updateChartConfig = () => {\r\n        if (applicationContext) {\r\n            const newChartConfig = {\r\n                ...applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart,\r\n                proteinChartConfig: {\r\n                    portionType: portionType,\r\n                    expand100: expand100,\r\n                    synchronize: synchronize\r\n                }\r\n            }\r\n            applicationContext.applicationData.directCompareDataPanel.updateDirectCompareChartConfig(newChartConfig)\r\n        }\r\n    }\r\n\r\n    const requirementData = applicationContext.foodDataCorpus.dietaryRequirements?.proteinRequirementData\r\n    if (!requirementData) {\r\n        return <div></div>\r\n    }\r\n\r\n    const handleRadioButtonClick = (event: any): void => {\r\n        setPortionType(event.target.value)\r\n    }\r\n\r\n    const handleExpandCheckbox = () => {\r\n        setExpand100(!expand100)\r\n    }\r\n\r\n    const handleSynchronize = () => {\r\n        setSynchronize(!synchronize)\r\n    }\r\n\r\n    const renderChartConfigurationForm = () => {\r\n        const barChartProps = {\r\n            portionType: portionType,\r\n            expand100: expand100,\r\n            synchronize: synchronize,\r\n            handleRadioButtonClick: handleRadioButtonClick,\r\n            handleExpandCheckboxClick: handleExpandCheckbox,\r\n            handleSynchronize: handleSynchronize\r\n        }\r\n\r\n        return <BarChartConfigurationForm {...barChartProps}/>\r\n    }\r\n\r\n    const dataSet1 = props.selectedFoodItem1.foodItem.nutrientDataList[0].proteinData\r\n    const dataSet2 = props.selectedFoodItem2.foodItem.nutrientDataList[0].proteinData\r\n\r\n    const maxValue1 = getMaximumValue(dataSet1, props.selectedFoodItem1.portion.amount, requirementData, applicationContext.userData, true)\r\n    const maxValue2 = getMaximumValue(dataSet2, props.selectedFoodItem2.portion.amount, requirementData, applicationContext.userData, true)\r\n    const maxValue = Math.max(maxValue1, maxValue2)\r\n\r\n    if (synchronize) {\r\n        nullifyIncompleValues(dataSet1, dataSet2)\r\n    }\r\n\r\n    const maxY = synchronize ? roundToNextValue(maxValue) : undefined\r\n\r\n    const preconfig: BarChartDirectCompareConfig = {\r\n        maxValue: maxY,\r\n        portionType: portionType,\r\n        expand100: expand100,\r\n        synchronize: synchronize,\r\n        barChartColor: ''\r\n    }\r\n\r\n    const preconfigFoodItem1 = {...preconfig, barChartColor: direct_compare_color1}\r\n    const preconfigFoodItem2 = {...preconfig, barChartColor: direct_compare_color2}\r\n\r\n    return <div className={\"direct-compare-panel\"}>\r\n        <Card>\r\n            <div className={\"d-flex\"} style={{maxHeight: containerHeight}}>\r\n                <ProteinDataChart selectedFoodItem={props.selectedFoodItem1}\r\n                                  directCompareUse={true} directCompareConfig={preconfigFoodItem1}/>\r\n            </div>\r\n        </Card>\r\n\r\n        <Card>\r\n            <div className={\"d-flex\"} style={{maxHeight: containerHeight}}>\r\n                <ProteinDataChart selectedFoodItem={props.selectedFoodItem2}\r\n                                  directCompareUse={true} directCompareConfig={preconfigFoodItem2}/>\r\n            </div>\r\n        </Card>\r\n        <Card.Footer>\r\n            {renderChartConfigurationForm()}\r\n        </Card.Footer>\r\n    </div>\r\n\r\n}","import {Card} from \"react-bootstrap\";\r\nimport EnergyDataChart from \"../fooddatapanel/charts/EnergyDataChart\";\r\nimport {DirectCompareDataPanelProps} from \"../../types/livedata/ChartPropsData\";\r\nimport {useWindowDimension} from \"../../service/WindowDimension\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {calculateChartContainerHeight} from \"../../service/nutrientdata/ChartSizeCalculation\";\r\n\r\nexport function DC_EnergyChart(props: DirectCompareDataPanelProps) {\r\n    const windowSize = useWindowDimension()\r\n    const [containerHeight, setContainerHeight] = useState<number>(calculateChartContainerHeight(windowSize, true))\r\n\r\n    useEffect(() => {\r\n        setContainerHeight(calculateChartContainerHeight(windowSize, true))\r\n    }, [containerHeight])\r\n\r\n    return <div className={\"direct-compare-panel\"}>\r\n        <Card>\r\n            <div className={\"d-flex\"} style={{maxHeight: containerHeight}}>\r\n                <div className={\"vertical-label\"}>{props.selectedFoodItem1.resolvedName}</div>\r\n                <EnergyDataChart selectedFoodItem={props.selectedFoodItem1} directCompareUse={true}/>\r\n            </div>\r\n        </Card>\r\n\r\n        <Card>\r\n            <div className={\"d-flex\"} style={{maxHeight: containerHeight}}>\r\n                <div className={\"vertical-label\"}>{props.selectedFoodItem2.resolvedName}</div>\r\n                <EnergyDataChart selectedFoodItem={props.selectedFoodItem2} directCompareUse={true}/>\r\n            </div>\r\n        </Card>\r\n    </div>\r\n\r\n}","import {ChartMenuPanel} from \"../fooddatapanel/ChartMenuPanel\";\r\nimport {\r\n    CHART_MINERALS,\r\n    CHART_VITAMINS,\r\n    TAB_BASE_DATA, TAB_CARBS_DATA,\r\n    TAB_ENERGY_DATA, TAB_INFO,\r\n    TAB_LIPIDS_DATA,\r\n    TAB_MINERAL_DATA,\r\n    TAB_PROTEINS_DATA,\r\n    TAB_VITAMIN_DATA\r\n} from \"../../config/Constants\";\r\nimport {useContext, useState} from \"react\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {DC_MineralVitaminChart} from \"./DC_MineralVitaminChart\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {Card} from \"react-bootstrap\";\r\nimport {DC_PieChart} from \"./DC_PieChart\";\r\nimport {DC_ProteinDataChart} from \"./DC_ProteinDataChart\";\r\nimport {DC_EnergyChart} from \"./DC_EnergyChart\";\r\nimport {getNameFromFoodNameList} from \"../../service/nutrientdata/NameTypeService\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {DirectCompareDataPanelProps} from \"../../types/livedata/ChartPropsData\";\r\nimport ProteinDataChart from \"../fooddatapanel/charts/ProteinDataChart\";\r\nimport {InfoData} from \"../fooddatapanel/charts/InfoData\";\r\n\r\nexport function DirectCompareDataPanel(props: DirectCompareDataPanelProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n\r\n    const initialPage = applicationContext?.applicationData.directCompareDataPanel.selectedDataPage\r\n        ? applicationContext?.applicationData.directCompareDataPanel.selectedDataPage\r\n        : TAB_BASE_DATA\r\n\r\n    const [selectedDataTab, setSelectedDataTab] = useState<string>(initialPage)\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const setDataPage = (datapage: string) => {\r\n        applicationContext.applicationData.directCompareDataPanel.setSelectedDirectCompareDataPage(datapage)\r\n        setSelectedDataTab(datapage)\r\n    }\r\n\r\n    const foodNames = applicationContext.foodDataCorpus.foodNames\r\n\r\n    const nameId1 = props.selectedFoodItem1.foodItem.nameId ? props.selectedFoodItem1.foodItem.nameId : null\r\n    const nameId2 = props.selectedFoodItem2.foodItem.nameId ? props.selectedFoodItem2.foodItem.nameId : null\r\n\r\n    const name1 = nameId1 ? getNameFromFoodNameList(foodNames, nameId1, languageContext.language) : \"\"\r\n    const name2 = nameId2 ? getNameFromFoodNameList(foodNames, nameId2, languageContext.language) : \"\"\r\n\r\n    const selectedFoodItem1: SelectedFoodItem = {...props.selectedFoodItem1, resolvedName: name1}\r\n    const selectedFoodItem2: SelectedFoodItem = {...props.selectedFoodItem2, resolvedName: name2}\r\n\r\n    const renderCharts = () => {\r\n        switch (selectedDataTab) {\r\n            case TAB_BASE_DATA:\r\n                return <DC_PieChart key={TAB_BASE_DATA}\r\n                                    selectedFoodItem1={selectedFoodItem1}\r\n                                    selectedFoodItem2={selectedFoodItem2}\r\n                                    dataPage={TAB_BASE_DATA}\r\n                />\r\n            case TAB_ENERGY_DATA:\r\n                return <DC_EnergyChart selectedFoodItem1={selectedFoodItem1}\r\n                                       selectedFoodItem2={selectedFoodItem2}\r\n                />\r\n\r\n            case TAB_VITAMIN_DATA:\r\n                return <DC_MineralVitaminChart key={TAB_VITAMIN_DATA}\r\n                                               selectedFoodItem1={selectedFoodItem1}\r\n                                               selectedFoodItem2={selectedFoodItem2}\r\n                                               selectedSubChart={CHART_VITAMINS}\r\n                />\r\n            case TAB_MINERAL_DATA:\r\n                return <DC_MineralVitaminChart key={TAB_MINERAL_DATA}\r\n                                               selectedFoodItem1={selectedFoodItem1}\r\n                                               selectedFoodItem2={selectedFoodItem2}\r\n                                               selectedSubChart={CHART_MINERALS}\r\n                />\r\n            case TAB_LIPIDS_DATA:\r\n                return <DC_PieChart key={TAB_LIPIDS_DATA}\r\n                                    selectedFoodItem1={selectedFoodItem1}\r\n                                    selectedFoodItem2={selectedFoodItem2}\r\n                                    dataPage={TAB_LIPIDS_DATA}\r\n                />\r\n            case TAB_CARBS_DATA:\r\n                return <DC_PieChart key={TAB_CARBS_DATA}\r\n                                    selectedFoodItem1={selectedFoodItem1}\r\n                                    selectedFoodItem2={selectedFoodItem2}\r\n                                    dataPage={TAB_CARBS_DATA}\r\n                />\r\n            case TAB_PROTEINS_DATA:\r\n                return <DC_ProteinDataChart selectedFoodItem1={selectedFoodItem1}\r\n                                            selectedFoodItem2={selectedFoodItem2}\r\n                />\r\n            case TAB_INFO:\r\n                return <div>\r\n                    <Card>\r\n                        <InfoData selectedFoodItem={props.selectedFoodItem1} directCompare={true}/>\r\n                    </Card>\r\n                    <Card>\r\n                        <InfoData selectedFoodItem={props.selectedFoodItem2} directCompare={true}/>\r\n                    </Card>\r\n                </div>\r\n\r\n        }\r\n\r\n        return <div/>\r\n    }\r\n\r\n    return <div>\r\n        <Card.Header>\r\n            <ChartMenuPanel dataPage={selectedDataTab} verticalArrangement={false} setDataPage={setDataPage}/>\r\n        </Card.Header>\r\n        {renderCharts()}\r\n    </div>\r\n\r\n}","import {DirectCompareSelector} from \"../foodselector/DirectCompareSelector\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport React, {useContext, useState} from \"react\";\r\nimport ApplicationDataContextProvider, {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {DirectCompareDataPanel} from \"./DirectCompareDataPanel\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\n\r\nexport default function DirectCompareContainer() {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n\r\n    const initialFoodItem1 = applicationContext?.applicationData.directCompareDataPanel.selectedFoodItem1\r\n        ? applicationContext?.applicationData.directCompareDataPanel.selectedFoodItem1\r\n        : null\r\n\r\n    const initialFoodItem2 = applicationContext?.applicationData.directCompareDataPanel.selectedFoodItem2\r\n        ? applicationContext?.applicationData.directCompareDataPanel.selectedFoodItem2\r\n        : null\r\n\r\n    const [selectedFoodItem1, setSelectedFoodItem1] = useState<SelectedFoodItem | null>(initialFoodItem1)\r\n    const [selectedFoodItem2, setSelectedFoodItem2] = useState<SelectedFoodItem | null>(initialFoodItem2)\r\n\r\n\r\n    if (applicationContext === null || !applicationContext.ready) {\r\n        return <div/>\r\n    }\r\n\r\n    const updateSelectedFoodItems = (selectedFoodItem1: SelectedFoodItem, selectedFoodItem2: SelectedFoodItem) => {\r\n        setSelectedFoodItem1(selectedFoodItem1)\r\n        setSelectedFoodItem2(selectedFoodItem2)\r\n        applicationContext.applicationData.directCompareDataPanel.setSelectedDirectCompareItems(selectedFoodItem1, selectedFoodItem2)\r\n    }\r\n\r\n    return (\r\n        <div className={\"container-fluid\"}>\r\n            <div className={\"row\"}>\r\n                <div className={\"col-4\"}>\r\n                    <DirectCompareSelector updateSelectedFoodItems={updateSelectedFoodItems}/>\r\n                </div>\r\n                <div className={\"col-8\"} style={{padding: \"32px\"}}>\r\n                    {selectedFoodItem1 !== null && selectedFoodItem2 !== null ?\r\n                    <DirectCompareDataPanel selectedFoodItem1={selectedFoodItem1}\r\n                                            selectedFoodItem2={selectedFoodItem2}/>\r\n                        : <div className={\"app\"}><i>{applicationStrings.direct_compare_text[languageContext.language]}</i></div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}","import './App.css';\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"bootstrap/dist/js/bootstrap.min.js\";\r\nimport {NotificationContainer} from 'react-notifications'\r\nimport ApplicationDataContextProvider from \"./contexts/ApplicationDataContext\";\r\nimport FoodDataPanelContainer from \"./components/fooddatapanel/FoodDataPanelContainer\";\r\nimport React, {useEffect} from \"react\";\r\nimport Header from \"./components/Header\";\r\nimport {\r\n    PATH_CONTACT,\r\n    PATH_DIRECT_COMPARE,\r\n    PATH_FOODCOMPARE,\r\n    PATH_FOODDATA_PANEL,\r\n    PATH_HOME,\r\n    PATH_MOBILE_APP,\r\n    PATH_USERSETTINGS\r\n} from \"./config/Constants\";\r\nimport {LanguageProvider} from \"./contexts/LangContext\";\r\nimport {UserSettings} from \"./components/UserSettings\";\r\nimport {Contact} from \"./components/Contact\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport GA4React, {useGA4React} from \"ga-4-react\";\r\nimport {ANALYTICS_MESS_ID} from \"./config/GoogleTools\";\r\nimport {render} from \"react-dom\";\r\nimport {Home} from \"./components/Home\";\r\nimport {FoodCompareApp} from \"./components/FoodCompareApp\";\r\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\r\nimport Switch from \"react-bootstrap/Switch\";\r\nimport DirectCompareContainer from \"./components/directcompare/DirectCompareContainer\";\r\n\r\nconst ga4react = new GA4React(ANALYTICS_MESS_ID);\r\n\r\nfunction App(): JSX.Element {\r\n    useEffect(() => {\r\n        ReactTooltip.rebuild()\r\n    })\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <NotificationContainer/>\r\n            <ReactTooltip/>\r\n            <LanguageProvider>\r\n                <ApplicationDataContextProvider>\r\n                    <Router>\r\n                        <Header/>\r\n                        <Switch>\r\n                            <Route path={PATH_FOODCOMPARE} component={Home}/>\r\n                            <Route path={PATH_HOME} component={Home}/>\r\n                            <Route path={PATH_FOODDATA_PANEL} component={FoodDataPanelContainer}/>\r\n                            <Route path={PATH_DIRECT_COMPARE} component={DirectCompareContainer}/>\r\n                            <Route path={PATH_MOBILE_APP} component={FoodCompareApp}/>\r\n                            <Route path={PATH_USERSETTINGS} component={UserSettings}/>\r\n                            <Route path={PATH_CONTACT} component={Contact}/>\r\n                            <Route exact path={\"/\"} component={Home}/>\r\n                        </Switch>\r\n                    </Router>\r\n                </ApplicationDataContextProvider>\r\n            </LanguageProvider>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\n(async () => {\r\n    try {   // NOTE: uBlock Origin may cause a crash here\r\n        await ga4react.initialize();\r\n    } catch (e) {\r\n        console.error(e)\r\n    }\r\n    render(\r\n        <React.StrictMode>\r\n            <App/>\r\n        </React.StrictMode>,\r\n        document.getElementById(\"root\")\r\n    );\r\n})();\r\n\r\nexport default App;\r\n","export const ANALYTICS_MESS_ID = 'G-DXHX3Y13KZ'\r\n\r\nexport const ADSENSE_TRACKING_ID = 'ca-pub-2335013571820161'\r\n\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport {hydrate, render} from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nif (rootElement && rootElement.hasChildNodes()) {\r\n    hydrate(<App />, rootElement);\r\n} else {\r\n    render(<React.StrictMode>\r\n        <App />\r\n    </React.StrictMode>, rootElement);\r\n}\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n\r\n\r\n"],"sourceRoot":""}