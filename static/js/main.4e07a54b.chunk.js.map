{"version":3,"sources":["static/image/carousel sync /^/.*$","static/image/carousel/Img-de-1.png","static/image/carousel/Img-de-2.png","static/image/carousel/Img-de-3.png","static/image/carousel/Img-de-4.png","static/image/carousel/Img-de-5.png","static/image/carousel/Img-de-6.png","static/image/carousel/Img-de-7.png","static/image/carousel/Img-en-1.png","static/image/carousel/Img-en-2.png","static/image/carousel/Img-en-3.png","static/image/carousel/Img-en-4.png","static/image/carousel/Img-en-5.png","static/image/carousel/Img-en-6.png","static/image/carousel/Img-en-7.png","static/image/startImages sync /^/.*$","static/image/startImages/StartImg1.jpg","static/image/startImages/StartImg2.jpg","static/image/startImages/StartImg3.jpg","static/image/startImages/StartImg4.jpg","service/NutrientDataImportService.ts","config/Constants.ts","config/ApplicationSetting.ts","service/LanguageService.ts","service/nutrientdata/NameTypeService.ts","contexts/ApplicationDataContext.tsx","service/uri/BaseUriService.ts","contexts/LangContext.tsx","static/image/logo.png","static/image/text.png","static/labels.ts","service/WindowDimension.ts","components/Header.tsx","components/Home.tsx","service/nutrientdata/CategoryService.ts","service/nutrientdata/FoodItemsService.ts","service/nutrientdata/FoodClassService.ts","service/nutrientdata/PortionDataService.ts","service/nutrientdata/NutrientDataRetriever.ts","config/UI_Config.ts","components/foodselector/FoodSelector.tsx","components/foodselector/CompositeFoodList.tsx","service/calculation/FoodDataAggregationService.ts","components/HelpModal.tsx","service/HelpService.ts","components/foodselector/FoodSelectorModal.tsx","components/ConfirmationDialog.tsx","config/ChartConfig.ts","service/ChartConfigurationService.ts","components/charthelper/PieChartConfigurationForm.tsx","components/charthelper/CustomLegend.tsx","service/ChartSizeCalculation.tsx","service/calculation/MathService.ts","service/chartdata/BaseChartDataService.ts","components/fooddatapanel/charts/BaseDataChart.tsx","config/EnergyConstants.ts","service/calculation/EnergyService.ts","components/fooddatapanel/charts/EnergyDataChart.tsx","components/charthelper/BarChartConfigurationForm.tsx","service/calculation/DietaryRequirementService.ts","service/calculation/provitaminCalculation/ProvitaminEquivalentFactors.ts","service/chartdata/VitaminsMineralsDataService.ts","service/calculation/provitaminCalculation/CarotenoidCalculationService.ts","service/calculation/provitaminCalculation/ExtendedVitaminECalculationService.ts","components/fooddatapanel/charts/MineralVitaminChart.tsx","service/chartdata/LipidsChartDataService.ts","components/fooddatapanel/charts/LipidsDataChart.tsx","components/fooddatapanel/charts/ProteinDataChart.tsx","service/chartdata/ProteinChartDataService.ts","service/chartdata/CarbsChartDataService.ts","components/fooddatapanel/charts/CarbsDataChart.tsx","service/RankingService.ts","service/calculation/NutrientCalculationService.ts","service/chartdata/JuxtapositionDataService.ts","components/fooddatapanel/juxtaposition/JuxtapositionChart.tsx","components/fooddatapanel/juxtaposition/JuxtapositionTable.tsx","components/fooddatapanel/juxtaposition/JustapositionSettings.tsx","components/fooddatapanel/juxtaposition/JuxtapositionContainer.tsx","components/fooddatapanel/ChartPanel.tsx","components/fooddatapanel/FoodDataTable.tsx","components/fooddatapanel/charts/InfoData.tsx","components/fooddatapanel/FoodDataPageBody.tsx","components/fooddatapanel/ChartMenuPanel.tsx","components/fooddatapanel/SettingsModal.tsx","components/fooddatapanel/FoodDataPageHeader.tsx","service/TableService.ts","components/fooddatapanel/FoodDataPage.tsx","service/FoodDataPanelService.tsx","components/fooddatapanel/FoodAnalyzerContainer.tsx","components/fooddatapanel/TabContainer.tsx","service/uri/ChartConfigConverter.ts","service/uri/FoodDataPanelUriService.ts","service/uri/FoodDataPanelAggregatedUriService.ts","service/UserDataService.ts","components/fooddatapanel/FoodDataPanelContainer.tsx","components/foodselector/DirectCompareSelector.tsx","components/directcompare/VerticalLabel.tsx","components/directcompare/DcMineralVitaminChart.tsx","components/directcompare/DcPieChart.tsx","components/directcompare/DcProteinDataChart.tsx","components/directcompare/DcEnergyChart.tsx","components/directcompare/DirectCompareDataPanel.tsx","service/uri/DirectCompareUriService.ts","components/directcompare/DirectCompareContainer.tsx","components/UserSettings.tsx","config/ErrorMessageCodes.ts","service/MailService.ts","config/ApplicationKeys.ts","components/contact/ContactForm.tsx","components/contact/Sources.tsx","components/contact/Versions.tsx","static/image/impressum-german.png","static/image/impressum-english.png","components/contact/Impressum.tsx","components/contact/DataPrivacy.tsx","components/contact/ContactContainer.tsx","components/ranking/RankingSelector.tsx","service/uri/RankingPanelUriService.ts","components/ranking/RankingChart.tsx","components/ranking/RankingContainer.tsx","components/WebPageContainer.tsx","components/MobileDeviceCheck.tsx","App.tsx","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","loadFoodDataCorpus","categories","nutrientdata","conditions","portionTypes","sources","foodNames","foodClasses","foodItems","dietaryRequirements","AMOUNT_PORTION","AMOUNT_100_GRAM","CHART_TYPE_PIE","CHART_TYPE_BAR","CHART_VITAMINS","CHART_MINERALS","CHART_SIZE_SMALL","CHART_SIZE_MEDIUM","CHART_SIZE_LARGE","CATEGORY_BEVERAGE","DATA_ASH","DATA_ENERGY","DATA_WATER","DATA_CARBS","DATA_LIPIDS","DATA_PROTEINS","DATA_MINERAL_CALCIUM","DATA_MINERAL_IRON","DATA_MINERAL_MAGNESIUM","DATA_MINERAL_PHOSPHORUS","DATA_MINERAL_POTASSIUM","DATA_MINERAL_SODIUM","DATA_MINERAL_ZINC","DATA_MINERAL_SELENIUM","DATA_MINERAL_MANGANESE","DATA_MINERAL_COPPER","DATA_VITAMINS_A","DATA_VITAMINS_B1","DATA_VITAMINS_B2","DATA_VITAMINS_B3","DATA_VITAMINS_B5","DATA_VITAMINS_B6","DATA_VITAMINS_B9","DATA_VITAMINS_B12","DATA_VITAMINS_C","DATA_VITAMINS_D","DATA_VITAMINS_E","DATA_VITAMINS_K","DATA_LIPIDS_SATURATED","DATA_LIPIDS_MONO_UNSATURATED","DATA_LIPIDS_POLY_UNSATURATED","DATA_LIPIDS_TRANSFATTY_ACIDS","DATA_CARBS_DIETARY_FIBERS","DATA_CARBS_SUGAR","DATA_CARBS_GLUCOSE","DATA_CARBS_FRUCTOSE","DATA_CARBS_GALACTOSE","DATA_CARBS_SUCROSE","DATA_CARBS_LACTOSE","DATA_CARBS_MALTOSE","DATA_CARBS_STARCH","DATA_PROTEIN_TRYPTOPHAN","DATA_PROTEIN_THREONINE","DATA_PROTEIN_ISOLEUCINE","DATA_PROTEIN_LEUCINE","DATA_PROTEIN_LYSINE","DATA_PROTEIN_METHIONINE","DATA_PROTEIN_CYSTINE","DATA_PROTEIN_PHENYLALANINE","DATA_PROTEIN_TYROSINE","DATA_PROTEIN_VALINE","DATA_PROTEIN_ARGININE","DATA_PROTEIN_HISTIDINE","DATA_PROTEIN_ALANINE","DATA_PROTEIN_ASPARTIC_ACID","DATA_PROTEIN_GLUTAMIC_ACID","DATA_PROTEIN_GLYCINE","DATA_PROTEIN_PROLINE","DATA_PROTEIN_SERINE","DISPLAYMODE_TABLE","DISPLAYMODE_CHART","CARBS_DATA_BASE","CARBS_DATA_DETAIL","LIPIDS_DATA_BASE","LIPIDS_DATA_OMEGA","OPTION_YES","OPTION_NO","PATH_DIRECT_COMPARE","PATH_FOODCOMPARE","PATH_FOODDATA_PANEL","PATH_HOME","PATH_CONTACT","PATH_USERSETTINGS","PATH_RANKING","PORTION_KEY_INDIVIDUAL","PORTION_KEY_100","LANGUAGE_DE","LANGUAGE_EN","SEX_MALE","SEX_FEMALE","SOURCE_SRLEGACY","SOURCE_FNDDS","TAB_BASE_DATA","TAB_ENERGY_DATA","TAB_VITAMIN_DATA","TAB_MINERAL_DATA","TAB_LIPIDS_DATA","TAB_CARBS_DATA","TAB_PROTEINS_DATA","TAB_JUXTAPOSITION","TAB_INFO","QUERYKEY_DATAPANEL_ADD","QUERYKEY_DATAPANEL_ADD_COMPOSITE","QUERYKEY_DATAPANEL_ITEM","QUERYKEY_DATAPANEL_RANKING","QUERYKEY_DATAPANEL_AGGREGATED","UNIT_GRAM","UNIT_MILLIGRAM","UNIT_MICROGRAM","RANKING_BASE_DATA_INDEX","RANKING_VITAMIN_INDEX","RANKING_MINERAL_INDEX","RANKING_LIPIDS_INDEX","RANKING_CARBS_INDEX","RANKING_PROTEIN_INDEX","COMPARISON_REFERENCE_ALL","COMPARISON_REFERENCE_ALL_IN_CATEGORY","COMPARISON_REFERENCE_SELECTED_TABS","release","buildDate","maxMessageCharacters","maxElementsInRankingChart","initialFoodClassId","initialComparisonFoodClassId","minimalOmegaRatio","smallFormsScreenSize","width","height","initialUserDataAge","initialUserDataSize","initialUserDataWeight","initialUserDataSex","initialUserDataPregnant","initialUserDataBreastfeeding","initialUserDataLeisureSports","initialChartConfigData","baseChartConfig","chartType","showLegend","showDetails","vitaminChartConfig","portionType","expand100","mineralChartConfig","lipidsChartConfig","hideRemainders","subChart","carbsChartConfig","proteinChartConfig","initialJuxtapositionConfigData","selectedGroup","selectedComparisonReference","chartSize","showLabels","initialDirectCompareConfigData","synchronize","subChart1","subChart2","getName","nameType","language","verbose","arguments","length","undefined","name","germanName","englishName","includes","index","indexOf","substring","trim","removeAuxiliaryInformationFromFoodName","getNameFromFoodNameList","foodNameList","find","shortenName","maxLength","indexOfBrace","ApplicationDataContextStore","createContext","ApplicationDataContextProvider","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","args","Array","_key","call","apply","concat","setDebugState","debug","setState","prevState","applicationData","_objectSpread","setSelectedFoodDataPanelTab","selectedTab","foodDataPanel","selectedFoodItemIndex","setSelectedDisplayMode","displayMode","setSelectedFoodDataPanelPage","selectedPage","selectedDataPage","addItemToFoodDataPanel","foodItem","newItems","assign","state","selectedFoodItems","push","removeItemFromFoodDataPanel","foodItemId","filter","selectedFoodItem","newIndex","currentIndex","removeAllItemsFromFoodDataPanel","updateAllFoodItemNames","newLanguage","newFoodItems","foodName","nameId","tab","updateFoodDataPanelChartConfig","chartConfig","chartConfigData","updateJuxtaPositionConfig","juxtapositionConfigData","setSelectedDirectCompareItems","selectedFoodItem1","selectedFoodItem2","directCompareDataPanel","setSelectedDirectCompareDataPage","updateDirectCompareChartConfig","directCompareConfigChart","setUserData","userData","setDataSettings","dataSettings","setPreferredSource","source","preferredSource","setFoodSelectorConfig","selectedCategory","sourceSupplement","sourceCombine","foodSelector","setDirectCompareFoodSelectorConfig1","foodSelector1","setDirectCompareFoodSelectorConfig2","foodSelector2","setRankingPanelData","rankingPanelData","foodDataCorpus","selectedFoodCategory","selectedElement","use100gram","showDietaryRequirements","age","size","weight","sex","pregnant","breastFeeding","palValue","leisureSports","initialValues","unitVitamins","unitProteins","includeProvitamins","isDebugMode","ready","useAsMobile","_createClass","key","value","uriData","queryString","window","location","search","equalOperator","parseFoodCompareUri","NutrientDataImportService","this","_this2","setMobileUsage","usage","setFoodDataPanelData","setSelectedFoodTab","setSelectedDataPage","updateJuxtapositionConfig","setDirectCompareData","setDirectCompareFoodSelector1","setDirectCompareFoodSelector2","_jsx","Provider","children","props","Component","LanguageContext","userLanguageChange","selectedLanguage","LanguageProvider","_ref","userLanguage","navigator","preferredLanguage","_useState","useState","_useState2","_slicedToArray","setLanguage","provider","selectedLanaguage","applicationStrings","_gram","de","en","_milligram","_microgram","_option_no","_option_yes","button_add","button_cancel","button_change_to_chart_mode","button_close","button_getstarted_1","button_getstarted_2","button_getstarted_3","button_getstarted_4","button_no","button_select","button_show","button_send","button_submit","button_update","button_yes","checkbox_chartoption_hideRemainders","checkbox_chartoption_showLegend","checkbox_chartoption_showLegend_m","checkbox_chartoption_showDetails","checkbox_chartoption_showDetails_m","checkbox_english","checkbox_english_m","checkbox_expand100g","checkbox_german","checkbox_german_m","checkbox_synchronize","confirm_close_all_tabs","device_detection_hint","direct_compare_text","home_carousel_0","home_carousel_1","home_carousel_2","home_carousel_3","home_carousel_4","home_carousel_5","home_carousel_6","home_text_1","home_text_2","home_text_3","home_foodcompare_overview","input_compositelist_title","label_amount","label_amount_short","label_category","label_charttype","label_charttype_pie","label_charttype_bar","label_charttype_carbs_base","label_charttype_carbs_detail","label_charttype_energy","label_charttype_lipids_base","label_charttype_lipids_base_title","label_charttype_lipids_omega","label_charttype_lipids_omega_title","label_charttype_minerals","label_charttype_proteins","label_charttype_vitamins","label_chart_bmr","label_chart_energyExpenditure","label_chart_proteins","label_chart_nutrientComposition","label_chart_totalComposition","label_chart_view","label_datatype","label_food","label_foodclass","label_fooditem","label_foodselector","label_foodselector_composite","label_group","label_getStarted","label_juxtaposition","label_juxtaposition_settings_btn","label_juxtaposition_settings_chartsize","label_juxtaposition_settings_chartsize_s","label_juxtaposition_settings_chartsize_m","label_juxtaposition_settings_chartsize_l","label_juxtaposition_settings_showLabels","label_juxtaposition_table_avg","label_juxtaposition_table_max","label_juxtaposition_table_median","label_juxtaposition_table_min","label_juxtaposition_table_rank","label_juxtaposition_table_value","label_juxtaposition_unavailable","label_info","label_info_composite","label_info_category","label_info_foodClass","label_info_foodId","label_info_foodName","label_info_portion","label_info_portionType","label_info_preparation","label_info_source","label_language","label_mail_name","label_mail_address","label_mail_message","label_mail_characters_left","label_mail_too_long","label_mail_error_name","label_mail_error_mailaddress","label_mail_error_nocontent","label_mail_error_content_too_long","label_mail_error_verification","label_noData","label_nutrient_alcohol","label_nutrient_ash","label_nutrient_carbohydrates","label_nutrient_carbohydrates_m","label_nutrient_carbohydrates_short","label_nutrient_carbohydrates_fructose","label_nutrient_carbohydrates_galactose","label_nutrient_carbohydrates_glucose","label_nutrient_carbohydrates_lactose","label_nutrient_carbohydrates_maltose","label_nutrient_carbohydrates_starch","label_nutrient_carbohydrates_sucrose","label_nutrient_dietaryFibers","label_nutrient_dietaryFibers_short","label_nutrient_energy","label_nutrient_lipids","label_nutrient_lipids_long","label_nutrient_lipids_saturated","label_nutrient_lipids_saturated_short","label_nutrient_lipids_unsaturated","label_nutrient_lipids_unsaturated_mono","label_nutrient_lipids_unsaturated_mono_short","label_nutrient_lipids_unsaturated_poly","label_nutrient_lipids_unsaturated_poly_short","label_nutrient_lipids_transfattyAcids","label_nutrient_lipids_omega3","label_nutrient_lipids_omega6","label_nutrient_lipids_cholesterol","label_nutrient_min","label_nutrient_min_m","label_nutrient_min_calcium","label_nutrient_min_copper","label_nutrient_min_iron","label_nutrient_min_magnesium","label_nutrient_min_manganese","label_nutrient_min_phosphorus","label_nutrient_min_potassimum","label_nutrient_min_selenium","label_nutrient_min_sodium","label_nutrient_min_zinc","label_nutrient_omega3","label_nutrient_omega6","label_nutrient_proteins","label_nutrient_proteins_alanine","label_nutrient_proteins_arginine","label_nutrient_proteins_asparticAcid","label_nutrient_proteins_cystine","label_nutrient_proteins_glysine","label_nutrient_proteins_glutamicAcid","label_nutrient_proteins_histidine","label_nutrient_proteins_isoleucine","label_nutrient_proteins_leucine","label_nutrient_proteins_lysine","label_nutrient_proteins_methionine","label_nutrient_proteins_phenylalanine","label_nutrient_proteins_proline","label_nutrient_proteins_serine","label_nutrient_proteins_threonine","label_nutrient_proteins_tryptophan","label_nutrient_proteins_tyrosine","label_nutrient_proteins_valine","label_nutrient_remainder","label_nutrient_sugar","label_nutrient_vit","label_nutrient_vit_a","label_nutrient_vit_b1","label_nutrient_vit_b2","label_nutrient_vit_b3","label_nutrient_vit_b5","label_nutrient_vit_b6","label_nutrient_vit_b9","label_nutrient_vit_b12","label_nutrient_vit_c","label_nutrient_vit_d","label_nutrient_vit_e","label_nutrient_vit_e_ext","label_nutrient_vit_e_ext_tocopherolBeta","label_nutrient_vit_e_ext_tocopherolGamma","label_nutrient_vit_e_ext_tocopherolDelta","label_nutrient_vit_e_ext_tocotrienolAlpha","label_nutrient_vit_e_ext_tocotrienolBeta","label_nutrient_vit_e_ext_tocotrienolGamma","label_nutrient_vit_k","label_nutrient_vit_carotenoid","label_nutrient_vit_carotenoid_alpha","label_nutrient_vit_carotenoid_beta","label_nutrient_vit_cryptoxanthin","label_nutrient_vit_scientific_a","label_nutrient_vit_scientific_b1","label_nutrient_vit_scientific_b2","label_nutrient_vit_scientific_b3","label_nutrient_vit_scientific_b5","label_nutrient_vit_scientific_b9","label_nutrient_vit_scientific_b12","label_nutrient_vit_scientific_c","label_nutrient_vit_scientific_d","label_nutrient_vit_scientific_e","label_nutrient_vit_scientific_k","label_nutrient_water","label_overview","label_per_100g","label_per_portion","label_portion","label_portion_selected","label_portion_common","label_preferred_source","label_prefix_hereof","label_ranking_dietaryRequirements","label_reference","label_reference_all","label_reference_category","label_reference_panel","label_requirement","label_source","label_source_supplement","label_source_supplement_tooltip","label_source_combine","label_source_combine_tooltip","label_title","label_unknown","label_usda_reference","label_userSettings_age","label_userSettings_breastfeeding","label_userSettings_intro","label_userSettings_leisureSports","label_userSettings_leisureSports_tooltip","label_userSettings_palValue","label_userSettings_pregnant","label_userSettings_sex","label_userSettings_sex_male","label_userSettings_sex_female","label_userSettings_size","label_userSettings_weight","label_value","menu_food_data_panel","menu_food_data_panel_m","menu_direct_compare","menu_direct_compare_m","menu_home","menu_ranking","menu_ranking_m","menu_settings","menu_settings_m","menu_contact","menu_contact_sources","menu_contact_dataprivacy","menu_contact_versions","menu_contact_impressum","message_email_success","message_email_error","message_error_existing_element","message_error_incomplete_form","message_error_invalid_portion","message_userdata_success","message_userdata_error_title","message_userdata_error_age","message_userdata_error_size","message_userdata_error_weight","modal_settings_title","modal_settings_label_unit_vitamins","modal_settings_label_unit_proteins","modal_settings_label_provitamins","modal_settings_label_dietaryRequirments","palcat_name_1","palcat_desc_1","palcat_name_2","palcat_desc_2","palcat_name_3","palcat_desc_3","palcat_name_4","palcat_desc_4","palcat_name_5","palcat_desc_5","palcat_name_6","palcat_desc_6","palcat_name_7","palcat_desc_7","portion_100g","portion_individual","text_contact_disclaimer1","text_contact_disclaimer2","text_contact_disclaimer3","text_contact_form","text_contact_source1","text_contact_source2","text_contact_source3","text_contact_source4","text_empty_fooddatapanel","text_empty_fooddatapanel_mobileInfo","text_ranking","text_setUserdata_p1","text_setUserdata_p2","text_setUserdata_p3","tooltip_icon_charts","tooltip_icon_close","tooltip_icon_newFoodItem","tooltip_icon_newFoodItemStack","tooltip_icon_removeAll","tooltip_icon_settings","tooltip_icon_table","tooltip_source","getCurrentWindowDimension","innerWidth","innerHeight","useWindowDimension","windowDimension","setWindowDimension","useEffect","addEventListener","removeEventListener","isSmallScreen","isMobileDevice","isMobile","Header","applicationContext","useContext","_useContext","useLocation","handleLanguageButtonClick","event","target","handleSourceButtonClick","activePath","pathname","endsWith","console","log","renderMenus","menuNameAnalyze","menuNameDirectCompare","menuNameRanking","menuNameSettings","buttonContainerClass","_jsxs","className","Link","to","Button","variant","active","language_en","language_de","formElementsClass","renderLanguageButtons","type","defaultChecked","onClick","style","marginRight","renderSourceButtons","paddingRight","checked","onChange","paddingTop","paddingLeft","minWidth","maxWidth","src","logo","alt","text","marginTop","carouselImages","require","startImages","Home","displayedImage","setDisplayedImage","imageChanged","image","renderCarousel","pic1","default","pic2","pic3","pic4","pic5","pic6","pic7","captionAttribute","imageCaption","paddingBottom","Carousel","showArrows","infiniteLoop","autoPlay","interval","transitionTime","selectedItem","showThumbs","showStatus","textAlign","fontStyle","renderStartButtons","startImg1","startImg2","startImg3","startImg4","renderStartButton","label","srcImage","maxHeight","renderHomeText","textElements","textElement","renderTextElement","FaAngleDoubleRight","margin","homeText1","homeText2","marginBottom","homeText3","getCategorySelectList","nameTypeList","sort","names","forEach","reactSelectOptions","getReactSelectOptionsList","getFoodItemsSelectList","foodClass","filteredFoodItems","getFoodItemsOfFoodclass","_foodName","getFoodItemName","condition","conditionId","conditionName","foodClassId","foodClassLabelSeparator","getFoodClassSelectList","category","filteredFoodClasses","getFoodClassesOfCategory","nameKey","foodItemNames","element","join","obj1","obj2","localeCompare","getPortionReactSelectList","portionData","portionElement","portionTypeIndex","findIndex","portionName","amount","getDefaultPortionData","portionDataList","defaultPortionIndex","defaultPortionId","getSourceName","sourceId","getNutrientData","getNutrientDataForFoodItem","selectedSource","supplementData","combineData","sourceToUse","nutrientDataList","nutrientData","nutrientDataObject","complement","selectedNutrientData","complementeNutrientData","supplementedBaseData","supplementCategory","baseData","supplementedVitaminData","vitaminData","supplementedMineralData","mineralData","supplementedCarbsData","carbohydrateData","supplementedProteinData","proteinData","supplementedOmegaData","lipidData","omegaData","supplementedLipidData","sourceItemId","supplementNutrientData","combinedBaseData","combineCategory","combinedVitaminData","combinedMineralData","combinedCarbsData","combinedProteinData","combinedOmegaData","combinedLipidData","combineNutrientData","nutrientCategory1","nutrientCategory2","objectHasChildren","keys1","keys2","allKeys","_toConsumableArray","Set","finalObject","finalValue","value1","value2","fontsize","selectHeight","customSelectStyles","control","base","minHeight","fontSize","valueContainer","provided","padding","dropdownIndicator","styles","clearIndicator","getCustomSelectStyle","backgroundColor","correspondingSelectElementStyle","COLOR_SELECTOR_CATEGORY","COLOR_SELECTOR_FOODCLASS","COLOR_SELECTOR_FOODITEM","FoodSelector","initialCategory","foodSelectorConfig","directCompareSelectorConfig1","directCompareSelectorConfig2","initialSupplementValue","directCompareSelectorNumber","initialCombineValue","setSelectedCategory","_useState3","_useState4","selectdFoodClass","setSelectedFoodClass","_useState5","_useState6","setSelectedFoodItem","_useState7","_useState8","selectedPortion","setSelectedPortion","_useState9","_useState10","portionAmount","setPortionAmount","_useState11","_useState12","title","setTitle","_useState13","_useState14","setSelectedSource","_useState15","_useState16","setSupplementData","_useState17","_useState18","setCombineData","_useState19","_useState20","initialized","setInitialized","_useState21","_useState22","categoriesList","setCategoriesList","_useState23","_useState24","foodClassesList","setFoodClassesList","_useState25","_useState26","foodClassesTypeaheadList","setFoodClassesTypeaheadList","_useState27","_useState28","foodItemsList","setFoodItemsList","_useState29","_useState30","portionsList","setPortionsList","_useState31","_useState32","sourcesList","setSourcesList","windowSize","getInitialFoodClassNumber","foodClassOptions","initialFoodClassToSet","defaultFoodClass","foodClassOption","categoryItems","initialFoodClass","foodItemsOfFoodClass","updateSourcesList","defaultPortion","makeSelectedFoodItemObject","newFoodItem","updateSelectedFoodItem","updateFoodSelectorConfig","_props$selectedFoodIt","portion","resetTypeaheadFilter","handleSourceChange","updateFoodClasses","foodClassItems","updateFoodItem","_applicationContext$f","updatePortionsList","sourceNames","getSourceNames","matchingSource","sourceObject","onCheckSupplementCheckbox","onCheckCombineCheckbox","predefinedFoodObject","_applicationContext$f2","selected","sourceElement","_props$selectedFoodIt2","portionObject","setInitialFoodElement","amount_label","compositeSelector","selectClass","inputClass","formClass","stylesCategory","directCompareSelector","stylesFoodClass","stylesFoodItem","updateCompositeTitle","Select","options","onInputChange","action","resultList","dictionary","toLowerCase","entry","startsWith","formatOptionLabel","option","pos","onMenuClose","disabled","parseInt","isNaN","sourceSelectBox","isDisabled","checkboxes","ReactTooltip","Form","Check","inline","renderSourceLine","CompositeFoodList","languageContext","renderLine","borderBottom","deleteItem","onDeleteItem","FaTrash","overflowY","combineFoodItems","compositeList","portionSize","energy","carbohydrates","lipids","proteins","water","dietaryFibers","alcohol","ash","portionFactor","createFinalValue","buildBaseDataObject","a","b1","b2","b3","b5","b6","b7","b9","b12","c","d","k","carotenoidData","buildCarotenoidDataObject","extendedVitaminE","buildExtendedVitaminEObject","buildVitaminDataObject","calcium","iron","magnesium","phosphorus","potassium","sodium","zinc","copper","manganese","selenium","buildMineralDataObject","glucose","fructose","galactose","sucrose","maltose","lactose","starch","sugar","buildCarbohydrateData","unsaturatedMono","unsaturatedPoly","saturated","omega3","omega6","omegaUncertain","cholesterol","transFattyAcids","_lipidData$omegaData","_lipidData$omegaData2","_lipidData$omegaData3","uncertain","omegaRatio","uncertainRatio","buildLipidData","tryptophan","threonine","isoleucine","leucine","lysine","methionine","cystine","phenylalanine","tyrosine","valine","arginine","histidine","alanine","asparticAcid","glutamicAcid","glycine","proline","serine","buildProteinData","nutrientObject","url","i","threshold","removeNutrientObjectsWithNullValues","buildAggregatedNutrientDataList","Date","getTime","aggregated","compositeSubElements","alpha","beta","cryptoxanthin","lycopene","lutein","caroteneAlpha","caroteneBeta","tocopherolBeta","tocopherolGamma","tocopherolDelta","tocotrienolAlpha","tocotrienolBeta","tocotrienolGamma","extendedVitaminEData","totalPortionAmount","HelpModal","helpText","display","role","closeHelpModal","dangerouslySetInnerHTML","__html","content","getHelpText","helpModalId","languageId","entries","languageSection","contentArray","FoodSelectorModal","compositeTitle","setCompositeTitle","setCompositeList","showHelpModal","setShowHelpModal","onSubmit","onSubmitComposite","onSubmitSingleItem","NotificationManager","error","selectedFoodItemCallback","onHide","aggregatedSelectedFoodItem","titleToShow","currentSelectorSetting","Modal","show","Body","newList","splice","Footer","FaQuestionCircle","ConfirmationDialog","_React$Component","_this$props","okLabel","cancelLabel","confirmation","proceed","_this$props$enableEsc","enableEscape","backdrop","keyboard","fullscreen","Title","React","confirmAction","small","createConfirmation","confirmable","color_yellow","color_green","color_red","color_purple","color_gray","color_line_blue","color_line_red","color_chart_green_2","color_chart_green_3","color_chart_yellow_4","color_chart_yellow_green_1","color_chart_yellow_green_2","color_chart_black","color_chart_misc","default_chart_height","default_chart_height_m","basedata_piechart_width","basedata_piechart_width_m","basedata_barchart_width","datapanel_container_min_width","datapanel_container_min_width_m","color_water","color_lipids","color_carbs","color_carbs_sugar","color_carbs_dietaryFibers","color_carbs_mono_glucose","color_carbs_mono_fructose","color_carbs_mono_galactose","color_carbs_di_sucrose","color_carbs_di_lactose","color_carbs_di_maltose","color_carbs_starch","color_alcohol","color_proteins","color_lipids_saturated","color_lipids_unsaturated_mono","color_lipids_unsaturated_poly","color_lipids_omega3","color_lipids_omega6","color_lipids_misc","color_ash","direct_compare_color1","direct_compare_color2","getBarChartOptions","unit","maxYValue","yAxis","min","max","getOptions","y","getPieChartOptions","scalesObject","maintainAspectRatio","responsive","plugins","tooltip","getToolTips","legend","scales","enabled","callbacks","tooltipItem","formattedValue","PieChartConfigurationForm","legendLabel","detailsLabel","Label","handleRadioButtonClick","handleLegendCheckboxClick","detailsCheckboxAvailable","handleDetailsCheckboxClick","CustomLegend","borderLeft","mobile","legendData","indent","verticalSpace","separateNextElement","legendItemLabelClass","legendClassName","marginLeft","background","color","item","renderLegend","calculateChartHeight","currentDimension","directCompare","dataPage","calculateChartContainerHeight","autoRound","round","digits","roundFactor","Math","pow","roundToNextValue","number","ordinaryValue","numberOfDigits","ceil","log10","standardValue","nextNumberFive","getNumberOfFixedLength","numberString","convertBooleanToDigit","convertStringToBoolean","getBaseChartLegendData","lang","ChartConfig","BaseDataChart","_props$selectedFoodIt3","directCompareConfig","showDetailsProp","setChartType","setShowLegend","setShowDetails","directCompareUse","chartHeight","setChartHeight","updateChartConfig","currentConfig","newChartConfig","legendAllowed","renderSubChart","chartData","Pie","data","Bar","totalChartData","chartDisplayData","alcoholValuePerc","labels","colors","values","getTotalChartData","datasets","borderWidth","borderColor","createTotalChartData","nutrientChartData","_nutrientData$baseDat","_nutrientData$carbohy","totalValue","carbValue","carbValuePerc","sugarValuePerc","dietaryFibersPerc","lipidValuePerc","proteinsValuePerc","getNutrientChartData","createNutrientChartData","totalChartDataTitle","nutrientChartDataTitle","containerHeight","justifyContent","PAL_CATEGORY_1","PAL_CATEGORY_2","PAL_CATEGORY_3","PAL_CATEGORY_4","PAL_CATEGORY_5","PAL_CATEGORY_6","PAL_CATEGORY_7","getPalCategory","EnergyConstants","createPalCategoryName","languageLabel","energyLabel","EnergyDataChart","energy100g","averagePortion","energyPortion","createEnergyLevelChart","_applicationContext$u","bmr","calculateBMR","totalEnergy","calculateTotalEnergyConsumption","annotation1","drawTime","mode","scaleID","yMin","yMax","annotation2","annotation","annotations","line1","line2","showInfotext","renderUserDataInfoPage","BarChartConfigurationForm","handleExpandCheckboxClick","handleSynchronize","determineDailyRequirement","dailyRequirementObject","ageGroupRequirements","senior","preSenior","midLifeAdult","youngAdult","youth","male","femalePregnant","female","femaleBreastFeeding","determineFoodRequirementRatio","amountInFood","dailyRequirement","determineProteinRequirementRatio","requirement","convertAbsoluteValueToDailyRequirement","dailyRequirements","Constants","vitaminRequirementData","mineralRequirementData","EQ_FACTOR_BETA_CAROTENE","EQ_FACTOR_OTHER_CAROTENE","EQ_FACTOR_TOCOPHEROL_BETA","EQ_FACTOR_TOCOPHEROL_GAMMA","EQ_FACTOR_TOCOPHEROL_DELTA","EC_FACTOR_TOCOTRIENOL_ALPHA","EC_FACTOR_TOCOTRIENOL_BETA","EC_FACTOR_TOCOTRIENOL_GAMMA","getVitaminChartData","requirementData","amountA","calculateVitaminAEquivalent","amountE","calculateVitaminEEquivalent","MineralVitaminChart","chartConfigVitamins","chartConfigMinerals","portionType_vitamins","setPortionType_vitamins","expand100_vitamins","setExpand100_vitamins","portionType_minerals","setPortionType_minerals","expand100_minerals","setExpand100_minerals","setShowBookModal","setSelectedColumnLabel","config","selectedSubChart","anyValueChanged","handleExpandCheckbox","precalculatedData","chartColor","barChartColor","createVitaminChartData","getMineralsChartData","createMineralChartData","maxValue","overallMaxValue","barChartOptions","context","scientificName","vitamin","labelName","getScientificVitaminName","clickedColumnIndex","columnLabel","barChartProps","renderChartConfigurationForm","getLipidsOmegaChartLegend","LipidsDataChart","initialExpand100","initialHideRemainders","setShowHideRemainders","setExpand100","setSubChart","totalLipidsAmount","handleChartSelectionChange","handleSubchartChange","handleExpand100Change","handleHideRemaindersCheckbox","totalAmount","lipidsData","valueRemainder","portionAmountToUse","valueSaturated","valueUnsaturatedMono","valueUnsaturatedPoly","getTotalLipidsChartData","createOmegaChartData","valueOmega3","valueOmega6","valueUncertain","getOmegaChartData","omegaDataAvailabe","chartColType","renderChart","lipidsType","ProteinDataChart","setPortionType","currentSetting","proteinRequirementData","getProteinChartData","createProteinChartData","dataExists","getCarbsBaseLegend","getCarbsDetailsLegend","CarbsDataChart","currentSettings","chartIndex","detailChartData","_getNutrientData","valueGlucose","valueFructose","valueGalactose","valueSucrose","valueLactose","valueMaltose","valueStarch","valueDietaryFibers","getCarbDetailsChartData","createDetailChartData","basicChartData","totalCarbsAmount","valueSugar","getCarbBaseChartData","createBasicChartData","getRankingGroups","getElementsOfRankingGroup","rankingGroup","getBaseCategoryValues","getVitaminCategoryValues","getMineralCategoryValues","getLipidCategoryValues","getCarbohydrateCategoryValues","getProteinCategoryValues","getOrderedFoodList","foodList","selectedValue","foodNamesList","chartItems","_loop","getValueOfFoodItem","_foodItem$portionData","portionValue","getPortionValue","chartItem","sortChartItems","carbsData","getMaximumValue","dataSet","dataSetKey","ratioValue","getOverlappingValues","dataSet1","dataSet2","overlapping","nullifyNonOverlappingValues","overlappingAttributes","newDataset","getUnit","transformToDietaryRequirements","getFoodItemsForComparison","selectedReference","selectedFoodItemsInPanel","allFoodItems","selectedFoodClass","JuxtapositionChart","referenceData","valuesInGroup","valueInGroup","nutrientName","fooditemCondition","fullName","createChartDataForJuxtapostionChart","calculateChartData","nutrientIndex","x","ticks","autoSkip","getBarChartOptionsForJuxtaposition","barIndexOfSelectedFoodItem","maxRotation","minRotation","numberOfItemsInChart","callback","marker","chartDataObj","maxBarThickness","JuxtapositionTable","tableData","setTableData","updateTable","newTableData","allValues","minValue","averageValue","reduce","b","sorted","centerValue","medianValue","floor","rank","num","tableRow","average","median","createJuxtapositionTableData","tableClass","BootstrapTable","trClassName","striped","hover","TableHeaderColumn","isKey","dataField","JustapositionSettings","setChartSize","setShowLabels","saveData","newJuxtapositionConfigData","optionsChartSize","chartSizeOption","classRow","FormGroup","controlId","isSearchable","renderMenu","JuxtapostionContainer","showSettingsModal","setShowSettingsModal","referenceList","_applicationContext$a","numberOfFoodItemsInPanel","compareToFoodItemsInPanel","_applicationContext$a2","rankingList","group","reference","overflow","defaultValue","selectedOption","ChartPanel","selectedDataTab","chart","FoodDataTable","formatDataCell","cell","row","firstLineStype","indentStyle","split","labelPortion","shouldShowDietaryRequirements","dataFormat","InfoData","setContainerHeight","createRow","renderSubTable","bordered","isCompositeFoodElement","foodNameId","foodClassNameId","sourceName","sourceLine2","foodClassName","categoryId","categoryName","tableDataGeneral","getGeneralTableData","foodPortion","tableDataPortion","getTableDataPortion","usdaLink","link","open","focus","href","makeTableDataCombinedFood","FoodDataPageBody","ChartMenuPanel","handlePageButtonClick","setDataPage","makeButtonLabel","buttonText","classNameSpan","verticalArrangement","rowClass","labelMinerals","labelCarbs","ButtonGroup","vertical","SettingsModal","optionsVitamins","selectedUnitVitamins","selectedOptionVitamins","optionsProteins","selectedUnitProteins","selectedOptionProteins","optionsProvitamins","selectedOptionProvitamins","selectionOption","handleUnitVitaminsChange","handleUnitProteinsChange","handleIncludeProvitaminsChange","FoodDataPageHeader","history","useHistory","setHelpModalId","setDisplayMode","enabledDisplayButtonClasses","disabledDisplayButtonClasses","chartButtonClasses","tablesButtonClasses","sourceString","sourceToolTip","headerLabel","FaChartBar","FaThList","globalEventOff","FaTools","remainingItems","pathName","FaTimes","createBaseDataTable","params","_selectedFoodItem$foo","_getNutrientData$base","createTableObject","carbObject","makeCarbsTableObject","value_100g","valuePortion","calculatePortionData","value_portion","valueVolume100gram","MathService","createTableObjectAlcohol","appendTableDataObject","object","reqString","appendedObject","extension","getVitaminOrMineralAmount","amountInMg","getProteinAmount","amountInGram","makeDietaryRequirementString","calculateProteinRequirement","requirementMg","calculateProvitaminEquivalent","referenceVitaminRequriemtnAmount","equivalenceFactor","equivalentVitA","FoodDataPage","updatePage","tableDataList","dietaryRequirement","tableCalculationParams","extendedParams","createEnergyTable","_dietaryRequirement$v","vitRequirementData","totalCarotenoid","getTotalAmountOfCarotenoids","requirementVitaminA","carotenoidTableObject","hasExtendedData","totalExtensions","getTotalAmountOfExtendedVitaminE","requirementVitaminE","extendedVitaminETable","equivalentVitE","createVitaminTable","minRequirementData","firstNutrientData","createMineralTable","createLipidsTable","_firstNutrientData$ba","createCarbsTable","_dietaryRequirement$p","protRequirementData","createProteinTable","newMode","datapage","makeFoodDataPanelComponent","_selectedFoodItem$tit","component","FoodAnalyzerContainer","showFoodSelectorInitialState","openSelectorModal","showCompositeFoodSelectorInitialState","openCompositeSelectorModal","showFoodSelector","setShowFoodSelector","showFoodAggregatedFoodSelector","setShowAggregatedFoodSelector","onOpenSelector","aggregateSelector","onSelectFoodItemSubmit","selectedFoodItemWithComponent","onNewFoodItemSelected","onCloseAllTabs","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","sent","stop","deleteIconEnabled","buttonClass","divButtonClass","FaPlusSquare","FaLayerGroup","TabContainer","CloseableTabs","tabPanelClass","tabContentClass","buttonTab","border","verticalAlign","alignItems","cursor","onTabClick","onTabChange","activeIndex","makeChartConfigUriString","chartObject","generalizedChartConfig","generalizedChartObject","makeGeneralizedChartConfig","chartTypeKey","portionTypeKey","expand100Key","showLegendKey","showDetailsKey","subChartKey","getSubChartKey","subChartKey2","synchronizeKey","convertGeneralizedChartConfigToString","getUpdatedChartConfig","chartConfigUriString","chartConfigFromUri","convertGeneralizedChartConfigStringToObject","barChartConfig","uriString","stringToParse","chartTypeNumber","portionTypeNumber","subChartNumber","subChartNumber2","getSubChartFromKey","makeFoodItemDefaultUri","foodItemData","portionString","supplementValue","combineValue","getFoodItemUriData","fragments","portionDataString","convertPortionDataStringToObject","booleanData","convertUserDataObjectToString","convertUserDataStringToObject","userDataString","palValueInt","palCategory","getPalValue","prepareUriForParsing","uri","replace","separator","replacements","short","convertAggregatedUriStringToObject","replacementArray","replacement","JSON","parse","convertUriStringToSelectedFoodItem","newChartConfigData","USERDATA_ERROR_AGE","USERDATA_ERROR_WEIGHT","USERDATA_ERROR_SIZE","USERDATA_OK","checkUserDataValidity","FoodDataPanelContainer","buildDataPanelPageFromURI","updateUriQuery","createDataFromUriQuery","query","objectToParse","selectedFoodItemString","stringify","chartConfigString","convertAggregatedDataJsonToUriString","selectedDisplayMode","foodItemDataString","makeFoodDataPanelDefaultUri","_applicationContext$s","uriDataObject","foodItemUriData","parseFoodDataPanelDefaultUri","selectedTabIndex","divClass","newTabIndex","indexToSet","foodId","FaExclamationTriangle","STATUS_FIRST_TIME","STATUS_NOT_UPDATED","STATUS_UPDATED","DirectCompareSelector","supplementData1","setSupplementData1","combineData1","setCombineData1","supplementData2","setSupplementData2","combineData2","setCombineData2","initialItem1","initialItem2","setSelectedFoodItem1","setSelectedFoodItem2","displayStatus","setDisplayStatus","updateSelectedFoodItem1","updateSelectedFoodItem2","updateFoodSelectorConfig1","updateFoodSelectorConfig2","renderFoodSelectorCard","foodSelectorNumber","styleClass","Card","CardDeck","buttonName","updateSelectedFoodItems","currentSelectorSetting1","currentSelectorSetting2","VerticalLabel","_Fragment","resolvedName","DcMineralVitaminChart","synchronizeVitamins","setSynchronizeVitamins","synchronizeMinerals","setSynchronizeMinerals","nutrientData1","nutrientData2","portion1","portion2","maxValue1","maxValue2","maxY","preconfigVitamins","preconfigMinerals","preconfig","preconfigFoodItem1","preconfigFoodItem2","DcPieChart","initialConfig","setSubChart1","setSubChart2","configObject","pieChartConfig","handleShowLegendCheckbox","handleShowDetailsCheckbox","handleSubchart1Change","handleSubchart2Change","getConfigurationProps","chartProps","getChartComponent","DcProteinDataChart","setSynchronize","DcEnergyChart","DirectCompareDataPanel","nameId1","nameId2","name1","name2","renderCharts","makeFoodItemUriData","parseDirectComparetUri","foodItemUriData1","foodItemUriData2","slice","getUpdatedDirectCompareChartConfig","DirectCompareContainer","initialFoodItem1","initialFoodItem2","buildDataObjectsFromURI","foodItem1DataUri","foodItem2DataUri","userDataUri","chartConfigUri","makeDirectCompareDataUri","foodItem1","foodItem2","foodClass1","foodClass2","_selectedFoodItem1$fo","_selectedFoodItem2$fo","foodClassNameKey1","nameEntity1","foodClassName1","foodClassNameKey2","nameEntity2","foodClassName2","UserSettings","setAge","setSize","setWeight","setSex","setPregnant","setBreastFeeding","setPalValue","leisureSport","setLeisureSport","changePregnant","changeBreastFeeding","changeAdditionalPalPorts","checkInputValidity","validationResult","showMessage","message","renderTextField","FormControl","value_age","value_size","value_weight","FaLightbulb","renderSexRadioButtons","palCategories","userDataPalValue","palObject","descriptionCode","description","changePalValue","renderPalList","success","submitUserData","MAIL_INVALID_NAME","MAIL_NO_CONTENT","MAIL_CONTENT_TO_LONG","MAIL_INVALID_ADDRESS","mailRegex","checkMailValidity","mail","errors","address","match","checkLength","SERVICE_ID","TEMPLATE_ID","USER_ID","ContactForm","setName","mailAddress","setMailAdress","setMessage","characters","setCharacters","sendMail","reply_to","from_name","emailjs","send","then","result","info","charactersLeft","charactersMessage","preventDefault","mailData","validationErrors","errorMessage","rows","Sources","Versions","Impressum","impressumPath","impressum_de","impressum_en","columnClass","DataPrivacy","dataprivacy","ContactContainer","selectedMenu","setSelectedMenu","buttonStyle","onChangeSubmenu","ToggleButtonGroup","ToggleButton","renderSubMenu","RankingSelector","initializeState","elementsList","setElementsList","newElements","buildElementsList","openChart","buildRankingPanelPageFromURI","foodCategories","groups","elements","selectedFoodCategoryOption","foodCategory","selectedGroupOption","selectedElementOption","use100g","parseRankingPanelDataUri","_rankingPanelData$sel","_rankingPanelData$sel2","_rankingPanelData$sel3","showDailyRequirements","makeRankingPanelDataUri","handlePortionAmountChange","newRankingData","handleDietaryRequirementsCheckbox","rankingCategory","containerClass","useHorizontalLayout","selectorClass","renderPortionForm","RankingChart","createChartData","position","dataAvailable","containerStyle","overflowX","RankingContainer","setChartItems","setUnit","setSelectedValue","orderedChartItems","renderHelpText","renderInformationText","WebPageContainer","Chart","register","annotationPlugin","ArcElement","Router","Switch","Route","path","exact","MobileDeviceCheck","status","App","rebuild","NotificationContainer","rootElement","document","getElementById","render"],"mappings":"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","file":"static/js/main.4e07a54b.chunk.js","sourcesContent":["var map = {\n\t\"./Img-de-1.png\": 176,\n\t\"./Img-de-2.png\": 177,\n\t\"./Img-de-3.png\": 178,\n\t\"./Img-de-4.png\": 179,\n\t\"./Img-de-5.png\": 180,\n\t\"./Img-de-6.png\": 181,\n\t\"./Img-de-7.png\": 182,\n\t\"./Img-en-1.png\": 183,\n\t\"./Img-en-2.png\": 184,\n\t\"./Img-en-3.png\": 185,\n\t\"./Img-en-4.png\": 186,\n\t\"./Img-en-5.png\": 187,\n\t\"./Img-en-6.png\": 188,\n\t\"./Img-en-7.png\": 189\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 175;","export default __webpack_public_path__ + \"static/media/Img-de-1.8de0b4f1.png\";","export default __webpack_public_path__ + \"static/media/Img-de-2.7af33786.png\";","export default __webpack_public_path__ + \"static/media/Img-de-3.e66c3b5a.png\";","export default __webpack_public_path__ + \"static/media/Img-de-4.7300470d.png\";","export default __webpack_public_path__ + \"static/media/Img-de-5.b65da284.png\";","export default __webpack_public_path__ + \"static/media/Img-de-6.e2bd37af.png\";","export default __webpack_public_path__ + \"static/media/Img-de-7.eba7128a.png\";","export default __webpack_public_path__ + \"static/media/Img-en-1.ffb9f28d.png\";","export default __webpack_public_path__ + \"static/media/Img-en-2.67d2ba3b.png\";","export default __webpack_public_path__ + \"static/media/Img-en-3.60fee4d0.png\";","export default __webpack_public_path__ + \"static/media/Img-en-4.16d3c69a.png\";","export default __webpack_public_path__ + \"static/media/Img-en-5.ae40558c.png\";","export default __webpack_public_path__ + \"static/media/Img-en-6.5767bb06.png\";","export default __webpack_public_path__ + \"static/media/Img-en-7.f0e051bb.png\";","var map = {\n\t\"./StartImg1.jpg\": 191,\n\t\"./StartImg2.jpg\": 192,\n\t\"./StartImg3.jpg\": 193,\n\t\"./StartImg4.jpg\": 194\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 190;","export default __webpack_public_path__ + \"static/media/StartImg1.cbf0990c.jpg\";","export default __webpack_public_path__ + \"static/media/StartImg2.bbe95216.jpg\";","export default __webpack_public_path__ + \"static/media/StartImg3.d172d9b5.jpg\";","export default __webpack_public_path__ + \"static/media/StartImg4.2a0a89b0.jpg\";","import NameType from '../types/nutrientdata/NameType'\r\nimport Source from '../types/nutrientdata/Source'\r\nimport FoodItem from '../types/nutrientdata/FoodItem'\r\nimport DietaryRequirement from '../types/nutrientdata/DietaryRequirement'\r\n\r\nimport nutrientdata from \"../static/data/nutrientdata_foodcompare.json\";\r\nimport FoodDataCorpus from \"../types/nutrientdata/FoodDataCorpus\"\r\nimport FoodClass from \"../types/nutrientdata/FoodClass\";\r\n\r\nexport function loadFoodDataCorpus(): FoodDataCorpus {\r\n\tconst categories = loadCategories()\r\n\tconst conditions = loadConditions()\r\n\tconst portionTypes = loadPortionTypes()\r\n\tconst sources = loadSources()\r\n\tconst foodNames = loadFoodNames()\r\n\tconst foodClasses = loadFoodClasses()\r\n\tconst nutrientData = loadFoodItems()\r\n\tconst dietaryRequirements = loadDietaryRequirements()\r\n\r\n\treturn {\r\n\t\tcategories: categories,\r\n\t\tconditions: conditions,\r\n\t\tportionTypes: portionTypes,\r\n\t\tsources: sources,\r\n\t\tfoodNames: foodNames,\r\n\t\tfoodClasses: foodClasses,\r\n\t\tfoodItems: nutrientData,\r\n\t\tdietaryRequirements: dietaryRequirements\r\n\t}\r\n}\r\n\r\nexport function loadConditions(): Array<NameType> {\r\n\treturn nutrientdata.conditions;\r\n}\r\n\r\nexport function loadPortionTypes(): Array<NameType> {\r\n\treturn nutrientdata.portionTypes;\r\n}\r\n\r\nexport function loadFoodNames(): Array<NameType> {\r\n\treturn nutrientdata.foodNames;\r\n}\r\n\r\nexport function loadSources(): Array<Source> {\r\n\treturn nutrientdata.sources;\r\n}\r\n\r\nexport function loadCategories(): Array<NameType> {\r\n\treturn nutrientdata.categories;\r\n}\r\n\r\nexport function loadFoodClasses(): Array<FoodClass> {\r\n\treturn nutrientdata.foodClasses;\r\n}\r\n\r\nexport function loadFoodItems(): Array<FoodItem> {\r\n\treturn nutrientdata.foodItems;\r\n}\r\n\r\nexport function loadDietaryRequirements(): DietaryRequirement {\r\n\treturn nutrientdata.dietaryRequirements;\r\n}","export const AMOUNT_PORTION = \"amount portion\"\r\nexport const AMOUNT_100_GRAM = \"100 gram\"\r\n\r\nexport const CHART_TYPE_PIE = \"pie chart\"\r\nexport const CHART_TYPE_BAR = \"bar chart\"\r\n\r\nexport const CHART_VITAMINS = \"chart vitamins\"\r\nexport const CHART_MINERALS = \"chart minerals\"\r\n\r\nexport const CHART_SIZE_SMALL = 0\r\nexport const CHART_SIZE_MEDIUM = 1\r\nexport const CHART_SIZE_LARGE = 2\r\n\r\nexport const CATEGORY_BEVERAGE = 10\r\n\r\nexport const DATA_ASH = \"d_ash\";\r\nexport const DATA_ENERGY = \"d_energy\";\r\nexport const DATA_WATER = \"d_water\";\r\nexport const DATA_CARBS = \"d_carbs\";\r\nexport const DATA_LIPIDS = \"d_lipids\";\r\nexport const DATA_PROTEINS = \"d_proteins\";\r\n\r\nexport const DATA_MINERAL_CALCIUM = \"d_calcium\";\r\nexport const DATA_MINERAL_IRON = \"d_iron\";\r\nexport const DATA_MINERAL_MAGNESIUM = \"d_magnesium\";\r\nexport const DATA_MINERAL_PHOSPHORUS = \"d_phosphorous\";\r\nexport const DATA_MINERAL_POTASSIUM = \"d_potassium\";\r\nexport const DATA_MINERAL_SODIUM = \"d_sodium\";\r\nexport const DATA_MINERAL_ZINC = \"d_zinc\";\r\nexport const DATA_MINERAL_SELENIUM = \"d_selenium\";\r\nexport const DATA_MINERAL_MANGANESE = \"d_manganese\";\r\nexport const DATA_MINERAL_COPPER = \"d_copper\";\r\n\r\nexport const DATA_VITAMINS_A = \"d_a\";\r\nexport const DATA_VITAMINS_B1 = \"d_b1\";\r\nexport const DATA_VITAMINS_B2 = \"d_b2\";\r\nexport const DATA_VITAMINS_B3 = \"d_b3\";\r\nexport const DATA_VITAMINS_B5 = \"d_b5\";\r\nexport const DATA_VITAMINS_B6 = \"d_b6\";\r\nexport const DATA_VITAMINS_B9 = \"d_b9\";\r\nexport const DATA_VITAMINS_B12 = \"d_b12\";\r\nexport const DATA_VITAMINS_C = \"d_c\";\r\nexport const DATA_VITAMINS_D = \"d_d\";\r\nexport const DATA_VITAMINS_E = \"d_e\";\r\nexport const DATA_VITAMINS_K = \"d_k\";\r\n\r\nexport const DATA_LIPIDS_SATURATED = \"d_saturated\";\r\nexport const DATA_LIPIDS_MONO_UNSATURATED = \"d_mono_unsaturated\";\r\nexport const DATA_LIPIDS_POLY_UNSATURATED = \"d_poly_unsaturate\";\r\nexport const DATA_LIPIDS_TRANSFATTY_ACIDS = \"d_transfatty_acids\";\r\n\r\nexport const DATA_CARBS_DIETARY_FIBERS = \"d_dietary fibers\";\r\nexport const DATA_CARBS_SUGAR = \"d_sugar\";\r\nexport const DATA_CARBS_GLUCOSE = \"d_glucose\";\r\nexport const DATA_CARBS_FRUCTOSE = \"d_fructose\";\r\nexport const DATA_CARBS_GALACTOSE = \"d_galactose\";\r\nexport const DATA_CARBS_SUCROSE = \"d_sucrose\";\r\nexport const DATA_CARBS_LACTOSE = \"d_lactose\";\r\nexport const DATA_CARBS_MALTOSE = \"d_maltose\";\r\nexport const DATA_CARBS_STARCH = \"d_starch\";\r\n\r\nexport const DATA_PROTEIN_TRYPTOPHAN = \"tryptophan\";\r\nexport const DATA_PROTEIN_THREONINE = \"threonine\";\r\nexport const DATA_PROTEIN_ISOLEUCINE = \"isoleucine\";\r\nexport const DATA_PROTEIN_LEUCINE = \"leucine\";\r\nexport const DATA_PROTEIN_LYSINE = \"lysine\";\r\nexport const DATA_PROTEIN_METHIONINE = \"methionine\";\r\nexport const DATA_PROTEIN_CYSTINE = \"cystine\";\r\nexport const DATA_PROTEIN_PHENYLALANINE = \"phenylalanine\";\r\nexport const DATA_PROTEIN_TYROSINE = \"tyrosine\";\r\nexport const DATA_PROTEIN_VALINE = \"valine\";\r\nexport const DATA_PROTEIN_ARGININE = \"arginine\";\r\nexport const DATA_PROTEIN_HISTIDINE = \"histidine\";\r\nexport const DATA_PROTEIN_ALANINE = \"alanine\";\r\nexport const DATA_PROTEIN_ASPARTIC_ACID = \"asparticAcid\";\r\nexport const DATA_PROTEIN_GLUTAMIC_ACID= \"glutamicAcid\";\r\nexport const DATA_PROTEIN_GLYCINE = \"glycine\";\r\nexport const DATA_PROTEIN_PROLINE = \"proline\";\r\nexport const DATA_PROTEIN_SERINE = \"serine\";\r\n\r\nexport const DISPLAYMODE_TABLE = \"dtb\"\r\nexport const DISPLAYMODE_CHART = \"dct\"\r\n\r\nexport const CARBS_DATA_BASE = \"carbs data base chart\";\r\nexport const CARBS_DATA_DETAIL = \"carbs data detail chart\"\r\n\r\nexport const LIPIDS_DATA_BASE = \"lipids data base chart\";\r\nexport const LIPIDS_DATA_OMEGA = \"lipids data omega chart\"\r\n\r\nexport const OPTION_YES = 0\r\nexport const OPTION_NO = 1\r\n\r\nexport const PATH_DIRECT_COMPARE = \"/directcompare\";\r\nexport const PATH_FOODCOMPARE = \"/foodcompare\"\r\nexport const PATH_FOODDATA_PANEL = \"/datapanel\";\r\nexport const PATH_HOME = \"/home\";\r\nexport const PATH_CONTACT = \"/contact\";\r\nexport const PATH_USERSETTINGS = \"/usersettings\";\r\n\r\nexport const PATH_RANKING = \"/ranking\";\r\n\r\nexport const PORTION_KEY_INDIVIDUAL = 0\r\nexport const PORTION_KEY_100 = 1\r\n\r\nexport const LANGUAGE_DE = \"de\";\r\nexport const LANGUAGE_EN = \"en\";\r\n\r\nexport const SEX_MALE = \"sex male\"\r\nexport const SEX_FEMALE = \"sex female\"\r\n\r\nexport const SOURCE_SRLEGACY = \"srlegacy\"\r\nexport const SOURCE_FNDDS = \"fndds\"\r\n\r\nexport const TAB_BASE_DATA = \"basedata\"\r\nexport const TAB_ENERGY_DATA = \"energydata\"\r\nexport const TAB_VITAMIN_DATA = \"vitamindata\"\r\nexport const TAB_MINERAL_DATA = \"mineraldata\"\r\nexport const TAB_LIPIDS_DATA = \"lipidsdata\"\r\nexport const TAB_CARBS_DATA = \"carbsdata\"\r\nexport const TAB_PROTEINS_DATA = \"proteinsdata\"\r\nexport const TAB_JUXTAPOSITION = \"juxtaposition\"\r\nexport const TAB_INFO = \"infodata\"\r\n\r\nexport const QUERYKEY_DATAPANEL_ADD = \"add\"\r\nexport const QUERYKEY_DATAPANEL_ADD_COMPOSITE = \"composite\"\r\nexport const QUERYKEY_DATAPANEL_ITEM = \"item\"\r\nexport const QUERYKEY_DATAPANEL_RANKING = \"ranking\"\r\nexport const QUERYKEY_DATAPANEL_AGGREGATED = \"aggregated\"\r\n\r\nexport const TAB_LIST = [TAB_BASE_DATA, TAB_ENERGY_DATA, TAB_VITAMIN_DATA, TAB_MINERAL_DATA, TAB_LIPIDS_DATA, TAB_CARBS_DATA, TAB_PROTEINS_DATA, TAB_INFO]\r\n\r\nexport const UNIT_GRAM = 0\r\nexport const UNIT_MILLIGRAM = 1\r\nexport const UNIT_MICROGRAM = 2\r\n\r\nexport const RANKING_BASE_DATA_INDEX = 0\r\nexport const RANKING_VITAMIN_INDEX = 1\r\nexport const RANKING_MINERAL_INDEX = 2\r\nexport const RANKING_LIPIDS_INDEX = 3\r\nexport const RANKING_CARBS_INDEX = 4\r\nexport const RANKING_PROTEIN_INDEX = 5\r\n\r\nexport const COMPARISON_REFERENCE_ALL = 0\r\nexport const COMPARISON_REFERENCE_ALL_IN_CATEGORY = 1\r\nexport const COMPARISON_REFERENCE_SELECTED_TABS = 2","import {\r\n    AMOUNT_PORTION,\r\n    CARBS_DATA_BASE, CHART_SIZE_MEDIUM,\r\n    CHART_TYPE_PIE, COMPARISON_REFERENCE_ALL,\r\n    LIPIDS_DATA_BASE,\r\n    RANKING_BASE_DATA_INDEX,\r\n    SEX_MALE\r\n} from \"./Constants\";\r\nimport {ChartConfigData, DirectCompareChartConfigData, JuxtapositionConfig} from \"../types/livedata/ChartConfigData\";\r\nimport {WindowDimension} from \"../service/WindowDimension\";\r\n\r\nexport const release = \"1.6.1\"\r\nexport const buildDate = \"2023-04-01\"\r\n\r\nexport const maxMessageCharacters = 5000\r\nexport const maxElementsInRankingChart = 50\r\n\r\n// The food class to be initially displayed in the food selector\r\nexport const initialFoodClassId = 1\r\n\r\n// The food class to be initially displayed as the comparator in the direct comparison menu (second element)\r\nexport const initialComparisonFoodClassId = 7\r\n\r\nexport const minimalOmegaRatio = 0.3\r\nexport const maximalPortionSize = 5000\r\nexport const defaultPanelHeight = '468px'\r\n\r\nexport const smallFormsScreenSize: WindowDimension = {\r\n    width: 1200,\r\n    height: 800\r\n}\r\n\r\nexport const initialUserDataAge = 35\r\nexport const initialUserDataSize = 175\r\nexport const initialUserDataWeight = 75\r\nexport const initialUserDataSex = SEX_MALE\r\nexport const initialUserDataPregnant = false\r\nexport const initialUserDataBreastfeeding = false\r\nexport const initialUserDataPalValue = 1.6\r\nexport const initialUserDataLeisureSports = false\r\n\r\nexport const initialChartConfigData: ChartConfigData = {\r\n    baseChartConfig: {\r\n        chartType: CHART_TYPE_PIE,\r\n        showLegend: true,\r\n        showDetails: false\r\n    },\r\n    vitaminChartConfig: {\r\n        portionType: AMOUNT_PORTION,\r\n        expand100: false\r\n    },\r\n    mineralChartConfig: {\r\n        portionType: AMOUNT_PORTION,\r\n        expand100: false\r\n    },\r\n    lipidsChartConfig: {\r\n        chartType: CHART_TYPE_PIE,\r\n        showLegend: true,\r\n        hideRemainders: false,\r\n        subChart: LIPIDS_DATA_BASE,\r\n        expand100: false\r\n    },\r\n    carbsChartConfig: {\r\n        chartType: CHART_TYPE_PIE,\r\n        showLegend: true,\r\n        subChart: CARBS_DATA_BASE,\r\n        hideRemainders: false,\r\n        expand100: false\r\n    },\r\n    proteinChartConfig: {\r\n        portionType: AMOUNT_PORTION,\r\n        expand100: false\r\n    }\r\n}\r\n\r\nexport const initialJuxtapositionConfigData: JuxtapositionConfig = {\r\n    selectedGroup: null,\r\n    selectedComparisonReference: null,\r\n    chartSize: CHART_SIZE_MEDIUM,\r\n    showLabels: false\r\n}\r\n\r\nexport const initialDirectCompareConfigData: DirectCompareChartConfigData = {\r\n    baseChartConfig: {\r\n        chartType: CHART_TYPE_PIE,\r\n        showLegend: false,\r\n        showDetails: false\r\n    },\r\n    vitaminChartConfig: {\r\n        portionType: AMOUNT_PORTION,\r\n        expand100: false,\r\n        synchronize: true\r\n    },\r\n    mineralChartConfig: {\r\n        portionType: AMOUNT_PORTION,\r\n        expand100: false,\r\n        synchronize: true\r\n    },\r\n    lipidsChartConfig: {\r\n        chartType: CHART_TYPE_PIE,\r\n        showLegend: false,\r\n        hideRemainders: false,\r\n        expand100: false,\r\n        subChart1: LIPIDS_DATA_BASE,\r\n        subChart2: LIPIDS_DATA_BASE\r\n    },\r\n    carbsChartConfig: {\r\n        chartType: CHART_TYPE_PIE,\r\n        showLegend: false,\r\n        hideRemainders: false,\r\n        expand100: false,\r\n        subChart1: CARBS_DATA_BASE,\r\n        subChart2: CARBS_DATA_BASE\r\n    },\r\n    proteinChartConfig: {\r\n        portionType: AMOUNT_PORTION,\r\n        expand100: false,\r\n        synchronize: true\r\n    }\r\n}","import NameType from \"../types/nutrientdata/NameType\";\r\n\r\n/**\r\n * Retrieves the name of a name type object in the given language\r\n * @param nameType The name type object\r\n * @param language The given language\r\n * @param verbose Optionally set this value to true to obtain the full name (including auxiliary information set in brackets)\r\n */\r\nexport default function getName(nameType: NameType, language: string, verbose = false): string {\r\n    const name = language === 'de' ?  nameType.germanName : nameType.englishName\r\n    if(!verbose) {\r\n        return removeAuxiliaryInformationFromFoodName(name)\r\n    } else {\r\n        return name\r\n    }\r\n}\r\n\r\n/**\r\n * Strips of auxiliary information of the food item, which is set in brackets and may not be intended to display\r\n * @param name The full food name as set in the nutrient json file.\r\n */\r\nexport function removeAuxiliaryInformationFromFoodName(name: string): string {\r\n    if(name.includes(\"[\")) {\r\n        const index = name.indexOf(\"[\")\r\n        return name.substring(0, index).trim()\r\n    } else {\r\n        return name\r\n    }\r\n}\r\n\r\n","import NameType from \"../../types/nutrientdata/NameType\";\r\nimport ReactSelectOption from \"../../types/ReactSelectOption\";\r\nimport getName from \"../LanguageService\";\r\n\r\nexport function getReactSelectOptionsList(nameTypeList: Array<NameType>, language: string, sort?: boolean): Array<ReactSelectOption> {\r\n    const names: Array<string> = []\r\n\r\n    if(nameTypeList && nameTypeList.length > 0) {\r\n        nameTypeList.forEach(nameType => names.push(getName(nameType, language)))\r\n    }\r\n\r\n    if(sort) {\r\n        names.sort()\r\n    }\r\n\r\n    const reactSelectOptions: Array<ReactSelectOption> = []\r\n    names.forEach((name, index) => {\r\n        reactSelectOptions.push({\r\n            value: index,\r\n            label: name\r\n        })\r\n    })\r\n\r\n    return reactSelectOptions\r\n}\r\n\r\n\r\nexport function getNameFromFoodNameList(foodNameList: Array<NameType>, id: number, language: string, verbose = false): string | null {\r\n    const nameType = foodNameList.find(nameType => nameType.id === id)\r\n\r\n    if(nameType) {\r\n        return getName(nameType, language, verbose)\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n\r\n/*\r\n * General method to shorten the name of long food name.\r\n * name: The food name, e.g. \"Linen oil (at least 60 % lineul acid)\"\r\n * maxLength: The maximum length of the food name.\r\n */\r\nexport function shortenName(name, maxLength) {\r\n    if(name.length <= maxLength) {\r\n        return name;\r\n    }\r\n\r\n    if(name.includes(\"(\")) {\r\n        const indexOfBrace = name.indexOf(\"(\");\r\n        if(indexOfBrace >= maxLength-6) {\r\n            return name.substring(0, indexOfBrace-1).trim() + \"...\";\r\n        }\r\n    }\r\n\r\n    return name.substring(0, maxLength-3).trim() + \"...\";\r\n}","import {Component, createContext, ReactElement} from \"react\";\r\nimport * as NutrientDataImportService from \"../service/NutrientDataImportService\";\r\nimport FoodDataCorpus from \"../types/nutrientdata/FoodDataCorpus\";\r\nimport SelectedFoodItem from \"../types/livedata/SelectedFoodItem\";\r\nimport {ApplicationData, RankingPanelData} from \"../types/livedata/ApplicationData\";\r\nimport {\r\n    DISPLAYMODE_CHART, OPTION_YES,\r\n    SOURCE_SRLEGACY,\r\n    TAB_BASE_DATA, UNIT_GRAM,\r\n    UNIT_MILLIGRAM\r\n} from \"../config/Constants\";\r\nimport {UserData} from \"../types/livedata/UserData\";\r\nimport {\r\n    initialChartConfigData,\r\n    initialDirectCompareConfigData, initialJuxtapositionConfigData,\r\n    initialUserDataAge,\r\n    initialUserDataBreastfeeding,\r\n    initialUserDataLeisureSports,\r\n    initialUserDataPalValue,\r\n    initialUserDataPregnant,\r\n    initialUserDataSex,\r\n    initialUserDataSize,\r\n    initialUserDataWeight\r\n} from \"../config/ApplicationSetting\";\r\nimport {getNameFromFoodNameList} from \"../service/nutrientdata/NameTypeService\";\r\nimport NameType from \"../types/nutrientdata/NameType\";\r\nimport {ChartConfigData, DirectCompareChartConfigData, JuxtapositionConfig} from \"../types/livedata/ChartConfigData\";\r\nimport ReactSelectOption from \"../types/ReactSelectOption\";\r\nimport {parseFoodCompareUri} from \"../service/uri/BaseUriService\";\r\nimport {DataSettings} from \"../types/livedata/DataSettings\";\r\n\r\nexport interface ApplicationDataContext {\r\n    foodDataCorpus: FoodDataCorpus\r\n    applicationData: ApplicationData\r\n    userData: UserData\r\n    dataSettings: DataSettings,\r\n    debug: boolean\r\n    ready: boolean\r\n    useAsMobile: Boolean | null\r\n}\r\n\r\nexport interface ApplicationContext extends ApplicationDataContext {\r\n    setUserData: (userData: UserData) => void\r\n    setDataSettings: (dataSettings: DataSettings) => void\r\n    setPreferredSource: (string) => void\r\n    setMobileUsage: (boolean) => void\r\n    setFoodSelectorConfig: (selectedCategory: ReactSelectOption | null, sourceSupplement: boolean, sourceCombine: boolean) => void\r\n    setDirectCompareFoodSelector1: (sourceSupplement: boolean, sourceCombine: boolean) => void\r\n    setDirectCompareFoodSelector2: (sourceSupplement: boolean, sourceCombine: boolean) => void\r\n    setFoodDataPanelData: {\r\n        setSelectedFoodTab: (number) => void\r\n        setSelectedDataPage: (string) => void\r\n        setSelectedDisplayMode: (string) => void\r\n        addItemToFoodDataPanel: (selectedFoodItem: SelectedFoodItem) => void\r\n        removeItemFromFoodDataPanel: (number) => void\r\n        removeAllItemsFromFoodDataPanel: () => void\r\n        updateAllFoodItemNames: (foodNames: Array<NameType>, newLanguage: string) => void\r\n        updateFoodDataPanelChartConfig: (chartConfig: ChartConfigData) => void\r\n        updateJuxtapositionConfig: (juxtapositionConfig: JuxtapositionConfig) => void\r\n    }\r\n    setDirectCompareData: {\r\n        updateDirectCompareChartConfig: (chartConfig: DirectCompareChartConfigData) => void\r\n        setSelectedDirectCompareItems: (selectedFoodItem1: SelectedFoodItem, selectedFoodItem2: SelectedFoodItem) => void\r\n        setSelectedDirectCompareDataPage: (selectedPage: string) => void\r\n    }\r\n    setRankingPanelData: (RankingPanelData) => void\r\n}\r\n\r\nexport const ApplicationDataContextStore = createContext<ApplicationContext | null>(null)\r\n\r\nexport default class ApplicationDataContextProvider extends Component<any, ApplicationDataContext> {\r\n    setDebugState = (debug: boolean) => {\r\n        this.setState(prevState => ({\r\n            applicationData: {\r\n                ...prevState.applicationData,\r\n                    debug: debug\r\n            }\r\n        }))\r\n    }\r\n\r\n    setSelectedFoodDataPanelTab = (selectedTab: number) => {\r\n        this.setState(prevState => ({\r\n            applicationData: {\r\n                ...prevState.applicationData,\r\n                foodDataPanel: {...prevState.applicationData.foodDataPanel, selectedFoodItemIndex: selectedTab}\r\n            }\r\n        }))\r\n    }\r\n\r\n    setSelectedDisplayMode = (displayMode: string) => {\r\n        this.setState(prevState => ({\r\n            applicationData: {\r\n                ...prevState.applicationData,\r\n                foodDataPanel: {...prevState.applicationData.foodDataPanel, displayMode: displayMode}\r\n            }\r\n        }))\r\n    }\r\n\r\n    setSelectedFoodDataPanelPage = (selectedPage: string) => {\r\n        this.setState(prevState => ({\r\n            applicationData: {\r\n                ...prevState.applicationData,\r\n                foodDataPanel: {...prevState.applicationData.foodDataPanel, selectedDataPage: selectedPage}\r\n            }\r\n        }))\r\n    }\r\n\r\n    addItemToFoodDataPanel = (foodItem: SelectedFoodItem) => {\r\n        const newItems = Object.assign(this.state.applicationData.foodDataPanel.selectedFoodItems)\r\n        newItems.push(foodItem)\r\n        this.setState(prevState => ({\r\n            applicationData: {\r\n                ...prevState.applicationData,\r\n                foodDataPanel: {...prevState.applicationData.foodDataPanel, selectedFoodItems: newItems}\r\n            }\r\n        }))\r\n    }\r\n\r\n    removeItemFromFoodDataPanel = (foodItemId: number) => {\r\n        const newItems = this.state.applicationData.foodDataPanel.selectedFoodItems.filter(\r\n            selectedFoodItem => selectedFoodItem.foodItem.id !== foodItemId\r\n        )\r\n\r\n        let newIndex = 0\r\n        let currentIndex = this.state.applicationData.foodDataPanel.selectedFoodItemIndex\r\n\r\n        if (newItems.length > 0) {\r\n            if (currentIndex < newItems.length) {\r\n                newIndex = currentIndex\r\n            } else {\r\n                newIndex = newItems.length - 1\r\n            }\r\n        }\r\n\r\n        this.setState(prevState => ({\r\n            applicationData: {\r\n                ...prevState.applicationData,\r\n                foodDataPanel: {\r\n                    ...prevState.applicationData.foodDataPanel,\r\n                    selectedFoodItems: newItems,\r\n                    selectedFoodItemIndex: newIndex\r\n                }\r\n            }\r\n        }))\r\n    }\r\n\r\n    removeAllItemsFromFoodDataPanel = () => {\r\n        this.setState(prevState => ({\r\n            applicationData: {\r\n                ...prevState.applicationData,\r\n                foodDataPanel: {\r\n                    ...prevState.applicationData.foodDataPanel,\r\n                    selectedFoodItems: [],\r\n                    selectedFoodItemIndex: 0\r\n                }\r\n            }\r\n        }))\r\n    }\r\n\r\n    updateAllFoodItemNames = (foodNames: Array<NameType>, newLanguage: string) => {\r\n        const selectedFoodItems = this.state.applicationData.foodDataPanel.selectedFoodItems\r\n        const newFoodItems = selectedFoodItems.map(selectedFoodItem => {\r\n            const foodName = selectedFoodItem.foodItem.nameId\r\n                ? getNameFromFoodNameList(foodNames, selectedFoodItem.foodItem.nameId, newLanguage)\r\n                : \"Individual\"\r\n            if (foodName) {\r\n                selectedFoodItem = {...selectedFoodItem, tab: foodName}\r\n            }\r\n            return selectedFoodItem\r\n        })\r\n\r\n        this.setState(prevState => ({\r\n            applicationData: {\r\n                ...prevState.applicationData,\r\n                foodDataPanel: {\r\n                    ...prevState.applicationData.foodDataPanel,\r\n                    selectedFoodItems: newFoodItems,\r\n                }\r\n            }\r\n        }))\r\n    }\r\n\r\n    updateFoodDataPanelChartConfig = (chartConfig: ChartConfigData) => {\r\n        this.setState(prevState => ({\r\n            applicationData: {\r\n                ...prevState.applicationData,\r\n                foodDataPanel: {\r\n                    ...prevState.applicationData.foodDataPanel,\r\n                    chartConfigData: chartConfig\r\n                }\r\n            }\r\n        }))\r\n    }\r\n\r\n    updateJuxtaPositionConfig = (juxtapositionConfigData: JuxtapositionConfig) => {\r\n        this.setState(prevState => ({\r\n            applicationData: {\r\n                ...prevState.applicationData,\r\n                foodDataPanel: {\r\n                    ...prevState.applicationData.foodDataPanel,\r\n                    juxtapositionConfigData: juxtapositionConfigData\r\n                }\r\n            }\r\n        }))\r\n    }\r\n\r\n\r\n    setSelectedDirectCompareItems = (selectedFoodItem1: SelectedFoodItem, selectedFoodItem2: SelectedFoodItem) => {\r\n        this.setState(prevState => ({\r\n            applicationData: {\r\n                ...prevState.applicationData,\r\n                directCompareDataPanel: {\r\n                    ...prevState.applicationData.directCompareDataPanel,\r\n                    selectedFoodItem1: selectedFoodItem1,\r\n                    selectedFoodItem2: selectedFoodItem2\r\n                }\r\n            }\r\n        }))\r\n    }\r\n\r\n    setSelectedDirectCompareDataPage = (selectedPage: string) => {\r\n        this.setState(prevState => ({\r\n            applicationData: {\r\n                ...prevState.applicationData,\r\n                directCompareDataPanel: {\r\n                    ...prevState.applicationData.directCompareDataPanel,\r\n                    selectedDataPage: selectedPage\r\n                }\r\n            }\r\n        }))\r\n    }\r\n\r\n    updateDirectCompareChartConfig = (chartConfig: DirectCompareChartConfigData) => {\r\n        this.setState(prevState => ({\r\n            applicationData: {\r\n                ...prevState.applicationData,\r\n                directCompareDataPanel: {\r\n                    ...this.state.applicationData.directCompareDataPanel,\r\n                    directCompareConfigChart: chartConfig\r\n                }\r\n            }\r\n        }))\r\n    }\r\n\r\n    setUserData = (userData: UserData) => {\r\n        this.setState(() => ({\r\n            userData: {\r\n                ...userData\r\n            }\r\n        }))\r\n    }\r\n\r\n    setDataSettings = (dataSettings: DataSettings) => {\r\n        this.setState(() => ({\r\n            dataSettings: {\r\n                ...dataSettings\r\n            }\r\n        }))\r\n    }\r\n\r\n    setPreferredSource = (source: string) => {\r\n        this.setState(prevState => ({\r\n            applicationData: {\r\n                ...prevState.applicationData, preferredSource: source\r\n            }\r\n        }))\r\n    }\r\n\r\n    setFoodSelectorConfig = (selectedCategory: ReactSelectOption | null, sourceSupplement: boolean, sourceCombine: boolean) => {\r\n        this.setState(prevState => ({\r\n                applicationData: {\r\n                    ...prevState.applicationData, foodSelector: {\r\n                        ...prevState.applicationData.foodSelector,\r\n                        selectedCategory: selectedCategory,\r\n                        sourceSupplement: sourceSupplement,\r\n                        sourceCombine: sourceCombine\r\n                    }\r\n                }\r\n            }\r\n        ))\r\n    }\r\n\r\n    setDirectCompareFoodSelectorConfig1 = (sourceSupplement: boolean, sourceCombine: boolean) => {\r\n        this.setState(prevState => ({\r\n                applicationData: {\r\n                    ...prevState.applicationData, directCompareDataPanel: {\r\n                        ...prevState.applicationData.directCompareDataPanel,\r\n                        foodSelector1: {\r\n                            sourceSupplement: sourceSupplement,\r\n                            sourceCombine: sourceCombine\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        ))\r\n    }\r\n\r\n    setDirectCompareFoodSelectorConfig2 = (sourceSupplement: boolean, sourceCombine: boolean) => {\r\n        this.setState(prevState => ({\r\n                applicationData: {\r\n                    ...prevState.applicationData, directCompareDataPanel: {\r\n                        ...prevState.applicationData.directCompareDataPanel,\r\n                        foodSelector2: {\r\n                            sourceSupplement: sourceSupplement,\r\n                            sourceCombine: sourceCombine\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        ))\r\n    }\r\n\r\n    setRankingPanelData = (rankingPanelData: RankingPanelData): void => {\r\n        this.setState(prevState => ({\r\n                applicationData: {\r\n                    ...prevState.applicationData, rankingPanelData: rankingPanelData\r\n                }\r\n            })\r\n        )\r\n    }\r\n\r\n    isDebugMode(): boolean {\r\n        const uriData: string | null = parseFoodCompareUri()\r\n        return uriData !== \"test\" && uriData !== \"debug\" ? false : true\r\n    }\r\n\r\n    state: ApplicationDataContext = {\r\n        foodDataCorpus: {\r\n            categories: [],\r\n            conditions: [],\r\n            portionTypes: [],\r\n            sources: [],\r\n            foodNames: [],\r\n            foodClasses: [],\r\n            foodItems: [],\r\n            dietaryRequirements: null,\r\n        },\r\n        applicationData: {\r\n            foodDataPanel: {\r\n                selectedFoodItems: [],\r\n                selectedDataPage: TAB_BASE_DATA,\r\n                displayMode: DISPLAYMODE_CHART,\r\n                selectedFoodItemIndex: 0,\r\n                chartConfigData: initialChartConfigData,\r\n                juxtapositionConfigData: initialJuxtapositionConfigData\r\n            },\r\n            directCompareDataPanel: {\r\n                selectedFoodItem1: null,\r\n                selectedFoodItem2: null,\r\n                selectedDataPage: TAB_BASE_DATA,\r\n                directCompareConfigChart: initialDirectCompareConfigData,\r\n                foodSelector1: {\r\n                    sourceSupplement: true,\r\n                    sourceCombine: false\r\n                },\r\n                foodSelector2: {\r\n                    sourceSupplement: true,\r\n                    sourceCombine: false\r\n                }\r\n            },\r\n            rankingPanelData: {\r\n                selectedFoodCategory: null,\r\n                selectedGroup: null,\r\n                selectedElement: null,\r\n                use100gram: true,\r\n                showDietaryRequirements: false\r\n            },\r\n            foodSelector: {\r\n                selectedCategory: null,\r\n                sourceSupplement: true,\r\n                sourceCombine: false,\r\n            },\r\n            preferredSource: SOURCE_SRLEGACY,\r\n        },\r\n        userData: {\r\n            age: initialUserDataAge,\r\n            size: initialUserDataSize,\r\n            weight: initialUserDataWeight,\r\n            sex: initialUserDataSex,\r\n            pregnant: initialUserDataPregnant,\r\n            breastFeeding: initialUserDataBreastfeeding,\r\n            palValue: initialUserDataPalValue,\r\n            leisureSports: initialUserDataLeisureSports,\r\n            initialValues: true\r\n        },\r\n        dataSettings: {\r\n          unitVitamins: UNIT_MILLIGRAM,\r\n          unitProteins: UNIT_GRAM,\r\n          includeProvitamins: OPTION_YES\r\n        },\r\n        debug: this.isDebugMode(),\r\n        ready: false,\r\n        useAsMobile: null\r\n    }\r\n\r\n    UNSAFE_componentWillMount() {\r\n        const foodDataCorpus = NutrientDataImportService.loadFoodDataCorpus()\r\n        this.setState({\r\n            foodDataCorpus: foodDataCorpus,\r\n            ready: true\r\n        })\r\n    }\r\n\r\n    render(): ReactElement {\r\n        const value = {\r\n            applicationData: this.state.applicationData,\r\n            foodDataCorpus: this.state.foodDataCorpus,\r\n            userData: this.state.userData,\r\n            dataSettings: this.state.dataSettings,\r\n            debug: this.state.debug,\r\n            ready: this.state.ready,\r\n            useAsMobile: this.state.useAsMobile,\r\n            setUserData: this.setUserData,\r\n            setDataSettings: this.setDataSettings,\r\n            setPreferredSource: this.setPreferredSource,\r\n            setMobileUsage: (usage: boolean) => {\r\n                this.setState({...this.state, useAsMobile: usage})\r\n            },\r\n            setFoodDataPanelData: {\r\n                setSelectedFoodTab: this.setSelectedFoodDataPanelTab,\r\n                setSelectedDataPage: this.setSelectedFoodDataPanelPage,\r\n                setSelectedDisplayMode: this.setSelectedDisplayMode,\r\n                addItemToFoodDataPanel: this.addItemToFoodDataPanel,\r\n                removeItemFromFoodDataPanel: this.removeItemFromFoodDataPanel,\r\n                removeAllItemsFromFoodDataPanel: this.removeAllItemsFromFoodDataPanel,\r\n                updateAllFoodItemNames: this.updateAllFoodItemNames,\r\n                updateFoodDataPanelChartConfig: this.updateFoodDataPanelChartConfig,\r\n                updateJuxtapositionConfig: this.updateJuxtaPositionConfig\r\n            },\r\n            setDirectCompareData: {\r\n                updateDirectCompareChartConfig: this.updateDirectCompareChartConfig,\r\n                setSelectedDirectCompareDataPage: this.setSelectedDirectCompareDataPage,\r\n                setSelectedDirectCompareItems: this.setSelectedDirectCompareItems\r\n            },\r\n            setFoodSelectorConfig: this.setFoodSelectorConfig,\r\n            setRankingPanelData: this.setRankingPanelData,\r\n            setDirectCompareFoodSelector1: this.setDirectCompareFoodSelectorConfig1,\r\n            setDirectCompareFoodSelector2: this.setDirectCompareFoodSelectorConfig2\r\n        }\r\n\r\n        return (\r\n            <ApplicationDataContextStore.Provider value={value}>\r\n                {this.props.children}\r\n            </ApplicationDataContextStore.Provider>\r\n        )\r\n    }\r\n\r\n}\r\n","export function parseFoodCompareUri(): string | null {\r\n    const queryString = window.location.search.substring(1)\r\n\r\n    const equalOperator = queryString.indexOf(\"=\")\r\n    if(equalOperator === -1) {\r\n        return null\r\n    }\r\n    const key = queryString.substring(0, equalOperator)\r\n    const value = queryString.substring(equalOperator + 1)\r\n\r\n    if(key === \"mode\") {\r\n        return value\r\n    }\r\n\r\n    return null\r\n}","import {createContext, useState} from \"react\";\r\nimport {LANGUAGE_DE, LANGUAGE_EN} from \"../config/Constants\";\r\n\r\nexport interface LanguageProviderProps {\r\n    language: string\r\n    userLanguageChange: (selectedLanguage: string) => void\r\n}\r\n\r\nexport const LanguageContext = createContext<LanguageProviderProps>({\r\n    language: 'en',\r\n    userLanguageChange: (selectedLanguage) => {return 'en'}\r\n});\r\n\r\nexport function LanguageProvider({ children }) {\r\n    const userLanguage = navigator.language;\r\n    const preferredLanguage = userLanguage === 'de' || userLanguage === 'de-DE' ? LANGUAGE_DE : LANGUAGE_EN\r\n    const [language, setLanguage] = useState(preferredLanguage);\r\n\r\n    const userLanguageChange = (selectedLanaguage: string): void => {\r\n        const newLanguage = selectedLanaguage ? selectedLanaguage : LANGUAGE_EN\r\n        setLanguage(newLanguage);\r\n    }\r\n\r\n    const provider: LanguageProviderProps = {\r\n        language,\r\n        userLanguageChange\r\n    };\r\n\r\n    return (\r\n        <LanguageContext.Provider value={provider}>\r\n            {children}\r\n        </LanguageContext.Provider>\r\n    );\r\n};\r\n\r\n\r\n\r\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","export const applicationStrings = {\r\n    _gram: {\r\n        de: 'Gramm',\r\n        en: 'Gram'\r\n    },\r\n    _milligram: {\r\n        de: 'Milligramm (mg)',\r\n        en: 'Milligram (mg)'\r\n    },\r\n    _microgram: {\r\n        de: 'Mikrogramm (µg)',\r\n        en: 'Microgram (µg)'\r\n    },\r\n    _option_no: {\r\n        de: 'Nein',\r\n        en: 'No'\r\n    },\r\n    _option_yes: {\r\n        de: 'Ja',\r\n        en: 'Yes'\r\n    },\r\n    button_add: {\r\n        de: 'Hinzufügen',\r\n        en: 'Add'\r\n    },\r\n    button_cancel: {\r\n        de: 'Abbrechen',\r\n        en: 'Cancel'\r\n    },\r\n    button_change_to_chart_mode: {\r\n        de: 'Daten als Diagramm anzeigen',\r\n        en: 'Display data as chart'\r\n    },\r\n    button_close: {\r\n        de: 'Schließen',\r\n        en: 'Close'\r\n    },\r\n    button_getstarted_1: {\r\n        de: 'Einzelne Lebensmittel analysieren',\r\n        en: 'Analyze separate food items'\r\n    },\r\n    button_getstarted_2: {\r\n        de: 'Komplexe Lebensmittel zusammenstellen und analysieren',\r\n        en: 'Create and analyze a composite food list'\r\n    },\r\n    button_getstarted_3: {\r\n        de: 'Zwei Lebensmittel gegenüberstellen',\r\n        en: 'Compare two food items with each other'\r\n    },\r\n    button_getstarted_4: {\r\n        de: 'Lebensmittel nach Werten sortieren',\r\n        en: 'Rank food items by a nutrient value'\r\n    },\r\n    button_no: {\r\n        de: 'Nein',\r\n        en: 'No'\r\n    },\r\n    button_select: {\r\n        de: 'Auswählen',\r\n        en: 'Show'\r\n    },\r\n    button_show: {\r\n        de: 'Anzeigen',\r\n        en: 'Show'\r\n    },\r\n    button_send: {\r\n        de: \"Senden\",\r\n        en: \"Send\"\r\n    },\r\n    button_submit: {\r\n        de: 'Übernehmen',\r\n        en: 'Submit'\r\n    },\r\n    button_update: {\r\n        de: \"Aktualisieren\",\r\n        en: \"Update\"\r\n    },\r\n    button_yes: {\r\n        de: 'Ja',\r\n        en: 'Yes'\r\n    },\r\n    checkbox_chartoption_hideRemainders: {\r\n        de: 'Rest ausblenden',\r\n        en: 'Hide remainders'\r\n    },\r\n    checkbox_chartoption_showLegend: {\r\n        de: 'Legende anzeigen',\r\n        en: 'Show legend'\r\n    },\r\n    checkbox_chartoption_showLegend_m: {\r\n        de: 'Legende',\r\n        en: 'Legend'\r\n    },\r\n    checkbox_chartoption_showDetails: {\r\n        de: 'Details anzeigen',\r\n        en: 'Show details'\r\n    },\r\n    checkbox_chartoption_showDetails_m: {\r\n        de: 'Details',\r\n        en: 'Show'\r\n    },\r\n    checkbox_english: {\r\n        de: 'Englisch',\r\n        en: 'English'\r\n    },\r\n    checkbox_english_m: {\r\n        de: 'EN',\r\n        en: 'EN'\r\n    },\r\n    checkbox_expand100g: {\r\n        de: 'Auf 100 % erweitern',\r\n        en: 'Expand to 100 %'\r\n    },\r\n    checkbox_german: {\r\n        de: 'Deutsch',\r\n        en: 'German'\r\n    },\r\n    checkbox_german_m: {\r\n        de: 'DE',\r\n        en: 'DE'\r\n    },\r\n    checkbox_synchronize: {\r\n        de: 'Synchronisieren',\r\n        en: 'Synchronize'\r\n    },\r\n    confirm_close_all_tabs: {\r\n        de: 'Sollen wirklich alle Lebensmittel-Tabs geschlossen werden?',\r\n        en: 'Really close all food tabs?'\r\n    },\r\n    device_detection_hint: {\r\n        de: 'Auf Mobilgeräten und sehr kleinen Geräten stehen einige Funktionen von Food Compare aktuell nur eingeschränkt zur Verfügung. Wir bitten um Verständnis.',\r\n        en: 'Please understand that on mobile devices and very small screens some functionality of Food Compare is currently limited or unavailable.',\r\n    },\r\n    direct_compare_text: {\r\n        de: 'Wählen Sie zwei Lebensmittel aus den beiden Auswahlboxen, die miteinander verglichen werden sollen, und klicken Sie dann den Anzeigen-Button.',\r\n        en: 'Pick two food elements from the two selectors that should be compared with each other. Then click the Show button.'\r\n    },\r\n    home_carousel_0: {\r\n        de: 'Vitamine in Lebensmitteln im Vergleich zum Tagesbedarf',\r\n        en: 'Vitamins in food compared to daily requirements'\r\n    },\r\n    home_carousel_1: {\r\n        de: 'Mineralstoffe in Lebensmitteln im Vergleich zum Tagesbedarf',\r\n        en: 'Minerals in food compared to daily requirements'\r\n    },\r\n    home_carousel_2: {\r\n        de: 'Nährstoffzusammensetzung in einem Lebensmittel',\r\n        en: 'Food composition of nutrients'\r\n    },\r\n    home_carousel_3: {\r\n        de: 'Verteilung der Fettsäuren (gesättigt / ungesättigt)',\r\n        en: 'Distribution of fatty acids (saturated / unsaturated)'\r\n    },\r\n    home_carousel_4: {\r\n        de: 'In Nahrungsmitteln enthaltene Aminosäuren',\r\n        en: 'Amino acids conainted in foods'\r\n    },\r\n    home_carousel_5: {\r\n        de: 'Gegenüberstellung zweier Lebensmittel',\r\n        en: 'Comparing two food items'\r\n    },\r\n    home_carousel_6: {\r\n        de: 'Nach Nährstoffwert sortierte Lebensmittel',\r\n        en: 'Food items ranked by a specific nutrient value'\r\n    },\r\n    home_text_1: {\r\n        de: 'Food Compare ist ein Webprojekt zur grafischen Darstellung der Zusammensetzung von Lebensmitteln. Während klassische Quellen die enthaltenen Inhaltsstoffe meist nur in tabellarischer Form angeben, verwendet Food Compare Grafiken und Diagramme, um den Gehalt an Vitaminen und Mineralstoffen, Kohlenhydraten, Fettsäuren und Eiweißen (Proteinen) leichter und übersichtlich darzustellen.',\r\n        en: 'Food Compare is a web project to visually display information about food composition. While conventional resources commonly display nutrient data in tables, Food Compare provides charts and graphics to allow users a better understanding of the containing nutrients (carbohydrates, lipids, proteins) as well as vitamins and minerals.'\r\n    },\r\n    home_text_2: {\r\n        de: 'Das Hauptaugenmerk von Food Compare gilt jedoch nicht nur der Veranschaulichung einzelner Nahrungsmittel, sondern der Vergleichbarkeit von Nährstoffen, Vitaminen und Mineralen in Lebensmittels. Dazu können beliebig viele Tabs geöffnet und Lebensmittel damit leicht miteinander verglichen werden. So lassen sich bspw. auf einfache Weise der Vitamingehalt von einzelnen Obstsorten vergleichen, oder die Aufteilung von Kohlenhydraten, Fetten und Eiweißen zwischen Grundnahrungsmitteln. Dabei erlaubt die Anwendung auch das Zusammenstellen von komplexen Menüs, deren Gesamtgehalt an Nährstoffen, Vitaminen und Mineralstoffen dann berechnet wird.',\r\n        en: 'The primary focus of Food Compare is to visually compare the composition and contents of different food items, though. Food items can be opened in different tabs so that nutrients, vitamins or minerals can be easily compare. As an example, users can compare the containing vitamins between different fruits or the nutrient composition between staple foods. In addition, the application allows to aggregate foods to more complex menus and will then calculate the overall amount of nutrients, vitamins and minerals in that menu.'\r\n    },\r\n    home_text_3: {\r\n        de: 'Um die Nährstoffdiagramme zweier Lebensmittel auf einen Blick miteinander vergleichen zu können, gibt es seit der Version 1.2 nun auch einen zusätzlichen Bereich, in denen die Diagramme entsprechend nebeneinander angeordnet sind. Einige Datenseiten wie Vitamine und Mineralstoffe lassen sich dabei auch synchronisieren, so dass eine einheitliche Skalierung der Diagramme stattfindet und nur die Daten angezeigt werden, welche für beide Lebensmittel vorliegen.',\r\n        en: 'In order to compare nutrient charts of two food items at a glance, an additional page was added in version 1.2 where nutrient charts are placed next to each other. Some data pages like vitamins and minerals can also be synchronized, which means that the charts use a unique scaling and only display data that is available in both food elements.'\r\n    },\r\n    home_foodcompare_overview: {\r\n        de: 'Food Compare im Überblick',\r\n        en: 'Food Compare at a Glance'\r\n    },\r\n    input_compositelist_title: {\r\n        de: 'Individuelle Liste',\r\n        en: 'Individual list'\r\n    },\r\n    label_amount: {\r\n        de: 'Menge (g)',\r\n        en: 'Amount (g)'\r\n    },\r\n    label_amount_short: {\r\n        de: 'Gramm',\r\n        en: 'Gram'\r\n    },\r\n    label_category: {\r\n        de: 'Kategorie',\r\n        en: 'Category'\r\n    },\r\n    label_charttype: {\r\n        de: 'Diagrammart',\r\n        en: 'Chart type'\r\n    },\r\n    label_charttype_pie: {\r\n        de: 'Tortendiagramm',\r\n        en: 'Pie chart'\r\n    },\r\n    label_charttype_bar: {\r\n        de: 'Balkendiagramm',\r\n        en: 'Bar chart'\r\n    },\r\n    label_charttype_carbs_base: {\r\n        de: 'Allgemeine Werte',\r\n        en: 'Basic data'\r\n    },\r\n    label_charttype_carbs_detail: {\r\n        de: 'Detailwerte',\r\n        en: 'Detailed data'\r\n    },\r\n    label_charttype_energy: {\r\n        de: 'Grundumsatz und Gesamtumsatz (Energie)',\r\n        en: 'BMR and Energy Expenditure'\r\n    },\r\n    label_charttype_lipids_base: {\r\n        de: 'Allgemeine Werte',\r\n        en: 'Basic data'\r\n    },\r\n    label_charttype_lipids_base_title: {\r\n        de: 'Allgemeine Verteilung der Fettsäuren',\r\n        en: 'Basic distributions of fatty acids'\r\n    },\r\n    label_charttype_lipids_omega: {\r\n        de: 'Omega-Werte',\r\n        en: 'Omega data'\r\n    },\r\n    label_charttype_lipids_omega_title: {\r\n        de: 'Allgemeine Verteilung der Omega-3/6-Fettsäuren',\r\n        en: 'Basic distributions of Omega 3/6 acids'\r\n    },\r\n    label_charttype_minerals: {\r\n        de: 'Minerale (im Vgl. zum Tagesbedarf)',\r\n        en: 'Minerals (related to daily requirements)'\r\n    },\r\n    label_charttype_proteins: {\r\n        de: 'Aminosäuren (im Vgl. zum Tagesbedarf)',\r\n        en: 'Amino acids  (related to daily requirements)'\r\n    },\r\n    label_charttype_vitamins: {\r\n        de: 'Vitamine (im Vgl. zum Tagesbedarf)',\r\n        en: 'Vitamins (related to daily requirements)'\r\n    },\r\n    label_chart_bmr: {\r\n        de: 'Grundumsatz',\r\n        en: 'Basal Metabolic Rate (BMR)'\r\n    },\r\n    label_chart_energyExpenditure: {\r\n        de: 'Gesamtumsatz',\r\n        en: 'Energy Expenditure'\r\n    },\r\n    label_chart_proteins: {\r\n        de: 'Proteine',\r\n        en: 'Proteins'\r\n    },\r\n    label_chart_nutrientComposition: {\r\n        de: 'Nährstoffzusammensetzung',\r\n        en: 'Nutrient Composition'\r\n    },\r\n    label_chart_totalComposition: {\r\n        de: 'Gesamtzusammensetzung',\r\n        en: 'Total Composition'\r\n    },\r\n    label_chart_view: {\r\n        de: 'Zur Diagrammansicht wechseln',\r\n        en: 'Switch to chart view'\r\n    },\r\n    label_datatype: {\r\n        de: 'Datentyp',\r\n        en: 'Data type'\r\n    },\r\n    label_food: {\r\n        de: \"Lebensmittel\",\r\n        en: \"Food\"\r\n    },\r\n    label_foodclass: {\r\n        de: 'Lebensmittel',\r\n        en: 'Food class'\r\n    },\r\n    label_fooditem: {\r\n        de: 'Typ',\r\n        en: 'Food type'\r\n    },\r\n    label_foodselector: {\r\n        de: 'Lebensmittelauswahl',\r\n        en: 'Food Selector'\r\n    },\r\n    label_foodselector_composite: {\r\n        de: 'Zusammenstellung eines Lebensmittels',\r\n        en: 'Composite food generation'\r\n    },\r\n    label_group: {\r\n        de: 'Gruppe',\r\n        en: 'Group'\r\n    },\r\n    label_getStarted: {\r\n        de: \"Jetzt beginnen...\",\r\n        en: \"Get started...\"\r\n    },\r\n    label_juxtaposition: {\r\n        de: 'Vergleich',\r\n        en: 'Juxtaposition'\r\n    },\r\n    label_juxtaposition_settings_btn: {\r\n        de: 'Anzeigeoptionen',\r\n        en: 'Display settings'\r\n    },\r\n    label_juxtaposition_settings_chartsize: {\r\n        de: 'Diagrammgröße',\r\n        en: 'Chart size'\r\n    },\r\n    label_juxtaposition_settings_chartsize_s: {\r\n        de: 'Klein',\r\n        en: 'Small'\r\n    },\r\n    label_juxtaposition_settings_chartsize_m: {\r\n        de: 'Medium',\r\n        en: 'Medium'\r\n    },\r\n    label_juxtaposition_settings_chartsize_l: {\r\n        de: 'Groß',\r\n        en: 'Large'\r\n    },\r\n    label_juxtaposition_settings_showLabels: {\r\n        de: 'Labels anzeigen',\r\n        en: 'Show labels'\r\n    },\r\n    label_juxtaposition_table_avg: {\r\n        de: 'Mittel',\r\n        en: 'Average'\r\n    },\r\n    label_juxtaposition_table_max: {\r\n        de: 'Max',\r\n        en: 'Max'\r\n    },\r\n    label_juxtaposition_table_median: {\r\n        de: 'Median',\r\n        en: 'Median'\r\n    },\r\n    label_juxtaposition_table_min: {\r\n        de: 'Min',\r\n        en: 'Min'\r\n    },\r\n    label_juxtaposition_table_rank: {\r\n        de: 'Rang',\r\n        en: 'Rank'\r\n    },\r\n    label_juxtaposition_table_value: {\r\n        de: 'Wert',\r\n        en: 'Value'\r\n    },\r\n    label_juxtaposition_unavailable: {\r\n        de: 'Keine Anzeige möglich.',\r\n        en: 'Data cannot be displayed.'\r\n    },\r\n    label_info: {\r\n        de: 'Info',\r\n        en: 'Info'\r\n    },\r\n    label_info_composite: {\r\n        de: 'Enthaltene Lebensmittel',\r\n        en: 'Contained food items'\r\n    },\r\n    label_info_category: {\r\n        de: 'Kategorie',\r\n        en: 'Category'\r\n    },\r\n    label_info_foodClass: {\r\n        de: 'Lebensmittel-Klasse',\r\n        en: 'Food Class'\r\n    },\r\n    label_info_foodId: {\r\n        de: 'Lebensmittel ID',\r\n        en: 'Food Id'\r\n    },\r\n    label_info_foodName: {\r\n        de: 'Lebensmittel',\r\n        en: 'Food'\r\n    },\r\n    label_info_portion: {\r\n        de: 'Portionsdaten',\r\n        en: 'Portion data'\r\n    },\r\n    label_info_portionType: {\r\n        de: 'Portionstyp',\r\n        en: 'Portion type'\r\n    },\r\n    label_info_preparation: {\r\n        de: 'Zubereitungsart',\r\n        en: 'Preparation type'\r\n    },\r\n    label_info_source: {\r\n        de: 'Quelle',\r\n        en: 'Source'\r\n    },\r\n    label_language: {\r\n        de: 'Sprache:',\r\n        en: 'Language:'\r\n    },\r\n    label_mail_name: {\r\n        de: \"Name\",\r\n        en: \"Name\"\r\n    },\r\n    label_mail_address: {\r\n        de: \"Mail-Adresse\",\r\n        en: \"Mail address\"\r\n    },\r\n    label_mail_message: {\r\n        de: \"Ihre Nachricht\",\r\n        en: \"Your message\"\r\n    },\r\n    label_mail_characters_left: {\r\n        de: \"Noch /xx/ Zeichen verbleibend\",\r\n        en: \"/xx/ characters left\"\r\n    },\r\n    label_mail_too_long: {\r\n        de: \"Nachricht ist zu lang\",\r\n        en: \"Message too long\"\r\n    },\r\n    label_mail_error_name: {\r\n        de: \"Geben Sie bitte einen gültigen Namen ein.\",\r\n        en: \"Please enter a valid name.\"\r\n    },\r\n    label_mail_error_mailaddress: {\r\n        de: \"Geben Sie bitte eine gültige Mail-Adresse ein.\",\r\n        en: \"Please enter a valid mail address.\"\r\n    },\r\n    label_mail_error_nocontent: {\r\n        de: \"Geben Sie bitte eine Nachricht ein.\",\r\n        en: \"Please specify a message.\"\r\n    },\r\n    label_mail_error_content_too_long: {\r\n        de: \"Die eingegebene Nachricht ist zu lang.\",\r\n        en: \"The specified message is too long.\"\r\n    },\r\n    label_mail_error_verification: {\r\n        de: \"Bitte verifizieren, dass Sie kein Roboter sind.\",\r\n        en: \"Please verify that you are not a robot.\"\r\n    },\r\n    label_noData: {\r\n        de: 'Keine Daten vorhanden',\r\n        en: 'No data available'\r\n    },\r\n    label_nutrient_alcohol: {\r\n        de: 'Alkohol',\r\n        en: 'Alcohol'\r\n    },\r\n    label_nutrient_ash: {\r\n        de: 'Reststoffe',\r\n        en: 'Ash'\r\n    },\r\n    label_nutrient_carbohydrates: {\r\n        de: 'Kohlenhydrate',\r\n        en: 'Carbohydrates'\r\n    },\r\n    label_nutrient_carbohydrates_m: {\r\n        de: 'Kohlenhyd.',\r\n        en: 'Carbs'\r\n    },\r\n    label_nutrient_carbohydrates_short: {\r\n        de: 'Kohlenhyd.',\r\n        en: 'Carbs'\r\n    },\r\n    label_nutrient_carbohydrates_fructose: {\r\n        de: 'Fruktose',\r\n        en: 'Fructose'\r\n    },\r\n    label_nutrient_carbohydrates_galactose: {\r\n        de: 'Galaktose',\r\n        en: 'Galactose'\r\n    },\r\n    label_nutrient_carbohydrates_glucose: {\r\n        de: 'Glukose (Traubenzucker)',\r\n        en: 'Glucose'\r\n    },\r\n    label_nutrient_carbohydrates_lactose: {\r\n        de: 'Laktose',\r\n        en: 'Lactose'\r\n    },\r\n    label_nutrient_carbohydrates_maltose: {\r\n        de: 'Maltose',\r\n        en: 'Maltose'\r\n    },\r\n    label_nutrient_carbohydrates_starch: {\r\n        de: 'Stärke',\r\n        en: 'Starch'\r\n    },\r\n    label_nutrient_carbohydrates_sucrose: {\r\n        de: 'Sukrose',\r\n        en: 'Sucrose'\r\n    },\r\n    label_nutrient_dietaryFibers: {\r\n        de: 'Ballaststoffe',\r\n        en: 'Dietary fibers'\r\n    },\r\n    label_nutrient_dietaryFibers_short: {\r\n        de: 'Ballastst.',\r\n        en: 'Dietary fib.'\r\n    },\r\n    label_nutrient_energy: {\r\n        de: 'Energie',\r\n        en: 'Energy'\r\n    },\r\n    label_nutrient_lipids: {\r\n        de: 'Fett',\r\n        en: 'Fats'\r\n    },\r\n    label_nutrient_lipids_long: {\r\n        de: 'Fettsäuren',\r\n        en: 'Fatty acids'\r\n    },\r\n    label_nutrient_lipids_saturated: {\r\n        de: 'Gesättigte Fettsäuren',\r\n        en: 'Saturated fatty acids'\r\n    },\r\n    label_nutrient_lipids_saturated_short: {\r\n        de: 'Gesättigt',\r\n        en: 'Saturated'\r\n    },\r\n    label_nutrient_lipids_unsaturated: {\r\n        de: 'Ungesättigte Fettsäuren',\r\n        en: 'Unsaturated fatty acids'\r\n    },\r\n    label_nutrient_lipids_unsaturated_mono: {\r\n        de: 'Einfach ungesättigte Fettsäuren',\r\n        en: 'Mono-unsaturated fatty acids'\r\n    },\r\n    label_nutrient_lipids_unsaturated_mono_short: {\r\n        de: 'Einfach ungesättigt',\r\n        en: 'Mono-unsaturated'\r\n    },\r\n    label_nutrient_lipids_unsaturated_poly: {\r\n        de: 'Mehrfach ungesättigte Fettsäuren',\r\n        en: 'Poly-unsaturated fatty acids'\r\n    },\r\n    label_nutrient_lipids_unsaturated_poly_short: {\r\n        de: 'Mehrfach unges.',\r\n        en: 'Poly-unsaturated'\r\n    },\r\n    label_nutrient_lipids_transfattyAcids: {\r\n        de: 'Transfettsäuren',\r\n        en: 'Transfatty acids'\r\n    },\r\n    label_nutrient_lipids_omega3: {\r\n        de: 'Omega-3-Fettsäuren',\r\n        en: 'Omega-3 fatty acids'\r\n    },\r\n    label_nutrient_lipids_omega6: {\r\n        de: 'Omega-6-Fettsäuren',\r\n        en: 'Omega-6 fatty acids'\r\n    },\r\n    label_nutrient_lipids_cholesterol: {\r\n        de: 'Cholesterin',\r\n        en: 'Cholesterol'\r\n    },\r\n    label_nutrient_min: {\r\n        de: 'Mineralstoffe',\r\n        en: 'Minerals'\r\n    },\r\n    label_nutrient_min_m: {\r\n        de: 'Minerale',\r\n        en: 'Minerals'\r\n    },\r\n    label_nutrient_min_calcium: {\r\n        de: 'Kalzium',\r\n        en: 'Calcium'\r\n    },\r\n    label_nutrient_min_copper: {\r\n        de: 'Kupfer',\r\n        en: 'Copper'\r\n    },\r\n    label_nutrient_min_iron: {\r\n        de: 'Eisen',\r\n        en: 'Iron'\r\n    },\r\n    label_nutrient_min_magnesium: {\r\n        de: 'Magnesium',\r\n        en: 'Magnesium'\r\n    },\r\n    label_nutrient_min_manganese: {\r\n        de: 'Mangan',\r\n        en: 'Manganese'\r\n    },\r\n    label_nutrient_min_phosphorus: {\r\n        de: 'Phosphor',\r\n        en: 'Phosphorus'\r\n    },\r\n    label_nutrient_min_potassimum: {\r\n        de: 'Kalium',\r\n        en: 'Potassimum'\r\n    },\r\n    label_nutrient_min_selenium: {\r\n        de: 'Selen',\r\n        en: 'Selenium'\r\n    },\r\n    label_nutrient_min_sodium: {\r\n        de: 'Natrium',\r\n        en: 'Sodium'\r\n    },\r\n    label_nutrient_min_zinc: {\r\n        de: 'Zink',\r\n        en: 'Zinc'\r\n    },\r\n    label_nutrient_omega3: {\r\n        de: 'Omega-3-Fettsäuren',\r\n        en: 'Omega-3 Fatty acids'\r\n    },\r\n    label_nutrient_omega6: {\r\n        de: 'Omega-6-Fettsäuren',\r\n        en: 'Omega-6 Fatty acids'\r\n    },\r\n    label_nutrient_proteins: {\r\n        de: 'Eiweiß',\r\n        en: 'Proteins'\r\n    },\r\n    label_nutrient_proteins_alanine: {\r\n        de: 'Alanin',\r\n        en: 'Alanine'\r\n    },\r\n    label_nutrient_proteins_arginine: {\r\n        de: 'Arginin',\r\n        en: 'Arginine'\r\n    },\r\n    label_nutrient_proteins_asparticAcid: {\r\n        de: 'Asparaginsäure',\r\n        en: 'Aspartic acid'\r\n    },\r\n    label_nutrient_proteins_cystine: {\r\n        de: 'Cystein',\r\n        en: 'Cysteine'\r\n    },\r\n    label_nutrient_proteins_glysine: {\r\n        de: 'Glysin',\r\n        en: 'Glysine'\r\n    },\r\n    label_nutrient_proteins_glutamicAcid: {\r\n        de: 'Glutamin',\r\n        en: 'Glutamic acid'\r\n    },\r\n    label_nutrient_proteins_histidine: {\r\n        de: 'Histidin',\r\n        en: 'Histidine'\r\n    },\r\n    label_nutrient_proteins_isoleucine: {\r\n        de: 'Isoleucine',\r\n        en: 'Isoleucine'\r\n    },\r\n    label_nutrient_proteins_leucine: {\r\n        de: 'Leucin',\r\n        en: 'Leucine'\r\n    },\r\n    label_nutrient_proteins_lysine: {\r\n        de: 'Lysin',\r\n        en: 'Lysine'\r\n    },\r\n    label_nutrient_proteins_methionine: {\r\n        de: 'Methionin',\r\n        en: 'Methionine'\r\n    },\r\n    label_nutrient_proteins_phenylalanine: {\r\n        de: 'Phenylalanin',\r\n        en: 'Phenylalanine'\r\n    },\r\n    label_nutrient_proteins_proline: {\r\n        de: 'Prolin',\r\n        en: 'Proline'\r\n    },\r\n    label_nutrient_proteins_serine: {\r\n        de: 'Serin',\r\n        en: 'Serine'\r\n    },\r\n    label_nutrient_proteins_threonine: {\r\n        de: 'Threonin',\r\n        en: 'Threonine'\r\n    },\r\n    label_nutrient_proteins_tryptophan: {\r\n        de: 'Tryptophan',\r\n        en: 'Tryptophan'\r\n    },\r\n    label_nutrient_proteins_tyrosine: {\r\n        de: 'Tyrosin',\r\n        en: 'Tyrosine'\r\n    },\r\n    label_nutrient_proteins_valine: {\r\n        de: 'Valin',\r\n        en: 'Valine'\r\n    },\r\n    label_nutrient_remainder: {\r\n        de: 'Rest',\r\n        en: 'Remainder'\r\n    },\r\n    label_nutrient_sugar: {\r\n        de: 'Zucker',\r\n        en: 'Sugar'\r\n    },\r\n    label_nutrient_vit: {\r\n        de: 'Vitamine',\r\n        en: 'Vitamins'\r\n    },\r\n    label_nutrient_vit_a: {\r\n        de: 'Vitamin A (Retinol / Retinal)',\r\n        en: 'Vitamin A (Retinol / Retinal)'\r\n    },\r\n    label_nutrient_vit_b1: {\r\n        de: 'Vitamin B1 (Thiamin)',\r\n        en: 'Vitamin B1 (Thiamine)'\r\n    },\r\n    label_nutrient_vit_b2: {\r\n        de: 'Vitamin B2 (Riboflavin)',\r\n        en: 'Vitamin B2 (Riboflavin)'\r\n    },\r\n    label_nutrient_vit_b3: {\r\n        de: 'Vitamin B3 (Niacin)',\r\n        en: 'Vitamin B3 (Niacin)'\r\n    },\r\n    label_nutrient_vit_b5: {\r\n        de: 'Vitamin B5 (Pantothensäure)',\r\n        en: 'Vitamin B5 (Pantothenic acid)'\r\n    },\r\n    label_nutrient_vit_b6: {\r\n        de: 'Vitamin B6',\r\n        en: 'Vitamin B6'\r\n    },\r\n    label_nutrient_vit_b9: {\r\n        de: 'Vitamin B9 (Folsäure)',\r\n        en: 'Vitamin B9 (Folate)'\r\n    },\r\n    label_nutrient_vit_b12: {\r\n        de: 'Vitamin B12',\r\n        en: 'Vitamin B12'\r\n    },\r\n    label_nutrient_vit_c: {\r\n        de: 'Vitamin C',\r\n        en: 'Vitamin C'\r\n    },\r\n    label_nutrient_vit_d: {\r\n        de: 'Vitamin D',\r\n        en: 'Vitamin D'\r\n    },\r\n    label_nutrient_vit_e: {\r\n        de: 'Vitamin E (α-Tocopherol)',\r\n        en: 'Vitamin E (α-Tocopherol)'\r\n    },\r\n    label_nutrient_vit_e_ext: {\r\n        de: 'Weitere Vitamin-E-Formen',\r\n        en: 'Further forms of Vitamin E'\r\n    },\r\n    label_nutrient_vit_e_ext_tocopherolBeta: {\r\n        de: 'Beta-Tocopherol',\r\n        en: 'Beta-Tocopherol'\r\n    },\r\n    label_nutrient_vit_e_ext_tocopherolGamma: {\r\n        de: 'Gamma-Tocopherol',\r\n        en: 'Gamma-Tocopherol'\r\n    },\r\n    label_nutrient_vit_e_ext_tocopherolDelta: {\r\n        de: 'Delta-Tocopherol',\r\n        en: 'Delta-Tocopherol'\r\n    },\r\n    label_nutrient_vit_e_ext_tocotrienolAlpha: {\r\n        de: 'Alpha-Tocotrienol',\r\n        en: 'Alpha-Tocotrienol'\r\n    },\r\n    label_nutrient_vit_e_ext_tocotrienolBeta: {\r\n        de: 'Beta-Tocotrienol',\r\n        en: 'Beta-Tocotrienol'\r\n    },\r\n    label_nutrient_vit_e_ext_tocotrienolGamma: {\r\n        de: 'Gamma-Tocotrienol',\r\n        en: 'Gamma-Tocotrienol'\r\n    },\r\n    label_nutrient_vit_k: {\r\n        de: 'Vitamin K',\r\n        en: 'Vitamin K'\r\n    },\r\n    label_nutrient_vit_carotenoid: {\r\n        de: 'Provitamin A (Carotine)',\r\n        en: 'Carotene (total)'\r\n    },\r\n    label_nutrient_vit_carotenoid_alpha: {\r\n        de: 'Alpha-Carotin',\r\n        en: 'Alpha-Carotene'\r\n    },\r\n    label_nutrient_vit_carotenoid_beta: {\r\n        de: 'Beta-Carotin',\r\n        en: 'Beta-Carotene'\r\n    },\r\n    label_nutrient_vit_cryptoxanthin: {\r\n        de: 'Beta-Cryptoxanthin',\r\n        en: 'Beta-Cryptoxanthin'\r\n    },\r\n    label_nutrient_vit_scientific_a: {\r\n        de: 'inkl. Provitamin A / Carotine',\r\n        en: 'including Provitamin A / carotene'\r\n    },\r\n    label_nutrient_vit_scientific_b1: {\r\n        de: 'Thiamine',\r\n        en: 'Thiamine'\r\n    },\r\n    label_nutrient_vit_scientific_b2: {\r\n        de: 'Riboflavin',\r\n        en: 'Riboflavin'\r\n    },\r\n    label_nutrient_vit_scientific_b3: {\r\n        de: 'Niacin',\r\n        en: 'Niacin'\r\n    },\r\n    label_nutrient_vit_scientific_b5: {\r\n        de: 'Pantothensäure',\r\n        en: 'Pantothenic acid'\r\n    },\r\n    label_nutrient_vit_scientific_b9: {\r\n        de: 'Folsäure',\r\n        en: 'Folate'\r\n    },\r\n    label_nutrient_vit_scientific_b12: {\r\n        de: 'Cobalamin',\r\n        en: 'Cobalamin '\r\n    },\r\n    label_nutrient_vit_scientific_c: {\r\n        de: 'Ascorbinsäure',\r\n        en: 'Ascorbic acid'\r\n    },\r\n    label_nutrient_vit_scientific_d: {\r\n        de: 'Vitamin D',\r\n        en: 'Vitamin D'\r\n    },\r\n    label_nutrient_vit_scientific_e: {\r\n        de: 'inkl. Provitamin E / Tocopherol',\r\n        en: 'including provitamin E / Tocopherol'\r\n    },\r\n    label_nutrient_vit_scientific_k: {\r\n        de: 'Vitamin K',\r\n        en: 'Vitamin K'\r\n    },\r\n    label_nutrient_water: {\r\n        de: 'Wasser',\r\n        en: 'Water'\r\n    },\r\n    label_overview: {\r\n        de: 'Übersicht',\r\n        en: 'Overview'\r\n    },\r\n    label_per_100g: {\r\n        de: 'je 100 g',\r\n        en: 'per 100 g'\r\n    },\r\n    label_per_portion: {\r\n        de: 'je Portion',\r\n        en: 'per portion'\r\n    },\r\n    label_portion: {\r\n        de: 'Portion',\r\n        en: 'Portion'\r\n    },\r\n    label_portion_selected: {\r\n        de: 'Ausgewählte Portion',\r\n        en: 'Selected portion'\r\n    },\r\n    label_portion_common: {\r\n        de: 'Typische Portion',\r\n        en: 'Typical portion'\r\n    },\r\n    label_preferred_source: {\r\n        de: 'Bevorzugte Datenquelle',\r\n        en: 'Preferred data source'\r\n    },\r\n    label_prefix_hereof: {\r\n        de: 'davon',\r\n        en: 'hereof'\r\n    },\r\n    label_ranking_dietaryRequirements: {\r\n        de: 'Zeige Tagesbedarf',\r\n        en: 'Show dietary requirements'\r\n    },\r\n    label_reference: {\r\n        de: 'Bezug',\r\n        en: 'Reference'\r\n    },\r\n    label_reference_all: {\r\n        de: 'Alle Lebensmittel in Food Compare',\r\n        en: 'All foods in Food Compare'\r\n    },\r\n    label_reference_category: {\r\n        de: 'Alle Lebensmittel dieser Kategorie',\r\n        en: 'All foods in this category'\r\n    },\r\n    label_reference_panel: {\r\n        de: 'Alle hinzugefügten Lebensmittel im Datenbereich',\r\n        en: 'All foods added in the data panel'\r\n    },\r\n    label_requirement: {\r\n        de: 'Tagesbedarf',\r\n        en: 'Daily requirements'\r\n    },\r\n    label_source: {\r\n        de: 'Datenquelle',\r\n        en: 'Data source'\r\n    },\r\n    label_source_supplement: {\r\n        de: \"Unvollständige Daten ergänzen\",\r\n        en: \"Supplement incomplete data\"\r\n    },\r\n    label_source_supplement_tooltip: {\r\n        de: \"Ergänzt fehlende Daten aus einer anderen Quelle, sofern diese die entsprechenden Daten enthält\",\r\n        en: \"Supplements missing data from another source in case that source contains the relevant data\"\r\n    },\r\n    label_source_combine: {\r\n        de: \"Datenquellen kombinieren\",\r\n        en: \"Combine data sources\"\r\n    },\r\n    label_source_combine_tooltip: {\r\n        de: \"Bildet den Daten-Mittelwert aus allen Datenquellen zu dem Lebensmittel\",\r\n        en: \"Create the average data out of all available data sources to this food\"\r\n    },\r\n    label_title: {\r\n        de: 'Titel',\r\n        en: 'Title'\r\n    },\r\n    label_unknown: {\r\n        de: 'Unbekannt',\r\n        en: 'Unknown'\r\n    },\r\n    label_usda_reference: {\r\n        de: 'Daten auf Food Data Central ansehen',\r\n        en: 'See the nutrient data at Food Data Central'\r\n    },\r\n    label_userSettings_age: {\r\n        de: 'Alter (Jahre)',\r\n        en: 'Age (years)'\r\n    },\r\n    label_userSettings_breastfeeding: {\r\n        de: 'stillend',\r\n        en: 'breast-feeding'\r\n    },\r\n    label_userSettings_intro: {\r\n        de: 'Die User-Einstellungen (Körpergröße, Gewicht, Geschlecht etc.) werden zur Berechnung bestimmter Werte verwendet, z.B. Grundumsatz oder Tagesbedarf an Vitaminen.',\r\n        en: 'User settings such as size, weight and sex are used for different nutrient calculations, e.g., basal metabolic rate or daily requirements of vitamins and the like.'\r\n    },\r\n    label_userSettings_leisureSports: {\r\n        de: 'Freizeitsport',\r\n        en: 'Leisure sports'\r\n    },\r\n    label_userSettings_leisureSports_tooltip: {\r\n        de: 'Angabe, ob Sie an dem betreffenden Tag zusätzlich zu Ihrer Tätigkeit nennenswert Sport ausgeübt haben, z.B. 30-45 min joggen oder 45-60 min Rad fahren (erhöht PAL-Wert um 0.3)',\r\n        en: 'Specifies whether you did some notable (leisure) sports or activity that day, like 30-45 minutes jogging or 45-60 minutes biking (increases PAL-value by 0.3)'\r\n    },\r\n    label_userSettings_palValue: {\r\n        de: 'PAL-Value',\r\n        en: 'Pal Value'\r\n    },\r\n    label_userSettings_pregnant: {\r\n        de: 'schwanger',\r\n        en: 'pregnant'\r\n    },\r\n    label_userSettings_sex: {\r\n        de: 'Geschlecht:',\r\n        en: 'Sex:'\r\n    },\r\n    label_userSettings_sex_male: {\r\n        de: 'männlich',\r\n        en: 'male'\r\n    },\r\n    label_userSettings_sex_female: {\r\n        de: 'weiblich',\r\n        en: 'female'\r\n    },\r\n    label_userSettings_size: {\r\n        de: 'Körpergröße (cm)',\r\n        en: 'Size (cm)'\r\n    },\r\n    label_userSettings_weight: {\r\n        de: 'Gewicht (kg)',\r\n        en: 'Weight (kg)'\r\n    },\r\n    label_value: {\r\n        de: 'Wert',\r\n        en: 'Value'\r\n    },\r\n    menu_food_data_panel: {\r\n        de: 'Lebensmittel analysieren',\r\n        en: 'Food analyzer'\r\n    },\r\n    menu_food_data_panel_m: {\r\n        de: 'Analyse',\r\n        en: 'Analyze'\r\n    },\r\n    menu_direct_compare: {\r\n        de: 'Direktvergleich',\r\n        en: 'Direct comparison'\r\n    },\r\n    menu_direct_compare_m: {\r\n        de: 'Vergleich',\r\n        en: 'Compare'\r\n    },\r\n    menu_home: {\r\n        de: 'Home',\r\n        en: 'Home'\r\n    },\r\n    menu_ranking: {\r\n        de: 'Ranking',\r\n        en: 'Food ranking'\r\n    },\r\n    menu_ranking_m: {\r\n        de: 'Ranking',\r\n        en: 'Ranking'\r\n    },\r\n    menu_settings: {\r\n        de: 'User Einstellungen',\r\n        en: 'User settings'\r\n    },\r\n    menu_settings_m: {\r\n        de: 'Optionen',\r\n        en: 'Settings'\r\n    },\r\n    menu_contact: {\r\n        de: 'Kontakt',\r\n        en: 'Contact'\r\n    },\r\n    menu_contact_sources: {\r\n        de: 'Quellen',\r\n        en: 'Sources'\r\n    },\r\n    menu_contact_dataprivacy: {\r\n        de: 'Datenschutz',\r\n        en: 'Data privacy'\r\n    },\r\n    menu_contact_versions: {\r\n        de: 'Versionen',\r\n        en: 'Versions'\r\n    },\r\n    menu_contact_impressum: {\r\n        de: 'Impressum',\r\n        en: 'Impressum'\r\n    },\r\n    message_email_success: {\r\n        de: 'Ihre Nachricht wurde versendet.',\r\n        en: 'Your message has been sent.'\r\n    },\r\n    message_email_error: {\r\n        de: 'Beim Versenden der Nachricht trat ein Fehler auf.',\r\n        en: 'Error while trying to send message.'\r\n    },\r\n    message_error_existing_element: {\r\n        de: 'Das ausgewählte Element befindet sich bereits im Datenbereich. Ein Lebensmittel darf nur einmal hinzugefügt werden.',\r\n        en: 'The selected food item already exists in your list. A food item can be added only once.'\r\n    },\r\n    message_error_incomplete_form: {\r\n        de: 'Das Formular ist unvollständig ausgefüllt.',\r\n        en: 'The form is incomplete.'\r\n    },\r\n    message_error_invalid_portion: {\r\n        de: 'Geben Sie bitte eine Portion zwischen 1 und 5000 Gramm an.',\r\n        en: 'Please specify a portion amount between 1 and 5000 gram.'\r\n    },\r\n    message_userdata_success: {\r\n        de: 'Änderungen wurden gespeichert.',\r\n        en: 'Saved changes.'\r\n    },\r\n    message_userdata_error_title: {\r\n        de: 'Fehlerhafte Eingabe',\r\n        en: 'Invalid input'\r\n    },\r\n    message_userdata_error_age: {\r\n        de: 'Geben Sie bitte ein Alter zwischen 15 und 100 Jahren ein.',\r\n        en: 'Please enter an age between 15 and 100 years.'\r\n    },\r\n    message_userdata_error_size: {\r\n        de: 'Geben Sie bitte eine Körpergröße zwischen 80 und 225 cm ein.',\r\n        en: 'Please enter a body height between 80 and 225 cm.'\r\n    },\r\n    message_userdata_error_weight: {\r\n        de: 'Geben Sie bitte ein Gewicht zwischen 30 und 250 kg ein.',\r\n        en: 'Please enter a body weight between 30 and 250 kg.'\r\n    },\r\n    modal_settings_title: {\r\n        de: \"Einstellungen\",\r\n        en: \"Settings\"\r\n    },\r\n    modal_settings_label_unit_vitamins: {\r\n        de: \"Einheit für Vitamine/Mineralstoffe\",\r\n        en: \"Unit of vitamins/minerals\"\r\n    },\r\n    modal_settings_label_unit_proteins: {\r\n        de: \"Einheit für Aminosäuren\",\r\n        en: \"Unit of amino acids:\"\r\n    },\r\n    modal_settings_label_provitamins: {\r\n        de: \"Provitamine in Berechnung berücksichtigen\",\r\n        en: \"Include provitamins in calculation:\"\r\n    },\r\n    modal_settings_label_dietaryRequirments: {\r\n        de: \"Anzeige des Tagesbedarfs\",\r\n        en: \"Display of daily requirement\"\r\n    },\r\n    palcat_name_1: {\r\n        de: 'Extrem niedrige Aktivität',\r\n        en: 'Extremely light activity.'\r\n    },\r\n    palcat_desc_1: {\r\n        de: 'Bspw. ans Bett gebundene Menschen.',\r\n        en: 'Such as bed-ridden people.'\r\n    },\r\n    palcat_name_2: {\r\n        de: 'Sehr nierdige Aktivität',\r\n        en: 'Very light activity'\r\n    },\r\n    palcat_desc_2: {\r\n        de: 'Bspw. sehr einfache Büroarbeit in permanent sitzender Haltung, Reisende in einem Flugzeug oder Zug (sitzend).',\r\n        en: 'Such as very light office work (permanently seated), passengers sitting in a train or airplane.'\r\n    },\r\n    palcat_name_3: {\r\n        de: 'Niedrige Aktivität',\r\n        en: 'Light activity'\r\n    },\r\n    palcat_desc_3: {\r\n        de: 'Überwiegend sitzende Tätigkeit, mit Phasen im stehenden Zustand (z.B. Berufsfahrer, Ärzte, Lehrer, Schüler) oder dem Ausführen zusätzlicher leichter Tätigkeiten (z.B. einfache Haushaltstätigkeiten).',\r\n        en: 'Mostly seated activity, with phases of standing activity (e.g., drivers, doctors, students, teachers...) or additional tasks like simple household chores.'\r\n    },\r\n    palcat_name_4: {\r\n        de: 'Mäßige Aktivität',\r\n        en: 'Mediocre Activity'\r\n    },\r\n    palcat_desc_4: {\r\n        de: 'Überwiegende Stehende Tätigkeit (z.B. Handwerker, Verkäufer, Kellner, Krankenschwester).',\r\n        en: 'Mostly standing activity (e.g. shop assistants, waiters, craftsmen, nurses).'\r\n    },\r\n    palcat_name_5: {\r\n        de: 'Hohe Aktivität',\r\n        en: 'High activity'\r\n    },\r\n    palcat_desc_5: {\r\n        de: 'Körperlich schwere Arbeit, z.B. Bauarbeiter, Möbelpacker, Sportlehrer.',\r\n        en: 'Hard work, such as construction workers, movers, gym teachers etc.'\r\n    },\r\n    palcat_name_6: {\r\n        de: 'Sehr hohe Aktivität',\r\n        en: 'Very high activity'\r\n    },\r\n    palcat_desc_6: {\r\n        de: 'Körperlich sehr schwere Arbeit, z.B. Bauarbeiter, Möbelpacker, Fitnesstrainer, Bergarbeiter.',\r\n        en: 'Very hard work, such as construction workers, movers, fitness trainers, miners etc.'\r\n    },\r\n    palcat_name_7: {\r\n        de: 'Extrem hohe Aktivität',\r\n        en: 'Extremely high activity'\r\n    },\r\n    palcat_desc_7: {\r\n        de: 'Bspw. (Hoch-) Leistungssportler.',\r\n        en: 'Such as professional athletes.'\r\n    },\r\n    portion_100g: {\r\n        de: '100 Gramm',\r\n        en: '100 Gram'\r\n    },\r\n    portion_individual: {\r\n        de: 'Individuell',\r\n        en: 'Individual'\r\n    },\r\n    text_contact_disclaimer1: {\r\n        de: 'Alle Rechte vorbehalten.',\r\n        en: 'All rights reserved.'\r\n    },\r\n    text_contact_disclaimer2: {\r\n        de: 'Food Compare basiert auf freien Datenquellen, die im Quellen-Tab näher beschrieben sind. Die Lebensmitteldaten stammen von Food Data Central, einem Teilprojekt des United States Department of Agriculture. Im Info-Tab des Daten-Panels existiert für jedes Lebensmittel ein Link zu den abgegriffenen Daten.',\r\n        en: 'Food Compare is based upon free data sources specified in the sources tab. Food data used in the project originates from Food Data Central as part of the United States Department of Agriculture. There is a direct link to the original source data of each food element in the info data page of the food data panel.'\r\n    },\r\n    text_contact_disclaimer3: {\r\n        de: 'Die für die Berechnung des Tagesbedarfs verwendeten Einstellungen entstammen der Deutschen Gesellschaft für Ernährung (DGE).',\r\n        en: 'For the computation of daily dietary requirements, data from the German Nutrition Society (DGE) is used.'\r\n    },\r\n    text_contact_form: {\r\n        de: 'Bitte benutzen Sie das Kontaktformular, wenn Sie Frage oder Feedback zu Food Compare haben.',\r\n        en: 'Please use the contact form below if you have questions of feedback about Food Compare.'\r\n    },\r\n    text_contact_source1: {\r\n        de: 'Quellen:',\r\n        en: 'Sources:',\r\n    },\r\n    text_contact_source2: {\r\n        de: 'Nährwert-Daten:',\r\n        en: 'Nutrient Data:',\r\n    },\r\n    text_contact_source3: {\r\n        de: 'Daten für Tagesbedarf von Vitaminen/Mineralstoffen:',\r\n        en: 'Source for Dietary Requirement of Minerals and Vitamins',\r\n    },\r\n    text_contact_source4: {\r\n        de: 'Berechnung von Grundumsatz und PAL:',\r\n        en: 'Calculation of BMR and PAL:',\r\n    },\r\n    text_empty_fooddatapanel: {\r\n        de: 'Klicken Sie links auf Plus-Button, um Lebensmittel zum Analysebereich hinzufügen. Es können beliebig viele Lebensmittel hinzugefügt werden. Klicken Sie den Stapel-Button, um ein komplexes Lebensmittel bzw. ein Menü zusammenzustellen, dessen Gesamtwerte dann angezeigt werden.',\r\n        en: 'Click the plus button to add food elements to the analysis panel. You can add as many food elements as you like. Click the stack button if you want to create complex meals to show their total nutrient data.'\r\n    },\r\n    text_empty_fooddatapanel_mobileInfo: {\r\n        de: 'Das Erstellen komplexer Lebensmittel wird auf Mobilgeräten aktuell nicht unterstützt.',\r\n        en: 'Presently, complex menus cannot be created on mobile devices.'\r\n    },\r\n    text_ranking: {\r\n        de: \"Sie können in diesem Bereich Nahrungsmittel nach einem bestimmten Nährstoff, Vitamin oder Mineralstoff sortiert anzeigen lassen. Wählen Sie dazu eine Kategorie aus, eine Gruppe und eine bestimmte Nährstoffangabe (Wert).\",\r\n        en: \"In this section you may display food items sorted by a specific nutrient, vitamin or mineral. Please select a food category, nutrient group and value to display the corresponding ranking chart.\"\r\n    },\r\n    text_setUserdata_p1: {\r\n        de: 'Es werden aktuell Referenzwerte für einen durchschnittlichen Erwachsenen (männlich, 35 Jahre) angezeigt.',\r\n        en: 'You are currently seeing the reference data for an average adult (male, 35 years).'\r\n    },\r\n    text_setUserdata_p2: {\r\n        de: 'Geben Sie, bei Bedarf, in den Einstellungen Ihre eigenen Körperdaten für ein genaueres Ergebnis ein.',\r\n        en: 'For more accurate data, if necessary, please enter your personal body data in the settings menu.'\r\n    },\r\n    text_setUserdata_p3: {\r\n        de: 'Die Referenzwerte beziehen sich auf die eingestellten Nutzerdaten.',\r\n        en: 'The reference data refer to your entered body data.'\r\n    },\r\n    tooltip_icon_charts: {\r\n        de: 'Diagramm-Modus',\r\n        en: 'Chart mode'\r\n    },\r\n    tooltip_icon_close: {\r\n        de: 'Tab schließen',\r\n        en: 'Close tab'\r\n    },\r\n    tooltip_icon_newFoodItem: {\r\n        de: 'Lebensmittel hinzufügen',\r\n        en: 'Add food item'\r\n    },\r\n    tooltip_icon_newFoodItemStack: {\r\n        de: 'Kombinierte Liste an Lebensmitteln hinzufügen (aggregierte Daten)',\r\n        en: 'Add composite list of food items (aggregated data)'\r\n    },\r\n    tooltip_icon_removeAll: {\r\n        de: 'Alle Tabs schließen',\r\n        en: 'Close all data tabs'\r\n    },\r\n    tooltip_icon_settings: {\r\n        de: 'Einstellungen zu Diagrammen/Tabellendaten öffnen',\r\n        en: 'Open settings menu für chart and table data'\r\n    },\r\n    tooltip_icon_table: {\r\n        de: 'Tabellen-Modus',\r\n        en: 'Table mode'\r\n    },\r\n    tooltip_source: {\r\n        de: 'Verwendete Quelle: ',\r\n        en: 'Used source: '\r\n    }\r\n}","import {useEffect, useState} from \"react\";\r\nimport {smallFormsScreenSize} from \"../config/ApplicationSetting\";\r\nimport {isMobile} from \"react-device-detect\";\r\n\r\nexport interface WindowDimension {\r\n    width: number\r\n    height: number\r\n}\r\n\r\nfunction getCurrentWindowDimension() {\r\n    return {\r\n        width: window.innerWidth,\r\n        height: window.innerHeight\r\n    }\r\n}\r\n\r\nexport function useWindowDimension() {\r\n    const [windowDimension, setWindowDimension] = useState(getCurrentWindowDimension())\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"resize\", () => setWindowDimension(getCurrentWindowDimension))\r\n        return () => window.removeEventListener(\"resize\", () => setWindowDimension(getCurrentWindowDimension))\r\n    }, [])\r\n\r\n    return windowDimension\r\n}\r\n\r\n\r\nexport function isSmallScreen(windowDimension: WindowDimension) {\r\n    return windowDimension.width < smallFormsScreenSize.width || windowDimension.height < smallFormsScreenSize.height\r\n}\r\n\r\nexport function isNarrowScreen(windowDimension: WindowDimension) {\r\n    return windowDimension.width < smallFormsScreenSize.width\r\n}\r\n\r\nexport function isMobileDevice() {\r\n    return isMobile\r\n}","import logo from '../static/image/logo.png'\r\nimport text from '../static/image/text.png'\r\nimport {Button} from \"react-bootstrap\";\r\nimport {\r\n    LANGUAGE_DE,\r\n    LANGUAGE_EN,\r\n    PATH_FOODDATA_PANEL,\r\n    PATH_HOME,\r\n    PATH_CONTACT,\r\n    PATH_USERSETTINGS,\r\n    PATH_DIRECT_COMPARE,\r\n    PATH_FOODCOMPARE,\r\n    SOURCE_SRLEGACY,\r\n    PATH_RANKING,\r\n    SOURCE_FNDDS\r\n} from \"../config/Constants\";\r\nimport {useContext} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../contexts/ApplicationDataContext\";\r\nimport {applicationStrings} from \"../static/labels\";\r\nimport {LanguageContext} from \"../contexts/LangContext\";\r\nimport {Link} from 'react-router-dom';\r\nimport {useLocation} from 'react-router-dom';\r\nimport {isMobileDevice} from \"../service/WindowDimension\";\r\n\r\n\r\nexport default function Header() {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const {language, userLanguageChange} = useContext(LanguageContext)\r\n    const location = useLocation();\r\n\r\n    if (applicationContext === null) {\r\n        return <div/>\r\n    }\r\n\r\n    const handleLanguageButtonClick = (event: any): void => {\r\n        userLanguageChange(event.target.value)\r\n        applicationContext.setFoodDataPanelData.updateAllFoodItemNames(applicationContext.foodDataCorpus.foodNames, event.target.value)\r\n    }\r\n\r\n    const handleSourceButtonClick = (event: any): void => {\r\n        applicationContext.setPreferredSource(event.target.value)\r\n    }\r\n\r\n    let activePath = location.pathname && location.pathname !== \"/\" ? location.pathname : PATH_HOME\r\n    if (activePath.endsWith(\"/\") && activePath.length > 1) {\r\n        activePath = activePath.substring(0, activePath.length - 1)\r\n    }\r\n\r\n    if (applicationContext.debug) {\r\n        console.log('Path:', activePath)\r\n    }\r\n\r\n    const renderMenus = () => {\r\n        const menuNameAnalyze = isMobileDevice() ? applicationStrings.menu_food_data_panel_m[language] : applicationStrings.menu_food_data_panel[language]\r\n        const menuNameDirectCompare = isMobileDevice() ? applicationStrings.menu_direct_compare_m[language] : applicationStrings.menu_direct_compare[language]\r\n        const menuNameRanking = isMobileDevice() ? applicationStrings.menu_ranking_m[language] : applicationStrings.menu_ranking[language]\r\n        const menuNameSettings = isMobileDevice() ? applicationStrings.menu_settings_m[language] : applicationStrings.menu_settings[language]\r\n\r\n        const buttonContainerClass = isMobileDevice() ? \"link header-link-mobile\" : \"link header-link\"\r\n\r\n        return (\r\n            <div className={\"btn-group flex flex-wrap\"}>\r\n                <Link to={PATH_HOME}>\r\n                    <Button className={buttonContainerClass}\r\n                            value={PATH_HOME}\r\n                            variant={'link'}\r\n                            active={activePath === PATH_HOME || activePath === PATH_FOODCOMPARE}>\r\n                        {applicationStrings.menu_home[language]}\r\n                    </Button>\r\n                </Link>\r\n                <Link to={PATH_FOODDATA_PANEL}>\r\n                    <Button className={buttonContainerClass}\r\n                            value={PATH_FOODDATA_PANEL}\r\n                            variant={'link'}\r\n                            active={activePath === PATH_FOODDATA_PANEL}>\r\n                        {menuNameAnalyze}\r\n                    </Button>\r\n                </Link>\r\n                {!isMobileDevice() &&\r\n                <Link to={PATH_DIRECT_COMPARE}>\r\n                    <Button className={buttonContainerClass}\r\n                            value={PATH_DIRECT_COMPARE}\r\n                            variant={'link'}\r\n                            active={activePath === PATH_DIRECT_COMPARE}>\r\n                        {menuNameDirectCompare}\r\n                    </Button>\r\n                </Link>\r\n                }\r\n                <Link to={PATH_RANKING}>\r\n                    <Button className={buttonContainerClass}\r\n                            value={PATH_RANKING}\r\n                            variant={'link'}\r\n                            active={activePath === PATH_RANKING}>\r\n                        {menuNameRanking}\r\n                    </Button>\r\n                </Link>\r\n                <Link to={PATH_USERSETTINGS}>\r\n                    <Button className={buttonContainerClass}\r\n                            value={PATH_USERSETTINGS}\r\n                            variant={'link'}\r\n                            active={activePath === PATH_USERSETTINGS}>\r\n                        {menuNameSettings}\r\n                    </Button>\r\n                </Link>\r\n                <Link to={PATH_CONTACT}>\r\n                    <Button className={buttonContainerClass}\r\n                            variant={'link'}\r\n                            value={PATH_CONTACT}\r\n                            active={activePath === PATH_CONTACT}>\r\n                        {applicationStrings.menu_contact[language]}\r\n                    </Button>\r\n                </Link>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const language_en = isMobileDevice() ? applicationStrings.checkbox_english_m[language] : applicationStrings.checkbox_english[language]\r\n    const language_de = isMobileDevice() ? applicationStrings.checkbox_german_m[language] : applicationStrings.checkbox_german[language]\r\n\r\n    const formElementsClass = isMobileDevice() ? \"form-elements-m\" : \"form-elements\"\r\n\r\n    const renderLanguageButtons = () => {\r\n        return (\r\n            <div className=\"form-small text-right\">\r\n                <form>\r\n                    <label className={formElementsClass}>\r\n                        <b>{applicationStrings.label_language[language]}</b>\r\n                    </label>\r\n                    <label className={formElementsClass}>\r\n                        <input name={\"user language\"}\r\n                               className={\"form-input\"}\r\n                               type=\"radio\"\r\n                               value={LANGUAGE_EN}\r\n                               defaultChecked={language === LANGUAGE_EN}\r\n                               onClick={handleLanguageButtonClick}\r\n                        />\r\n                        {language_en}\r\n                    </label>\r\n                    <label style={{marginRight: \"25px\"}}>\r\n                        <input name={\"user language\"}\r\n                               className={\"form-input\"}\r\n                               type=\"radio\"\r\n                               value={LANGUAGE_DE}\r\n                               defaultChecked={language === LANGUAGE_DE}\r\n                               onClick={handleLanguageButtonClick}\r\n                        />\r\n                        {language_de}\r\n                    </label>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    const renderSourceButtons = () => {\r\n        const preferredSource = applicationContext.applicationData.preferredSource\r\n\r\n        return (\r\n            <div className=\"form-small text-right\" style={{paddingRight: \"25px\"}}>\r\n                <form className=\"form-group\">\r\n                    <label className=\"form-elements\">\r\n                        <b>{applicationStrings.label_preferred_source[language]}</b>\r\n                    </label>\r\n                    <label className=\"form-elements\">\r\n                        <input className=\"form-input\"\r\n                               type=\"radio\"\r\n                               value={SOURCE_SRLEGACY}\r\n                               checked={preferredSource === SOURCE_SRLEGACY}\r\n                               onChange={handleSourceButtonClick}\r\n                        />\r\n                        SR Legacy\r\n                    </label>\r\n                    <label className=\"form-elements-largespace\">\r\n                        <input className=\"form-input\"\r\n                               type=\"radio\"\r\n                               value={SOURCE_FNDDS}\r\n                               checked={(preferredSource === SOURCE_FNDDS)}\r\n                               onChange={handleSourceButtonClick}\r\n                        />\r\n                        FNDDS (Survey)\r\n                    </label>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const makeHeaderDesktop = () => {\r\n        return (\r\n            <div className=\"d-flex flex-row header\">\r\n                <div style={{paddingTop: \"8px\", paddingLeft: \"8px\", minWidth: \"90px\", maxWidth: \"90px\"}}>\r\n                    <img src={logo} alt={\"Food Compare Logo\"}/>\r\n                </div>\r\n                <div className={\"d-flex flex-column w-100\"}>\r\n                    <div className=\"d-flex flex-row align-items-center justify-content-between\">\r\n                        <div style={{paddingTop: \"5px\"}}>\r\n                            <img src={text} alt={\"Food Compare Logo Text\"}/>\r\n                        </div>\r\n                        <div className=\"d-flex flex-row justify-content-end\" style={{paddingTop: \"6px\"}}>\r\n                            {!isMobileDevice() &&\r\n                            renderSourceButtons()\r\n                            }\r\n                            {renderLanguageButtons()}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"d-flex flex-row\" style={{marginTop: \"3px\"}}>\r\n                        <div className=\"col-md-12 text-start\">\r\n                            {renderMenus()}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    const makeHeaderMobile = () => {\r\n        return (\r\n            <div className=\"d-flex flex-row header\">\r\n                <div style={{paddingTop: \"4px\", paddingLeft: \"4px\", minWidth: \"75px\", maxWidth: \"75px\"}}>\r\n                    <img src={logo} alt={\"Food Compare Logo\"}/>\r\n                </div>\r\n                <div className={\"d-flex flex-column w-100\"}>\r\n                    <div className=\"d-flex flex-row align-items-center justify-content-between\">\r\n                        <div style={{paddingTop: \"5px\"}}>\r\n                            <img src={text} style={{width: \"22vw\"}} alt={\"Food Compare Logo Text\"}/>\r\n                        </div>\r\n                        <div className=\"d-flex flex-row justify-content-end\" style={{paddingTop: \"6px\"}}>\r\n                            {renderLanguageButtons()}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"d-flex flex-row\" style={{marginTop: \"3px\"}}>\r\n                        <div className=\"col-md-12 text-start\">\r\n                            {renderMenus()}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return isMobileDevice() ? makeHeaderMobile() : makeHeaderDesktop()\r\n}","import React, {useContext, useState} from \"react\";\r\nimport {LanguageContext} from \"../contexts/LangContext\";\r\nimport {Carousel} from 'react-responsive-carousel';\r\nimport {applicationStrings} from \"../static/labels\";\r\n\r\nimport homeText1 from \"../static/hometext1.json\";\r\nimport homeText2 from \"../static/hometext2.json\";\r\nimport homeText3 from \"../static/hometext3.json\";\r\n\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\r\nimport {Link} from 'react-router-dom';\r\nimport {LANGUAGE_DE, PATH_DIRECT_COMPARE, PATH_FOODDATA_PANEL, PATH_RANKING} from \"../config/Constants\";\r\nimport {FaAngleDoubleRight} from \"react-icons/fa\";\r\nimport {isMobileDevice} from \"../service/WindowDimension\";\r\n\r\nconst carouselImages = require.context('../static/image/carousel', true);\r\nconst startImages = require.context('../static/image/startImages', true);\r\n\r\ninterface HomeTextElement {\r\n    type: string\r\n    de: string\r\n    en: string\r\n}\r\n\r\nexport function Home() {\r\n    const {language} = useContext(LanguageContext)\r\n    const [displayedImage, setDisplayedImage] = useState<number>(0)\r\n\r\n    const imageChanged = (image) => {\r\n        setDisplayedImage(image)\r\n    }\r\n\r\n    const renderCarousel = () => {\r\n        const pic1 = carouselImages(`./Img-${language}-1.png`).default;\r\n        const pic2 = carouselImages(`./Img-${language}-2.png`).default;\r\n        const pic3 = carouselImages(`./Img-${language}-3.png`).default;\r\n        const pic4 = carouselImages(`./Img-${language}-4.png`).default;\r\n        const pic5 = carouselImages(`./Img-${language}-5.png`).default;\r\n        const pic6 = carouselImages(`./Img-${language}-6.png`).default;\r\n        const pic7 = carouselImages(`./Img-${language}-7.png`).default;\r\n\r\n        const captionAttribute = `home_carousel_${displayedImage}`;\r\n        const imageCaption = applicationStrings[captionAttribute][language];\r\n\r\n        return (\r\n            <div style={{paddingBottom: \"40px\"}}>\r\n                <Carousel showArrows={true}\r\n                          infiniteLoop={true} autoPlay={true}\r\n                          interval={6000}\r\n                          transitionTime={800}\r\n                          selectedItem={displayedImage}\r\n                          showThumbs={false}\r\n                          showStatus={false}\r\n                          onChange={imageChanged}>\r\n                    <div>\r\n                        <img src={pic1} alt={\"Carousel 1\"}/>\r\n                    </div>\r\n                    <div>\r\n                        <img src={pic2} alt={\"Carousel 2\"}/>\r\n                    </div>\r\n                    <div>\r\n                        <img src={pic3} alt={\"Carousel 3\"}/>\r\n                    </div>\r\n                    <div>\r\n                        <img src={pic4} alt={\"Carousel 4\"}/>\r\n                    </div>\r\n                    <div>\r\n                        <img src={pic5} alt={\"Carousel 5\"}/>\r\n                    </div>\r\n                    <div>\r\n                        <img src={pic6} alt={\"Carousel 6\"}/>\r\n                    </div>\r\n                    <div>\r\n                        <img src={pic7} alt={\"Carousel 7\"}/>\r\n                    </div>\r\n                </Carousel>\r\n                <div style={{textAlign: \"center\", fontStyle: \"oblique\"}}>\r\n                    {imageCaption}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    const renderStartButtons = () => {\r\n        const startImg1 = startImages(`./StartImg1.jpg`).default\r\n        const startImg2 = startImages(`./StartImg2.jpg`).default\r\n        const startImg3 = startImages(`./StartImg3.jpg`).default\r\n        const startImg4 = startImages(`./StartImg4.jpg`).default\r\n\r\n        const paddingTop = isMobileDevice() ? \"4px\" : \"16px\";\r\n\r\n        return (\r\n            <div style={{paddingTop: paddingTop}}>\r\n                <b>{applicationStrings.label_getStarted[language]}</b>\r\n                <div className={\"text-center\"}>\r\n                    <div style={{paddingTop: \"20px\"}}>\r\n                        <Link to={PATH_FOODDATA_PANEL + \"?add=1\"}>\r\n                            {renderStartButton(applicationStrings.button_getstarted_1[language], startImg1)}\r\n                        </Link>\r\n                    </div>\r\n                    {!isMobileDevice() &&\r\n                    <div>\r\n                        <div style={{paddingTop: \"20px\"}}>\r\n                            <Link to={PATH_FOODDATA_PANEL + \"?composite=1\"}>\r\n                                {renderStartButton(applicationStrings.button_getstarted_2[language], startImg2)}\r\n                            </Link>\r\n                        </div>\r\n                        <div style={{paddingTop: \"20px\"}}>\r\n                            <Link to={PATH_DIRECT_COMPARE}>\r\n                                {renderStartButton(applicationStrings.button_getstarted_3[language], startImg3)}\r\n                            </Link>\r\n                        </div>\r\n                    </div>\r\n                    }\r\n                    <div style={{paddingTop: \"20px\"}}>\r\n                        <Link to={PATH_RANKING}>\r\n                            {renderStartButton(applicationStrings.button_getstarted_4[language], startImg4)}\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const renderStartButton = (label: string, srcImage: string): any => {\r\n        return <button type=\"button\"\r\n                       className=\"btn btn-small btn-outline-dark\"\r\n                       style={{width: \"90%\"}}>\r\n            <div className={\"d-flex flex-row\"} style={{maxHeight: \"100px\"}}>\r\n                <div className={\"d-flex flex-column\"} style={{width: \"40%\", maxHeight: \"96px\", marginRight: \"12px\"}}>\r\n                    <img src={srcImage} style={{maxHeight: \"90px\", maxWidth: \"169px\"}} alt={\"Start btn img\"}/>\r\n                </div>\r\n                <div className={\"d-flex flex-column justify-content-center\"}  style={{width: \"60%\"}}>\r\n                    <div className={\"align-items-center\"}>{label}</div>\r\n                </div>\r\n            </div>\r\n        </button>\r\n    }\r\n\r\n\r\n    const renderHomeText = (textElements: HomeTextElement[]): any => {\r\n        return textElements.map((textElement, index) => renderTextElement(textElement, index))\r\n    }\r\n\r\n    const renderTextElement = (textElement: HomeTextElement, index: number): JSX.Element => {\r\n        const text = language === LANGUAGE_DE ? textElement.de : textElement.en\r\n\r\n        switch (textElement.type) {\r\n            case \"paragraph\":\r\n                return <p key={`homeitem ${index}`}>{text}</p>\r\n            case \"subheading\":\r\n                return (\r\n                    <div key={`homeitem ${index}`}>\r\n                        <br/>\r\n                        <h4>\r\n                            {text}\r\n                        </h4>\r\n                        <hr/>\r\n                    </div>\r\n                )\r\n            case \"paragraph-before-itemization\":\r\n                return <p key={`homeitem ${index}`}><b>{text}</b></p>\r\n            case \"fancy-item\":\r\n                return (\r\n                    <div key={`homeitem ${index}`}>\r\n                        {!isMobileDevice()\r\n                            ? <span style={{paddingLeft: \"10px\", paddingRight: \"10px\"}}>\r\n                                    <FaAngleDoubleRight/>\r\n                                </span>\r\n                            : <span>\r\n                                    <FaAngleDoubleRight/>\r\n                            </span>\r\n                        }\r\n                        {text}\r\n                    </div>\r\n                )\r\n            default:\r\n                return <p>{text}</p>\r\n        }\r\n    }\r\n\r\n\r\n    const renderMobile = () => {\r\n        return (\r\n            <div className=\"media home app\" style={{margin: \"12px\"}}>\r\n                <div>\r\n                    <div>\r\n                        {renderHomeText(homeText1)}\r\n                        <div style={{paddingTop: \"10px\", paddingBottom: \"40px\"}}>\r\n                            {renderStartButtons()}\r\n                        </div>\r\n                        {renderHomeText(homeText2)}\r\n                    </div>\r\n                    <hr/>\r\n                    <div style={{paddingTop: \"20px\"}}>\r\n                        <h3>{applicationStrings.home_foodcompare_overview[language]}</h3>\r\n                        <div className=\"card-header\"\r\n                             style={{paddingBottom: \"20px\", marginBottom: \"30px\"}}>\r\n                            {renderHomeText(homeText3)}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const renderDesktop = () => {\r\n        return (\r\n            <div>\r\n                <div className=\"media home app\" style={{margin: \"0 auto\"}}>\r\n                    <div className={\"container-fluid\"}>\r\n                        <div className=\"row\">\r\n                            <div className={\"col-5\"}>\r\n                                {renderHomeText(homeText1)}\r\n                                <div style={{paddingTop: \"20px\", paddingBottom: \"60px\"}}>\r\n                                    {renderStartButtons()}\r\n                                </div>\r\n                                {renderHomeText(homeText2)}\r\n                            </div>\r\n                            <div className={\"col-7\"} style={{paddingLeft: \"45px\"}}>\r\n                                {renderCarousel()}\r\n                            </div>\r\n                        </div>\r\n                        <hr/>\r\n                        <div style={{paddingTop: \"30px\"}}>\r\n                            <h3>{applicationStrings.home_foodcompare_overview[language]}</h3>\r\n                            <div className=\"card-header\"\r\n                                 style={{maxWidth: \"1000px\", paddingBottom: \"20px\", marginBottom: \"50px\"}}>\r\n                                {renderHomeText(homeText3)}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    return <div>\r\n        {isMobileDevice()\r\n            ? <div>{renderMobile()}</div>\r\n            : <div>{renderDesktop()}</div>\r\n        }\r\n    </div>\r\n\r\n}","import ReactSelectOption from \"../../types/ReactSelectOption\";\r\nimport NameType from \"../../types/nutrientdata/NameType\";\r\nimport {getReactSelectOptionsList} from \"./NameTypeService\";\r\n\r\nexport function getCategorySelectList(categories: Array<NameType>, language: string): Array<ReactSelectOption> {\r\n    return getReactSelectOptionsList(categories, language)\r\n}\r\n\r\n","import FoodItem from \"../../types/nutrientdata/FoodItem\";\r\nimport NameType from \"../../types/nutrientdata/NameType\";\r\nimport {ReactSelectFoodItemOption} from \"../../types/ReactSelectOption\";\r\nimport getName, {removeAuxiliaryInformationFromFoodName} from \"../LanguageService\";\r\n\r\n\r\n/**\r\n * Auxiliary method to get the food item from a given food list or null.\r\n * @param foodItemId Food Item Id\r\n * @param foodItems The list of food items\r\n */\r\nexport function getFoodItem(foodItemId: number, foodItems: Array<FoodItem>): FoodItem | null {\r\n    const index = foodItems.findIndex(foodItem => foodItem.id === foodItemId)\r\n    if(index >= 0) {\r\n        return foodItems[index]\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n\r\n/**\r\n * Makes the select list (component) for food items.\r\n * @param foodItems The list of all food items.\r\n * @param foodClass The selected food class.\r\n * @param foodNames The list of all food names.\r\n * @param conditions The list of all conditions.\r\n * @param language The given language.\r\n */\r\nexport function getFoodItemsSelectList(foodItems: Array<FoodItem>, foodClass: number, foodNames: Array<NameType>,\r\n                                       conditions: Array<NameType>, language: string): Array<ReactSelectFoodItemOption> {\r\n    const filteredFoodItems = getFoodItemsOfFoodclass(foodItems, foodClass)\r\n    const reactSelectOptions: Array<ReactSelectFoodItemOption> = []\r\n\r\n    if(filteredFoodItems && filteredFoodItems.length > 0) {\r\n        filteredFoodItems.forEach(foodItem => {\r\n            let foodName = getFoodItemName(foodItem, foodNames, language)\r\n            const condition = conditions.find(condition => condition.id === foodItem.conditionId)\r\n            const conditionName = condition ? getName(condition, language) : null\r\n\r\n            if(conditionName && foodItem.conditionId !== 100) {   // Exclude the \"general\" condition\r\n                foodName = `${foodName} (${conditionName})`\r\n            }\r\n\r\n            reactSelectOptions.push({\r\n                value: foodItem,\r\n                label: foodName ?? ''\r\n            })\r\n        })\r\n    }\r\n\r\n    return reactSelectOptions\r\n}\r\n\r\n/**\r\n * Central method to retrieve the food name of an food item in a given language.\r\n * @param foodItem The food item object.\r\n * @param foodNames The list of food items.\r\n * @param language The given language.\r\n */\r\nexport function getFoodItemName(foodItem: FoodItem, foodNames: Array<NameType>, language: string, verbose = false): string | null {\r\n    const nameId = foodItem.nameId!!\r\n    if(nameId > foodNames.length) {\r\n        return null\r\n    }\r\n    const nameType = foodNames[nameId-1]\r\n    return getName(nameType, language, verbose)\r\n}\r\n\r\n\r\n/**\r\n * Returns all food items that belong to a food class.\r\n * @param foodItems The list of all food items.\r\n * @param foodClassId The ID of the selected food class.\r\n */\r\nexport function getFoodItemsOfFoodclass(foodItems: Array<FoodItem>, foodClassId: number): Array<FoodItem> {\r\n    return foodItems.filter(foodItem => {\r\n        if(foodItem.foodClass === foodClassId) {\r\n            return foodItem\r\n        } else {\r\n            return null\r\n        }\r\n    })\r\n}","import {ReactSelectFoodClassOption} from \"../../types/ReactSelectOption\";\r\nimport FoodClass from \"../../types/nutrientdata/FoodClass\";\r\nimport getName from \"../LanguageService\";\r\nimport NameType from \"../../types/nutrientdata/NameType\";\r\nimport {getFoodItemName, getFoodItemsOfFoodclass} from \"./FoodItemsService\";\r\nimport FoodDataCorpus from \"../../types/nutrientdata/FoodDataCorpus\";\r\n\r\nexport const foodClassLabelSeparator = \"||\"\r\n\r\nexport function getFoodClassSelectList(foodDataCorpus: FoodDataCorpus, category: number,\r\n                                       foodNames: Array<NameType>, language: string): ReactSelectFoodClassOption[] {\r\n    const {foodClasses, foodItems} = foodDataCorpus\r\n    const filteredFoodClasses = getFoodClassesOfCategory(foodClasses, category)\r\n\r\n    if (!filteredFoodClasses || filteredFoodClasses.length === 0) {\r\n        return []\r\n    }\r\n\r\n    const reactSelectOptions: Array<ReactSelectFoodClassOption> = []\r\n    filteredFoodClasses.forEach(foodClass => {\r\n        const nameId = foodClass.nameKey\r\n        if (nameId > foodNames.length) {\r\n            return\r\n        }\r\n        const nameType = foodNames[nameId - 1]\r\n        const foodName = getName(nameType, language)\r\n\r\n        /*\r\n         * In order to find food items in the select menu, which do not match the food class name, the food class\r\n         * label will be extended by the food item names of their class. A special formatting function is used in\r\n         * the list to convert the name back to the original food class name.\r\n         *\r\n         * Syntax: <food class name> || <name of food items (deduplicated)>\r\n         */\r\n\r\n        const foodItemsOfFoodclass = getFoodItemsOfFoodclass(foodItems, foodClass.id)\r\n        const foodItemNames: string[] = foodItemsOfFoodclass.map(foodItem => getFoodItemName(foodItem, foodNames, language)).filter(name => name !== null) as string[]\r\n        const label = foodName + foodClassLabelSeparator + foodItemNames.filter((element, index) => {\r\n            return foodItemNames.indexOf(element) === index;\r\n        }).join()   // Remove duplicates and then add all remaining food item names to the food class label\r\n\r\n        reactSelectOptions.push({\r\n            value: foodClass,\r\n            label: label\r\n        })\r\n    })\r\n\r\n    reactSelectOptions.sort((obj1, obj2) => obj1.label.localeCompare(obj2.label))\r\n    return reactSelectOptions\r\n}\r\n\r\n\r\nfunction getFoodClassesOfCategory(foodClasses: Array<FoodClass>, category: number): Array<FoodClass> {\r\n    return foodClasses.filter(foodClass => {\r\n        if (category === 0) {\r\n            return foodClass\r\n        } else if (foodClass.category === category) {\r\n            return foodClass\r\n        } else {\r\n            return null\r\n        }\r\n    })\r\n}","import NameType from \"../../types/nutrientdata/NameType\";\r\nimport {ReactSelectPortionOption} from \"../../types/ReactSelectOption\";\r\nimport FoodItem, {PortionData} from \"../../types/nutrientdata/FoodItem\";\r\nimport getName from \"../LanguageService\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {PORTION_KEY_100, PORTION_KEY_INDIVIDUAL} from \"../../config/Constants\";\r\n\r\n\r\nexport function getPortionReactSelectList(portionData: Array<PortionData>, portionTypes: Array<NameType>, language: string): Array<ReactSelectPortionOption> {\r\n    const reactSelectOptions: Array<ReactSelectPortionOption> = []\r\n    portionData.forEach(portionElement => {\r\n        const portionTypeIndex = portionTypes.findIndex(portionType => {\r\n             return portionType.id === portionElement.portionType\r\n        })\r\n\r\n        const portionType = portionTypes[portionTypeIndex]\r\n        const portionName = getName(portionType, language)\r\n        reactSelectOptions.push({\r\n            value: portionElement,\r\n            label: portionName\r\n        })\r\n    })\r\n\r\n    reactSelectOptions.push({\r\n        value: {amount: 100, portionType: PORTION_KEY_100},\r\n        label: applicationStrings.portion_100g[language]\r\n    })\r\n\r\n    reactSelectOptions.push({\r\n        value: {amount: 0, portionType: PORTION_KEY_INDIVIDUAL},\r\n        label: applicationStrings.portion_individual[language]\r\n    })\r\n\r\n    return reactSelectOptions\r\n}\r\n\r\n\r\nexport function getDefaultPortionData(foodItem: FoodItem, portionDataList: Array<ReactSelectPortionOption>): ReactSelectPortionOption {\r\n    let defaultPortionIndex = portionDataList.findIndex(portionData => {\r\n        return portionData.value.portionType === foodItem.defaultPortionId\r\n    })\r\n\r\n    if (defaultPortionIndex < 0 || defaultPortionIndex >= portionDataList.length) {\r\n        defaultPortionIndex = 0;\r\n    }\r\n\r\n    return portionDataList[defaultPortionIndex]\r\n}","import FoodItem, {NutrientData} from \"../../types/nutrientdata/FoodItem\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\n\r\nexport function getSourceName(sourceId: number) {\r\n    switch (sourceId) {\r\n        case 0:\r\n            return \"SR Legacy\"\r\n        case 1:\r\n            return \"FNDDS\"\r\n        default:\r\n            return \"unknown\"\r\n    }\r\n}\r\n\r\nexport function getNutrientData(selectedFoodItem: SelectedFoodItem): NutrientData {\r\n    return getNutrientDataForFoodItem(selectedFoodItem.foodItem, selectedFoodItem.selectedSource,\r\n        selectedFoodItem.supplementData, selectedFoodItem.combineData)\r\n}\r\n\r\nexport function getNutrientDataForFoodItem(foodItem: FoodItem, sourceToUse?: number, supplementData?: boolean,\r\n                                           combineData?: boolean): NutrientData {\r\n    if (sourceToUse === null || sourceToUse === undefined || foodItem.nutrientDataList.length === 1) {\r\n        return foodItem.nutrientDataList[0]\r\n    } else {\r\n        const nutrientData = foodItem.nutrientDataList.find(nutrientDataObject => nutrientDataObject.source.id === sourceToUse)\r\n        if (nutrientData) {\r\n            if(supplementData || combineData) {\r\n                const complement = foodItem.nutrientDataList.find(nutrientDataObject => nutrientDataObject.source.id !== sourceToUse)\r\n                if(complement) {\r\n                    if(supplementData && !combineData) {\r\n                        return supplementNutrientData(nutrientData, complement)\r\n                    }\r\n                    if(combineData) {\r\n                        return combineNutrientData(nutrientData, complement)\r\n                    }\r\n                }\r\n            }\r\n            return nutrientData\r\n        } else {\r\n            return foodItem.nutrientDataList[0]\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function supplementNutrientData(selectedNutrientData: NutrientData, complementeNutrientData: NutrientData): NutrientData {\r\n    const supplementedBaseData = supplementCategory(selectedNutrientData.baseData, complementeNutrientData.baseData)\r\n    const supplementedVitaminData = supplementCategory(selectedNutrientData.vitaminData, complementeNutrientData.vitaminData)\r\n    const supplementedMineralData = supplementCategory(selectedNutrientData.mineralData, complementeNutrientData.mineralData)\r\n    const supplementedCarbsData = supplementCategory(selectedNutrientData.carbohydrateData, complementeNutrientData.carbohydrateData)\r\n    const supplementedProteinData = supplementCategory(selectedNutrientData.proteinData, complementeNutrientData.proteinData)\r\n\r\n    const supplementedOmegaData = supplementCategory(selectedNutrientData.lipidData.omegaData, complementeNutrientData.lipidData.omegaData)\r\n    let supplementedLipidData = supplementCategory(selectedNutrientData.lipidData, complementeNutrientData.lipidData)\r\n    supplementedLipidData.omegaData = supplementedOmegaData\r\n\r\n    return {\r\n        source: selectedNutrientData.source,\r\n        sourceItemId: selectedNutrientData.sourceItemId,\r\n        baseData: supplementedBaseData,\r\n        vitaminData: supplementedVitaminData,\r\n        mineralData: supplementedMineralData,\r\n        carbohydrateData: supplementedCarbsData,\r\n        proteinData: supplementedProteinData,\r\n        lipidData: supplementedLipidData\r\n    }\r\n}\r\n\r\n\r\nfunction supplementCategory(nutrientCategory1: any, nutrientCategory2: any): any {\r\n    if(!nutrientCategory2) {\r\n        return nutrientCategory1\r\n    }\r\n\r\n    const keysComplement = Object.keys(nutrientCategory2)\r\n    keysComplement.forEach(key => {\r\n        if(nutrientCategory1[key] === null) {\r\n            const objectHasChildren = nutrientCategory2[key] && Object.keys(nutrientCategory2[key]).length > 0\r\n            // Add value from source 2 to source 1 if it is not a sub-object (like Omega object on Lipids object):\r\n            if(nutrientCategory2[key] !== null && !objectHasChildren) {\r\n                nutrientCategory1[key] = nutrientCategory2[key]\r\n            }\r\n        }\r\n    })\r\n\r\n    return nutrientCategory1\r\n}\r\n\r\n\r\nexport function combineNutrientData(selectedNutrientData: NutrientData, complementeNutrientData: NutrientData): NutrientData {\r\n    const combinedBaseData = combineCategory(selectedNutrientData.baseData, complementeNutrientData.baseData)\r\n    const combinedVitaminData = combineCategory(selectedNutrientData.vitaminData, complementeNutrientData.vitaminData)\r\n    const combinedMineralData = combineCategory(selectedNutrientData.mineralData, complementeNutrientData.mineralData)\r\n    const combinedCarbsData = combineCategory(selectedNutrientData.carbohydrateData, complementeNutrientData.carbohydrateData)\r\n    const combinedProteinData = combineCategory(selectedNutrientData.proteinData, complementeNutrientData.proteinData)\r\n\r\n    const combinedOmegaData = combineCategory(selectedNutrientData.lipidData.omegaData, complementeNutrientData.lipidData.omegaData)\r\n    let combinedLipidData = combineCategory(selectedNutrientData.lipidData, complementeNutrientData.lipidData)\r\n    combinedLipidData.omegaData = combinedOmegaData\r\n\r\n    return {\r\n        source: selectedNutrientData.source,\r\n        sourceItemId: selectedNutrientData.sourceItemId,\r\n        baseData: combinedBaseData,\r\n        vitaminData: combinedVitaminData,\r\n        mineralData: combinedMineralData,\r\n        carbohydrateData: combinedCarbsData,\r\n        proteinData: combinedProteinData,\r\n        lipidData: combinedLipidData\r\n    }\r\n}\r\n\r\n\r\nfunction combineCategory(nutrientCategory1: any, nutrientCategory2: any): any {\r\n    if(!nutrientCategory1 && nutrientCategory2) {\r\n        return nutrientCategory2\r\n    } else if(nutrientCategory1 && !nutrientCategory2) {\r\n        return nutrientCategory1\r\n    } else if(!nutrientCategory1 && !nutrientCategory2) {\r\n        return null\r\n    }\r\n\r\n    const keys1: Array<string> = Object.keys(nutrientCategory1)\r\n    const keys2: Array<string> = Object.keys(nutrientCategory2)\r\n\r\n    // @ts-ignore\r\n    const allKeys = [...new Set<string>([...keys1, ...keys2])]\r\n    let finalObject = {}\r\n\r\n    allKeys.forEach(key => {\r\n        const value1 = nutrientCategory1[key] !== null\r\n            ? nutrientCategory1[key]\r\n            : null\r\n\r\n        const value2 = nutrientCategory2[key] !== null\r\n            ? nutrientCategory2[key]\r\n            : null\r\n\r\n        let finalValue\r\n\r\n        if(value1 !== null && value2 === null) {\r\n            finalValue = value1\r\n        } else if(value1 === null && value2 !== null) {\r\n            finalValue = value2\r\n        } else if(value1 === null && value2 === null) {\r\n            finalValue = null\r\n        }else {\r\n            finalValue = (value1 + value2) * 0.5\r\n        }\r\n\r\n        finalObject[key] = finalValue\r\n    })\r\n\r\n    return finalObject\r\n}\r\n","const fontsize = \"calc(0.5rem + 0.3vw)\"\r\nconst selectHeight = \"calc(0.5rem + 0.3vw)*2.2\"\r\n\r\nexport const customSelectStyles = {\r\n    control: base => ({\r\n        ...base,\r\n        height: selectHeight,\r\n        minHeight: selectHeight,\r\n        fontSize: fontsize,\r\n    }),\r\n    valueContainer: (provided, state) => ({\r\n        ...provided,\r\n        height: selectHeight,\r\n        minHeight: selectHeight,\r\n        padding: '0 2px',\r\n        fontsize: fontsize\r\n    }),\r\n    dropdownIndicator: (styles) => ({\r\n        ...styles,\r\n        paddingTop: \"2px\",\r\n        paddingBottom: \"2px\",\r\n    }),\r\n    clearIndicator: (styles) => ({\r\n        ...styles,\r\n        height: selectHeight,\r\n        minHeight: selectHeight,\r\n        paddingTop: \"2px\",\r\n        paddingBottom: \"2px\",\r\n    }),\r\n};\r\n\r\n\r\nexport function getCustomSelectStyle(backgroundColor: string): any {\r\n    return {\r\n        ...customSelectStyles,\r\n        control: base => ({\r\n            ...base,\r\n            height: selectHeight,\r\n            minHeight: selectHeight,\r\n            fontSize: fontsize,\r\n            backgroundColor: backgroundColor\r\n        }),\r\n    }\r\n}\r\n\r\n\r\nexport const correspondingSelectElementStyle = {\r\n    height: selectHeight,\r\n    fontSize: fontsize\r\n}\r\n\r\nexport const COLOR_SELECTOR_CATEGORY = \" #fdebd0\"\r\nexport const COLOR_SELECTOR_FOODCLASS = \" #85c1e9\"\r\nexport const COLOR_SELECTOR_FOODITEM = \"#ebf5fb\"","import React, {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport Select from 'react-select';\r\nimport ReactSelectOption, {\r\n    ReactSelectFoodClassOption,\r\n    ReactSelectFoodItemOption,\r\n    ReactSelectPortionOption\r\n} from \"../../types/ReactSelectOption\";\r\nimport {getCategorySelectList} from \"../../service/nutrientdata/CategoryService\";\r\nimport {foodClassLabelSeparator, getFoodClassSelectList} from \"../../service/nutrientdata/FoodClassService\";\r\nimport {getFoodItemsSelectList} from \"../../service/nutrientdata/FoodItemsService\";\r\nimport FoodItem, {PortionData} from \"../../types/nutrientdata/FoodItem\";\r\nimport {getDefaultPortionData, getPortionReactSelectList} from \"../../service/nutrientdata/PortionDataService\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport FoodClass from \"../../types/nutrientdata/FoodClass\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {isMobileDevice, isSmallScreen, useWindowDimension} from \"../../service/WindowDimension\";\r\nimport {SOURCE_FNDDS, SOURCE_SRLEGACY} from \"../../config/Constants\";\r\nimport {getSourceName} from \"../../service/nutrientdata/NutrientDataRetriever\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport {Form} from \"react-bootstrap\";\r\nimport {\r\n    COLOR_SELECTOR_CATEGORY,\r\n    COLOR_SELECTOR_FOODCLASS, COLOR_SELECTOR_FOODITEM,\r\n    correspondingSelectElementStyle,\r\n    customSelectStyles,\r\n    getCustomSelectStyle\r\n} from \"../../config/UI_Config\";\r\n\r\nexport interface FoodSelectorProps {\r\n    updateSelectedFoodItem: (selectedFoodItem: SelectedFoodItem) => void\r\n    updateFoodSelectorConfig: (selectedCategory: ReactSelectOption | null, supplementData: boolean, combineData: boolean) => void\r\n    updateCompositeTitle?: (compositeTitle: string) => void\r\n    compositeSelector: boolean\r\n    directCompareSelector?: boolean\r\n    initialFoodClassToSet?: number\r\n    selectedFoodItem?: SelectedFoodItem | null\r\n    defaultFoodClass?: number\r\n    directCompareSelectorNumber?: number\r\n}\r\n\r\n/**\r\n * Component to select a food element. The component can optionally show the category list and can be initialized\r\n * with an already existing selected food item (in case of component re-rendering).\r\n */\r\nexport default function FoodSelector(props: FoodSelectorProps): JSX.Element {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const {language} = useContext(LanguageContext)\r\n\r\n    const initialCategory = applicationContext?.applicationData.foodSelector.selectedCategory\r\n        ? applicationContext.applicationData.foodSelector.selectedCategory\r\n        : null\r\n\r\n    const foodSelectorConfig = applicationContext?.applicationData.foodSelector\r\n    const directCompareSelectorConfig1 = applicationContext?.applicationData.directCompareDataPanel.foodSelector1\r\n    const directCompareSelectorConfig2 = applicationContext?.applicationData.directCompareDataPanel.foodSelector2\r\n\r\n    const initialSupplementValue = props.directCompareSelectorNumber === undefined\r\n        ? foodSelectorConfig?.sourceSupplement || false\r\n        : props.directCompareSelectorNumber === 1\r\n            ? directCompareSelectorConfig1?.sourceSupplement || false\r\n            : directCompareSelectorConfig2?.sourceSupplement || false\r\n\r\n    const initialCombineValue = props.directCompareSelectorNumber === undefined\r\n        ? foodSelectorConfig?.sourceCombine || false\r\n        : props.directCompareSelectorNumber === 1\r\n            ? directCompareSelectorConfig1?.sourceCombine || false\r\n            : directCompareSelectorConfig2?.sourceCombine || false\r\n\r\n    const [selectedCategory, setSelectedCategory] = useState<ReactSelectOption | null>(initialCategory)\r\n    const [selectdFoodClass, setSelectedFoodClass] = useState<ReactSelectFoodClassOption | null>(null)\r\n    const [selectedFoodItem, setSelectedFoodItem] = useState<ReactSelectFoodItemOption | null>(null)\r\n    const [selectedPortion, setSelectedPortion] = useState<ReactSelectPortionOption | null>(null)\r\n    const [portionAmount, setPortionAmount] = useState<number>(0)\r\n    const [title, setTitle] = useState<string>(applicationStrings.input_compositelist_title[language])\r\n    const [selectedSource, setSelectedSource] = useState<ReactSelectOption | null>(null)\r\n    const [supplementData, setSupplementData] = useState<boolean>(initialSupplementValue)\r\n    const [combineData, setCombineData] = useState<boolean>(initialCombineValue)\r\n    const [initialized, setInitialized] = useState<boolean>(false)\r\n\r\n    const [categoriesList, setCategoriesList] = useState<Array<ReactSelectOption>>([])\r\n    const [foodClassesList, setFoodClassesList] = useState<Array<ReactSelectFoodClassOption>>([])\r\n    const [foodClassesTypeaheadList, setFoodClassesTypeaheadList] = useState<Array<ReactSelectFoodClassOption>>([])\r\n\r\n    const [foodItemsList, setFoodItemsList] = useState<Array<ReactSelectFoodItemOption>>([])\r\n    const [portionsList, setPortionsList] = useState<Array<ReactSelectPortionOption>>([])\r\n    const [sourcesList, setSourcesList] = useState<Array<ReactSelectOption>>([])\r\n\r\n    const windowSize = useWindowDimension()\r\n\r\n    const getInitialFoodClassNumber = (foodClassOptions: ReactSelectFoodClassOption[]): number => {\r\n        if (props.initialFoodClassToSet !== undefined && props.initialFoodClassToSet !== null) {\r\n            return props.initialFoodClassToSet\r\n        }\r\n\r\n        if (props.defaultFoodClass !== undefined) {\r\n            const index = foodClassOptions.findIndex(foodClassOption => foodClassOption.value.id === props.defaultFoodClass)\r\n            if (index !== -1) {\r\n                return index\r\n            }\r\n        }\r\n\r\n        return 0   // Use the first food class in the list if no other parameter indicates the food class to select\r\n    }\r\n\r\n    useEffect(() => {\r\n            if (applicationContext && applicationContext.foodDataCorpus && categoriesList.length === 0) {\r\n                const foodDataCorpus = applicationContext.foodDataCorpus\r\n\r\n                if (foodDataCorpus.categories) {\r\n                    const categoryItems = getCategorySelectList(foodDataCorpus.categories, language)\r\n                    setCategoriesList(categoryItems)\r\n                }\r\n\r\n                if (foodDataCorpus.foodClasses) {\r\n                    const category = selectedCategory ? selectedCategory.value : 0\r\n                    const foodClasses = getFoodClassSelectList(foodDataCorpus, category, applicationContext.foodDataCorpus.foodNames, language)\r\n                    setFoodClassesList(foodClasses)\r\n                    setFoodClassesTypeaheadList(foodClasses)  // Initially, the typeahead-list is identical with the food classes list\r\n\r\n                    const initialFoodClass = getInitialFoodClassNumber(foodClasses)\r\n                    const foodClass = foodClasses[initialFoodClass]\r\n                    setSelectedFoodClass(foodClass)\r\n\r\n                    if (foodDataCorpus.foodItems && foodClasses) {\r\n                        const foodItemsOfFoodClass = getFoodItemsSelectList(\r\n                            foodDataCorpus.foodItems,\r\n                            foodClasses[initialFoodClass].value.id,\r\n                            foodDataCorpus.foodNames,\r\n                            foodDataCorpus.conditions, language\r\n                        )\r\n\r\n                        setFoodItemsList(foodItemsOfFoodClass)\r\n                        setSelectedFoodItem(foodItemsOfFoodClass[0])\r\n                        const foodItem = foodItemsOfFoodClass[0].value\r\n\r\n                        if (foodItem && foodItem.portionData) {\r\n                            const portionDataList = getPortionReactSelectList(foodItem.portionData, foodDataCorpus.portionTypes, language)\r\n                            setPortionsList(portionDataList)\r\n\r\n                            updateSourcesList(foodItem)\r\n\r\n                            const defaultPortion = getDefaultPortionData(foodItem, portionDataList)\r\n                            setSelectedPortion(defaultPortion)\r\n                            setPortionAmount(defaultPortion.value.amount)\r\n\r\n                            if (!props.selectedFoodItem) {\r\n                                makeSelectedFoodItemObject(foodItem, foodClass.value, defaultPortion.value)\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                // Update data for outer component whenever render is triggered\r\n                if (selectedFoodItem && selectdFoodClass && selectedPortion) {\r\n                    const newFoodItem = makeSelectedFoodItemObject(selectedFoodItem.value, selectdFoodClass.value, selectedPortion.value)\r\n                    if (newFoodItem) {\r\n                        props.updateSelectedFoodItem(newFoodItem)\r\n                        props.updateFoodSelectorConfig(selectedCategory, supplementData, combineData)\r\n                    }\r\n                } else if (props.selectedFoodItem) {\r\n                    const {foodItem, foodClass, portion} = props.selectedFoodItem\r\n                    makeSelectedFoodItemObject(foodItem, foodClass, portion)\r\n                }\r\n            }\r\n\r\n        }, [selectedFoodItem,\r\n            selectedPortion,\r\n            selectdFoodClass,\r\n            selectedCategory,\r\n            selectedSource,\r\n            portionAmount,\r\n            title,\r\n            supplementData,\r\n            combineData\r\n        ]\r\n    )\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const handleCategoryChange = (category: ReactSelectOption) => {\r\n        setSelectedCategory(category)\r\n        updateFoodClasses(category)\r\n    }\r\n\r\n    const handleFoodClassChange = (foodClass: ReactSelectFoodClassOption) => {\r\n        setSelectedFoodClass(foodClass)\r\n        updateFoodItem(foodClass)\r\n        resetTypeaheadFilter()\r\n    }\r\n\r\n    const resetTypeaheadFilter = () => {\r\n        setFoodClassesTypeaheadList(foodClassesList)\r\n    }\r\n\r\n    const handleFoodItemChange = (foodItem: ReactSelectFoodItemOption) => {\r\n        setSelectedFoodItem(foodItem)\r\n        updatePortionsList(foodItem.value)\r\n        updateSourcesList(foodItem.value)\r\n    }\r\n\r\n    const handlePortionChange = (portion: ReactSelectPortionOption) => {\r\n        setSelectedPortion(portion)\r\n        setPortionAmount(portion.value.amount)\r\n    }\r\n\r\n    const handleTitleChange = (event) => {\r\n        setTitle((event.target.value))\r\n        if(props.updateCompositeTitle !== undefined) {\r\n            props.updateCompositeTitle(event.target.value)\r\n        }\r\n    }\r\n\r\n    const handleSourceChange = (source: ReactSelectOption) => {\r\n        setSelectedSource(source)\r\n    }\r\n\r\n    const handlePortionAmountChange = (e) => {\r\n        if (!e.target.value) {\r\n            setPortionAmount(0)\r\n            return\r\n        }\r\n\r\n        const amount = parseInt(e.target.value)\r\n\r\n        if (!isNaN(amount)) {\r\n            setPortionAmount(amount)\r\n        }\r\n    }\r\n\r\n    const updateFoodClasses = (category: ReactSelectOption) => {\r\n        const foodDataCorpus = applicationContext.foodDataCorpus\r\n\r\n        if (foodDataCorpus) {\r\n            const foodClassItems = getFoodClassSelectList(foodDataCorpus, category.value, applicationContext.foodDataCorpus.foodNames, language)\r\n            setFoodClassesList(foodClassItems)\r\n            setFoodClassesTypeaheadList(foodClassItems)\r\n            setSelectedFoodClass(foodClassItems[0])\r\n            updateFoodItem(foodClassItems[0])\r\n        }\r\n    }\r\n\r\n    const updateFoodItem = (foodClass: ReactSelectFoodClassOption) => {\r\n        const {foodItems, foodNames, conditions} = applicationContext.foodDataCorpus\r\n\r\n        if (foodItems) {\r\n            const foodClassItems = getFoodItemsSelectList(foodItems, foodClass.value.id, foodNames, conditions, language)\r\n            setFoodItemsList(foodClassItems)\r\n            setSelectedFoodItem(foodClassItems[0])\r\n\r\n            const foodItem = foodClassItems[0].value\r\n            if (foodItem) {\r\n                updatePortionsList(foodItem)\r\n                updateSourcesList(foodItem)\r\n            }\r\n        }\r\n    }\r\n\r\n    const updatePortionsList = (foodItem: FoodItem) => {\r\n        const portionDataList = getPortionReactSelectList(foodItem.portionData!!, applicationContext.foodDataCorpus.portionTypes, language)\r\n        setPortionsList(portionDataList)\r\n        const defaultPortion = getDefaultPortionData(foodItem, portionDataList)\r\n        setSelectedPortion(defaultPortion)\r\n        setPortionAmount(defaultPortion.value.amount)\r\n    }\r\n\r\n\r\n    const updateSourcesList = (foodItem: FoodItem) => {\r\n        const sourceNames = getSourceNames(foodItem)\r\n        setSourcesList(sourceNames)\r\n\r\n        if (sourceNames.length === 1) {\r\n            setSelectedSource(sourceNames[0])\r\n        } else {\r\n            const preferredSource = applicationContext.applicationData.preferredSource\r\n            const matchingSource = sourceNames.find(sourceObject => {\r\n                if (sourceObject.value === 0 && preferredSource === SOURCE_SRLEGACY) {\r\n                    return sourceObject\r\n                } else if (sourceObject.value === 1 && preferredSource === SOURCE_FNDDS) {\r\n                    return sourceObject\r\n                } else {\r\n                    return null\r\n                }\r\n            })\r\n            if (matchingSource) {\r\n                setSelectedSource(matchingSource)\r\n            } else {\r\n                setSelectedSource(sourceNames[0])\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    const getSourceNames = (foodItem: FoodItem) => {\r\n        return foodItem.nutrientDataList.map(nutrientDataObject => {\r\n            const SourceName = getSourceName(nutrientDataObject.source.id)\r\n            return {label: SourceName, value: nutrientDataObject.source.id}\r\n        })\r\n    }\r\n\r\n\r\n    const makeSelectedFoodItemObject = (foodItem: FoodItem | undefined, foodClass: FoodClass | undefined,\r\n            portion: PortionData | undefined): SelectedFoodItem | null => {\r\n        if (!foodItem || !foodClass || !portion) {\r\n            return null\r\n        }\r\n\r\n        if (portion.portionType === 0) {\r\n            portion.amount = portionAmount\r\n        }\r\n\r\n        return {\r\n            foodItem: foodItem,\r\n            foodClass: foodClass,\r\n            portion: {...portion},\r\n            selectedSource: selectedSource ? selectedSource.value : foodItem.nutrientDataList[0].source.id,\r\n            supplementData: supplementData,\r\n            combineData: combineData\r\n        }\r\n    }\r\n\r\n    const setInitialFoodElement = () => {\r\n        if (!foodClassesList || foodClassesList.length === 0) {\r\n            return\r\n        }\r\n\r\n        if (!props.selectedFoodItem || !props.selectedFoodItem.foodClass) {\r\n            return\r\n        }\r\n\r\n        const predefinedFoodObject = props.selectedFoodItem\r\n\r\n        // @ts-ignore\r\n        const foodClassOption = foodClassesList.find(foodClass => foodClass.value.id === predefinedFoodObject.foodClass.id)\r\n        const {foodItems, foodNames, conditions, portionTypes} = applicationContext.foodDataCorpus\r\n\r\n        if (foodClassOption) {\r\n            setSelectedFoodClass(foodClassOption)\r\n            const foodClassItems = getFoodItemsSelectList(foodItems, foodClassOption.value.id, foodNames, conditions, language)\r\n\r\n            if (foodClassItems) {\r\n                setFoodItemsList(foodClassItems)\r\n                const foodItem = foodClassItems.find(foodItem => foodItem.value.id === predefinedFoodObject.foodItem.id)\r\n\r\n                if (foodItem && foodItem.value && foodItem.value.portionData) {\r\n                    setSelectedFoodItem(foodItem)\r\n\r\n                    const sourceNames = getSourceNames(foodItem.value)\r\n                    setSourcesList(sourceNames)\r\n                    const selected = sourceNames.find(sourceElement => sourceElement.value === props.selectedFoodItem?.selectedSource)\r\n                    if (selected) {\r\n                        setSelectedSource(selected)\r\n                    }\r\n\r\n                    const portionDataList = getPortionReactSelectList(foodItem.value.portionData, portionTypes, language)\r\n                    setPortionsList(portionDataList)\r\n\r\n                    const portionType = predefinedFoodObject.portion.portionType\r\n                    const portionObject = portionDataList.find(portion => portion.value.portionType === portionType)\r\n                    if (portionObject) {\r\n                        setSelectedPortion(portionObject)\r\n\r\n                        //@ts-ignore\r\n                        const amount = predefinedFoodObject.portion.amount\r\n                        setPortionAmount(amount)\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        setInitialized(true)\r\n    }\r\n\r\n    const onCheckSupplementCheckbox = () => {\r\n        setSupplementData(!supplementData)\r\n    }\r\n\r\n    const onCheckCombineCheckbox = () => {\r\n        setCombineData(!combineData)\r\n    }\r\n\r\n    /**\r\n     * Manually creates a sorted typeahead list which will favor food classes starting with the search term\r\n     * against food classes not starting (but including) the search term. Also, the food class is favored\r\n     * against the food items of it, which may also include the search term (like \"Cheese\" is shown if \"Gouda\"\r\n     * is entered).\r\n     * @param value The value entered in the select input field\r\n     * @param action The event action\r\n     */\r\n    const handleFoodClassInputChange = (value, { action }) => {\r\n        if (action === 'input-change') {\r\n            if(value.trim().length === 0) {\r\n                setFoodClassesTypeaheadList(foodClassesList)\r\n                return\r\n            }\r\n\r\n            let resultList: ReactSelectFoodClassOption[] = []\r\n            let dictionary: string[] = []\r\n\r\n            value = value.toLowerCase().trim()\r\n\r\n            // Find add all food class elements to the typeahead list that start with the search term\r\n            foodClassesList.forEach(entry => {\r\n                let label = entry.label.toLowerCase()\r\n                if(label.includes(foodClassLabelSeparator)) {\r\n                    label = label.substring(0, label.indexOf(foodClassLabelSeparator)).trim()\r\n                }\r\n                if(label.startsWith(value)) {\r\n                    resultList.push(entry)\r\n                    dictionary.push(entry.label)\r\n                }\r\n            })\r\n\r\n            // Now add all food class elements to the typeahead list that match the search term (yet do not start with it)\r\n            foodClassesList.forEach(entry => {\r\n                let label = entry.label.toLowerCase()\r\n                if(label.includes(foodClassLabelSeparator)) {\r\n                    label = label.substring(0, label.indexOf(foodClassLabelSeparator)).trim()\r\n                }\r\n                if(label.includes(value) && !label.startsWith(value)) {\r\n                    resultList.push(entry)\r\n                    dictionary.push(entry.label)\r\n                }\r\n            })\r\n\r\n            // Finally add all labels (class or items) that contain the search term\r\n            foodClassesList.forEach(entry => {\r\n                const label = entry.label.toLowerCase()\r\n                if(label.includes(value) && !dictionary.includes(entry.label)) {\r\n                    resultList.push(entry)\r\n                }\r\n            })\r\n\r\n            setFoodClassesTypeaheadList(resultList)\r\n        }\r\n    }\r\n\r\n    if (props.selectedFoodItem && !initialized) {\r\n        setInitialFoodElement()\r\n    }\r\n\r\n    const renderSourceLine = () => {\r\n        const sourceSelectBox = (\r\n            <Select className={selectClass}\r\n                    options={sourcesList}\r\n                    isDisabled={sourcesList.length <= 1 || combineData}\r\n                    value={selectedSource ? selectedSource : sourcesList[0]}\r\n                    onChange={handleSourceChange}\r\n                    styles={customSelectStyles}\r\n            />\r\n        )\r\n\r\n        const x = props.directCompareSelector ? \"a\" : \"b\"\r\n\r\n        const checkboxes = (\r\n            <div>\r\n                <label className=\"form-elements\"\r\n                       data-for={\"selector-supplement\"}\r\n                       data-tip={applicationStrings.label_source_supplement_tooltip[language]}>\r\n                    <ReactTooltip/>\r\n                    <Form.Check inline className=\"form-radiobutton\"\r\n                                label={applicationStrings.label_source_supplement[language]}\r\n                                checked={supplementData}\r\n                                disabled={sourcesList.length <= 1}\r\n                                onClick={onCheckSupplementCheckbox}>\r\n                    </Form.Check>\r\n                    <ReactTooltip id={\"selector-supplement\"}/>\r\n                </label>\r\n                <label className=\"form-elements\"\r\n                       data-for={\"selector-combine\"}\r\n                       data-tip={applicationStrings.label_source_combine_tooltip[language]}>\r\n                    <ReactTooltip id={\"selector-combine\"}/>\r\n                    <Form.Check className=\"form-radiobutton\"\r\n                                style={{minHeight: \"1rem\"}}\r\n                                label={applicationStrings.label_source_combine[language]}\r\n                                checked={combineData}\r\n                                disabled={sourcesList.length <= 1}\r\n                                onClick={onCheckCombineCheckbox}>\r\n                    </Form.Check>\r\n                </label>\r\n            </div>\r\n        )\r\n\r\n        if(props.directCompareSelector && !isMobileDevice()) {  // Direct Compare Selector uses column layout for Checkboxes/Source box\r\n            return <div>\r\n                <span className={'form-label'}>{applicationStrings.label_source[language]}:</span>\r\n                <div className={\"d-flex row\"}>\r\n                    <div className=\"col-4 column select-menu form-section\">\r\n                        {sourceSelectBox}\r\n                    </div>\r\n                    <div className={\"col-8\"}>\r\n                        {checkboxes}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        } else {\r\n            return <div>\r\n                <span className={'form-label'}>{applicationStrings.label_source[language]}:</span>\r\n                <div className=\"select-menu form-section\">\r\n                    {sourceSelectBox}\r\n                </div>\r\n                <div>\r\n                    {checkboxes}\r\n                </div>\r\n            </div>\r\n        }\r\n    }\r\n\r\n\r\n    const amount_label = props.compositeSelector\r\n        ? `${applicationStrings.label_amount_short[language]}:`\r\n        : `${applicationStrings.label_amount[language]}:`\r\n    const initialFoodClass = getInitialFoodClassNumber(foodClassesList)\r\n\r\n    const selectClass = isSmallScreen(windowSize) ? \"form-control-sm\" : \"\"\r\n    const inputClass = isSmallScreen(windowSize) ? \"form-control form-control-sm\" : \"form-control\"\r\n\r\n    const formClass = props.compositeSelector ? \"form-section-small\" : \"form-section\"\r\n\r\n    // Remove hidden food class information in the label, which is only used to facilitate user search (e.g. find 'Cheese' for term 'Gouda')\r\n    const foodclassFormatter = (option) => {\r\n        const label = option.label\r\n\r\n        if(label.includes(\"||\")) {\r\n            const pos = label.indexOf(\"||\")\r\n            return label.substring(0, pos)\r\n        }\r\n        return label\r\n    }\r\n\r\n    const stylesCategory = !props.directCompareSelector ? getCustomSelectStyle(COLOR_SELECTOR_CATEGORY) : customSelectStyles\r\n    const stylesFoodClass = !props.directCompareSelector ? getCustomSelectStyle(COLOR_SELECTOR_FOODCLASS) : customSelectStyles\r\n    const stylesFoodItem = !props.directCompareSelector ? getCustomSelectStyle(COLOR_SELECTOR_FOODITEM) : customSelectStyles\r\n\r\n    return <div>\r\n        <div className=\"container\">\r\n            {props.compositeSelector === true &&\r\n            <div>\r\n                <span className={'form-label'}>{applicationStrings.label_title[language]}:</span>\r\n                <input className={inputClass}\r\n                       value={title}\r\n                       style={correspondingSelectElementStyle}\r\n                       onChange={handleTitleChange}\r\n                />\r\n            </div>\r\n            }\r\n            {props.directCompareSelector !== true &&\r\n            <div className={formClass}>\r\n                <span className={'form-label'}>{applicationStrings.label_category[language]}:</span>\r\n                <Select className={selectClass}\r\n                        options={categoriesList}\r\n                        value={selectedCategory ? selectedCategory : categoriesList[0]}\r\n                        onChange={(value) => handleCategoryChange(value)}\r\n                        styles={stylesCategory}\r\n                />\r\n            </div>\r\n            }\r\n            <div className={formClass}>\r\n                <span className={'form-label'}>{applicationStrings.label_foodclass[language]}:</span>\r\n                <Select className={selectClass}\r\n                        options={foodClassesTypeaheadList}\r\n                        onInputChange={handleFoodClassInputChange}\r\n                        formatOptionLabel={foodclassFormatter}\r\n                        value={selectdFoodClass ? selectdFoodClass : foodClassesList[initialFoodClass]}\r\n                        onChange={(value) => handleFoodClassChange(value)}\r\n                        onMenuClose ={() => resetTypeaheadFilter()}\r\n                        styles={stylesFoodClass}\r\n                />\r\n            </div>\r\n            <div className={formClass}>\r\n                <span className={'form-label'}>{applicationStrings.label_fooditem[language]}:</span>\r\n                <Select className={selectClass}\r\n                        options={foodItemsList}\r\n                        value={selectedFoodItem ? selectedFoodItem : foodItemsList[0]}\r\n                        onChange={handleFoodItemChange}\r\n                        styles={stylesFoodItem}\r\n                />\r\n            </div>\r\n            <div className={formClass}>\r\n                <div className={\"row\"}>\r\n                    <div className={\"col-8\"}>\r\n                        <span\r\n                            className={'form-label'}>{applicationStrings.label_portion[language]}:</span>\r\n                        <Select className={selectClass}\r\n                                options={portionsList}\r\n                                styles={customSelectStyles}\r\n                                value={selectedPortion ? selectedPortion : portionsList[0]}\r\n                                onChange={(value) => handlePortionChange(value)}/>\r\n                    </div>\r\n                    <div className={\"col-4\"}>\r\n                        <span\r\n                            className={'form-label'}>{amount_label}</span>\r\n                        <input className={inputClass}\r\n                               disabled={selectedPortion?.value.portionType !== 0}\r\n                               value={portionAmount}\r\n                               style={correspondingSelectElementStyle}\r\n                               onChange={handlePortionAmountChange}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {renderSourceLine()}\r\n        </div>\r\n    </div>\r\n\r\n}","import React, {useContext} from \"react\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {getNameFromFoodNameList} from \"../../service/nutrientdata/NameTypeService\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {Button} from \"react-bootstrap\";\r\nimport {FaTrash} from \"react-icons/fa\";\r\n\r\nexport interface CompositeFoodListProps {\r\n    selectedFoodItems: Array<SelectedFoodItem>\r\n    deleteItem: (index: number) => void\r\n}\r\n\r\nexport function CompositeFoodList(props: CompositeFoodListProps) {\r\n    const languageContext = useContext(LanguageContext)\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n\r\n    const onDeleteItem = (index: number) => {\r\n        props.deleteItem(index)\r\n    }\r\n\r\n    const renderLine = (selectedFoodItem: SelectedFoodItem, index: number) => {\r\n        if(applicationContext) {\r\n            const name = getNameFromFoodNameList(applicationContext.foodDataCorpus.foodNames, selectedFoodItem.foodItem.nameId!!, languageContext.language)\r\n\r\n            return <div className={\"row\"}\r\n                        key={`composite food list ${index}`}\r\n                        style={{borderBottom: \"1px solid #dddddd\", paddingTop: \"6px\"}}>\r\n                <div className={\"col-1\"}>\r\n                    <b>{index+1}.</b>\r\n                </div>\r\n                <div className={\"col-8\"}>\r\n                    {name}\r\n                    <br/>\r\n                    {selectedFoodItem.portion.amount} g\r\n                </div>\r\n                <div className={\"col-3\"}>\r\n                    <Button onClick={() => onDeleteItem(index)}>\r\n                        <FaTrash/>\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        }\r\n\r\n        return <div></div>\r\n    }\r\n\r\n    return <div className={\"container\"} style={{maxHeight: \"300px\", overflowY: \"auto\"}}>\r\n        {props.selectedFoodItems.map((selectedFoodItem, index) => renderLine(selectedFoodItem, index))}\r\n    </div>\r\n\r\n}","import SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport FoodItem, {\r\n    BaseData,\r\n    CarbohydrateData, CarotenoidData, ExtendedVitaminE,\r\n    LipidData,\r\n    MineralData,\r\n    NutrientData,\r\n    ProteinData,\r\n    VitaminData\r\n} from \"../../types/nutrientdata/FoodItem\";\r\nimport {getNutrientData} from \"../nutrientdata/NutrientDataRetriever\";\r\n\r\nexport default function combineFoodItems(compositeList: Array<SelectedFoodItem>, preferredSource): SelectedFoodItem {\r\n    let portionSize = 0;\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        portionSize += selectedFoodItem.portion.amount\r\n    })\r\n\r\n    const nutrientDataList = buildAggregatedNutrientDataList(compositeList, portionSize, preferredSource);\r\n    const id = new Date().getTime();\r\n\r\n    const aggreatedFoodItem: FoodItem = {\r\n        id: id,\r\n        nutrientDataList: nutrientDataList,\r\n        aggregated: true\r\n    }\r\n\r\n    let combinedFoodItem: SelectedFoodItem = {\r\n        id: id,\r\n        foodItem: aggreatedFoodItem,\r\n        portion: {\r\n            portionType: 999,\r\n            amount: portionSize\r\n        },\r\n        compositeSubElements: compositeList,\r\n        selectedSource: -1,\r\n        supplementData: true,\r\n        combineData: false\r\n    };\r\n\r\n    return combinedFoodItem;\r\n}\r\n\r\n\r\nfunction buildAggregatedNutrientDataList(compositeList: Array<SelectedFoodItem>, portionSize: number, preferredSource: string): Array<NutrientData> {\r\n    const baseData = buildBaseDataObject(compositeList, portionSize, preferredSource);\r\n    const vitaminData = buildVitaminDataObject(compositeList, portionSize, preferredSource);\r\n    const mineralData = buildMineralDataObject(compositeList, portionSize, preferredSource);\r\n    const carbohydrateData = buildCarbohydrateData(compositeList, portionSize, preferredSource);\r\n    const lipidData = buildLipidData(compositeList, portionSize, preferredSource);\r\n    const proteinData = buildProteinData(compositeList, portionSize, preferredSource);\r\n\r\n    let nutrientObject: NutrientData = {\r\n        sourceItemId: \"0\",\r\n        source: {id: 0, url: \"\", name: \"\"},\r\n        baseData: baseData,\r\n        vitaminData: vitaminData,\r\n        mineralData: mineralData,\r\n        carbohydrateData: carbohydrateData,\r\n        lipidData: lipidData,\r\n        proteinData: proteinData\r\n    }\r\n\r\n    nutrientObject = removeNutrientObjectsWithNullValues(nutrientObject, compositeList, preferredSource);\r\n\r\n    const nutrientDataList: Array<NutrientData> = [];\r\n    nutrientDataList.push(nutrientObject);\r\n\r\n    return nutrientDataList;\r\n}\r\n\r\n\r\n/**\r\n * Removes all nutrient data elements that do not exist in ALL of the food elements within the list.\r\n * @param nutrientObject\r\n * @param compositeList\r\n */\r\nfunction removeNutrientObjectsWithNullValues(nutrientObject: NutrientData, compositeList: Array<SelectedFoodItem>, preferredSource: string) {\r\n    if (!compositeList) {\r\n        return nutrientObject;\r\n    }\r\n\r\n    for (let i = 0; i < compositeList.length; i++) {\r\n        let selectedFoodItem = compositeList[i]\r\n        const nutrientData = getNutrientData(selectedFoodItem)\r\n        const threshold = 0.1;   // Defines the amount of base data which must exist to set a sub-value to null.\r\n\r\n        // Remove base data\r\n        if (nutrientData.baseData.carbohydrates >= threshold) {\r\n            if (nutrientData.baseData.dietaryFibers == null) {\r\n                nutrientObject.baseData.dietaryFibers = null;\r\n            }\r\n        }\r\n\r\n\r\n        // Lipid data\r\n        if (nutrientData.baseData.lipids >= threshold) {\r\n            if (!nutrientData.lipidData || nutrientData.lipidData.saturated == null) {\r\n                nutrientObject.lipidData.saturated = null;\r\n            }\r\n\r\n            if (!nutrientData.lipidData || nutrientData.lipidData.unsaturatedMono == null) {\r\n                nutrientObject.lipidData.unsaturatedMono = null;\r\n            }\r\n\r\n            if (!nutrientData.lipidData || nutrientData.lipidData.unsaturatedPoly == null) {\r\n                nutrientObject.lipidData.unsaturatedPoly = null;\r\n            }\r\n\r\n            if (!nutrientData.lipidData || nutrientData.lipidData.transFattyAcids == null) {\r\n                nutrientObject.lipidData.transFattyAcids = null;\r\n            }\r\n\r\n            if (!nutrientData.lipidData || nutrientData.lipidData.cholesterol == null) {\r\n                nutrientObject.lipidData.cholesterol = null;\r\n            }\r\n\r\n            if (!nutrientData.lipidData.omegaData &&\r\n                (nutrientData.lipidData && nutrientData.lipidData.unsaturatedPoly && nutrientData.lipidData.unsaturatedPoly > threshold)) {\r\n                nutrientObject.lipidData.omegaData = null;\r\n            }\r\n        }\r\n\r\n\r\n        // Carbohydrate data\r\n        if (nutrientData.baseData.carbohydrates >= threshold) {\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.sugar == null) {\r\n                nutrientObject.carbohydrateData.sugar = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.glucose == null) {\r\n                nutrientObject.carbohydrateData.glucose = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.fructose == null) {\r\n                nutrientObject.carbohydrateData.fructose = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.galactose == null) {\r\n                nutrientObject.carbohydrateData.galactose = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.sucrose == null) {\r\n                nutrientObject.carbohydrateData.sucrose = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.lactose == null) {\r\n                nutrientObject.carbohydrateData.lactose = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.maltose == null) {\r\n                nutrientObject.carbohydrateData.maltose = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.starch == null) {\r\n                nutrientObject.carbohydrateData.starch = null;\r\n            }\r\n        }\r\n\r\n\r\n        // Vitamins:\r\n        if (nutrientData.vitaminData.a === null) {\r\n            nutrientObject.vitaminData.a = null\r\n        }\r\n\r\n        if (nutrientData.vitaminData.b1 === null) {\r\n            nutrientObject.vitaminData.b1 = null\r\n        }\r\n\r\n        if (nutrientData.vitaminData.b2 === null) {\r\n            nutrientObject.vitaminData.b2 = null\r\n        }\r\n\r\n        if (nutrientData.vitaminData.b3 === null) {\r\n            nutrientObject.vitaminData.b3 = null\r\n        }\r\n\r\n        if (nutrientData.vitaminData.b5 === null) {\r\n            nutrientObject.vitaminData.b5 = null\r\n        }\r\n\r\n        if (nutrientData.vitaminData.b6 === null) {\r\n            nutrientObject.vitaminData.b6 = null\r\n        }\r\n\r\n        if (nutrientData.vitaminData.b7 === null) {\r\n            nutrientObject.vitaminData.b7 = null\r\n        }\r\n\r\n        if (nutrientData.vitaminData.b9 === null) {\r\n            nutrientObject.vitaminData.b9 = null\r\n        }\r\n\r\n        if (nutrientData.vitaminData.b12 === null) {\r\n            nutrientObject.vitaminData.b12 = null\r\n        }\r\n\r\n        if (nutrientData.vitaminData.c === null) {\r\n            nutrientObject.vitaminData.c = null\r\n        }\r\n\r\n        if (nutrientData.vitaminData.d === null) {\r\n            nutrientObject.vitaminData.d = null\r\n        }\r\n\r\n        if (nutrientData.vitaminData.e === null) {\r\n            nutrientObject.vitaminData.e = null\r\n        }\r\n\r\n        if (nutrientData.vitaminData.k === null) {\r\n            nutrientObject.vitaminData.k = null\r\n        }\r\n\r\n\r\n        // Minerals:\r\n        if (nutrientData.mineralData.calcium === null) {\r\n            nutrientObject.mineralData.calcium = null\r\n        }\r\n\r\n        if (nutrientData.mineralData.copper === null) {\r\n            nutrientObject.mineralData.copper = null\r\n        }\r\n\r\n        if (nutrientData.mineralData.iron === null) {\r\n            nutrientObject.mineralData.iron = null\r\n        }\r\n\r\n        if (nutrientData.mineralData.magnesium === null) {\r\n            nutrientObject.mineralData.magnesium = null\r\n        }\r\n\r\n        if (nutrientData.mineralData.manganese === null) {\r\n            nutrientObject.mineralData.manganese = null\r\n        }\r\n\r\n        if (nutrientData.mineralData.phosphorus === null) {\r\n            nutrientObject.mineralData.phosphorus = null\r\n        }\r\n\r\n        if (nutrientData.mineralData.potassium === null) {\r\n            nutrientObject.mineralData.potassium = null\r\n        }\r\n\r\n        if (nutrientData.mineralData.selenium === null) {\r\n            nutrientObject.mineralData.selenium = null\r\n        }\r\n\r\n        if (nutrientData.mineralData.sodium === null) {\r\n            nutrientObject.mineralData.sodium = null\r\n        }\r\n\r\n        if (nutrientData.mineralData.zinc === null) {\r\n            nutrientObject.mineralData.zinc = null\r\n        }\r\n\r\n\r\n        // Proteins:\r\n\r\n        if (nutrientData.proteinData.alanine === null) {\r\n            nutrientObject.proteinData.alanine = null\r\n        }\r\n\r\n        if (nutrientData.proteinData.arginine === null) {\r\n            nutrientObject.proteinData.arginine = null\r\n        }\r\n\r\n        if (nutrientData.proteinData.asparticAcid === null) {\r\n            nutrientObject.proteinData.asparticAcid = null\r\n        }\r\n\r\n        if (nutrientData.proteinData.cystine === null) {\r\n            nutrientObject.proteinData.cystine = null\r\n        }\r\n\r\n        if (nutrientData.proteinData.glutamicAcid === null) {\r\n            nutrientObject.proteinData.glutamicAcid = null\r\n        }\r\n\r\n        if (nutrientData.proteinData.glycine === null) {\r\n            nutrientObject.proteinData.glycine = null\r\n        }\r\n\r\n        if (nutrientData.proteinData.histidine === null) {\r\n            nutrientObject.proteinData.histidine = null\r\n        }\r\n\r\n        if (nutrientData.proteinData.isoleucine === null) {\r\n            nutrientObject.proteinData.isoleucine = null\r\n        }\r\n\r\n        if (nutrientData.proteinData.leucine === null) {\r\n            nutrientObject.proteinData.leucine = null\r\n        }\r\n\r\n        if (nutrientData.proteinData.lysine === null) {\r\n            nutrientObject.proteinData.lysine = null\r\n        }\r\n\r\n        if (nutrientData.proteinData.methionine === null) {\r\n            nutrientObject.proteinData.methionine = null\r\n        }\r\n\r\n        if (nutrientData.proteinData.phenylalanine === null) {\r\n            nutrientObject.proteinData.phenylalanine = null\r\n        }\r\n\r\n        if (nutrientData.proteinData.proline === null) {\r\n            nutrientObject.proteinData.proline = null\r\n        }\r\n\r\n        if (nutrientData.proteinData.serine === null) {\r\n            nutrientObject.proteinData.serine = null\r\n        }\r\n\r\n        if (nutrientData.proteinData.threonine === null) {\r\n            nutrientObject.proteinData.threonine = null\r\n        }\r\n\r\n        if (nutrientData.proteinData.tryptophan === null) {\r\n            nutrientObject.proteinData.tryptophan = null\r\n        }\r\n\r\n        if (nutrientData.proteinData.tyrosine === null) {\r\n            nutrientObject.proteinData.tyrosine = null\r\n        }\r\n\r\n        if (nutrientData.proteinData.valine === null) {\r\n            nutrientObject.proteinData.valine = null\r\n        }\r\n\r\n    }\r\n\r\n    return nutrientObject;\r\n}\r\n\r\n\r\nfunction buildBaseDataObject(compositeList: Array<SelectedFoodItem>, portionSize: number, preferredSource: string): BaseData {\r\n    let energy = 0;\r\n    let carbohydrates = 0;\r\n    let lipids = 0;\r\n    let proteins = 0;\r\n    let water = 0;\r\n    let dietaryFibers = 0;\r\n    let alcohol = 0;\r\n    let ash = 0;\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        const baseData = getNutrientData(selectedFoodItem).baseData;\r\n        const userSetPortion = selectedFoodItem.portion.amount;\r\n        const portionFactor = userSetPortion / 100;\r\n\r\n        energy += (baseData.energy ? baseData.energy : 0) * portionFactor;\r\n        carbohydrates += baseData.carbohydrates * portionFactor;\r\n        lipids += baseData.lipids * portionFactor;\r\n        proteins += baseData.proteins * portionFactor;\r\n        water += baseData.water * portionFactor;\r\n        dietaryFibers += (baseData.dietaryFibers ? baseData.dietaryFibers : 0) * portionFactor;\r\n        alcohol += (baseData.alcohol ? baseData.alcohol : 0) * portionFactor;\r\n        ash += (baseData.ash ? baseData.ash : 0) * portionFactor;\r\n    })\r\n\r\n    return {\r\n        energy: createFinalValue(energy, portionSize),\r\n        carbohydrates: createFinalValue(carbohydrates, portionSize),\r\n        lipids: createFinalValue(lipids, portionSize),\r\n        proteins: createFinalValue(proteins, portionSize),\r\n        water: createFinalValue(water, portionSize),\r\n        dietaryFibers: createFinalValue(dietaryFibers, portionSize),\r\n        alcohol: alcohol,\r\n        ash: ash\r\n    }\r\n\r\n}\r\n\r\n\r\nfunction buildVitaminDataObject(compositeList: Array<SelectedFoodItem>, portionSize: number, preferredSource: string): VitaminData {\r\n    let a = 0\r\n    let b1 = 0\r\n    let b2 = 0\r\n    let b3 = 0\r\n    let b5 = 0\r\n    let b6 = 0\r\n    let b7 = 0\r\n    let b9 = 0\r\n    let b12 = 0\r\n    let c = 0\r\n    let d = 0\r\n    let e = 0\r\n    let k = 0\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        const vitaminData = getNutrientData(selectedFoodItem).vitaminData\r\n        const userSetPortion = selectedFoodItem.portion.amount\r\n        const portionFactor = userSetPortion / 100\r\n\r\n        a += (vitaminData.a ? vitaminData.a : 0) * portionFactor\r\n        b1 += (vitaminData.b1 ? vitaminData.b1 : 0) * portionFactor\r\n        b2 += (vitaminData.b2 ? vitaminData.b2 : 0) * portionFactor\r\n        b3 += (vitaminData.b3 ? vitaminData.b3 : 0) * portionFactor\r\n        b5 += (vitaminData.b5 ? vitaminData.b5 : 0) * portionFactor\r\n        b6 += (vitaminData.b6 ? vitaminData.b6 : 0) * portionFactor\r\n        b7 += (vitaminData.b7 ? vitaminData.b7 : 0) * portionFactor\r\n        b9 += (vitaminData.b9 ? vitaminData.b9 : 0) * portionFactor\r\n        b12 += (vitaminData.b12 ? vitaminData.b12 : 0) * portionFactor\r\n        c += (vitaminData.c ? vitaminData.c : 0) * portionFactor\r\n        d += (vitaminData.d ? vitaminData.d : 0) * portionFactor\r\n        e += (vitaminData.e ? vitaminData.e : 0) * portionFactor\r\n        k += (vitaminData.k ? vitaminData.k : 0) * portionFactor\r\n    })\r\n\r\n    return {\r\n        a: createFinalValue(a, portionSize),\r\n        b1: createFinalValue(b1, portionSize),\r\n        b2: createFinalValue(b2, portionSize),\r\n        b3: createFinalValue(b3, portionSize),\r\n        b5: createFinalValue(b5, portionSize),\r\n        b6: createFinalValue(b6, portionSize),\r\n        b7: createFinalValue(b7, portionSize),\r\n        b9: createFinalValue(b9, portionSize),\r\n        b12: createFinalValue(b12, portionSize),\r\n        c: createFinalValue(c, portionSize),\r\n        d: createFinalValue(d, portionSize),\r\n        e: createFinalValue(e, portionSize),\r\n        k: createFinalValue(k, portionSize),\r\n        carotenoidData: buildCarotenoidDataObject(compositeList, portionSize, preferredSource),\r\n        extendedVitaminE: buildExtendedVitaminEObject(compositeList, portionSize, preferredSource)\r\n    }\r\n}\r\n\r\n\r\nfunction buildCarotenoidDataObject(compositeList: Array<SelectedFoodItem>, portionSize: number, preferredSource: string): CarotenoidData {\r\n    let alpha = 0\r\n    let beta = 0\r\n    let cryptoxanthin = 0\r\n    let lycopene = 0\r\n    let lutein = 0\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        const carotenoidData = getNutrientData(selectedFoodItem).vitaminData.carotenoidData\r\n        const userSetPortion = selectedFoodItem.portion.amount\r\n        const portionFactor = userSetPortion / 100\r\n\r\n        if (carotenoidData !== null) {\r\n            alpha += (carotenoidData.caroteneAlpha ? carotenoidData.caroteneAlpha : 0) * portionFactor\r\n            beta += (carotenoidData.caroteneBeta ? carotenoidData.caroteneBeta : 0) * portionFactor\r\n            cryptoxanthin += (carotenoidData.cryptoxanthin ? carotenoidData.cryptoxanthin : 0) * portionFactor\r\n            lycopene += (carotenoidData.lycopene ? carotenoidData.lycopene : 0) * portionFactor\r\n            lutein += (carotenoidData.lutein ? carotenoidData.lutein : 0) * portionFactor\r\n        }\r\n    })\r\n\r\n    return {\r\n        caroteneAlpha: createFinalValue(alpha, portionSize),\r\n        caroteneBeta: createFinalValue(beta, portionSize),\r\n        cryptoxanthin: createFinalValue(cryptoxanthin, portionSize),\r\n        lycopene: createFinalValue(lycopene, portionSize),\r\n        lutein: createFinalValue(lutein, portionSize)\r\n    }\r\n}\r\n\r\nfunction buildExtendedVitaminEObject(compositeList: Array<SelectedFoodItem>, portionSize: number, preferredSource: string): ExtendedVitaminE {\r\n    let tocopherolBeta = 0\r\n    let tocopherolGamma = 0\r\n    let tocopherolDelta = 0\r\n    let tocotrienolAlpha = 0\r\n    let tocotrienolBeta = 0\r\n    let tocotrienolGamma = 0\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        const extendedVitaminEData = getNutrientData(selectedFoodItem).vitaminData.extendedVitaminE\r\n        const userSetPortion = selectedFoodItem.portion.amount\r\n        const portionFactor = userSetPortion / 100\r\n\r\n        if (extendedVitaminEData !== null) {\r\n            tocopherolBeta += (extendedVitaminEData.tocopherolBeta ? extendedVitaminEData.tocopherolBeta : 0) * portionFactor\r\n            tocopherolGamma += (extendedVitaminEData.tocopherolGamma ? extendedVitaminEData.tocopherolGamma : 0) * portionFactor\r\n            tocopherolDelta += (extendedVitaminEData.tocopherolDelta ? extendedVitaminEData.tocopherolDelta : 0) * portionFactor\r\n            tocotrienolAlpha += (extendedVitaminEData.tocotrienolAlpha ? extendedVitaminEData.tocotrienolAlpha : 0) * portionFactor\r\n            tocotrienolBeta += (extendedVitaminEData.tocotrienolBeta ? extendedVitaminEData.tocotrienolBeta : 0) * portionFactor\r\n            tocotrienolGamma += (extendedVitaminEData.tocotrienolGamma ? extendedVitaminEData.tocotrienolGamma : 0) * portionFactor\r\n        }\r\n    })\r\n\r\n    return {\r\n        tocopherolBeta: createFinalValue(tocopherolBeta, portionSize),\r\n        tocopherolGamma: createFinalValue(tocopherolGamma, portionSize),\r\n        tocopherolDelta: createFinalValue(tocopherolDelta, portionSize),\r\n        tocotrienolAlpha: createFinalValue(tocotrienolAlpha, portionSize),\r\n        tocotrienolBeta: createFinalValue(tocotrienolBeta, portionSize),\r\n        tocotrienolGamma: createFinalValue(tocotrienolGamma, portionSize)\r\n    }\r\n}\r\n\r\n\r\nfunction buildMineralDataObject(compositeList: Array<SelectedFoodItem>, portionSize: number, preferredSource: string): MineralData {\r\n    let calcium = 0;\r\n    let iron = 0;\r\n    let magnesium = 0;\r\n    let phosphorus = 0;\r\n    let potassium = 0;\r\n    let sodium = 0;\r\n    let zinc = 0;\r\n    let copper = 0;\r\n    let manganese = 0;\r\n    let selenium = 0;\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        const mineralData = getNutrientData(selectedFoodItem).mineralData\r\n        const userSetPortion = selectedFoodItem.portion.amount\r\n        const portionFactor = userSetPortion / 100\r\n\r\n        calcium += (mineralData.calcium ? mineralData.calcium : 0) * portionFactor;\r\n        iron += (mineralData.iron ? mineralData.iron : 0) * portionFactor;\r\n        magnesium += (mineralData.magnesium ? mineralData.magnesium : 0)\r\n        phosphorus += (mineralData.phosphorus ? mineralData.phosphorus : 0)\r\n        potassium += (mineralData.potassium ? mineralData.potassium : 0)\r\n        sodium += (mineralData.sodium ? mineralData.sodium : 0)\r\n        zinc += (mineralData.zinc ? mineralData.zinc : 0)\r\n        copper += (mineralData.copper ? mineralData.copper : 0)\r\n        manganese += (mineralData.manganese ? mineralData.manganese : 0)\r\n        selenium += (mineralData.selenium ? mineralData.selenium : 0)\r\n    })\r\n\r\n    return {\r\n        calcium: createFinalValue(calcium, portionSize),\r\n        iron: createFinalValue(iron, portionSize),\r\n        magnesium: createFinalValue(magnesium, portionSize),\r\n        phosphorus: createFinalValue(phosphorus, portionSize),\r\n        potassium: createFinalValue(potassium, portionSize),\r\n        sodium: createFinalValue(sodium, portionSize),\r\n        zinc: createFinalValue(zinc, portionSize),\r\n        copper: createFinalValue(copper, portionSize),\r\n        manganese: createFinalValue(manganese, portionSize),\r\n        selenium: createFinalValue(selenium, portionSize),\r\n    }\r\n}\r\n\r\n\r\nfunction buildCarbohydrateData(compositeList: Array<SelectedFoodItem>, portionSize: number, preferredSource: string): CarbohydrateData {\r\n    let glucose = 0;\r\n    let fructose = 0;\r\n    let galactose = 0;\r\n    let sucrose = 0;\r\n    let maltose = 0;\r\n    let lactose = 0;\r\n    let starch = 0;\r\n    let sugar = 0;\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        const carbohydrateData = getNutrientData(selectedFoodItem).carbohydrateData\r\n        const userSetPortion = selectedFoodItem.portion.amount\r\n        const portionFactor = userSetPortion / 100\r\n\r\n        glucose += (carbohydrateData.glucose ? carbohydrateData.glucose : 0) * portionFactor;\r\n        fructose += (carbohydrateData.fructose ? carbohydrateData.fructose : 0) * portionFactor;\r\n        galactose += (carbohydrateData.galactose ? carbohydrateData.galactose : 0) * portionFactor;\r\n        sucrose += (carbohydrateData.sucrose ? carbohydrateData.sucrose : 0) * portionFactor;\r\n        maltose += (carbohydrateData.maltose ? carbohydrateData.maltose : 0) * portionFactor;\r\n        lactose += (carbohydrateData.lactose ? carbohydrateData.lactose : 0) * portionFactor;\r\n        starch += (carbohydrateData.starch ? carbohydrateData.starch : 0) * portionFactor;\r\n        sugar += (carbohydrateData.sugar ? carbohydrateData.sugar : 0) * portionFactor;\r\n    })\r\n\r\n    return {\r\n        glucose: createFinalValue(glucose, portionSize),\r\n        fructose: createFinalValue(fructose, portionSize),\r\n        galactose: createFinalValue(galactose, portionSize),\r\n        sucrose: createFinalValue(sucrose, portionSize),\r\n        maltose: createFinalValue(maltose, portionSize),\r\n        lactose: createFinalValue(lactose, portionSize),\r\n        starch: createFinalValue(starch, portionSize),\r\n        sugar: createFinalValue(sugar, portionSize),\r\n    }\r\n}\r\n\r\n\r\nfunction buildProteinData(compositeList: Array<SelectedFoodItem>, portionSize: number, preferredSource: string): ProteinData {\r\n    let tryptophan = 0;\r\n    let threonine = 0;\r\n    let isoleucine = 0;\r\n    let leucine = 0;\r\n    let lysine = 0;\r\n    let methionine = 0;\r\n    let cystine = 0;\r\n    let phenylalanine = 0;\r\n    let tyrosine = 0;\r\n    let valine = 0;\r\n    let arginine = 0;\r\n    let histidine = 0;\r\n    let alanine = 0;\r\n    let asparticAcid = 0;\r\n    let glutamicAcid = 0;\r\n    let glycine = 0;\r\n    let proline = 0;\r\n    let serine = 0;\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        const proteinData = getNutrientData(selectedFoodItem).proteinData\r\n        const userSetPortion = selectedFoodItem.portion.amount\r\n        const portionFactor = userSetPortion / 100\r\n\r\n        tryptophan += (proteinData.tryptophan ? proteinData.tryptophan : 0) * portionFactor;\r\n        threonine += (proteinData.threonine ? proteinData.threonine : 0) * portionFactor;\r\n        isoleucine += (proteinData.isoleucine ? proteinData.isoleucine : 0) * portionFactor;\r\n        leucine += (proteinData.leucine ? proteinData.leucine : 0) * portionFactor;\r\n        lysine += (proteinData.lysine ? proteinData.lysine : 0) * portionFactor;\r\n        methionine += (proteinData.methionine ? proteinData.methionine : 0) * portionFactor;\r\n        cystine += (proteinData.cystine ? proteinData.cystine : 0) * portionFactor;\r\n        phenylalanine += (proteinData.phenylalanine ? proteinData.phenylalanine : 0) * portionFactor;\r\n        tyrosine += (proteinData.tyrosine ? proteinData.tyrosine : 0) * portionFactor;\r\n        valine += (proteinData.valine ? proteinData.valine : 0) * portionFactor;\r\n        arginine += (proteinData.arginine ? proteinData.arginine : 0) * portionFactor;\r\n        histidine += (proteinData.histidine ? proteinData.histidine : 0) * portionFactor;\r\n        alanine += (proteinData.alanine ? proteinData.alanine : 0) * portionFactor;\r\n        asparticAcid += (proteinData.asparticAcid ? proteinData.asparticAcid : 0) * portionFactor;\r\n        glutamicAcid += (proteinData.glutamicAcid ? proteinData.glutamicAcid : 0) * portionFactor;\r\n        glycine += (proteinData.glycine ? proteinData.glycine : 0) * portionFactor;\r\n        proline += (proteinData.proline ? proteinData.proline : 0) * portionFactor;\r\n        serine += (proteinData.serine ? proteinData.serine : 0) * portionFactor;\r\n    })\r\n\r\n    return {\r\n        tryptophan: createFinalValue(tryptophan, portionSize),\r\n        threonine: createFinalValue(threonine, portionSize),\r\n        isoleucine: createFinalValue(isoleucine, portionSize),\r\n        leucine: createFinalValue(leucine, portionSize),\r\n        lysine: createFinalValue(lysine, portionSize),\r\n        methionine: createFinalValue(methionine, portionSize),\r\n        cystine: createFinalValue(cystine, portionSize),\r\n        phenylalanine: createFinalValue(phenylalanine, portionSize),\r\n        tyrosine: createFinalValue(tyrosine, portionSize),\r\n        valine: createFinalValue(valine, portionSize),\r\n        arginine: createFinalValue(arginine, portionSize),\r\n        histidine: createFinalValue(histidine, portionSize),\r\n        alanine: createFinalValue(alanine, portionSize),\r\n        asparticAcid: createFinalValue(asparticAcid, portionSize),\r\n        glutamicAcid: createFinalValue(glutamicAcid, portionSize),\r\n        glycine: createFinalValue(glycine, portionSize),\r\n        proline: createFinalValue(proline, portionSize),\r\n        serine: createFinalValue(serine, portionSize),\r\n    }\r\n\r\n}\r\n\r\n\r\nfunction buildLipidData(compositeList: Array<SelectedFoodItem>, portionSize: number, preferredSource: string): LipidData {\r\n    let unsaturatedMono = 0;\r\n    let unsaturatedPoly = 0;\r\n    let saturated = 0;\r\n    let omega3 = 0;\r\n    let omega6 = 0;\r\n    let omegaUncertain = 0;\r\n    let cholesterol = 0;\r\n    let transFattyAcids = 0;\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        const lipidData = getNutrientData(selectedFoodItem).lipidData\r\n        const userSetPortion = selectedFoodItem.portion.amount\r\n        const portionFactor = userSetPortion / 100\r\n\r\n        unsaturatedMono += (lipidData.unsaturatedMono ? lipidData.unsaturatedMono : 0) * portionFactor;\r\n        unsaturatedPoly += (lipidData.unsaturatedPoly ? lipidData.unsaturatedPoly : 0) * portionFactor;\r\n        saturated += (lipidData.saturated ? lipidData.saturated : 0) * portionFactor;\r\n        omega3 += (lipidData.omegaData?.omega3 ? lipidData.omegaData.omega3 : 0) * portionFactor;\r\n        omega6 += (lipidData.omegaData?.omega6 ? lipidData.omegaData.omega6 : 0) * portionFactor;\r\n        omegaUncertain += (lipidData.omegaData?.uncertain ? lipidData.omegaData.uncertain : 0) * portionFactor;\r\n        cholesterol += (lipidData.cholesterol ? lipidData.cholesterol : 0) * portionFactor;\r\n        transFattyAcids += (lipidData.transFattyAcids ? lipidData.transFattyAcids : 0) * portionFactor;\r\n    })\r\n\r\n    const omegaRatio = (omega3 + omega6) / (omega3 + omega6 + omegaUncertain)\r\n\r\n    return {\r\n        unsaturatedMono: createFinalValue(unsaturatedMono, portionSize),\r\n        unsaturatedPoly: createFinalValue(unsaturatedPoly, portionSize),\r\n        saturated: createFinalValue(saturated, portionSize),\r\n        omegaData: {\r\n            omega3: createFinalValue(omega3, portionSize),\r\n            omega6: createFinalValue(omega6, portionSize),\r\n            uncertain: createFinalValue(omegaUncertain, portionSize),\r\n            uncertainRatio: omegaRatio\r\n        },\r\n        cholesterol: createFinalValue(cholesterol, portionSize),\r\n        transFattyAcids: createFinalValue(transFattyAcids, portionSize),\r\n    }\r\n}\r\n\r\n\r\nfunction createFinalValue(value, totalPortionAmount) {\r\n    return (value / totalPortionAmount) * 100;\r\n}","import {ReactElement, useContext} from \"react\";\r\nimport {LanguageContext} from \"../contexts/LangContext\";\r\nimport {applicationStrings} from \"../static/labels\";\r\nimport {HelpText} from \"../service/HelpService\";\r\n\r\ninterface HelpModalProps {\r\n    helpText: HelpText\r\n    closeHelpModal: () => void\r\n}\r\n\r\nexport function HelpModal(props: HelpModalProps): ReactElement {\r\n    const languageContext = useContext(LanguageContext)\r\n\r\n    if (!props.helpText) {\r\n        return (<div>No data available.</div>);\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"modal\" style={{display: \"block\"}} role=\"dialog\">\r\n            <div className=\"modal-dialog\" role=\"document\">\r\n                <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                        <h5 className=\"modal-title\">{props.helpText.title}</h5>\r\n                        <button type=\"button\"\r\n                                className=\"btn-close\"\r\n                                data-dismiss=\"modal\"\r\n                                aria-label=\"Close\"\r\n                                onClick={props.closeHelpModal}>\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"modal-body\">\r\n                        <span dangerouslySetInnerHTML={{__html: props.helpText.content}}/>\r\n                    </div>\r\n                    <div className=\"modal-footer\">\r\n                        <button type=\"button\"\r\n                                className=\"btn btn-primary\"\r\n                                onClick={props.closeHelpModal}>\r\n                            {applicationStrings.button_close[languageContext.language]}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import {LANGUAGE_EN} from \"../config/Constants\";\r\n\r\nexport interface HelpText {\r\n    title: string,\r\n    content: string\r\n}\r\n\r\nexport function getHelpText(helpModalId: number, languageId: string): HelpText | null {\r\n    const helpFile = require(\"../static/help/help.json\");\r\n    const entry = helpFile.entries.find( (entry) => entry.id === helpModalId);\r\n\r\n    if(entry) {\r\n        const languageSection = languageId === LANGUAGE_EN ? entry.en : entry.de;\r\n        const title = languageSection.title;\r\n        const contentArray = languageSection.content;\r\n\r\n        let content = \"\";\r\n        for(let i=0; i < contentArray.length; i++) {\r\n            content += contentArray[i];\r\n            if(i < (contentArray.length-1)) {\r\n                content += \"<br />\"\r\n            }\r\n        }\r\n\r\n        return {\r\n            title: title,\r\n            content: content\r\n        };\r\n    }\r\n\r\n    return null\r\n}","import React, {useContext, useState} from 'react'\r\n\r\nimport {Button, Modal} from 'react-bootstrap'\r\n\r\nimport {NotificationManager} from 'react-notifications'\r\nimport 'react-notifications/lib/notifications.css';\r\n\r\nimport FoodSelector from \"./FoodSelector\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {CompositeFoodList} from \"./CompositeFoodList\";\r\nimport {initialFoodClassId, maximalPortionSize} from \"../../config/ApplicationSetting\";\r\nimport combineFoodItems from \"../../service/calculation/FoodDataAggregationService\";\r\nimport {FaQuestionCircle} from \"react-icons/fa\";\r\nimport {HelpModal} from \"../HelpModal\";\r\nimport {getHelpText} from \"../../service/HelpService\";\r\nimport ReactSelectOption from \"../../types/ReactSelectOption\";\r\n\r\nexport interface FoodSelectorModalProps {\r\n    onHide: () => void,\r\n    selectedFoodItemCallback: (selectedFoodItem: SelectedFoodItem) => void\r\n    compositeSelector: boolean\r\n}\r\n\r\n\r\nconst FoodSelectorModal: React.FC<FoodSelectorModalProps> = (props: FoodSelectorModalProps) => {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const {language} = useContext(LanguageContext)\r\n\r\n    const [selectedFoodItem, setSelectedFoodItem] = useState<SelectedFoodItem | null>(null)\r\n    const [compositeTitle, setCompositeTitle] = useState<string | null>(null)\r\n    const [compositeList, setCompositeList] = useState<Array<SelectedFoodItem>>([])\r\n    const [showHelpModal, setShowHelpModal] = useState<boolean>(false)\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const updateSelectedFoodItem = (selectedFoodItem: SelectedFoodItem): void => {\r\n        setSelectedFoodItem(selectedFoodItem)\r\n    }\r\n\r\n    const updateCompositeTitle = (title: string): void => {\r\n        setCompositeTitle(title)\r\n    }\r\n\r\n    const addCompositeElement = () => {\r\n        if (selectedFoodItem !== null) {\r\n            if (selectedFoodItem.portion.amount < 1 || selectedFoodItem.portion.amount > maximalPortionSize) {\r\n                NotificationManager.error(applicationStrings.message_error_invalid_portion[language])\r\n                return;\r\n            }\r\n\r\n            const newList: Array<SelectedFoodItem> = [...compositeList]\r\n            newList.push(selectedFoodItem)\r\n            setCompositeList(newList)\r\n        }\r\n    }\r\n\r\n    const deleteCompositeElement = (index: number) => {\r\n        const newList: Array<SelectedFoodItem> = [...compositeList]\r\n        newList.splice(index, 1)\r\n        setCompositeList(newList)\r\n    }\r\n\r\n    const onSubmit = () => {\r\n        if (props.compositeSelector) {\r\n            onSubmitComposite()\r\n        } else {\r\n            onSubmitSingleItem()\r\n        }\r\n    }\r\n\r\n    const onSubmitSingleItem = () => {\r\n        const foodItemId = selectedFoodItem ? selectedFoodItem.foodItem.id : null\r\n        if (foodItemId) {\r\n            const existingItemInList = applicationContext?.applicationData.foodDataPanel.selectedFoodItems.find(foodItem => foodItem.id === foodItemId)\r\n\r\n            if (existingItemInList) {\r\n                NotificationManager.error(applicationStrings.message_error_existing_element[language])\r\n                return\r\n            }\r\n        }\r\n\r\n        if (!selectedFoodItem || !selectedFoodItem.foodItem || !selectedFoodItem.foodClass || !selectedFoodItem.portion) {\r\n            NotificationManager.error(applicationStrings.message_error_incomplete_form[language])\r\n        } else if (selectedFoodItem.portion.amount < 1 || selectedFoodItem.portion.amount > maximalPortionSize) {\r\n            NotificationManager.error(applicationStrings.message_error_invalid_portion[language])\r\n        } else {\r\n            props.selectedFoodItemCallback(selectedFoodItem)\r\n            props.onHide()\r\n        }\r\n    }\r\n\r\n    const onSubmitComposite = () => {\r\n        const preferredSource = applicationContext.applicationData.preferredSource\r\n        let aggregatedSelectedFoodItem = combineFoodItems(compositeList, preferredSource)\r\n\r\n        if (compositeTitle !== null && compositeTitle.trim().length > 0) {\r\n            const titleToShow = compositeTitle.length < 24 ? compositeTitle.trim() : compositeTitle.substring(0, 21).trim() + \"...\"\r\n            aggregatedSelectedFoodItem.title = titleToShow\r\n        } else {\r\n            aggregatedSelectedFoodItem.title = applicationStrings.input_compositelist_title[language]\r\n        }\r\n\r\n        if (!aggregatedSelectedFoodItem) {\r\n            return\r\n        }\r\n\r\n        aggregatedSelectedFoodItem = {...aggregatedSelectedFoodItem, aggregated: true}\r\n        props.selectedFoodItemCallback(aggregatedSelectedFoodItem)\r\n        props.onHide()\r\n    }\r\n\r\n    const updateFoodSelectorConfig = (selectedCategory: ReactSelectOption | null, supplementData: boolean, combineData: boolean) => {\r\n        if (applicationContext) {\r\n            const currentSelectorSetting = applicationContext.applicationData.foodSelector\r\n            if (selectedCategory !== currentSelectorSetting.selectedCategory || supplementData !== currentSelectorSetting.sourceSupplement\r\n                || combineData !== currentSelectorSetting.sourceCombine) {\r\n                applicationContext.setFoodSelectorConfig(selectedCategory, supplementData, combineData)\r\n            }\r\n        }\r\n    }\r\n\r\n    const onCancel = () => {\r\n        props.onHide()\r\n    }\r\n\r\n    const onOpenHelpModal = () => {\r\n        setShowHelpModal(true)\r\n    }\r\n\r\n    const title = props.compositeSelector ? applicationStrings.label_foodselector_composite[language] : applicationStrings.label_foodselector[language]\r\n    const helpText = props.compositeSelector ? getHelpText(10, language) : getHelpText(9, language)\r\n\r\n    return (\r\n        <Modal size={'lg'} show={true} onHide={props.onHide}>\r\n            <Modal.Header>\r\n                <b>{title}</b>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                {showHelpModal && helpText !== null &&\r\n                <HelpModal helpText={helpText} closeHelpModal={() => setShowHelpModal(false)}/>\r\n                }\r\n                <div>\r\n                    {!props.compositeSelector ?\r\n                        <FoodSelector updateSelectedFoodItem={updateSelectedFoodItem}\r\n                                      defaultFoodClass={initialFoodClassId}\r\n                                      compositeSelector={false}\r\n                                      updateFoodSelectorConfig={updateFoodSelectorConfig}\r\n                        />\r\n                        :\r\n                        <div className={\"container\"}>\r\n                            <div className={\"row\"}>\r\n                                <div className={\"col-6\"}>\r\n                                    <FoodSelector updateSelectedFoodItem={updateSelectedFoodItem}\r\n                                                  updateFoodSelectorConfig={updateFoodSelectorConfig}\r\n                                                  defaultFoodClass={initialFoodClassId}\r\n                                                  updateCompositeTitle={updateCompositeTitle}\r\n                                                  compositeSelector={true}\r\n                                    />\r\n                                </div>\r\n                                <div className={\"col-6\"}>\r\n                                    <CompositeFoodList selectedFoodItems={compositeList}\r\n                                                       deleteItem={deleteCompositeElement}/>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </Modal.Body>\r\n            <Modal.Footer className={\"justify-content-between\"}>\r\n                <div>\r\n                    <Button className={\"btn btn-secondary\"} onClick={onOpenHelpModal}>\r\n                        <FaQuestionCircle/>\r\n                    </Button>\r\n                </div>\r\n                <div className={\"d-flex d-row justify-content-end\"}>\r\n                    <Button className={\"btn-secondary form-button\"} onClick={onCancel}>\r\n                        {applicationStrings.button_cancel[language]}\r\n                    </Button>\r\n                    {props.compositeSelector ?\r\n                        <Button className={\"form-button\"}\r\n                                onClick={onSubmit}\r\n                                disabled={!compositeList || compositeList.length < 1}>\r\n                            {applicationStrings.button_show[language]}\r\n                        </Button>\r\n                        :\r\n                        <Button className={\"form-button\"} onClick={onSubmit}>\r\n                            {applicationStrings.button_select[language]}\r\n                        </Button>\r\n                    }\r\n\r\n                    {props.compositeSelector &&\r\n                    <Button className={\"form-button\"} onClick={addCompositeElement}>\r\n                        {applicationStrings.button_add[language]}\r\n                    </Button>\r\n                    }\r\n                </div>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    )\r\n\r\n}\r\n\r\nexport default FoodSelectorModal","import React from \"react\";\r\n\r\nimport {confirmable, createConfirmation} from \"react-confirm\";\r\nimport {Button, Modal} from \"react-bootstrap\";\r\n\r\ninterface ConfirmationDialogProps {\r\n    okLabel: string,\r\n    cancelLabel: string,\r\n    title: string,\r\n    confirmation: string,\r\n    show: boolean,\r\n    proceed: (procedd: boolean) => void, // called when ok button is clicked.\r\n    enableEscape: boolean,\r\n    small?: boolean\r\n}\r\n\r\nclass ConfirmationDialog extends React.Component<ConfirmationDialogProps> {\r\n\r\n    render() {\r\n        const {\r\n            okLabel,\r\n            cancelLabel,\r\n            title,\r\n            confirmation,\r\n            show,\r\n            proceed,\r\n            enableEscape = true,\r\n        } = this.props;\r\n\r\n        return (\r\n            <Modal\r\n                show={show}\r\n                onHide={() => proceed(false)}\r\n                backdrop={enableEscape ? true : \"static\"}\r\n                keyboard={enableEscape}\r\n                fullscreen={true}>\r\n                <Modal.Header>\r\n                    <Modal.Title>{title}</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>{confirmation}</Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button style={{minWidth: \"80px\"}}\r\n                            onClick={() => proceed(false)}>\r\n                        {cancelLabel}\r\n                    </Button>\r\n                    <Button\r\n                        style={{minWidth: \"80px\"}}\r\n                        className=\"primary button-l\"\r\n                        onClick={() => proceed(true)}>\r\n                        {okLabel}\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        );\r\n    }\r\n\r\n}\r\n\r\n\r\nexport function confirmAction(\r\n    confirmation,\r\n    okLabel,\r\n    cancelLabel,\r\n    options = {},\r\n    small?\r\n) {\r\n    return createConfirmation(confirmable(ConfirmationDialog))({\r\n        confirmation,\r\n        okLabel,\r\n        cancelLabel,\r\n        ...options,\r\n        small\r\n    });\r\n}\r\n","export const color_yellow = \"rgba(255, 255, 153, 1.0)\";   // Default for Lipids\r\nexport const color_green = \"rgba(132, 225, 132, 1.0)\";   // Default for Carbs\r\n\r\nexport const color_green_light = \"rgba(196, 236, 193, 1.0)\";   // Default for Sugar (as part of carbs)\r\nexport const color_red = \"rgba(255, 204, 204, 1.0)\";   // Default for proteins\r\nexport const color_blue = \"rgba(133, 193, 233, 1.0)\";   // Default for Water\r\nexport const color_purple = \"rgba(213, 205, 237, 1.0)\"; // Default color for a blue line\r\n\r\nexport const color_chart_fawn = \"rgba(235, 232, 171, 1.0)\";\t\t// brown\r\n\r\nexport const color_gray = \"rgba(235, 235, 235, 1.0)\"; // Default color for a blue line\r\nexport const color_line_blue = \"rgba(0, 107, 215, 1.0)\"; // Default color for a blue line\r\nexport const color_line_red = \"rgba(255, 102, 102, 1.0)\"; // Default color for a red line\r\n\r\nexport const color_chart_green_1 = \"rgba(39, 177, 96)\";\t\t// Dark green\r\nexport const color_chart_green_2 = \"rgba(137, 238, 137)\";\t// Normal green\r\nexport const color_chart_green_3 = \"rgba(222, 245, 222)\";\t\t// Light green\r\n\r\nexport const color_chart_yellow_1 = \"rgba(212, 172, 13)\";\t\t// Dark yellow\r\nexport const color_chart_yellow_2 = \"rgba(244, 208, 63)\";\t// Normal yellow\r\nexport const color_chart_yellow_3 = \"rgba(249, 231, 159)\";\t\t// Light yellow\r\nexport const color_chart_yellow_4 = \"rgba(255, 202, 40)\";\r\n\r\nexport const color_chart_yellow_green_1 =\"rgba(174, 213, 129)\"\r\nexport const color_chart_yellow_green_2 =\"rgba(76, 175, 80)\"\r\nexport const color_chart_yellow_green_3 =\"rgba(124, 179, 66)\"\r\n\r\nexport const color_chart_orange = \"rgba(230, 126, 34)\";\r\nexport const color_x = \"rgba(51, 204, 204)\"\r\n\r\nexport const color_chart_black = \"rgba(0, 0, 0)\";\r\n\r\nexport const color_chart_misc = color_gray;\r\n\r\n// Chart sizes:\r\n\r\nexport const default_chart_height = 380;\r\nexport const default_chart_height_m = 190;\r\n\r\nexport const basedata_piechart_width = 300;\r\nexport const basedata_piechart_width_m = 200;\r\n\r\nexport const basedata_barchart_width = 380;\r\nexport const basedata_barchart_width_m = 253;\r\n\r\n// Food data panel container size:\r\n\r\nexport const datapanel_container_min_width = 850\r\nexport const datapanel_container_min_width_m = 500\r\n\r\nexport const max_portion = 5000;\r\n\r\nexport const color_water = color_blue;\r\nexport const color_lipids = color_yellow;\r\nexport const color_carbs = color_green;\r\nexport const color_carbs_sugar = color_green_light;\r\nexport const color_carbs_dietaryFibers = color_chart_fawn;\r\n\r\nexport const color_carbs_mono_glucose = color_chart_yellow_green_1\r\nexport const color_carbs_mono_fructose = color_chart_yellow_green_2\r\nexport const color_carbs_mono_galactose = color_chart_yellow_green_3\r\n\r\nexport const color_carbs_di_sucrose = color_chart_yellow_4\r\nexport const color_carbs_di_lactose = color_chart_yellow_3\r\nexport const color_carbs_di_maltose = color_chart_yellow_1\r\n\r\nexport const color_carbs_starch = color_chart_orange\r\n\r\nexport const color_alcohol = color_x;\r\n\r\nexport const color_proteins = color_red;\r\n\r\nexport const color_lipids_saturated = color_chart_yellow_4;\r\nexport const color_lipids_unsaturated_mono = color_chart_yellow_green_1;\r\nexport const color_lipids_unsaturated_poly = color_chart_yellow_green_2;\r\n\r\nexport const color_lipids_omega3 = color_chart_green_1;\r\nexport const color_lipids_omega6 = color_chart_yellow_2;\r\n\r\nexport const color_lipids_misc = color_gray;\r\n\r\nexport const color_ash = color_gray;\r\n\r\nexport const direct_compare_color1 = \"#ffe085\"\r\nexport const direct_compare_color2 = \"#d9ecff\"","/**\r\n * Returns a default-styled configuration for a bar chart.\r\n *\r\n * title: The charts title.\r\n * unit: The unit to use for the axis title and tooltip.\r\n * minYValue: Optional, a pre-defined maxYValue for the Y axis (e.g. 100)\r\n */\r\nimport {shortenName} from \"./nutrientdata/NameTypeService\";\r\nimport {applicationStrings} from \"../static/labels\";\r\n\r\nexport function getBarChartOptions(title: string, unit: string, maxYValue?: number | undefined) {\r\n    let yAxis: any = {\r\n        title: {\r\n            display: true,\r\n            text: unit\r\n        }\r\n    }\r\n\r\n    if (maxYValue) {\r\n        yAxis = {...yAxis, min: 0, max: maxYValue}\r\n    }\r\n    const scalesObject = {y: yAxis}\r\n    return getOptions(title, unit, scalesObject);\r\n}\r\n\r\n\r\nexport function getBarChartOptionsForRanking(title: string, unit: string) {\r\n    const scales = getScalesForRankingChart();\r\n    return getOptions(title, unit, scales);\r\n}\r\n\r\nexport function getBarChartOptionsForJuxtaposition(title: string, unit: string) {\r\n    const scales = getScalesForRankingChart();\r\n    return getOptions(title, unit, scales);\r\n}\r\n\r\n\r\n\r\nexport function getPieChartOptions(title: string, unit: string) {\r\n    return getOptions(title, unit);\r\n}\r\n\r\n\r\nfunction getOptions(title: string, unit: string, scalesObject?: any | undefined) {\r\n    const titleObj = title ? {display: true, text: title, fontSize: 18} : null;\r\n\r\n    let options: any = {\r\n        maintainAspectRatio: false,\r\n        responsive: true,\r\n        plugins: {\r\n            title: titleObj,\r\n            tooltip: getToolTips(unit),\r\n            legend: {\r\n                display: false\r\n            },\r\n        }\r\n    }\r\n\r\n    if (scalesObject !== undefined) {\r\n        options = {...options, scales: scalesObject}\r\n    }\r\n\r\n    return options;\r\n}\r\n\r\nfunction getToolTips(unit: string) {\r\n    return {\r\n        enabled: true,\r\n        maintainAspectRatio: true,\r\n        callbacks: {\r\n            label: tooltipItem => `${tooltipItem.label}: ${tooltipItem.formattedValue} ${unit}`\r\n        }\r\n    };\r\n}\r\n\r\n\r\nfunction getScalesForRankingChart() {\r\n    const scales = {\r\n        x: {\r\n            ticks: {\r\n                autoSkip: false\r\n            },\r\n        }\r\n    };\r\n\r\n    return scales;\r\n}","import {useContext} from \"react\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {CHART_TYPE_BAR, CHART_TYPE_PIE} from \"../../config/Constants\";\r\nimport {Form} from 'react-bootstrap';\r\nimport {PieChartConfigurationProps} from \"../../types/livedata/ChartPropsData\";\r\nimport {isMobileDevice} from \"../../service/WindowDimension\";\r\n\r\nexport function PieChartConfigurationForm(props: PieChartConfigurationProps) {\r\n    const languageContext = useContext(LanguageContext)\r\n\r\n    const legendLabel = isMobileDevice()\r\n        ? applicationStrings.checkbox_chartoption_showLegend_m[languageContext.language]\r\n        : applicationStrings.checkbox_chartoption_showLegend[languageContext.language]\r\n\r\n    const detailsLabel = isMobileDevice()\r\n        ? applicationStrings.checkbox_chartoption_showDetails_m[languageContext.language]\r\n        : applicationStrings.checkbox_chartoption_showDetails[languageContext.language]\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"row\">\r\n                <form className=\"form-inline form-group\">\r\n                    <Form.Label className=\"form-elements\">\r\n                        <b>{applicationStrings.label_charttype[languageContext.language]}:</b>\r\n                    </Form.Label>\r\n                    <Form.Check inline={true}\r\n                                className=\"form-radiobutton\"\r\n                                label={applicationStrings.label_charttype_pie[languageContext.language]}\r\n                                type=\"radio\"\r\n                                value={CHART_TYPE_PIE}\r\n                                checked={props.chartType === CHART_TYPE_PIE}\r\n                                onChange={props.handleRadioButtonClick}>\r\n                    </Form.Check>\r\n                    <Form.Check inline={true}\r\n                                className=\"form-radiobutton form-horizontal-separation\"\r\n                                label={applicationStrings.label_charttype_bar[languageContext.language]}\r\n                                type=\"radio\"\r\n                                value={CHART_TYPE_BAR}\r\n                                checked={props.chartType === CHART_TYPE_BAR}\r\n                                onChange={props.handleRadioButtonClick}>\r\n                    </Form.Check>\r\n                    <Form.Check inline={true}\r\n                                className=\"form-radiobutton\"\r\n                                label={legendLabel}\r\n                                defaultChecked={props.showLegend}\r\n                                disabled={props.chartType === CHART_TYPE_BAR}\r\n                                onClick={props.handleLegendCheckboxClick}>\r\n                    </Form.Check>\r\n                    {props.detailsCheckboxAvailable &&\r\n                    <Form.Check inline={true}\r\n                                className=\"form-radiobutton\"\r\n                                label={detailsLabel}\r\n                                defaultChecked={props.showDetails}\r\n                                onClick={props.handleDetailsCheckboxClick}>\r\n                    </Form.Check>\r\n                    }\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import {ReactElement} from \"react\";\r\nimport {isMobileDevice} from \"../../service/WindowDimension\";\r\n\r\ninterface CustomLegendProps {\r\n    legendData: Array<any>\r\n}\r\n\r\nexport function CustomLegend(props: CustomLegendProps) {\r\n\r\n    const renderLegend = () => {\r\n        let legend: Array<ReactElement> = [];\r\n        const mobile = isMobileDevice()\r\n\r\n        for (let i = 0; i < props.legendData.length; i++) {\r\n            const element = props.legendData[i];\r\n            const indent = element.indent > 0 ? \"25px\" : \"0px\";\r\n            const verticalSpace = element.separateNextElement && !mobile ? \"15px\" : \"0px\";\r\n            const id = `legendrow ${i}`;\r\n\r\n            const legendItemLabelClass = mobile ? \"legendItemLabel-mobile\" : \"legendItemLabel\"\r\n            const legendClassName = isMobileDevice() ? \"align-items-baseline\" : \"align-items-middle\"\r\n\r\n            legend.push(\r\n                <div key={id} className=\"row\" style={{marginLeft: indent, marginBottom: verticalSpace}}>\r\n                    <div style={{display: \"flex\"}} className={legendClassName}>\r\n                        <div className=\"legendItem\" style={{background: element.color}}></div>\r\n                        <p className={legendItemLabelClass}>{element.item}</p>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return legend;\r\n    }\r\n\r\n\r\n    return (\r\n        <div style={{borderLeft: \"1px solid #aaaaaa\", paddingLeft: \"5px\"}}>\r\n            <div style={{paddingTop: \"4px\"}}>\r\n                {renderLegend()}\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n\r\n}","import {isMobileDevice, WindowDimension} from \"./WindowDimension\";\r\nimport {\r\n    basedata_piechart_width,\r\n    basedata_piechart_width_m, datapanel_container_min_width, datapanel_container_min_width_m,\r\n    default_chart_height,\r\n    default_chart_height_m\r\n} from \"../config/ChartConfig\";\r\nimport {TAB_BASE_DATA} from \"../config/Constants\";\r\n\r\nexport function calculateChartHeight(currentDimension: WindowDimension, directCompare?: boolean, dataPage?: string): number {\r\n    const mobile = isMobileDevice()\r\n\r\n    // Mobile devices don't need to be regarded in direct compare menu, as the functionality is disabled\r\n    if(directCompare) {\r\n        return currentDimension.height / 3\r\n    } else {\r\n        return dataPage === TAB_BASE_DATA\r\n            ? mobile\r\n                ? basedata_piechart_width_m\r\n                : basedata_piechart_width\r\n            : mobile\r\n                ? default_chart_height_m\r\n                : default_chart_height\r\n    }\r\n}\r\n\r\nexport function calculateChartContainerHeight(currentDimension: WindowDimension, directCompare?: boolean): number {\r\n    return directCompare === true\r\n        ? calculateChartHeight(currentDimension, directCompare) + 24\r\n        : calculateChartHeight(currentDimension, directCompare) + 10\r\n}\r\n\r\nexport function calculateMinimalDataPanelWidth() {\r\n    return isMobileDevice() ? datapanel_container_min_width_m : datapanel_container_min_width\r\n}\r\n","/**\r\n * Checks whether a value is a positive integer value.\r\n */\r\nexport function isPositiveIntegerValue(value) {\r\n    const number = Number(value);\r\n    return Number.isInteger(number) && number > 0;\r\n}\r\n\r\n/**\r\n * Checks whether a value is a positive integer value or 0.\r\n */\r\nexport function isPositiveIntegerValueOrZero(value) {\r\n    const number = Number(value);\r\n    return Number.isInteger(number) && number >= 0;\r\n}\r\n\r\n/**\r\n * Rounds a value between 0 and 100 automatically to a reasonable number of digits:\r\n *\r\n * - Generally the value is rounded to one digit.\r\n * - Between 1 and 10, the value is rounded to two digits.\r\n * - Between 0.1 and 1, the value is rounded to three digits.\r\n * - Between 0.01 and 0.1, the value is rounded to four digits.\r\n * - Otherwise it is rounded to five digits.\r\n *\r\n */\r\nexport function autoRound(value) {\r\n    let roundFactor = 0;   // Default round factor\r\n\r\n    if(value >= 100) {\r\n        roundFactor = 0;\r\n    } else if(value < 100 && value >= 10) {\r\n        roundFactor = 1;\r\n    } else if(value < 10 && value >= 1) {\r\n        roundFactor = 2;\r\n    } else if(value < 1 && value >= 0.1) {\r\n        roundFactor = 3;\r\n    } else if(value < 0.1 && value >= 0.01) {\r\n        roundFactor = 4;\r\n    } else {\r\n        roundFactor = 5;\r\n    }\r\n\r\n    return round(value, roundFactor);\r\n}\r\n\r\n/**\r\n * Simple round function to round a number to a specific number of digits.\r\n */\r\nexport function round(value, digits) {\r\n    const roundFactor = Math.pow(10, digits);\r\n    return (Math.round(value * roundFactor)) / roundFactor;\r\n}\r\n\r\n/**\r\n * Rounds any given value to the next sensible round or half-round value. Between a range of 10 and 100, everything\r\n * below 30 will be rounded to the next odden number, everthing above 30 to the next 5-round number.\r\n * @param value The value to round\r\n *\r\n * Examples:\r\n * 22.5 -> 24\r\n * 61.3 -> 65\r\n *\r\n * 0.00232 -> 0.024\r\n * 1226 -> 1400\r\n */\r\nexport function roundToNextValue(value: number): number {\r\n    const multiplier = 10000000000\r\n    const nextEvenNumber = (number) => 2 * Math.ceil(number / 2)\r\n    const nextNumberFive = (number) => 5 * Math.ceil(number / 5)\r\n\r\n    // Multiply vylue with a high value to prevent logarithmiting illegal values below 1\r\n    const ordinaryValue = value * multiplier\r\n    const numberOfDigits = Math.ceil(Math.log10(ordinaryValue))\r\n    const standardValue = (ordinaryValue / Math.pow(10, numberOfDigits)) * 100\r\n\r\n    const nextRoundValue = standardValue < 30 ? nextEvenNumber(standardValue) : nextNumberFive(standardValue)\r\n    return nextRoundValue / Math.pow(10, 12-numberOfDigits)\r\n}\r\n\r\n/**\r\n * Returns a number of fixed length with leading zeros.\r\n */\r\nexport function getNumberOfFixedLength(number: number, digits: number): string {\r\n\tlet numberString = `${number}`\r\n\twhile(numberString.length < digits) {\r\n\t\tnumberString = `0${numberString}`\r\n\t}\r\n\treturn numberString\r\n}\r\n\r\n\r\nexport function convertBooleanToDigit(value: boolean) {\r\n\treturn value === true ? 1 : 0\r\n}\r\n\r\nexport function convertStringToBoolean(value: string) {\r\n\treturn value === \"1\" ? true : false\r\n}\r\n\r\n\r\n","import {NutrientData} from \"../../types/nutrientdata/FoodItem\";\r\nimport {autoRound} from \"../calculation/MathService\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport * as ChartConfig from \"../../config/ChartConfig\";\r\nimport {ChartDisplayData, LegendData} from \"../../types/livedata/ChartDisplayData\";\r\nimport {CATEGORY_BEVERAGE} from \"../../config/Constants\";\r\n\r\nexport function getTotalChartData(nutrientData: NutrientData, language: string, category: number | undefined): ChartDisplayData {\r\n    const alcoholValuePerc = nutrientData.baseData.alcohol !== null\r\n        ? autoRound(nutrientData.baseData.alcohol)\r\n        : null\r\n\r\n    const data = [autoRound(nutrientData.baseData.water),\r\n        autoRound(nutrientData.baseData.carbohydrates),\r\n        autoRound(nutrientData.baseData.lipids),\r\n        autoRound(nutrientData.baseData.proteins),\r\n        autoRound(nutrientData.baseData.ash)\r\n    ]\r\n\r\n    const labels: string[] = [applicationStrings.label_nutrient_water[language],\r\n        applicationStrings.label_nutrient_carbohydrates_short[language],\r\n        applicationStrings.label_nutrient_lipids[language],\r\n        applicationStrings.label_nutrient_proteins[language],\r\n        applicationStrings.label_nutrient_ash[language]]\r\n\r\n    const colors = [\r\n        ChartConfig.color_water,\r\n        ChartConfig.color_carbs,\r\n        ChartConfig.color_lipids,\r\n        ChartConfig.color_proteins,\r\n        ChartConfig.color_ash,\r\n    ]\r\n\r\n    if(alcoholValuePerc !== null && (category === CATEGORY_BEVERAGE || category === undefined)) {\r\n        data.push(alcoholValuePerc)\r\n        labels.push(applicationStrings.label_nutrient_alcohol[language])\r\n        colors.push(ChartConfig.color_alcohol)\r\n    }\r\n\r\n    return {\r\n        labels: labels,\r\n        values: data,\r\n        colors: colors\r\n    }\r\n}\r\n\r\n\r\nexport function getNutrientChartData(nutrientData: NutrientData, language: string, showDetails: boolean,\r\n                                     category: number | undefined): ChartDisplayData {\r\n    const totalValue = nutrientData.baseData.carbohydrates + nutrientData.baseData.lipids\r\n        + nutrientData.baseData.proteins + (nutrientData.baseData.alcohol ?? 0)\r\n\r\n    let sugar = nutrientData.carbohydrateData?.sugar ? nutrientData.carbohydrateData.sugar : 0\r\n    let dietaryFibers = nutrientData.baseData.dietaryFibers ? nutrientData.baseData.dietaryFibers : 0\r\n\r\n    // NOTE: Sometimes the sugar or dietary fibers value is above the carbs value, which is impossible (> 100 %)\r\n    if(sugar > totalValue) {\r\n        sugar = totalValue\r\n    }\r\n    if(dietaryFibers > totalValue) {\r\n        dietaryFibers = totalValue\r\n    }\r\n    if(sugar + dietaryFibers > totalValue) {  // Special case, where sug + fibers are above the 100 %\r\n        sugar = (sugar / (sugar+dietaryFibers)) * totalValue\r\n        dietaryFibers = (dietaryFibers / (sugar+dietaryFibers)) * totalValue\r\n    }\r\n\r\n    let carbValue = showDetails ? (nutrientData.baseData.carbohydrates - sugar - dietaryFibers)\r\n        : nutrientData.baseData.carbohydrates;\r\n\r\n    if (carbValue < 0) {\r\n        carbValue = 0\r\n    }\r\n\r\n    const carbValuePerc = autoRound(carbValue / totalValue * 100)\r\n    const sugarValuePerc = autoRound(sugar / totalValue * 100)\r\n    const dietaryFibersPerc = autoRound(dietaryFibers / totalValue * 100)\r\n    const lipidValuePerc = autoRound(nutrientData.baseData.lipids / totalValue * 100)\r\n    const proteinsValuePerc = autoRound(nutrientData.baseData.proteins / totalValue * 100)\r\n    const alcoholValuePerc = nutrientData.baseData.alcohol !== null\r\n        ? autoRound(nutrientData.baseData.alcohol / totalValue * 100)\r\n        : null\r\n\r\n    const labels = [applicationStrings.label_nutrient_lipids[language],\r\n        applicationStrings.label_nutrient_proteins[language],\r\n        applicationStrings.label_nutrient_carbohydrates_short[language]]\r\n\r\n    const values = [lipidValuePerc, proteinsValuePerc, carbValuePerc];\r\n\r\n    const colors = [\r\n        ChartConfig.color_lipids,\r\n        ChartConfig.color_proteins,\r\n        ChartConfig.color_carbs\r\n    ];\r\n\r\n    if (alcoholValuePerc !== null && (category === CATEGORY_BEVERAGE || category === undefined)) {\r\n        labels.push(applicationStrings.label_nutrient_alcohol[language])\r\n        values.push(alcoholValuePerc)\r\n        colors.push(ChartConfig.color_alcohol)\r\n    }\r\n\r\n    if (showDetails) {\r\n        if (sugarValuePerc > 0) {\r\n            labels.push(applicationStrings.label_nutrient_sugar[language]);\r\n            values.push(sugarValuePerc);\r\n            colors.push(ChartConfig.color_carbs_sugar);\r\n        }\r\n        if (dietaryFibersPerc > 0) {\r\n            labels.push(applicationStrings.label_nutrient_dietaryFibers_short[language]);\r\n            values.push(dietaryFibersPerc);\r\n            colors.push(ChartConfig.color_carbs_dietaryFibers);\r\n        }\r\n    }\r\n\r\n    return {\r\n        labels: labels,\r\n        values: values,\r\n        colors: colors\r\n    }\r\n}\r\n\r\nexport function getBaseChartLegendData(lang: string, showDetails: boolean, category: number | undefined): LegendData[] {\r\n    const legendData: LegendData[] = [\r\n        {\r\n            item: applicationStrings.label_nutrient_water[lang],\r\n            color: ChartConfig.color_water,\r\n            separateNextElement: true\r\n        },\r\n        {\r\n            item: applicationStrings.label_nutrient_lipids[lang],\r\n            color: ChartConfig.color_lipids\r\n        },\r\n        {\r\n            item: applicationStrings.label_nutrient_proteins[lang],\r\n            color: ChartConfig.color_proteins\r\n        },\r\n        {\r\n            item: applicationStrings.label_nutrient_carbohydrates_short[lang],\r\n            color: ChartConfig.color_carbs,\r\n        }\r\n    ];\r\n\r\n    if(category === CATEGORY_BEVERAGE || category === undefined) {\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_alcohol[lang],\r\n            color: ChartConfig.color_alcohol,\r\n        })\r\n    }\r\n\r\n    if (showDetails) {\r\n        legendData.push(\r\n            {\r\n                item: applicationStrings.label_nutrient_sugar[lang],\r\n                color: ChartConfig.color_carbs_sugar,\r\n                indent: 1,\r\n            },\r\n            {\r\n                item: applicationStrings.label_nutrient_dietaryFibers[lang],\r\n                color: ChartConfig.color_carbs_dietaryFibers,\r\n                indent: 1,\r\n                separateNextElement: true\r\n            }\r\n        );\r\n\r\n    }\r\n\r\n    legendData.push({\r\n        item: applicationStrings.label_nutrient_ash[lang],\r\n        color: ChartConfig.color_ash\r\n    })\r\n\r\n    return legendData;\r\n}","import {useContext, useEffect, useState} from \"react\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport * as ChartConfig from \"../../../config/ChartConfig\"\r\nimport {CHART_TYPE_BAR, CHART_TYPE_PIE, TAB_BASE_DATA} from \"../../../config/Constants\";\r\nimport {Bar, Pie} from \"react-chartjs-2\";\r\nimport {getBarChartOptions, getPieChartOptions} from \"../../../service/ChartConfigurationService\";\r\nimport {PieChartConfigurationForm} from \"../../charthelper/PieChartConfigurationForm\";\r\nimport {CustomLegend} from \"../../charthelper/CustomLegend\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {initialChartConfigData} from \"../../../config/ApplicationSetting\";\r\nimport {BaseDataChartProps} from \"../../../types/livedata/ChartPropsData\";\r\nimport {useWindowDimension} from \"../../../service/WindowDimension\";\r\nimport {calculateChartContainerHeight, calculateChartHeight} from \"../../../service/ChartSizeCalculation\";\r\nimport {getNutrientData} from \"../../../service/nutrientdata/NutrientDataRetriever\";\r\nimport {ChartDisplayData} from \"../../../types/livedata/ChartDisplayData\";\r\nimport {getBaseChartLegendData, getNutrientChartData, getTotalChartData} from \"../../../service/chartdata/BaseChartDataService\";\r\n\r\nexport default function BaseDataChart(props: BaseDataChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n    const windowSize = useWindowDimension()\r\n\r\n    const chartConfig = props.directCompareConfig\r\n        ? props.directCompareConfig\r\n        : applicationContext\r\n            ? applicationContext.applicationData.foodDataPanel.chartConfigData.baseChartConfig\r\n            : initialChartConfigData.baseChartConfig\r\n\r\n    const showDetailsProp = chartConfig.showDetails !== undefined\r\n        ? chartConfig.showDetails\r\n        : applicationContext\r\n            ? applicationContext.applicationData.foodDataPanel.chartConfigData.baseChartConfig.showDetails\r\n            : initialChartConfigData.baseChartConfig.showDetails\r\n\r\n    const [chartType, setChartType] = useState<string>(chartConfig.chartType)\r\n    const [showLegend, setShowLegend] = useState<boolean>(chartConfig.showLegend)\r\n    const [showDetails, setShowDetails] = useState<boolean>(showDetailsProp)\r\n    const [chartHeight, setChartHeight] = useState<number>(calculateChartHeight(windowSize, props.directCompareUse, TAB_BASE_DATA))\r\n\r\n    useEffect(() => {\r\n        if (props.directCompareConfig) {\r\n            setChartType(chartConfig.chartType)\r\n            setShowLegend(chartConfig.showLegend)\r\n            setShowDetails(showDetailsProp)\r\n        }\r\n\r\n        setChartHeight(calculateChartHeight(windowSize, props.directCompareUse, TAB_BASE_DATA))\r\n        updateChartConfig()\r\n    }, [chartType, showDetails, showLegend, chartHeight, props])\r\n\r\n    const updateChartConfig = () => {\r\n        if (applicationContext && !props.directCompareConfig) {\r\n            const currentConfig = applicationContext.applicationData.foodDataPanel.chartConfigData\r\n            if (chartType !== currentConfig.baseChartConfig.chartType\r\n                || showDetails !== currentConfig.baseChartConfig.showDetails\r\n                || showLegend !== currentConfig.baseChartConfig.showLegend) {\r\n                const newChartConfig = {\r\n                    ...currentConfig,\r\n                    baseChartConfig: {\r\n                        chartType: chartType,\r\n                        showDetails: showDetails,\r\n                        showLegend: showLegend\r\n                    }\r\n                }\r\n                applicationContext.setFoodDataPanelData.updateFoodDataPanelChartConfig(newChartConfig)\r\n            }\r\n        }\r\n    }\r\n\r\n    const createTotalChartData = () => {\r\n        const category = props.selectedFoodItem.foodClass?.category\r\n        const nutrientData = getNutrientData(props.selectedFoodItem)\r\n        const chartDisplayData: ChartDisplayData = getTotalChartData(nutrientData, lang, category)\r\n\r\n        return {\r\n            labels: chartDisplayData.labels,\r\n            datasets: [{\r\n                label: applicationStrings.label_chart_totalComposition[lang],\r\n                data: chartDisplayData.values,\r\n                backgroundColor: chartDisplayData.colors,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        }\r\n    }\r\n\r\n    const createNutrientChartData = () => {\r\n        const category = props.selectedFoodItem.foodClass?.category\r\n        const nutrientData = getNutrientData(props.selectedFoodItem)\r\n        const chartDisplayData: ChartDisplayData = getNutrientChartData(nutrientData, lang, showDetails, category)\r\n\r\n        return {\r\n            labels: chartDisplayData.labels,\r\n            datasets: [{\r\n                label: applicationStrings.label_chart_nutrientComposition[lang],\r\n                data: chartDisplayData.values,\r\n                backgroundColor: chartDisplayData.colors,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        }\r\n    }\r\n\r\n    const handleRadioButtonClick = (event: any) => {\r\n        const value = event.target.value\r\n        setChartType(value)\r\n        updateChartConfig()\r\n    }\r\n\r\n    const handleLegendCheckboxClick = () => {\r\n        setShowLegend(!showLegend)\r\n        updateChartConfig()\r\n    }\r\n\r\n    const handleDetailsCheckboxClick = () => {\r\n        setShowDetails(!showDetails)\r\n        updateChartConfig()\r\n    }\r\n\r\n    const legendAllowed = showLegend && chartType === CHART_TYPE_PIE\r\n\r\n    const getOptions = (title) => {\r\n        return chartType === CHART_TYPE_BAR ? getBarChartOptions(title, \"%\") : getPieChartOptions(title, \"%\")\r\n    }\r\n\r\n\r\n    const renderSubChart = (title: string, chartData: any) => {\r\n        if (!chartData) {\r\n            return <div/>\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {chartType === CHART_TYPE_PIE &&\r\n                <Pie\r\n                    data={chartData}\r\n                    key={'chart ' + chartHeight}\r\n                    height={chartHeight}\r\n                    width={ChartConfig.basedata_piechart_width}\r\n                    options={getOptions(title)}/>\r\n                }\r\n                {chartType === CHART_TYPE_BAR &&\r\n                <Bar\r\n                    data={chartData}\r\n                    key={'chart ' + chartHeight}\r\n                    height={chartHeight}\r\n                    width={ChartConfig.basedata_barchart_width}\r\n                    options={getOptions(title)}/>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const totalChartData = createTotalChartData();\r\n    const nutrientChartData = createNutrientChartData();\r\n\r\n    const totalChartDataTitle = applicationStrings.label_chart_totalComposition[lang]\r\n    const nutrientChartDataTitle = applicationStrings.label_chart_nutrientComposition[lang]\r\n\r\n    const containerHeight = calculateChartContainerHeight(windowSize, props.directCompareUse)\r\n    const justifyContent = props.directCompareUse ? \"center\" : \"left\"\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"d-flex text-align-center\" style={{justifyContent: justifyContent}}>\r\n                <div className=\"d-inline-block\">\r\n                    <div className=\"row\" style={{height: containerHeight}}\r\n                         key={\"base chart container \" + containerHeight}>\r\n                        <div className=\"col-6\">\r\n                            <div>{renderSubChart(totalChartDataTitle, totalChartData)}</div>\r\n                        </div>\r\n                        <div className=\"col-6\">\r\n                            <div>{renderSubChart(nutrientChartDataTitle, nutrientChartData)}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {legendAllowed &&\r\n                <div className=\"d-inline-block float-right\">\r\n                    <CustomLegend legendData={getBaseChartLegendData(lang, showDetails, props.selectedFoodItem.foodClass?.category)}/>\r\n                </div>\r\n                }\r\n            </div>\r\n            {!props.directCompareUse &&\r\n            <div className=\"row chart-control-button-bar\">\r\n                <PieChartConfigurationForm chartType={chartType}\r\n                                           showLegend={showLegend}\r\n                                           showDetails={showDetails}\r\n                                           detailsCheckboxAvailable={true}\r\n                                           handleRadioButtonClick={handleRadioButtonClick}\r\n                                           handleLegendCheckboxClick={handleLegendCheckboxClick}\r\n                                           handleDetailsCheckboxClick={handleDetailsCheckboxClick}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n\r\n}","export const PAL_CATEGORY_1 = 1.2;\r\nexport const PAL_CATEGORY_2 = 1.4;\r\nexport const PAL_CATEGORY_3 = 1.6;\r\nexport const PAL_CATEGORY_4 = 1.8;\r\nexport const PAL_CATEGORY_5 = 2.1;\r\nexport const PAL_CATEGORY_6 = 2.4;\r\nexport const PAL_CATEGORY_7 = 2.8;","import {SEX_MALE} from '../../config/Constants';\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport * as EnergyConstants from '../../config/EnergyConstants'\r\nimport {PalCategory} from \"../../types/livedata/PalCategory\";\r\n\r\n\r\n/**\r\n * Creates a list of PAL categories with name and value for the user settings form.\r\n */\r\nexport function getPalCategories(language: string): Array<PalCategory> {\r\n    const palCategories = [\r\n        {label: createPalCategoryName(language, 1), value: EnergyConstants.PAL_CATEGORY_1},\r\n        {label: createPalCategoryName(language, 2), value: EnergyConstants.PAL_CATEGORY_2},\r\n        {label: createPalCategoryName(language, 3), value: EnergyConstants.PAL_CATEGORY_3},\r\n        {label: createPalCategoryName(language, 4), value: EnergyConstants.PAL_CATEGORY_4},\r\n        {label: createPalCategoryName(language, 5), value: EnergyConstants.PAL_CATEGORY_5},\r\n        {label: createPalCategoryName(language, 6), value: EnergyConstants.PAL_CATEGORY_6},\r\n        {label: createPalCategoryName(language, 7), value: EnergyConstants.PAL_CATEGORY_7},\r\n    ];\r\n\r\n    return palCategories;\r\n}\r\n\r\n/**\r\n * Returns the PAL category number of a PAL value.\r\n *\r\n * value: The PAL value, e.g. 1.4 or 1.6.\r\n */\r\nexport function getPalCategory(value: number): number {\r\n    switch(value) {\r\n        case EnergyConstants.PAL_CATEGORY_1:\r\n            return 1\r\n        case EnergyConstants.PAL_CATEGORY_2:\r\n            return 2\r\n        case EnergyConstants.PAL_CATEGORY_3:\r\n            return 3\r\n        case EnergyConstants.PAL_CATEGORY_4:\r\n            return 4\r\n        case EnergyConstants.PAL_CATEGORY_5:\r\n            return 5\r\n        case EnergyConstants.PAL_CATEGORY_6:\r\n            return 6\r\n        case EnergyConstants.PAL_CATEGORY_7:\r\n            return 7\r\n        default:\r\n            return 1\r\n    }\r\n}\r\n\r\n\r\nexport function getPalValue(palCategory: number): number {\r\n\tswitch(palCategory) {\r\n        case 1:\r\n            return EnergyConstants.PAL_CATEGORY_1\r\n        case 2:\r\n            return EnergyConstants.PAL_CATEGORY_2\r\n        case 3:\r\n            return EnergyConstants.PAL_CATEGORY_3\r\n        case 4:\r\n            return EnergyConstants.PAL_CATEGORY_4\r\n        case 5:\r\n            return EnergyConstants.PAL_CATEGORY_5\r\n        case 6:\r\n            return EnergyConstants.PAL_CATEGORY_6\r\n        case 7:\r\n            return EnergyConstants.PAL_CATEGORY_7\r\n        default:\r\n            return EnergyConstants.PAL_CATEGORY_1\r\n    }\r\n}\r\n\r\n\r\nfunction createPalCategoryName(language, category): string {\r\n    const languageLabel = `palcat_name_${category}`;\r\n    const name = applicationStrings[languageLabel][language]\r\n\r\n    const energyLabel = `PAL_CATEGORY_${category}`;\r\n    const value = EnergyConstants[energyLabel];\r\n    return `${name} (${value})`;\r\n}\r\n\r\n\r\n/**\r\n * Calculates the Basal Metabolic Rate (BMR) of a person.\r\n */\r\nexport function calculateBMR(age: number, size: number, weight: number, sex: string): number {\r\n    if(sex === SEX_MALE) {\r\n        const bmr = 3.4 * weight + 15.3 * size - 6.8 * age - 961;\r\n        return Math.round(bmr);\r\n    } else {\r\n        const bmr = 2.4 * weight + 9.0 * size - 4.7 * age - 65;\r\n        return Math.round(bmr);\r\n    }\r\n}\r\n\r\n/**\r\n * Calculates the total energy consumption of a person in one day.\r\n *\r\n * bmr: The bmr value.\r\n * palValue: The pal value\r\n * leisureSports: Specifies whether leisure sports is performed or not (+0.3 PAL).\r\n */\r\nexport function calculateTotalEnergyConsumption(bmr: number, palValue: number, leisureSports: boolean): number {\r\n    if(leisureSports) {\r\n        palValue += 0.3;\r\n    }\r\n\r\n    return bmr * palValue;\r\n}","import {useContext, useEffect, useState} from \"react\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport * as ChartConfig from \"../../../config/ChartConfig\"\r\nimport {Bar, Chart} from \"react-chartjs-2\";\r\nimport {getBarChartOptions} from \"../../../service/ChartConfigurationService\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport {calculateBMR, calculateTotalEnergyConsumption} from \"../../../service/calculation/EnergyService\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {default_chart_height} from \"../../../config/ChartConfig\";\r\nimport annotationPlugin from 'chartjs-plugin-annotation'\r\nimport {ChartProps} from \"../../../types/livedata/ChartPropsData\";\r\nimport {isMobileDevice, useWindowDimension} from \"../../../service/WindowDimension\";\r\nimport {calculateChartContainerHeight, calculateChartHeight} from \"../../../service/ChartSizeCalculation\";\r\nimport {getNutrientData} from \"../../../service/nutrientdata/NutrientDataRetriever\";\r\n\r\nexport default function EnergyDataChart(props: ChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n    const windowSize = useWindowDimension()\r\n\r\n    const nutrientData = getNutrientData(props.selectedFoodItem);\r\n    const energy100g = nutrientData.baseData.energy;\r\n    const [chartHeight, setChartHeight] = useState<number>(calculateChartHeight(windowSize, props.directCompareUse))\r\n\r\n    useEffect(() => {\r\n        setChartHeight(calculateChartHeight(windowSize, props.directCompareUse))\r\n    }, [chartHeight])\r\n\r\n    if (!applicationContext || !energy100g) {\r\n        return <div>No data.</div>\r\n    }\r\n\r\n    const createEnergyLevelChart = () => {\r\n        const averagePortion = props.selectedFoodItem.portion.amount\r\n        const energyPortion = Math.round(energy100g / 100 * averagePortion);\r\n\r\n        return {\r\n            labels: [\"100 g\", \"Portion\"],\r\n            datasets: [{\r\n                data: [energy100g,\r\n                    energyPortion\r\n                ],\r\n                backgroundColor: [\r\n                    ChartConfig.color_yellow,\r\n                    ChartConfig.color_red,\r\n                ],\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n\r\n        }\r\n    }\r\n\r\n\r\n    const renderUserDataInfoPage = () => {\r\n        const showInfotext = !(isMobileDevice() && props.directCompareUse)\r\n\r\n        return (\r\n            <div style={{paddingLeft: \"50px\", paddingTop: \"20px\", maxWidth: \"90%\"}}>\r\n                {!isMobileDevice()\r\n                    ? <h5><b>{`${energy100g}`} kcal / 100 g</b></h5>\r\n                    : <h6><b>{`${energy100g}`} kcal / 100 g</b></h6>\r\n                }\r\n\r\n                {showInfotext &&\r\n                <div className=\"text-small\" style={{paddingTop: \"30px\"}}>\r\n                    {applicationContext.userData.initialValues ?\r\n                        (<div>\r\n                            <p>{applicationStrings.text_setUserdata_p1[lang]}</p>\r\n                            <p>{applicationStrings.text_setUserdata_p2[lang]}</p>\r\n                        </div>)\r\n                        :\r\n                        <p>{applicationStrings.text_setUserdata_p3[lang]}</p>\r\n                    }\r\n                </div>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    const getOptions = () => {\r\n        const {age, size, weight, sex, palValue, leisureSports} = applicationContext.userData\r\n        const bmr = calculateBMR(age, size, weight, sex);\r\n        const totalEnergy = calculateTotalEnergyConsumption(bmr, palValue, leisureSports);\r\n\r\n        if (props.directCompareUse) {\r\n\r\n        }\r\n\r\n        const annotation1 = {\r\n            drawTime: 'afterDatasetsDraw',\r\n            type: 'line',\r\n            mode: 'horizontal',\r\n            scaleID: 'y-axis-0',\r\n            yMin: bmr,\r\n            yMax: bmr,\r\n            borderColor: ChartConfig.color_line_red,\r\n            borderWidth: 4,\r\n            label: {\r\n                enabled: true,\r\n                content: applicationStrings.label_chart_bmr[lang]\r\n            },\r\n        }\r\n\r\n        const annotation2 =\r\n            {\r\n                drawTime: 'afterDatasetsDraw',\r\n                type: 'line',\r\n                mode: 'horizontal',\r\n                scaleID: 'y-axis-0',\r\n                yMin: totalEnergy,\r\n                yMax: totalEnergy,\r\n                borderColor: ChartConfig.color_line_blue,\r\n                borderWidth: 4,\r\n                label: {\r\n                    enabled: true,\r\n                    content: applicationStrings.label_chart_energyExpenditure[lang]\r\n                }\r\n            }\r\n\r\n        const annotation = {\r\n            annotations: {\r\n                line1: annotation1,\r\n                line2: !(props.directCompareUse && isMobileDevice()) ? annotation2 : undefined,\r\n            }\r\n        }\r\n\r\n        let options: any = getBarChartOptions(applicationStrings.label_charttype_energy[languageContext.language], \"kCal\");\r\n        options = {\r\n            ...options, plugins: {\r\n                ...options.plugins,\r\n                annotation: annotation\r\n            }\r\n        }\r\n\r\n        return options;\r\n    }\r\n\r\n    const data = createEnergyLevelChart();\r\n    if (!data) {\r\n        return <div style={{height: default_chart_height}}>{applicationStrings.label_noData[lang]}</div>\r\n    }\r\n\r\n    const containerHeight = calculateChartContainerHeight(windowSize, props.directCompareUse)\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row \" style={{height: containerHeight}} key={\"energy container \" + containerHeight}>\r\n                <div className=\"col-6\">\r\n                    <div>\r\n                        <Bar\r\n                            data={data}\r\n                            key={'chart ' + chartHeight}\r\n                            height={chartHeight}\r\n                            options={getOptions()}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-6\">\r\n                    {renderUserDataInfoPage()}\r\n                </div>\r\n            </div>\r\n            <div style={{height: \"64px\"}}></div>\r\n        </div>\r\n    )\r\n\r\n}","import {useContext} from \"react\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {Form} from \"react-bootstrap\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {AMOUNT_PORTION, AMOUNT_100_GRAM} from \"../../config/Constants\";\r\nimport {BarChartConfigurationProps} from \"../../types/livedata/ChartPropsData\";\r\n\r\nexport function BarChartConfigurationForm(props: BarChartConfigurationProps) {\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n\r\n    const label_portion = props.selectedFoodItem\r\n        ?`${applicationStrings.label_portion[lang]} (${props.selectedFoodItem.portion.amount} g)`\r\n        : applicationStrings.label_portion_selected[lang]\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <form className=\"form-inline form-group\">\r\n                    <Form.Label className={\"form-elements\"}>\r\n                        <b>{applicationStrings.label_reference[lang]}:</b>\r\n                    </Form.Label>\r\n                    <Form.Check className=\"form-radiobutton mr-4\"\r\n                                type=\"radio\"\r\n                                inline={true}\r\n                                label={\"100g\"}\r\n                                value={AMOUNT_100_GRAM}\r\n                                checked={(props.portionType === AMOUNT_100_GRAM)}\r\n                                onChange={props.handleRadioButtonClick}\r\n                    />\r\n                    <Form.Check className=\"form-radiobutton form-horizontal-separation\"\r\n                                type=\"radio\"\r\n                                inline={true}\r\n                                label={label_portion}\r\n                                value={AMOUNT_PORTION}\r\n                                checked={props.portionType === AMOUNT_PORTION}\r\n                                onChange={props.handleRadioButtonClick}\r\n                    />\r\n                    <Form.Check className=\"form-radiobutton\"\r\n                                inline={true}\r\n                                label={applicationStrings.checkbox_expand100g[lang]}\r\n                                checked={props.expand100}\r\n                                onChange={props.handleExpandCheckboxClick}>\r\n                    </Form.Check>\r\n                    {props.handleSynchronize !== undefined && props.synchronize !== undefined &&\r\n                    < Form.Check className=\"form-radiobutton\"\r\n                        inline={true}\r\n                        label={applicationStrings.checkbox_synchronize[lang]}\r\n                        checked={props.synchronize}\r\n                        onChange={props.handleSynchronize}>\r\n                        </Form.Check>\r\n                    }\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}","import * as Constants from '../../config/Constants';\r\nimport DietaryRequirement, {\r\n    RequirementAgeGroupData,\r\n    RequirementData\r\n} from \"../../types/nutrientdata/DietaryRequirement\";\r\nimport {UserData} from \"../../types/livedata/UserData\";\r\nimport {SEX_MALE} from \"../../config/Constants\";\r\n\r\n/*\r\n * Determines the daily requirements of a vitamin or mineral for a specific user.\r\n *\r\n * dailyRequirementObject: A vitamin or mineral requirement object (e.g. for Vitamin C or Iron).\r\n * userData: The user data object containing the user data.\r\n *\r\n * @return: The daily requirement (mg)\r\n */\r\nexport function determineDailyRequirement(dailyRequirementObject: RequirementData, userData: UserData): number {\r\n    let ageGroupRequirements: RequirementAgeGroupData\r\n\r\n    if (userData.age >= 65) {\r\n        ageGroupRequirements = dailyRequirementObject.senior;\r\n    } else if (userData.age >= 51) {\r\n        ageGroupRequirements = dailyRequirementObject.preSenior;\r\n    } else if (userData.age >= 26) {\r\n        ageGroupRequirements = dailyRequirementObject.midLifeAdult;\r\n    } else if (userData.age >= 19) {\r\n        ageGroupRequirements = dailyRequirementObject.youngAdult;\r\n    } else if (userData.age >= 15) {\r\n        ageGroupRequirements = dailyRequirementObject.youth;\r\n    } else {\r\n        ageGroupRequirements = dailyRequirementObject.youth;   // Default case (should not occur!)\r\n    }\r\n\r\n    let value: number\r\n    if (userData.sex === SEX_MALE) {\r\n        value = ageGroupRequirements.male;\r\n    } else {\r\n        if (userData.pregnant) {\r\n            value = ageGroupRequirements.femalePregnant ? ageGroupRequirements.femalePregnant : ageGroupRequirements.female;\r\n        } else if (userData.breastFeeding) {\r\n            value = ageGroupRequirements.femaleBreastFeeding ? ageGroupRequirements.femaleBreastFeeding : ageGroupRequirements.female;\r\n        } else {\r\n            value = ageGroupRequirements.female;\r\n        }\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\n\r\n/*\r\n * Determines the ratio (percentage) of vitamins/minerals in food compared to the daily requirements of the user.\r\n * Example: The daily requirements of Vitamin C is 120 mg for the user. The food contains 24 mg C. The ratio is 0.2 (20 %).\r\n *\r\n * dailyRequirementObject: A vitamin or mineral requirement object (e.g. for Vitamin C or Iron).\r\n * userData: The user data object containing the user data.\r\n * portionSize: The portion size in gram (100 = default value, i.e., 100 gram).\r\n * amountInFood: The amount of the vitamin or mineral in the food (which is always 100 gram).\r\n */\r\nexport function determineFoodRequirementRatio(dailyRequirementObject: RequirementData, amountInFood: number,\r\n                                              portionSize: number, userData: UserData): number {\r\n    const dailyRequirement = determineDailyRequirement(dailyRequirementObject, userData);\r\n    if (portionSize === 100) {\r\n        return Math.round(amountInFood / dailyRequirement * 1000) / 10;\r\n    } else {   // Calculate ration for a special amount (portion):\r\n        return Math.round(amountInFood / dailyRequirement * (portionSize * 10)) / 10;\r\n    }\r\n}\r\n\r\n\r\n/*\r\n * Determines the ratio (percentage) of proteins in food compared to the daily requirements of the user.\r\n * Example: The daily requirements of Lysine is 30 mg per kg. The user weights 80 kg. His dietary requirement\r\n * is thus 30 * 80 = 2400 mg per day. The food contains 240 mg C. The ratio is 0.1 (10 %).\r\n *\r\n * dailyRequirementObject: A protein requirement object for a specific protein (e.g. for Lycin).\r\n * userData: The user data object containing the user data.\r\n * portionSize: The portion size in gram (100 = default value, i.e., 100 gram).\r\n * amountInFood: The amount of the vitamin or mineral in the food (which is always 100 gram).\r\n */\r\nexport function determineProteinRequirementRatio(requirement: number, amountInFood: number, portionSize: number, userData: UserData) {\r\n    const dailyRequirement = (requirement * userData.weight) / 1000;\r\n\r\n    if (portionSize === 100) {\r\n        return Math.round(amountInFood / dailyRequirement * 1000) / 10;\r\n    } else {   // Calculate ration for a special amount (portion):\r\n        return Math.round(amountInFood / dailyRequirement * (portionSize * 10)) / 10;\r\n    }\r\n}\r\n\r\n\r\nexport function convertAbsoluteValueToDailyRequirement(dailyRequirements: DietaryRequirement, item: string, amount: number, userData: UserData) {\r\n    let dailyRequirementObject\r\n\r\n    if (item === Constants.DATA_VITAMINS_A) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.a;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B1) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b1;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B2) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b2;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B3) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b3;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B5) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b5;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B6) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b6;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B9) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b9;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B12) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b12;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_C) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.c;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_D) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.d;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_E) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.e;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_K) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.k;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_CALCIUM) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.calcium;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_COPPER) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.copper;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_IRON) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.iron;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_MAGNESIUM) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.magnesium;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_MANGANESE) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.manganese;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_PHOSPHORUS) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.phosphorus;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_POTASSIUM) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.potassium;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_SELENIUM) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.selenium;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_SODIUM) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.sodium;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_ZINC) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.zinc;\r\n    }\r\n\r\n    if (!dailyRequirementObject) {\r\n        return 0\r\n    }\r\n\r\n    const dailyRequirement = determineDailyRequirement(dailyRequirementObject, userData);\r\n    return Math.round(amount / dailyRequirement * 1000) / 10;\r\n}","// Pro-vitamin A equivalent factors\r\nexport const EQ_FACTOR_BETA_CAROTENE = 0.08333\r\nexport const EQ_FACTOR_OTHER_CAROTENE = 0.04166\r\n\r\n// Pro-vitamin E equivalent factors\r\nexport const EQ_FACTOR_TOCOPHEROL_BETA = 0.5\r\nexport const EQ_FACTOR_TOCOPHEROL_GAMMA = 0.25\r\nexport const EQ_FACTOR_TOCOPHEROL_DELTA = 0.01\r\nexport const EC_FACTOR_TOCOTRIENOL_ALPHA = 0.3\r\nexport const EC_FACTOR_TOCOTRIENOL_BETA = 0.15\r\nexport const EC_FACTOR_TOCOTRIENOL_GAMMA = 0.0757","import {determineFoodRequirementRatio} from \"../calculation/DietaryRequirementService\";\r\nimport {MineralData, VitaminData} from \"../../types/nutrientdata/FoodItem\";\r\nimport {MineralRequirementData, VitaminRequirementData} from \"../../types/nutrientdata/DietaryRequirement\";\r\nimport {UserData} from \"../../types/livedata/UserData\";\r\nimport {ChartDisplayData} from \"../../types/livedata/ChartDisplayData\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {calculateVitaminAEquivalent} from \"../calculation/provitaminCalculation/CarotenoidCalculationService\";\r\nimport {calculateVitaminEEquivalent} from \"../calculation/provitaminCalculation/ExtendedVitaminECalculationService\";\r\nimport {DataSettings} from \"../../types/livedata/DataSettings\";\r\nimport {OPTION_YES} from \"../../config/Constants\";\r\n\r\nexport function getVitaminChartData(vitaminData: VitaminData, requirementData: VitaminRequirementData, userData: UserData,\r\n                                    dataSettings: DataSettings, portionAmount: number): ChartDisplayData {\r\n    const labels: Array<string> = [];\r\n    const values: Array<number> = [];\r\n\r\n    if (vitaminData.a !== null) {\r\n        let amountA = vitaminData.a\r\n        if(dataSettings.includeProvitamins === OPTION_YES) {\r\n            amountA += calculateVitaminAEquivalent(vitaminData.carotenoidData)\r\n        }\r\n        labels.push(\"A\");\r\n        values.push(determineFoodRequirementRatio(requirementData.a, amountA, portionAmount, userData));\r\n    }\r\n\r\n    if (vitaminData.b1 !== null) {\r\n        labels.push(\"B1\");\r\n        values.push(determineFoodRequirementRatio(requirementData.b1, vitaminData.b1, portionAmount, userData));\r\n    }\r\n\r\n    if (vitaminData.b2 !== null) {\r\n        labels.push(\"B2\");\r\n        values.push(determineFoodRequirementRatio(requirementData.b2, vitaminData.b2, portionAmount, userData));\r\n    }\r\n\r\n    if (vitaminData.b3 !== null) {\r\n        labels.push(\"B3\");\r\n        values.push(determineFoodRequirementRatio(requirementData.b3, vitaminData.b3, portionAmount, userData));\r\n    }\r\n\r\n    if (vitaminData.b5 !== null) {\r\n        labels.push(\"B5\");\r\n        values.push(determineFoodRequirementRatio(requirementData.b5, vitaminData.b5, portionAmount, userData));\r\n    }\r\n\r\n    if (vitaminData.b6 !== null) {\r\n        labels.push(\"B6\");\r\n        values.push(determineFoodRequirementRatio(requirementData.b6, vitaminData.b6, portionAmount, userData));\r\n    }\r\n\r\n    if (vitaminData.b9 !== null) {\r\n        labels.push(\"B9\");\r\n        values.push(determineFoodRequirementRatio(requirementData.b9, vitaminData.b9, portionAmount, userData));\r\n    }\r\n\r\n    if (vitaminData.b12 !== null) {\r\n        labels.push(\"B12\");\r\n        values.push(determineFoodRequirementRatio(requirementData.b12, vitaminData.b12, portionAmount, userData));\r\n    }\r\n\r\n    if (vitaminData.c !== null) {\r\n        labels.push(\"C\");\r\n        values.push(determineFoodRequirementRatio(requirementData.c, vitaminData.c, portionAmount, userData));\r\n    }\r\n\r\n    if (vitaminData.d !== null) {\r\n        labels.push(\"D\");\r\n        values.push(determineFoodRequirementRatio(requirementData.d, vitaminData.d, portionAmount, userData));\r\n    }\r\n\r\n    if (vitaminData.e !== null) {\r\n        let amountE = vitaminData.e\r\n        if(dataSettings.includeProvitamins === OPTION_YES) {\r\n            amountE += calculateVitaminEEquivalent(vitaminData.extendedVitaminE)\r\n        }\r\n        labels.push(\"E\");\r\n        values.push(determineFoodRequirementRatio(requirementData.e, amountE, portionAmount, userData));\r\n    }\r\n\r\n    if (vitaminData.k !== null) {\r\n        labels.push(\"K\");\r\n        values.push(determineFoodRequirementRatio(requirementData.k, vitaminData.k, portionAmount, userData));\r\n    }\r\n\r\n    return {\r\n        labels: labels,\r\n        values: values\r\n    }\r\n}\r\n\r\n\r\nexport function getMineralsChartData(mineralData: MineralData, requirementData: MineralRequirementData, userData: UserData,\r\n                                     portionAmount: number, language: string): ChartDisplayData {\r\n    const labels: Array<string> = [];\r\n    const values: Array<number> = [];\r\n\r\n    if (mineralData.calcium !== null) {\r\n        labels.push(applicationStrings.label_nutrient_min_calcium[language]);\r\n        values.push(determineFoodRequirementRatio(requirementData.calcium, mineralData.calcium, portionAmount, userData));\r\n    }\r\n\r\n    if (mineralData.iron !== null) {\r\n        labels.push(applicationStrings.label_nutrient_min_iron[language]);\r\n        values.push(determineFoodRequirementRatio(requirementData.iron, mineralData.iron, portionAmount, userData));\r\n    }\r\n\r\n    if (mineralData.magnesium !== null) {\r\n        labels.push(applicationStrings.label_nutrient_min_magnesium[language]);\r\n        values.push(determineFoodRequirementRatio(requirementData.magnesium, mineralData.magnesium, portionAmount, userData));\r\n    }\r\n\r\n    if (mineralData.phosphorus !== null) {\r\n        labels.push(applicationStrings.label_nutrient_min_phosphorus[language]);\r\n        values.push(determineFoodRequirementRatio(requirementData.phosphorus, mineralData.phosphorus, portionAmount, userData));\r\n    }\r\n\r\n    if (mineralData.potassium !== null) {\r\n        labels.push(applicationStrings.label_nutrient_min_potassimum[language]);\r\n        values.push(determineFoodRequirementRatio(requirementData.potassium, mineralData.potassium, portionAmount, userData));\r\n    }\r\n\r\n    if (mineralData.sodium !== null) {\r\n        labels.push(applicationStrings.label_nutrient_min_sodium[language]);\r\n        values.push(determineFoodRequirementRatio(requirementData.sodium, mineralData.sodium, portionAmount, userData));\r\n    }\r\n\r\n    if (mineralData.zinc !== null) {\r\n        labels.push(applicationStrings.label_nutrient_min_zinc[language]);\r\n        values.push(determineFoodRequirementRatio(requirementData.zinc, mineralData.zinc, portionAmount, userData));\r\n    }\r\n\r\n    if (mineralData.copper !== null) {\r\n        labels.push(applicationStrings.label_nutrient_min_copper[language]);\r\n        values.push(determineFoodRequirementRatio(requirementData.copper, mineralData.copper, portionAmount, userData));\r\n    }\r\n\r\n    if (mineralData.manganese !== null) {\r\n        labels.push(applicationStrings.label_nutrient_min_manganese[language]);\r\n        values.push(determineFoodRequirementRatio(requirementData.manganese, mineralData.manganese, portionAmount, userData));\r\n    }\r\n\r\n    if (mineralData.selenium !== null) {\r\n        labels.push(applicationStrings.label_nutrient_min_selenium[language]);\r\n        values.push(determineFoodRequirementRatio(requirementData.selenium, mineralData.selenium, portionAmount, userData));\r\n    }\r\n\r\n    return {\r\n        labels: labels,\r\n        values: values\r\n    }\r\n}","import {CarotenoidData} from \"../../../types/nutrientdata/FoodItem\";\r\nimport {EQ_FACTOR_BETA_CAROTENE, EQ_FACTOR_OTHER_CAROTENE} from \"./ProvitaminEquivalentFactors\";\r\n\r\nexport function getTotalAmountOfCarotenoids(carotenoidData: CarotenoidData): number | null {\r\n    if(carotenoidData === null) {\r\n        return null\r\n    }\r\n\r\n    let amount = 0;\r\n\r\n    if(carotenoidData.caroteneAlpha) {\r\n        amount += carotenoidData.caroteneAlpha\r\n    }\r\n    if(carotenoidData.caroteneBeta) {\r\n        amount += carotenoidData.caroteneBeta\r\n    }\r\n    if(carotenoidData.cryptoxanthin) {\r\n        amount += carotenoidData.cryptoxanthin\r\n    }\r\n\r\n    return amount\r\n}\r\n\r\n/**\r\n * Calculates the total vitamin A equivalent out of the different carotenoid values\r\n * @param carotenoidData\r\n */\r\nexport function calculateVitaminAEquivalent(carotenoidData: CarotenoidData | null): number {\r\n    if(carotenoidData === null) {\r\n        return 0\r\n    }\r\n\r\n    let amount = 0;\r\n\r\n    if(carotenoidData.caroteneAlpha) {\r\n        amount += (carotenoidData.caroteneAlpha * EQ_FACTOR_OTHER_CAROTENE)\r\n    }\r\n    if(carotenoidData.caroteneBeta) {\r\n        amount += (carotenoidData.caroteneBeta * EQ_FACTOR_BETA_CAROTENE)\r\n    }\r\n    if(carotenoidData.cryptoxanthin) {\r\n        amount += (carotenoidData.cryptoxanthin * EQ_FACTOR_OTHER_CAROTENE)\r\n    }\r\n\r\n    return amount\r\n}","import {ExtendedVitaminE} from \"../../../types/nutrientdata/FoodItem\";\r\nimport {\r\n    EQ_FACTOR_TOCOPHEROL_BETA,\r\n    EQ_FACTOR_TOCOPHEROL_DELTA,\r\n    EQ_FACTOR_TOCOPHEROL_GAMMA,\r\n    EC_FACTOR_TOCOTRIENOL_ALPHA,\r\n    EC_FACTOR_TOCOTRIENOL_BETA,\r\n    EC_FACTOR_TOCOTRIENOL_GAMMA\r\n} from \"./ProvitaminEquivalentFactors\";\r\n\r\nexport function getTotalAmountOfExtendedVitaminE(extendedVitaminE: ExtendedVitaminE): number | null {\r\n    if (extendedVitaminE === null) {\r\n        return null\r\n    }\r\n\r\n    let amount = 0;\r\n\r\n    if (extendedVitaminE.tocopherolBeta) {\r\n        amount += extendedVitaminE.tocopherolBeta\r\n    }\r\n    if (extendedVitaminE.tocopherolGamma) {\r\n        amount += extendedVitaminE.tocopherolGamma\r\n    }\r\n    if (extendedVitaminE.tocopherolDelta) {\r\n        amount += extendedVitaminE.tocopherolDelta\r\n    }\r\n    if (extendedVitaminE.tocotrienolAlpha) {\r\n        amount += extendedVitaminE.tocotrienolAlpha\r\n    }\r\n    if (extendedVitaminE.tocotrienolBeta) {\r\n        amount += extendedVitaminE.tocotrienolBeta\r\n    }\r\n    if (extendedVitaminE.tocotrienolGamma) {\r\n        amount += extendedVitaminE.tocotrienolGamma\r\n    }\r\n\r\n    return amount\r\n}\r\n\r\n/**\r\n * Calculates the total vitamin E equivalent out of the different forms of Vitamin E\r\n * @param extendedVitaminE Data object containing the additional Vitamin E forms\r\n */\r\nexport function calculateVitaminEEquivalent(extendedVitaminE: ExtendedVitaminE | null): number {\r\n    if (extendedVitaminE === null) {\r\n        return 0\r\n    }\r\n\r\n    let amount = 0;\r\n\r\n    if (extendedVitaminE.tocopherolBeta) {\r\n        amount += (extendedVitaminE.tocopherolBeta * EQ_FACTOR_TOCOPHEROL_BETA)\r\n    }\r\n    if (extendedVitaminE.tocopherolGamma) {\r\n        amount += (extendedVitaminE.tocopherolGamma * EQ_FACTOR_TOCOPHEROL_GAMMA)\r\n    }\r\n    if (extendedVitaminE.tocopherolDelta) {\r\n        amount += (extendedVitaminE.tocopherolDelta * EQ_FACTOR_TOCOPHEROL_DELTA)\r\n    }\r\n\r\n    if (extendedVitaminE.tocotrienolAlpha) {\r\n        amount += (extendedVitaminE.tocotrienolAlpha * EC_FACTOR_TOCOTRIENOL_ALPHA)\r\n    }\r\n\r\n    if (extendedVitaminE.tocotrienolBeta) {\r\n        amount += (extendedVitaminE.tocotrienolBeta * EC_FACTOR_TOCOTRIENOL_BETA)\r\n    }\r\n\r\n    if (extendedVitaminE.tocotrienolGamma) {\r\n        amount += (extendedVitaminE.tocotrienolGamma * EC_FACTOR_TOCOTRIENOL_GAMMA)\r\n    }\r\n\r\n    return amount\r\n}\r\n\r\n\r\nexport function hasExtendedData(extendedVitaminE: ExtendedVitaminE): boolean {\r\n    return extendedVitaminE.tocopherolBeta !== null\r\n        || extendedVitaminE.tocopherolGamma !== null\r\n        || extendedVitaminE.tocopherolDelta !== null\r\n        || extendedVitaminE.tocotrienolAlpha !== null\r\n        || extendedVitaminE.tocotrienolBeta !== null\r\n        || extendedVitaminE.tocotrienolGamma !== null\r\n}","import {useContext, useEffect, useState} from \"react\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {CHART_MINERALS, CHART_VITAMINS, AMOUNT_100_GRAM, OPTION_YES} from \"../../../config/Constants\";\r\nimport * as ChartConfig from \"../../../config/ChartConfig\"\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport {getBarChartOptions} from \"../../../service/ChartConfigurationService\"\r\nimport {Bar} from \"react-chartjs-2\";\r\nimport {initialChartConfigData} from \"../../../config/ApplicationSetting\";\r\nimport {BarChartConfigurationForm} from \"../../charthelper/BarChartConfigurationForm\";\r\nimport {MineralVitaminChartProps} from \"../../../types/livedata/ChartPropsData\";\r\nimport {useWindowDimension} from \"../../../service/WindowDimension\";\r\nimport {calculateChartContainerHeight, calculateChartHeight} from \"../../../service/ChartSizeCalculation\";\r\nimport {getNutrientData} from \"../../../service/nutrientdata/NutrientDataRetriever\";\r\nimport {getMineralsChartData, getVitaminChartData} from \"../../../service/chartdata/VitaminsMineralsDataService\";\r\n\r\nexport default function MineralVitaminChart(props: MineralVitaminChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n    const windowSize = useWindowDimension()\r\n\r\n    const chartConfigVitamins = props.directCompareConfig\r\n        ? props.directCompareConfig\r\n        : applicationContext\r\n            ? applicationContext.applicationData.foodDataPanel.chartConfigData.vitaminChartConfig\r\n            : initialChartConfigData.vitaminChartConfig\r\n\r\n    const chartConfigMinerals = props.directCompareConfig\r\n        ? props.directCompareConfig\r\n        : applicationContext\r\n            ? applicationContext.applicationData.foodDataPanel.chartConfigData.mineralChartConfig\r\n            : initialChartConfigData.mineralChartConfig\r\n\r\n    const [portionType_vitamins, setPortionType_vitamins] = useState<string>(chartConfigVitamins.portionType)\r\n    const [expand100_vitamins, setExpand100_vitamins] = useState<boolean>(chartConfigVitamins.expand100)\r\n    const [portionType_minerals, setPortionType_minerals] = useState<string>(chartConfigMinerals.portionType)\r\n    const [expand100_minerals, setExpand100_minerals] = useState<boolean>(chartConfigMinerals.expand100)\r\n    const [chartHeight, setChartHeight] = useState<number>(calculateChartHeight(windowSize, props.directCompareUse))\r\n    const [showBookModal, setShowBookModal] = useState<boolean>(false)\r\n    const [selectedColumnLabel, setSelectedColumnLabel] = useState<string | undefined>(undefined)\r\n\r\n    useEffect(() => {\r\n        if (props.directCompareConfig) {\r\n            setPortionType_vitamins(chartConfigVitamins.portionType)\r\n            setExpand100_vitamins(chartConfigVitamins.expand100)\r\n            setPortionType_minerals(chartConfigMinerals.portionType)\r\n            setExpand100_minerals(chartConfigMinerals.expand100)\r\n        }\r\n\r\n        setChartHeight(calculateChartHeight(windowSize, props.directCompareUse))\r\n        updateChartConfig()\r\n    }, [portionType_vitamins, portionType_minerals, expand100_vitamins, expand100_minerals, chartHeight, props])\r\n\r\n\r\n    if (!applicationContext || applicationContext.foodDataCorpus.dietaryRequirements === null) {\r\n        return <div/>\r\n    }\r\n\r\n    const anyValueChanged = (): boolean => {\r\n        const config = props.selectedSubChart === CHART_VITAMINS\r\n            ? applicationContext.applicationData.foodDataPanel.chartConfigData.vitaminChartConfig\r\n            : applicationContext.applicationData.foodDataPanel.chartConfigData.mineralChartConfig\r\n\r\n        if (props.selectedSubChart === CHART_VITAMINS) {\r\n            return portionType_vitamins !== config.portionType || expand100_vitamins !== config.expand100\r\n        } else {\r\n            return portionType_minerals !== config.portionType || expand100_minerals !== config.expand100\r\n        }\r\n    }\r\n\r\n    const updateChartConfig = () => {\r\n        if (!props.directCompareConfig && anyValueChanged()) {\r\n            if (applicationContext) {\r\n                const newChartConfig = {\r\n                    ...applicationContext.applicationData.foodDataPanel.chartConfigData,\r\n                    vitaminChartConfig: {\r\n                        portionType: portionType_vitamins,\r\n                        expand100: expand100_vitamins\r\n                    },\r\n                    mineralChartConfig: {\r\n                        portionType: portionType_minerals,\r\n                        expand100: expand100_minerals\r\n                    }\r\n                }\r\n\r\n                applicationContext.setFoodDataPanelData.updateFoodDataPanelChartConfig(newChartConfig)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    const createVitaminChartData = () => {\r\n        const vitaminData = props.precalculatedData !== undefined\r\n            ? props.precalculatedData\r\n            : getNutrientData(props.selectedFoodItem).vitaminData;\r\n\r\n        const requirementData = applicationContext.foodDataCorpus.dietaryRequirements?.vitaminRequirementData;\r\n        const userData = applicationContext.userData\r\n        const dataSettings = applicationContext.dataSettings\r\n        const portionAmount = portionType_vitamins === AMOUNT_100_GRAM ? 100 : props.selectedFoodItem.portion.amount\r\n\r\n        if (!vitaminData || !requirementData) {\r\n            return null\r\n        }\r\n\r\n        const chartDisplayData = getVitaminChartData(vitaminData, requirementData, userData, dataSettings, portionAmount)\r\n\r\n        const chartColor = props.directCompareConfig && props.directCompareConfig.barChartColor\r\n            ? props.directCompareConfig.barChartColor\r\n            : ChartConfig.color_chart_green_3\r\n\r\n        return {\r\n            labels: chartDisplayData.labels,\r\n            datasets: [{\r\n                label: applicationStrings.label_charttype_vitamins[lang],\r\n                data: chartDisplayData.values,\r\n                backgroundColor: chartColor,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        }\r\n    }\r\n\r\n    const createMineralChartData = () => {\r\n        const mineralData = props.precalculatedData !== undefined ? props.precalculatedData : getNutrientData(props.selectedFoodItem).mineralData;\r\n        const requirementData = applicationContext.foodDataCorpus.dietaryRequirements?.mineralRequirementData;\r\n        const userData = applicationContext.userData\r\n        const portionAmount = portionType_minerals === AMOUNT_100_GRAM ? 100 : props.selectedFoodItem.portion.amount\r\n\r\n        if (!mineralData || !requirementData) {\r\n            return null\r\n        }\r\n\r\n        const chartDisplayData = getMineralsChartData(mineralData, requirementData, userData, portionAmount, lang)\r\n\r\n        const chartColor = props.directCompareConfig && props.directCompareConfig.barChartColor\r\n            ? props.directCompareConfig.barChartColor\r\n            : ChartConfig.color_purple\r\n\r\n        return {\r\n            labels: chartDisplayData.labels,\r\n            datasets: [{\r\n                label: applicationStrings.label_charttype_minerals[lang],\r\n                data: chartDisplayData.values,\r\n                backgroundColor: chartColor,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        };\r\n    }\r\n\r\n    const handleRadioButtonClick = (event: any): void => {\r\n        const value=event.target.value\r\n        if (props.selectedSubChart === CHART_VITAMINS) {\r\n            setPortionType_vitamins(value)\r\n        } else if (props.selectedSubChart === CHART_MINERALS) {\r\n            setPortionType_minerals(value)\r\n        }\r\n    }\r\n\r\n    const handleExpandCheckbox = () => {\r\n        if (props.selectedSubChart === CHART_VITAMINS) {\r\n            setExpand100_vitamins(!expand100_vitamins)\r\n        } else if (props.selectedSubChart === CHART_MINERALS) {\r\n            setExpand100_minerals(!expand100_minerals)\r\n        }\r\n    }\r\n\r\n    const openVitaminMineralBook = (selectedColumn: string) => {\r\n        setSelectedColumnLabel(selectedColumn)\r\n        setShowBookModal(true)\r\n    }\r\n\r\n    const getOptions = (title, maxValue, data) => {\r\n        const expand100 = props.selectedSubChart === CHART_VITAMINS ? expand100_vitamins : expand100_minerals;\r\n        const overallMaxValue = props.directCompareConfig && props.directCompareConfig.maxValue\r\n            ? props.directCompareConfig.maxValue\r\n            : maxValue\r\n\r\n        let maxYValue\r\n        if (!props.directCompareConfig) {\r\n            if (expand100 && overallMaxValue < 100) {\r\n                maxYValue = 100\r\n            }\r\n        } else {\r\n            if (props.directCompareConfig.maxValue) {\r\n                maxYValue = props.directCompareConfig.maxValue\r\n            }\r\n            if (expand100) {\r\n                if (maxYValue === undefined) {\r\n                    if (overallMaxValue < 100) {\r\n                        maxYValue = 100\r\n                    }\r\n                } else if (maxYValue < 100) {\r\n                    maxYValue = 100\r\n                }\r\n            }\r\n        }\r\n\r\n        const getScientificVitaminName = (vitamin: string): string | null => {\r\n            const includeProvitamins = applicationContext.dataSettings.includeProvitamins === OPTION_YES\r\n            if((vitamin.toLowerCase() === \"a\" || vitamin.toLowerCase() === \"e\") && !includeProvitamins) {\r\n                return null\r\n            }\r\n\r\n            const labelName = \"label_nutrient_vit_scientific_\" + vitamin.toLowerCase()\r\n            if(applicationStrings[labelName]) {\r\n                return applicationStrings[labelName][lang]\r\n            } else {\r\n                return null\r\n            }\r\n        }\r\n\r\n        let barChartOptions = getBarChartOptions(title, \"%\", maxYValue);\r\n\r\n        const handleChartClick = (c, i) => {\r\n            if(i && i[0]) {\r\n                const clickedColumnIndex = i[0].index;\r\n                const columnLabel = data.labels[clickedColumnIndex]\r\n                openVitaminMineralBook(columnLabel)\r\n            }\r\n        }\r\n\r\n        if (props.selectedSubChart === CHART_VITAMINS) {\r\n            barChartOptions = {\r\n                ...barChartOptions, plugins: {\r\n                    ...barChartOptions.plugins, tooltip: {\r\n                        ...barChartOptions.plugins.tooltip, callbacks: {\r\n                            ...barChartOptions.plugins.tooltip.callbacks,\r\n                            title: function (context) {\r\n                                if (context && context.length > 0) {\r\n                                    const scientificName = getScientificVitaminName(context[0].label)\r\n                                    let title = `Vitamin ${context[0].label}`\r\n                                    if(scientificName) {\r\n                                        title = `${title}  (${scientificName})`\r\n                                    }\r\n                                    return title\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                onClick: handleChartClick\r\n            }\r\n        }\r\n\r\n        return barChartOptions\r\n    }\r\n\r\n\r\n    const renderChartConfigurationForm = () => {\r\n        const portionType = props.selectedSubChart === CHART_VITAMINS ? portionType_vitamins : portionType_minerals;\r\n        const expand100 = props.selectedSubChart === CHART_VITAMINS ? expand100_vitamins : expand100_minerals;\r\n\r\n        const barChartProps = {\r\n            selectedFoodItem: props.selectedFoodItem,\r\n            portionType: portionType,\r\n            expand100: expand100,\r\n            handleRadioButtonClick: handleRadioButtonClick,\r\n            handleExpandCheckboxClick: handleExpandCheckbox\r\n        }\r\n\r\n        return <BarChartConfigurationForm {...barChartProps} />\r\n    }\r\n\r\n\r\n    const data = props.selectedSubChart === CHART_VITAMINS ? createVitaminChartData() : createMineralChartData();\r\n    if (!data) {\r\n        return <div/>\r\n    }\r\n\r\n    const maxValue = (data && data.datasets && data.datasets.length > 0) ? Math.max(...data.datasets[0].data) : 0;\r\n\r\n    const title = props.selectedSubChart === CHART_VITAMINS ? applicationStrings.label_charttype_vitamins[lang] :\r\n        applicationStrings.label_charttype_minerals[lang];\r\n\r\n    const options = getOptions(title, maxValue, data);\r\n    const containerHeight = calculateChartContainerHeight(windowSize, props.directCompareUse)\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\" style={{height: containerHeight}} key={\"base chart container \" + containerHeight}>\r\n                <div className={\"col-12\"}>\r\n                    <Bar\r\n                        data={data}\r\n                        key={'chart ' + chartHeight}\r\n                        height={chartHeight}\r\n                        options={options}\r\n                    />\r\n                </div>\r\n            </div>\r\n            {props.directCompareUse !== true &&\r\n            <div className=\"chart-control-button-bar\">\r\n                {renderChartConfigurationForm()}\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n\r\n}","import {LipidData, OmegaData} from \"../../types/nutrientdata/FoodItem\";\r\nimport {autoRound} from \"../calculation/MathService\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport * as ChartConfig from \"../../config/ChartConfig\";\r\nimport {ChartDisplayData, LegendData} from \"../../types/livedata/ChartDisplayData\";\r\n\r\nexport function getTotalLipidsChartData(lipidsData: LipidData, hideRemainders: boolean, portionAmount: number,\r\n                                           language: string): ChartDisplayData {\r\n    const {saturated, unsaturatedMono, unsaturatedPoly} = lipidsData\r\n\r\n    let valueRemainder = portionAmount - (saturated!! + unsaturatedMono!! + unsaturatedPoly!!);\r\n    if (valueRemainder < 0) {\r\n        valueRemainder = 0\r\n    }\r\n\r\n    const portionAmountToUse = hideRemainders ? portionAmount - valueRemainder : portionAmount\r\n    valueRemainder = autoRound(valueRemainder / portionAmount * 100);\r\n\r\n    const valueSaturated = autoRound(saturated!! / portionAmountToUse * 100);\r\n    const valueUnsaturatedMono = autoRound(unsaturatedMono!! / portionAmountToUse * 100);\r\n    const valueUnsaturatedPoly = autoRound(unsaturatedPoly!! / portionAmountToUse * 100);\r\n\r\n    const labels: string[] = [applicationStrings.label_nutrient_lipids_saturated_short[language],\r\n        applicationStrings.label_nutrient_lipids_unsaturated_mono_short[language],\r\n        applicationStrings.label_nutrient_lipids_unsaturated_poly_short[language]]\r\n\r\n    const colors: string[] = [\r\n        ChartConfig.color_lipids_saturated,\r\n        ChartConfig.color_lipids_unsaturated_mono,\r\n        ChartConfig.color_lipids_unsaturated_poly]\r\n\r\n    const values: number[] = [valueSaturated,\r\n        valueUnsaturatedMono,\r\n        valueUnsaturatedPoly]\r\n\r\n    if(!hideRemainders) {\r\n        labels.push(applicationStrings.label_nutrient_remainder[language])\r\n        colors.push(ChartConfig.color_lipids_misc)\r\n        values.push(valueRemainder)\r\n    }\r\n\r\n    return {\r\n        labels: labels,\r\n        values: values,\r\n        colors: colors\r\n    }\r\n}\r\n\r\n\r\nexport function getOmegaChartData(omegaData: OmegaData, hideRemainders: boolean, totalAmount: number, lang: string): ChartDisplayData | null {\r\n    if (omegaData === null || omegaData.omega3 === null || omegaData.omega6 === null || omegaData.uncertain === null) {\r\n        return null;\r\n    }\r\n\r\n    const valueOmega3 = autoRound(omegaData.omega3 / totalAmount * 100);\r\n    const valueOmega6 = autoRound(omegaData.omega6 / totalAmount * 100);\r\n    const valueUncertain = autoRound(omegaData.uncertain / totalAmount * 100);\r\n\r\n    const labels: string[] = [applicationStrings.label_nutrient_omega3[lang],\r\n        applicationStrings.label_nutrient_omega6[lang]]\r\n\r\n    const values: number[] = [valueOmega3,\r\n        valueOmega6]\r\n\r\n    const colors: string[] = [\r\n        ChartConfig.color_lipids_omega3,\r\n        ChartConfig.color_lipids_omega6\r\n    ]\r\n\r\n    if(!hideRemainders) {\r\n        labels.push(applicationStrings.label_unknown[lang])\r\n        colors.push(ChartConfig.color_lipids_misc)\r\n        values.push(valueUncertain)\r\n    }\r\n\r\n    return {\r\n        labels: labels,\r\n        values: values,\r\n        colors: colors\r\n    }\r\n}\r\n\r\n\r\nexport function getLipidsBaseChartLegend(language: string): LegendData[] {\r\n    return [\r\n        {\r\n            item: applicationStrings.label_nutrient_lipids_saturated[language],\r\n            color: ChartConfig.color_lipids_saturated,\r\n        },\r\n        {\r\n            item: applicationStrings.label_nutrient_lipids_unsaturated_mono[language],\r\n            color: ChartConfig.color_lipids_unsaturated_mono\r\n        },\r\n        {\r\n            item: applicationStrings.label_nutrient_lipids_unsaturated_poly[language],\r\n            color: ChartConfig.color_lipids_unsaturated_poly,\r\n        },\r\n        {\r\n            item: applicationStrings.label_nutrient_remainder[language],\r\n            color: ChartConfig.color_lipids_misc\r\n        },\r\n    ];\r\n}\r\n\r\nexport function getLipidsOmegaChartLegend(language: string): LegendData[] {\r\n    return [\r\n        {\r\n            item: applicationStrings.label_nutrient_omega3[language],\r\n            color: ChartConfig.color_lipids_omega3,\r\n        },\r\n        {\r\n            item: applicationStrings.label_nutrient_omega6[language],\r\n            color: ChartConfig.color_lipids_omega6\r\n        },\r\n        {\r\n            item: applicationStrings.label_unknown[language],\r\n            color: ChartConfig.color_lipids_misc,\r\n        },\r\n    ];\r\n}","import {useContext, useEffect, useState} from \"react\";\r\n\r\nimport {default_chart_height} from \"../../../config/ChartConfig\"\r\nimport * as Constants from \"../../../config/Constants\"\r\nimport {CHART_TYPE_BAR, CHART_TYPE_PIE, LIPIDS_DATA_BASE} from \"../../../config/Constants\"\r\nimport {Bar, Pie} from \"react-chartjs-2\";\r\nimport {getBarChartOptions, getPieChartOptions} from \"../../../service/ChartConfigurationService\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport {OmegaData} from \"../../../types/nutrientdata/FoodItem\";\r\nimport {initialChartConfigData, minimalOmegaRatio} from \"../../../config/ApplicationSetting\";\r\nimport {CustomLegend} from \"../../charthelper/CustomLegend\";\r\nimport {PieChartConfigurationForm} from \"../../charthelper/PieChartConfigurationForm\";\r\nimport {Form} from \"react-bootstrap\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {LipidsDataChartProps} from \"../../../types/livedata/ChartPropsData\";\r\nimport {calculateChartContainerHeight, calculateChartHeight} from \"../../../service/ChartSizeCalculation\";\r\nimport {useWindowDimension} from \"../../../service/WindowDimension\";\r\nimport {getNutrientData} from \"../../../service/nutrientdata/NutrientDataRetriever\";\r\nimport {\r\n    getLipidsBaseChartLegend,\r\n    getLipidsOmegaChartLegend,\r\n    getOmegaChartData,\r\n    getTotalLipidsChartData\r\n} from \"../../../service/chartdata/LipidsChartDataService\";\r\n\r\nexport default function LipidsDataChart(props: LipidsDataChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n    const windowSize = useWindowDimension()\r\n\r\n    const chartConfig = props.directCompareConfig\r\n        ? props.directCompareConfig\r\n        : applicationContext\r\n            ? applicationContext.applicationData.foodDataPanel.chartConfigData.lipidsChartConfig\r\n            : initialChartConfigData.lipidsChartConfig\r\n\r\n    const initialExpand100 =  props.directCompareConfig\r\n        ? applicationContext?.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig.expand100\r\n        : chartConfig.expand100\r\n\r\n    const initialHideRemainders =  props.directCompareConfig\r\n        ? applicationContext?.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig.hideRemainders\r\n        : chartConfig.hideRemainders\r\n\r\n    const [chartType, setChartType] = useState<string>(chartConfig.chartType)\r\n    const [showLegend, setShowLegend] = useState<boolean>(chartConfig.showLegend)\r\n    const [hideRemainders, setShowHideRemainders] = useState<boolean>(initialHideRemainders ? initialHideRemainders : false)\r\n    const [expand100, setExpand100] = useState<boolean>(initialExpand100 ? initialExpand100 : false)\r\n    const [subChart, setSubChart] = useState<string>(chartConfig.subChart ? chartConfig.subChart : LIPIDS_DATA_BASE)\r\n    const [chartHeight, setChartHeight] = useState<number>(calculateChartHeight(windowSize, props.directCompareUse))\r\n\r\n    useEffect(() => {\r\n        if (props.directCompareConfig) {\r\n            setChartType(chartConfig.chartType)\r\n            setShowLegend(chartConfig.showLegend)\r\n            setSubChart(chartConfig.subChart ? chartConfig.subChart : LIPIDS_DATA_BASE)\r\n        }\r\n\r\n        setChartHeight(calculateChartHeight(windowSize, props.directCompareUse))\r\n        updateChartConfig()\r\n    }, [chartType, showLegend, hideRemainders, expand100, subChart, chartHeight, windowSize, props])\r\n\r\n    const updateChartConfig = () => {\r\n        if (applicationContext && !props.directCompareConfig) {\r\n            const currentConfig = applicationContext.applicationData.foodDataPanel.chartConfigData.lipidsChartConfig\r\n            if (chartType !== currentConfig.chartType\r\n                || hideRemainders !== currentConfig.hideRemainders\r\n                || expand100 !== currentConfig.expand100\r\n                || subChart !== currentConfig.subChart\r\n                || showLegend !== currentConfig.showLegend) {\r\n                const newChartConfig = {\r\n                    ...applicationContext.applicationData.foodDataPanel.chartConfigData,\r\n                    lipidsChartConfig: {\r\n                        chartType: chartType,\r\n                        showLegend: showLegend,\r\n                        subChart: subChart,\r\n                        hideRemainders: hideRemainders,\r\n                        expand100: expand100\r\n                    }\r\n                }\r\n                applicationContext.setFoodDataPanelData.updateFoodDataPanelChartConfig(newChartConfig)\r\n            }\r\n        } else if(applicationContext) {\r\n            const currentConfig = applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig\r\n            if (hideRemainders !== currentConfig.hideRemainders\r\n                || expand100 !== currentConfig.expand100) {\r\n                applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig.expand100 = expand100\r\n                applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig.hideRemainders = hideRemainders\r\n            }\r\n        }\r\n    }\r\n\r\n    const totalLipidsAmount = getNutrientData(props.selectedFoodItem).baseData.lipids;\r\n\r\n    const handleChartSelectionChange = (event: any) => {\r\n        const value = event.target.value\r\n        if (props.directCompareConfig && props.directCompareConfig.handleSubchartChange) {\r\n            props.directCompareConfig.handleSubchartChange(event)\r\n        } else {\r\n            setSubChart(value)\r\n        }\r\n    }\r\n\r\n    const handleExpand100Change = () => {\r\n        setExpand100(!expand100)\r\n    }\r\n\r\n    const handleHideRemaindersCheckbox = () => {\r\n        setShowHideRemainders(!hideRemainders)\r\n    }\r\n\r\n    const createTotalChartData = (totalAmount: number): any => {\r\n        const chartDisplayData  = getTotalLipidsChartData(lipidData, hideRemainders, totalAmount, lang)\r\n\r\n        return {\r\n            labels: chartDisplayData.labels,\r\n            datasets: [{\r\n                data: chartDisplayData.values,\r\n                backgroundColor: chartDisplayData.colors,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        };\r\n    }\r\n\r\n\r\n    const createOmegaChartData = (totalAmount: number, omegaData: OmegaData) => {\r\n        const chartDisplayData = getOmegaChartData(omegaData, hideRemainders, totalAmount, lang)\r\n        if(!chartDisplayData) {\r\n            return null\r\n        }\r\n\r\n        return {\r\n            labels: chartDisplayData.labels,\r\n            datasets: [{\r\n                data: chartDisplayData.values,\r\n                backgroundColor: chartDisplayData.colors,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        };\r\n\r\n    }\r\n\r\n    const handleRadioButtonClick = (event: any) => {\r\n        setChartType(event.target.value)\r\n    }\r\n\r\n    const handleLegendCheckbox = () => {\r\n        setShowLegend(!showLegend)\r\n    }\r\n\r\n    const lipidData = getNutrientData(props.selectedFoodItem).lipidData;\r\n\r\n    let omegaDataAvailabe = false\r\n    if (lipidData.omegaData && lipidData.omegaData.uncertainRatio && lipidData.omegaData.uncertainRatio <= minimalOmegaRatio) {\r\n        omegaDataAvailabe = true\r\n    }\r\n\r\n    const chartColType = chartType === CHART_TYPE_PIE ? \"col-6\" : \"col-8\";\r\n\r\n    const getOptions = () => {\r\n        let title;\r\n\r\n        if (subChart === Constants.LIPIDS_DATA_BASE) {\r\n            title = applicationStrings.label_charttype_lipids_base_title[lang]\r\n        } else if (subChart === Constants.LIPIDS_DATA_OMEGA) {\r\n            title = applicationStrings.label_charttype_lipids_omega_title[lang];\r\n        }\r\n\r\n        if (chartType === CHART_TYPE_BAR) {\r\n            return expand100 ? getBarChartOptions(title, \"%\", 100) : getBarChartOptions(title, \"%\");\r\n        } else {\r\n            return getPieChartOptions(title, \"%\");\r\n        }\r\n    }\r\n\r\n    const renderChartSelector = () => {\r\n        return (\r\n            <div>\r\n                <Form>\r\n                    <Form.Label>\r\n                        <b>{applicationStrings.label_datatype[languageContext.language]}:</b>\r\n                    </Form.Label>\r\n                    <Form.Check inline={false}\r\n                                className=\"form-radiobutton\"\r\n                                label={applicationStrings.label_charttype_lipids_base[lang]}\r\n                                type=\"radio\"\r\n                                value={Constants.LIPIDS_DATA_BASE}\r\n                                checked={subChart === Constants.LIPIDS_DATA_BASE}\r\n                                onChange={handleChartSelectionChange}>\r\n                    </Form.Check>\r\n                    <Form.Check inline={false}\r\n                                className=\"form-radiobutton\"\r\n                                label={applicationStrings.label_charttype_lipids_omega[lang]}\r\n                                type=\"radio\"\r\n                                value={Constants.LIPIDS_DATA_OMEGA}\r\n                                checked={subChart === Constants.LIPIDS_DATA_OMEGA}\r\n                                onChange={handleChartSelectionChange}>\r\n                    </Form.Check>\r\n                </Form>\r\n                <hr/>\r\n                <Form>\r\n                    <Form.Check inline={false}\r\n                                className=\"form-radiobutton\"\r\n                                label={applicationStrings.checkbox_expand100g[lang]}\r\n                                type=\"checkbox\"\r\n                                disabled={chartType === Constants.CHART_TYPE_PIE}\r\n                                checked={expand100}\r\n                                onChange={handleExpand100Change}>\r\n                    </Form.Check>\r\n                    <Form.Check inline={false}\r\n                                className=\"form-radiobutton\"\r\n                                label={applicationStrings.checkbox_chartoption_hideRemainders[lang]}\r\n                                type=\"checkbox\"\r\n                                disabled={subChart === Constants.LIPIDS_DATA_OMEGA}\r\n                                checked={hideRemainders}\r\n                                onChange={handleHideRemaindersCheckbox}>\r\n                    </Form.Check>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const renderChart = (lipidsType) => {\r\n        const {saturated, unsaturatedMono, unsaturatedPoly, omegaData} = lipidData\r\n\r\n        let data\r\n        if (lipidsType === Constants.LIPIDS_DATA_BASE) {\r\n            if (!saturated || !unsaturatedMono || !unsaturatedPoly) {\r\n                return <div style={{height: default_chart_height}}>{applicationStrings.label_noData[lang]}</div>\r\n            }\r\n            data = createTotalChartData(totalLipidsAmount);\r\n        } else if (lipidsType === Constants.LIPIDS_DATA_OMEGA) {\r\n            if (omegaData) {\r\n                data = createOmegaChartData(totalLipidsAmount, omegaData)\r\n            }\r\n\r\n            if (!omegaData) {\r\n                return <div style={{height: default_chart_height}}>{applicationStrings.label_noData[lang]}</div>\r\n            }\r\n        }\r\n\r\n        if (!data) {\r\n            return <div style={{height: default_chart_height}}>{applicationStrings.label_noData[lang]}</div>\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {chartType === CHART_TYPE_PIE &&\r\n                <Pie data={data}\r\n                     key={'chart ' + chartHeight}\r\n                     height={chartHeight}\r\n                     options={getOptions()}\r\n                />\r\n                }\r\n                {chartType === CHART_TYPE_BAR &&\r\n                <Bar data={data}\r\n                     key={'chart ' + chartHeight}\r\n                     height={chartHeight}\r\n                     options={getOptions()}\r\n                />\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    //const height = props.directCompareUse === true ? direct_compare_chartheight : default_chart_height\r\n    const containerHeight = calculateChartContainerHeight(windowSize, props.directCompareUse)\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\" style={{height: containerHeight}} key={\"lipids container \" + containerHeight}>\r\n                <div className=\"col-3 text-align-center\">\r\n                    {renderChartSelector()}\r\n                </div>\r\n                <div className={chartColType}>\r\n                    {subChart === Constants.LIPIDS_DATA_BASE &&\r\n                    renderChart(Constants.LIPIDS_DATA_BASE)\r\n                    }\r\n                    {omegaDataAvailabe && subChart === Constants.LIPIDS_DATA_OMEGA &&\r\n                    renderChart(Constants.LIPIDS_DATA_OMEGA)\r\n                    }\r\n                    {!omegaDataAvailabe && subChart === Constants.LIPIDS_DATA_OMEGA &&\r\n                    <div style={{height: default_chart_height}}>{applicationStrings.label_noData[lang]}</div>\r\n                    }\r\n                </div>\r\n\r\n                {showLegend && chartType === CHART_TYPE_PIE &&\r\n                <div className=\"col-3\">\r\n                    {subChart === Constants.LIPIDS_DATA_BASE &&\r\n                    <CustomLegend legendData={getLipidsBaseChartLegend(lang)}/>\r\n                    }\r\n                    {subChart === Constants.LIPIDS_DATA_OMEGA &&\r\n                    <CustomLegend legendData={getLipidsOmegaChartLegend(lang)}/>\r\n                    }\r\n                </div>\r\n                }\r\n            </div>\r\n            {!props.directCompareConfig &&\r\n            <div className=\"row chart-control-button-bar\">\r\n                <PieChartConfigurationForm key={\"Config Lipids Chart\"}\r\n                                           chartType={chartType}\r\n                                           showLegend={showLegend}\r\n                                           handleRadioButtonClick={handleRadioButtonClick}\r\n                                           handleLegendCheckboxClick={handleLegendCheckbox}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    );\r\n\r\n}","import {useContext, useEffect, useState} from \"react\";\r\nimport {AMOUNT_PORTION} from \"../../../config/Constants\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport * as ChartConfig from \"../../../config/ChartConfig\"\r\nimport {getBarChartOptions} from \"../../../service/ChartConfigurationService\"\r\nimport {Bar} from \"react-chartjs-2\";\r\nimport {initialChartConfigData} from \"../../../config/ApplicationSetting\";\r\nimport {BarChartConfigurationForm} from \"../../charthelper/BarChartConfigurationForm\";\r\nimport {ProteinDataChartProps} from \"../../../types/livedata/ChartPropsData\";\r\nimport {useWindowDimension} from \"../../../service/WindowDimension\";\r\nimport {calculateChartContainerHeight, calculateChartHeight} from \"../../../service/ChartSizeCalculation\";\r\nimport {getNutrientData} from \"../../../service/nutrientdata/NutrientDataRetriever\";\r\nimport {getProteinChartData} from \"../../../service/chartdata/ProteinChartDataService\";\r\n\r\nexport default function ProteinDataChart(props: ProteinDataChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n    const windowSize = useWindowDimension()\r\n\r\n    const chartConfig = props.directCompareConfig\r\n        ? props.directCompareConfig\r\n        : applicationContext\r\n            ? applicationContext.applicationData.foodDataPanel.chartConfigData.proteinChartConfig\r\n            : initialChartConfigData.proteinChartConfig\r\n\r\n    const [portionType, setPortionType] = useState<string>(chartConfig.portionType)\r\n    const [expand100, setExpand100] = useState<boolean>(chartConfig.expand100)\r\n    const [chartHeight, setChartHeight] = useState<number>(calculateChartHeight(windowSize, props.directCompareUse))\r\n\r\n    useEffect(() => {\r\n        if (props.directCompareConfig) {\r\n            setExpand100(chartConfig.expand100)\r\n            setPortionType(chartConfig.portionType)\r\n        }\r\n\r\n        setChartHeight(calculateChartHeight(windowSize, props.directCompareUse))\r\n        updateChartConfig()\r\n    }, [portionType, expand100, chartHeight, props])\r\n\r\n    const updateChartConfig = () => {\r\n        if (applicationContext && !props.directCompareConfig) {\r\n            const currentSetting = applicationContext.applicationData.foodDataPanel.chartConfigData.proteinChartConfig\r\n            if (expand100 !== currentSetting.expand100 || portionType !== currentSetting.portionType) {\r\n                const newChartConfig = {\r\n                    ...applicationContext.applicationData.foodDataPanel.chartConfigData,\r\n                    proteinChartConfig: {\r\n                        portionType: portionType,\r\n                        expand100: expand100\r\n                    }\r\n                }\r\n                applicationContext.setFoodDataPanelData.updateFoodDataPanelChartConfig(newChartConfig)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    const createProteinChartData = () => {\r\n        const proteinData = getNutrientData(props.selectedFoodItem).proteinData;\r\n        if (!proteinData || !applicationContext) {\r\n            return null;\r\n        }\r\n\r\n        const requirementData = applicationContext.foodDataCorpus.dietaryRequirements?.proteinRequirementData;\r\n        if (!requirementData) {\r\n            return null;\r\n        }\r\n\r\n        const userData = applicationContext.userData;\r\n        const portionAmount = portionType === AMOUNT_PORTION ? props.selectedFoodItem.portion.amount : 100;\r\n        const chartDisplayData = getProteinChartData(proteinData, requirementData, userData, portionAmount, lang)\r\n\r\n        const chartColor = props.directCompareConfig && props.directCompareConfig.barChartColor\r\n            ? props.directCompareConfig.barChartColor\r\n            : ChartConfig.color_proteins\r\n\r\n        return {\r\n            labels: chartDisplayData.labels,\r\n            datasets: [{\r\n                label: applicationStrings.label_charttype_proteins[lang],\r\n                data: chartDisplayData.values,\r\n                backgroundColor: chartColor,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        }\r\n    }\r\n\r\n\r\n    const handleRadioButtonClick = (event: any) => {\r\n        const value=event.target.value\r\n        setPortionType(value)\r\n    }\r\n\r\n    const handleExpandCheckbox = () => {\r\n        setExpand100(!expand100)\r\n    }\r\n\r\n    const getOptions = (title, maxValue) => {\r\n        const overallMaxValue = props.directCompareConfig && props.directCompareConfig.maxValue\r\n            ? props.directCompareConfig.maxValue\r\n            : maxValue\r\n\r\n        let maxYValue\r\n        if (!props.directCompareConfig) {\r\n            if (expand100 && overallMaxValue < 100) {\r\n                maxYValue = 100\r\n            }\r\n        } else {\r\n            if (props.directCompareConfig.maxValue) {\r\n                maxYValue = props.directCompareConfig.maxValue\r\n            }\r\n            if (expand100) {\r\n                if (maxYValue === undefined) {\r\n                    if (overallMaxValue < 100) {\r\n                        maxYValue = 100\r\n                    }\r\n                } else if (maxYValue < 100) {\r\n                    maxYValue = 100\r\n                }\r\n            }\r\n        }\r\n\r\n        return getBarChartOptions(title, \"%\", maxYValue);\r\n    }\r\n\r\n    const renderChartConfigurationForm = () => {\r\n        const barChartProps = {\r\n            selectedFoodItem: props.selectedFoodItem,\r\n            portionType: portionType,\r\n            expand100: expand100,\r\n            handleRadioButtonClick: handleRadioButtonClick,\r\n            handleExpandCheckboxClick: handleExpandCheckbox\r\n        }\r\n\r\n        return <BarChartConfigurationForm {...barChartProps} />\r\n    }\r\n\r\n    const data = createProteinChartData();\r\n    if (!data) {\r\n        return <div/>\r\n    }\r\n\r\n    const maxValue = (data && data.datasets && data.datasets.length > 0) ? Math.max(...data.datasets[0].data) : 0;\r\n    const options = getOptions(applicationStrings.label_charttype_proteins[lang], maxValue);\r\n    const dataExists = data.datasets && data.datasets[0].data && data.datasets[0].data.length > 0\r\n\r\n    const containerHeight = calculateChartContainerHeight(windowSize,  props.directCompareUse)\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\" style={{height: containerHeight}} key={\"base chart container \" + containerHeight}>\r\n                <div className=\"col-12\">\r\n                    {dataExists &&\r\n                    <Bar\r\n                        data={data}\r\n                        key={'chart ' + chartHeight}\r\n                        height={chartHeight}\r\n                        options={options}\r\n                    />\r\n                    }\r\n                    {!dataExists &&\r\n                    <p className=\"text-center\" style={{height: ChartConfig.default_chart_height}}>\r\n                        {applicationStrings.label_noData[lang]}\r\n                    </p>\r\n                    }\r\n                </div>\r\n            </div>\r\n            {props.directCompareUse !== true &&\r\n            <div className=\"row chart-control-button-bar\">\r\n                {renderChartConfigurationForm()}\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n\r\n}","import {UserData} from \"../../types/livedata/UserData\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {determineProteinRequirementRatio} from \"../calculation/DietaryRequirementService\";\r\nimport {ProteinData} from \"../../types/nutrientdata/FoodItem\";\r\nimport {ProteinRequirementData} from \"../../types/nutrientdata/DietaryRequirement\";\r\nimport {ChartDisplayData} from \"../../types/livedata/ChartDisplayData\";\r\n\r\nexport function getProteinChartData(proteinData: ProteinData, requirementData: ProteinRequirementData,\r\n                                    userData: UserData, portionAmount: number, lang: string): ChartDisplayData {\r\n    const labels: Array<string> = [];\r\n    const values: Array<number> = [];\r\n\r\n    if (proteinData.histidine !== null) {\r\n        labels.push(applicationStrings.label_nutrient_proteins_histidine[lang]);\r\n        values.push(determineProteinRequirementRatio(\r\n            requirementData.histidine, proteinData.histidine, portionAmount, userData)\r\n        )\r\n    }\r\n\r\n    if (proteinData.isoleucine !== null) {\r\n        labels.push(applicationStrings.label_nutrient_proteins_isoleucine[lang]);\r\n        values.push(determineProteinRequirementRatio(\r\n            requirementData.isoleucine, proteinData.isoleucine, portionAmount, userData)\r\n        )\r\n    }\r\n\r\n    if (proteinData.leucine !== null) {\r\n        labels.push(applicationStrings.label_nutrient_proteins_leucine[lang]);\r\n        values.push(determineProteinRequirementRatio(\r\n            requirementData.leucine, proteinData.leucine, portionAmount, userData)\r\n        )\r\n    }\r\n\r\n    if (proteinData.lysine !== null) {\r\n        labels.push(applicationStrings.label_nutrient_proteins_lysine[lang]);\r\n        values.push(determineProteinRequirementRatio(\r\n            requirementData.lysine, proteinData.lysine, portionAmount, userData)\r\n        )\r\n    }\r\n\r\n    if (proteinData.methionine !== null) {\r\n        labels.push(applicationStrings.label_nutrient_proteins_methionine[lang]);\r\n        values.push(determineProteinRequirementRatio(\r\n            requirementData.methionine, proteinData.methionine, portionAmount, userData)\r\n        )\r\n    }\r\n\r\n    if (proteinData.phenylalanine !== null) {\r\n        labels.push(applicationStrings.label_nutrient_proteins_phenylalanine[lang]);\r\n        values.push(determineProteinRequirementRatio(\r\n            requirementData.phenylalanine, proteinData.phenylalanine, portionAmount, userData)\r\n        )\r\n    }\r\n\r\n    if (proteinData.threonine !== null) {\r\n        labels.push(applicationStrings.label_nutrient_proteins_threonine[lang]);\r\n        values.push(determineProteinRequirementRatio(\r\n            requirementData.threonine, proteinData.threonine, portionAmount, userData)\r\n        )\r\n    }\r\n\r\n    if (proteinData.tryptophan !== null) {\r\n        labels.push(applicationStrings.label_nutrient_proteins_tryptophan[lang]);\r\n        values.push(determineProteinRequirementRatio(\r\n            requirementData.tryptophan, proteinData.tryptophan, portionAmount, userData)\r\n        )\r\n    }\r\n\r\n    if (proteinData.valine !== null) {\r\n        labels.push(applicationStrings.label_nutrient_proteins_valine[lang]);\r\n        values.push(determineProteinRequirementRatio(\r\n            requirementData.valine, proteinData.valine, portionAmount, userData)\r\n        )\r\n    }\r\n\r\n    if (proteinData.cystine !== null) {\r\n        labels.push(applicationStrings.label_nutrient_proteins_cystine[lang]);\r\n        values.push(determineProteinRequirementRatio(\r\n            requirementData.cystine, proteinData.cystine, portionAmount, userData)\r\n        )\r\n    }\r\n\r\n    return {\r\n        labels: labels,\r\n        values: values\r\n    }\r\n}","import {autoRound} from \"../calculation/MathService\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport * as ChartConfig from \"../../config/ChartConfig\";\r\nimport {NutrientData} from \"../../types/nutrientdata/FoodItem\";\r\nimport {ChartDisplayData, LegendData} from \"../../types/livedata/ChartDisplayData\";\r\n\r\nexport function getCarbBaseChartData(nutrientData: NutrientData, hideRemainders: boolean, totalAmount: number,\r\n                                     language: string): ChartDisplayData | null {\r\n    let totalCarbsAmount = nutrientData.baseData.carbohydrates;\r\n    let dietaryFibers = nutrientData.baseData.dietaryFibers;\r\n    let sugar = nutrientData.carbohydrateData.sugar\r\n\r\n    // NOTE: Sometimes the sugar or dietary fibers value is above the carbs value, which is impossible (> 100 %)\r\n    if(sugar && (sugar > totalCarbsAmount)) {\r\n        sugar = totalCarbsAmount\r\n    }\r\n    if(dietaryFibers && (dietaryFibers > totalCarbsAmount)) {\r\n        dietaryFibers = totalCarbsAmount\r\n    }\r\n    if(sugar && dietaryFibers && (sugar + dietaryFibers > totalCarbsAmount)) {  // Special case, where sug + fibers are above the 100 %\r\n        sugar = (sugar / (sugar+dietaryFibers)) * totalCarbsAmount\r\n        dietaryFibers = (dietaryFibers / (sugar+dietaryFibers)) * totalCarbsAmount\r\n    }\r\n\r\n    if (!sugar || !dietaryFibers) {\r\n        return null\r\n    }\r\n\r\n    let valueRemainder = totalCarbsAmount - (sugar + dietaryFibers);\r\n    if (valueRemainder < 0) {\r\n        valueRemainder = 0\r\n    }\r\n\r\n    totalCarbsAmount = hideRemainders ? totalCarbsAmount - valueRemainder : totalCarbsAmount\r\n    valueRemainder = autoRound(valueRemainder / totalCarbsAmount * 100);\r\n\r\n    const valueSugar = autoRound(sugar / totalCarbsAmount * 100);\r\n    const valueDietaryFibers = autoRound(dietaryFibers / totalCarbsAmount * 100);\r\n\r\n    if (totalCarbsAmount === 0) {\r\n        return null;\r\n    }\r\n\r\n    const labels = [applicationStrings.label_nutrient_sugar[language],\r\n        applicationStrings.label_nutrient_dietaryFibers[language],\r\n    ]\r\n\r\n    const data = [valueSugar,\r\n        valueDietaryFibers]\r\n\r\n    const colors = [\r\n        ChartConfig.color_chart_green_3,\r\n        ChartConfig.color_chart_green_2,\r\n    ]\r\n\r\n    if(!hideRemainders) {\r\n        labels.push(applicationStrings.label_nutrient_remainder[language])\r\n        colors.push(ChartConfig.color_chart_misc)\r\n        data.push(valueRemainder)\r\n    }\r\n\r\n    return {\r\n        labels: labels,\r\n        values: data,\r\n        colors: colors\r\n    }\r\n}\r\n\r\nexport function getCarbDetailsChartData(nutrientData: NutrientData, hideRemainders: boolean, totalAmount: number,\r\n                                        language: string): ChartDisplayData | null {\r\n    const {carbohydrateData, baseData} = nutrientData\r\n\r\n    const valueGlucose = carbohydrateData.glucose !== null ? autoRound(carbohydrateData.glucose / totalAmount * 100) : null;\r\n    const valueFructose = carbohydrateData.fructose !== null ? autoRound(carbohydrateData.fructose / totalAmount * 100) : null;\r\n    const valueGalactose = carbohydrateData.galactose !== null ? autoRound(carbohydrateData.galactose / totalAmount * 100) : null;\r\n    const valueSucrose = carbohydrateData.sucrose !== null ? autoRound(carbohydrateData.sucrose / totalAmount * 100) : null;\r\n    const valueLactose = carbohydrateData.lactose !== null ? autoRound(carbohydrateData.lactose / totalAmount * 100) : null;\r\n    const valueMaltose = carbohydrateData.maltose !== null ? autoRound(carbohydrateData.maltose / totalAmount * 100) : null;\r\n    const valueStarch = carbohydrateData.starch !== null ? autoRound(carbohydrateData.starch / totalAmount * 100) : null;\r\n\r\n    const valueDietaryFibers = baseData.dietaryFibers !== null ? autoRound(baseData.dietaryFibers / totalAmount * 100) : null;\r\n\r\n    if (!valueMaltose && !valueSucrose && !valueLactose && !valueGlucose && !valueFructose && !valueGalactose) {\r\n        return null\r\n    }\r\n\r\n    let valueRemainder = 100\r\n\r\n    const labels: string[] = []\r\n    const data: number[] = []\r\n    const colors: string[] = []\r\n\r\n    if (valueGlucose) {\r\n        valueRemainder -= valueGlucose\r\n        labels.push(applicationStrings.label_nutrient_carbohydrates_glucose[language])\r\n        data.push(valueGlucose)\r\n        colors.push(ChartConfig.color_carbs_mono_glucose)\r\n    }\r\n    if (valueFructose) {\r\n        valueRemainder -= valueFructose\r\n        labels.push(applicationStrings.label_nutrient_carbohydrates_fructose[language])\r\n        data.push(valueFructose)\r\n        colors.push(ChartConfig.color_carbs_mono_fructose)\r\n    }\r\n    if (valueGalactose) {\r\n        valueRemainder -= valueGalactose\r\n        labels.push(applicationStrings.label_nutrient_carbohydrates_galactose[language])\r\n        data.push(valueGalactose)\r\n        colors.push(ChartConfig.color_carbs_mono_galactose)\r\n    }\r\n    if (valueSucrose) {\r\n        valueRemainder -= valueSucrose\r\n        labels.push(applicationStrings.label_nutrient_carbohydrates_sucrose[language])\r\n        data.push(valueSucrose)\r\n        colors.push(ChartConfig.color_carbs_di_sucrose)\r\n    }\r\n    if (valueLactose) {\r\n        valueRemainder -= valueLactose\r\n        labels.push(applicationStrings.label_nutrient_carbohydrates_lactose[language])\r\n        data.push(valueLactose)\r\n        colors.push(ChartConfig.color_carbs_di_lactose)\r\n    }\r\n    if (valueMaltose) {\r\n        valueRemainder -= valueMaltose\r\n        labels.push(applicationStrings.label_nutrient_carbohydrates_maltose[language])\r\n        data.push(valueMaltose)\r\n        colors.push(ChartConfig.color_carbs_di_maltose)\r\n    }\r\n    if (valueStarch) {\r\n        valueRemainder -= valueStarch\r\n        labels.push(applicationStrings.label_nutrient_carbohydrates_starch[language])\r\n        data.push(valueStarch)\r\n        colors.push(ChartConfig.color_carbs_starch)\r\n    }\r\n\r\n    if (valueDietaryFibers) {\r\n        valueRemainder -= valueDietaryFibers\r\n        labels.push(applicationStrings.label_nutrient_dietaryFibers[language])\r\n        data.push(valueDietaryFibers)\r\n        colors.push(ChartConfig.color_carbs_dietaryFibers)\r\n    }\r\n\r\n    valueRemainder = autoRound(valueRemainder);\r\n    if (valueRemainder < 0) {\r\n        valueRemainder = 0;\r\n    }\r\n\r\n    if(!hideRemainders) {\r\n        labels.push(applicationStrings.label_nutrient_remainder[language])\r\n        data.push(valueRemainder)\r\n        colors.push(ChartConfig.color_chart_misc)\r\n    }\r\n\r\n    return {\r\n        labels: labels,\r\n        values: data,\r\n        colors: colors\r\n    }\r\n}\r\n\r\n\r\nexport function getCarbsBaseLegend(labels: string[], language: string): LegendData[] {\r\n    const legendData: Array<any> = []\r\n\r\n    if (labels.includes(applicationStrings.label_nutrient_sugar[language])) {\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_sugar[language],\r\n            color: ChartConfig.color_chart_green_3,\r\n        })\r\n    }\r\n\r\n    if (labels.includes(applicationStrings.label_nutrient_dietaryFibers[language])) {\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_dietaryFibers[language],\r\n            color: ChartConfig.color_chart_green_2,\r\n        })\r\n    }\r\n\r\n    if (labels.includes(applicationStrings.label_nutrient_remainder[language])) {\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_remainder[language],\r\n            color: ChartConfig.color_chart_misc,\r\n        })\r\n    }\r\n\r\n    return legendData;\r\n}\r\n\r\n\r\nexport function getCarbsDetailsLegend(labels: string[], language: string): LegendData[] {\r\n    const legendData: Array<any> = []\r\n\r\n    if (labels.includes(applicationStrings.label_nutrient_carbohydrates_glucose[language])) {\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_carbohydrates_glucose[language],\r\n            color: ChartConfig.color_carbs_mono_glucose,\r\n        })\r\n    }\r\n\r\n    if (labels.includes(applicationStrings.label_nutrient_carbohydrates_fructose[language])) {\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_carbohydrates_fructose[language],\r\n            color: ChartConfig.color_carbs_mono_fructose,\r\n        })\r\n    }\r\n\r\n    if (labels.includes(applicationStrings.label_nutrient_carbohydrates_galactose[language])) {\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_carbohydrates_galactose[language],\r\n            color: ChartConfig.color_carbs_mono_galactose,\r\n        })\r\n    }\r\n\r\n    if (labels.includes(applicationStrings.label_nutrient_carbohydrates_sucrose[language])) {\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_carbohydrates_sucrose[language],\r\n            color: ChartConfig.color_carbs_di_sucrose,\r\n        })\r\n    }\r\n\r\n    if (labels.includes(applicationStrings.label_nutrient_carbohydrates_lactose[language])) {\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_carbohydrates_lactose[language],\r\n            color: ChartConfig.color_carbs_di_lactose,\r\n        })\r\n    }\r\n\r\n    if (labels.includes(applicationStrings.label_nutrient_carbohydrates_maltose[language])) {\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_carbohydrates_maltose[language],\r\n            color: ChartConfig.color_carbs_di_maltose,\r\n        })\r\n    }\r\n\r\n    if (labels.includes(applicationStrings.label_nutrient_carbohydrates_starch[language])) {\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_carbohydrates_starch[language],\r\n            color: ChartConfig.color_carbs_starch,\r\n        })\r\n    }\r\n\r\n    if (labels.includes(applicationStrings.label_nutrient_dietaryFibers[language])) {\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_dietaryFibers[language],\r\n            color: ChartConfig.color_carbs_dietaryFibers,\r\n        })\r\n    }\r\n\r\n    if (labels.includes(applicationStrings.label_nutrient_remainder[language])) {\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_remainder[language],\r\n            color: ChartConfig.color_chart_misc,\r\n        })\r\n    }\r\n\r\n    return legendData;\r\n}","import {useContext, useEffect, useState} from \"react\";\r\nimport * as ChartConfig from \"../../../config/ChartConfig\"\r\nimport * as Constants from \"../../../config/Constants\"\r\nimport {CARBS_DATA_BASE, CHART_TYPE_BAR, CHART_TYPE_PIE} from \"../../../config/Constants\"\r\nimport {Bar, Pie} from \"react-chartjs-2\";\r\nimport {getBarChartOptions, getPieChartOptions} from \"../../../service/ChartConfigurationService\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport {Form} from \"react-bootstrap\";\r\nimport {CustomLegend} from \"../../charthelper/CustomLegend\";\r\nimport {PieChartConfigurationForm} from \"../../charthelper/PieChartConfigurationForm\";\r\nimport {initialChartConfigData} from \"../../../config/ApplicationSetting\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {CarbDataChartProps} from \"../../../types/livedata/ChartPropsData\";\r\nimport {GeneralChartConfigDirectCompareWithSubCharts} from \"../../../types/livedata/ChartConfigData\";\r\nimport {useWindowDimension} from \"../../../service/WindowDimension\";\r\nimport {calculateChartContainerHeight, calculateChartHeight} from \"../../../service/ChartSizeCalculation\";\r\nimport {getNutrientData} from \"../../../service/nutrientdata/NutrientDataRetriever\";\r\nimport {\r\n    getCarbBaseChartData,\r\n    getCarbDetailsChartData,\r\n    getCarbsBaseLegend,\r\n    getCarbsDetailsLegend\r\n} from \"../../../service/chartdata/CarbsChartDataService\";\r\n\r\nexport default function CarbsDataChart(props: CarbDataChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n    const windowSize = useWindowDimension()\r\n\r\n    let chartConfig = props.directCompareConfig\r\n        ? props.directCompareConfig\r\n        : applicationContext\r\n            ? applicationContext.applicationData.foodDataPanel.chartConfigData.carbsChartConfig\r\n            : initialChartConfigData.carbsChartConfig\r\n\r\n    const initialExpand100 = props.directCompareConfig\r\n        ? applicationContext?.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig.expand100\r\n        : chartConfig.expand100\r\n\r\n    const initialHideRemainders = props.directCompareConfig\r\n        ? applicationContext?.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig.hideRemainders\r\n        : chartConfig.hideRemainders\r\n\r\n    const [chartType, setChartType] = useState<string>(chartConfig.chartType)\r\n    const [showLegend, setShowLegend] = useState<boolean>(chartConfig.showLegend)\r\n    const [hideRemainders, setShowHideRemainders] = useState<boolean>(initialHideRemainders ? initialHideRemainders : false)\r\n    const [expand100, setExpand100] = useState<boolean>(initialExpand100 ? initialExpand100 : false)\r\n    const [subChart, setSubChart] = useState<string>(chartConfig.subChart ? chartConfig.subChart : CARBS_DATA_BASE)\r\n    const [chartHeight, setChartHeight] = useState<number>(calculateChartHeight(windowSize, props.directCompareUse))\r\n\r\n    useEffect(() => {\r\n        if (props.directCompareConfig) {\r\n            setChartType(chartConfig.chartType)\r\n            setShowLegend(chartConfig.showLegend)\r\n            setSubChart(chartConfig.subChart ? chartConfig.subChart : CARBS_DATA_BASE)\r\n        }\r\n\r\n        setChartHeight(calculateChartHeight(windowSize, props.directCompareUse))\r\n        updateChartConfig()\r\n    }, [chartType, showLegend, hideRemainders, expand100, subChart, chartHeight, props])\r\n\r\n    const updateChartConfig = () => {\r\n        if (applicationContext && !props.directCompareConfig) {\r\n            const currentConfig = applicationContext.applicationData.foodDataPanel.chartConfigData.carbsChartConfig\r\n            if (chartType !== currentConfig.chartType\r\n                || subChart !== currentConfig.subChart\r\n                || hideRemainders !== currentConfig.hideRemainders\r\n                || expand100 !== currentConfig.expand100\r\n                || showLegend !== currentConfig.showLegend) {\r\n                const newChartConfig = {\r\n                    ...applicationContext.applicationData.foodDataPanel.chartConfigData,\r\n                    carbsChartConfig: {\r\n                        chartType: chartType,\r\n                        showLegend: showLegend,\r\n                        hideRemainders: hideRemainders,\r\n                        expand100: expand100,\r\n                        subChart: subChart\r\n                    }\r\n                }\r\n                applicationContext.setFoodDataPanelData.updateFoodDataPanelChartConfig(newChartConfig)\r\n            }\r\n        } else if (applicationContext) {\r\n            const currentConfig = applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig\r\n            if (hideRemainders !== currentConfig.hideRemainders\r\n                || expand100 !== currentConfig.expand100) {\r\n                applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig.expand100 = expand100\r\n                applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig.hideRemainders = hideRemainders\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleExpand100Change = () => {\r\n        setExpand100(!expand100)\r\n    }\r\n\r\n    const handleHideRemaindersCheckbox = () => {\r\n        setShowHideRemainders(!hideRemainders)\r\n    }\r\n\r\n    const handleChartSelectionChange = (event: any) => {\r\n        const value = event.target.value\r\n\r\n        if (applicationContext && props.directCompareConfig) {\r\n            const currentSettings = applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart\r\n\r\n            const carbsChartConfig: GeneralChartConfigDirectCompareWithSubCharts = props.directCompareConfig.chartIndex === 1\r\n                ? {\r\n                    chartType: chartType,\r\n                    showLegend: showLegend,\r\n                    hideRemainders: true,\r\n                    expand100: true,\r\n                    subChart1: event.target.value,\r\n                    subChart2: currentSettings.carbsChartConfig.subChart2\r\n                }\r\n                : {\r\n                    chartType: chartType,\r\n                    showLegend: showLegend,\r\n                    hideRemainders: true,\r\n                    expand100: true,\r\n                    subChart1: currentSettings.carbsChartConfig.subChart1,\r\n                    subChart2: event.target.value\r\n                }\r\n\r\n            const newChartConfig = {\r\n                ...currentSettings,\r\n                carbsChartConfig: carbsChartConfig\r\n            }\r\n            applicationContext.setDirectCompareData.updateDirectCompareChartConfig(newChartConfig)\r\n        } else {\r\n            setSubChart(value)\r\n        }\r\n    }\r\n\r\n    const createBasicChartData = () => {\r\n        const nutrientData = getNutrientData(props.selectedFoodItem)\r\n        const totalAmount = getNutrientData(props.selectedFoodItem).baseData.carbohydrates;\r\n        const chartDisplayData = getCarbBaseChartData(nutrientData, hideRemainders, totalAmount, lang)\r\n\r\n        if (!chartDisplayData) {\r\n            return\r\n        }\r\n\r\n        return {\r\n            labels: chartDisplayData.labels,\r\n            datasets: [{\r\n                data: chartDisplayData.values,\r\n                backgroundColor: chartDisplayData.colors,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        }\r\n    }\r\n\r\n\r\n    const createDetailChartData = () => {\r\n        const {carbohydrateData, baseData} = getNutrientData(props.selectedFoodItem)\r\n        const nutrientData = getNutrientData(props.selectedFoodItem)\r\n        const totalAmount = getNutrientData(props.selectedFoodItem).baseData.carbohydrates;\r\n        const chartDisplayData = getCarbDetailsChartData(nutrientData, hideRemainders, totalAmount, lang)\r\n\r\n        if (!chartDisplayData) {\r\n            return\r\n        }\r\n\r\n        return {\r\n            labels: chartDisplayData.labels,\r\n            datasets: [{\r\n                data: chartDisplayData.values,\r\n                backgroundColor: chartDisplayData.colors,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        };\r\n    }\r\n\r\n\r\n    const handleRadioButtonClick = (event: any) => {\r\n        const value = event.target.value\r\n        setChartType(value)\r\n    }\r\n\r\n    const handleLegendCheckbox = () => {\r\n        setShowLegend(!showLegend)\r\n        setShowLegend(!showLegend)\r\n    }\r\n\r\n    const getOptions = () => {\r\n        let title;\r\n\r\n        if (subChart === Constants.CARBS_DATA_BASE) {\r\n            title = applicationStrings.label_charttype_carbs_base[lang];\r\n        } else if (subChart === Constants.CARBS_DATA_DETAIL) {\r\n            title = applicationStrings.label_charttype_carbs_detail[lang];\r\n        }\r\n\r\n        if (chartType === CHART_TYPE_BAR) {\r\n            return expand100 ? getBarChartOptions(title, \"%\", 100) : getBarChartOptions(title, \"%\");\r\n        } else {\r\n            return getPieChartOptions(title, \"%\");\r\n        }\r\n    }\r\n\r\n\r\n    const renderChartSelector = () => {\r\n        return (\r\n            <Form>\r\n                <Form.Label>\r\n                    <b>{applicationStrings.label_datatype[lang]}:</b>\r\n                </Form.Label>\r\n                <Form.Check inline={false}\r\n                            className={\"form-radiobutton\"}\r\n                            label={applicationStrings.label_charttype_carbs_base[lang]}\r\n                            type=\"radio\"\r\n                            value={Constants.CARBS_DATA_BASE}\r\n                            checked={subChart === Constants.CARBS_DATA_BASE}\r\n                            onChange={handleChartSelectionChange}>\r\n                </Form.Check>\r\n                <Form.Check inline={false}\r\n                            className={\"form-radiobutton\"}\r\n                            label={applicationStrings.label_charttype_carbs_detail[lang]}\r\n                            type=\"radio\"\r\n                            value={Constants.CARBS_DATA_DETAIL}\r\n                            checked={subChart === Constants.CARBS_DATA_DETAIL}\r\n                            onChange={handleChartSelectionChange}>\r\n                </Form.Check>\r\n                <hr/>\r\n                <Form.Check inline={false}\r\n                            className=\"form-radiobutton\"\r\n                            label={applicationStrings.checkbox_expand100g[lang]}\r\n                            type=\"checkbox\"\r\n                            disabled={chartType === Constants.CHART_TYPE_PIE}\r\n                            checked={expand100}\r\n                            onChange={handleExpand100Change}>\r\n                </Form.Check>\r\n                <Form.Check inline={false}\r\n                            className=\"form-radiobutton\"\r\n                            label={applicationStrings.checkbox_chartoption_hideRemainders[lang]}\r\n                            type=\"checkbox\"\r\n                            disabled={subChart === Constants.CARBS_DATA_DETAIL}\r\n                            checked={hideRemainders}\r\n                            onChange={handleHideRemaindersCheckbox}>\r\n                </Form.Check>\r\n            </Form>\r\n        )\r\n    }\r\n\r\n\r\n    const renderChart = (data: any) => {\r\n        if (!data) {\r\n            return (\r\n                <div style={{height: ChartConfig.default_chart_height}}>\r\n                    {applicationStrings.label_noData[lang]}\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {chartType === CHART_TYPE_PIE &&\r\n                <Pie data={data}\r\n                     key={'chart ' + chartHeight}\r\n                     height={chartHeight}\r\n                     options={getOptions()}\r\n                />\r\n                }\r\n                {chartType === CHART_TYPE_BAR &&\r\n                <Bar data={data}\r\n                     key={'chart ' + chartHeight}\r\n                     height={chartHeight}\r\n                     options={getOptions()}\r\n                />\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    const chartColType = chartType === CHART_TYPE_PIE ? \"col-6\" : \"col-8\";\r\n    const detailChartData = createDetailChartData()\r\n    const basicChartData = createBasicChartData()\r\n\r\n    const containerHeight = calculateChartContainerHeight(windowSize, props.directCompareUse)\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\" style={{height: containerHeight}} key={\"carbs container \" + containerHeight}>\r\n                <div className=\"col-3\" style={{display: \"block\"}}>\r\n                    {renderChartSelector()}\r\n                </div>\r\n                <div className={chartColType}>\r\n                    {subChart === Constants.CARBS_DATA_BASE &&\r\n                    renderChart(basicChartData)\r\n                    }\r\n                    {detailChartData && subChart === Constants.CARBS_DATA_DETAIL &&\r\n                    renderChart(detailChartData)\r\n                    }\r\n                    {!detailChartData && subChart === Constants.CARBS_DATA_DETAIL &&\r\n                    <div style={{height: ChartConfig.default_chart_height}}>\r\n                        {applicationStrings.label_noData[lang]}\r\n                    </div>\r\n                    }\r\n                </div>\r\n\r\n                {showLegend && chartType === Constants.CHART_TYPE_PIE &&\r\n                <div className=\"col-3\">\r\n                    {subChart === Constants.CARBS_DATA_BASE && basicChartData &&\r\n                    <CustomLegend legendData={getCarbsBaseLegend(basicChartData.labels, lang)}/>\r\n                    }\r\n                    {subChart === Constants.CARBS_DATA_DETAIL && detailChartData &&\r\n                    <CustomLegend legendData={getCarbsDetailsLegend(detailChartData.labels, lang)}/>\r\n                    }\r\n                </div>\r\n                }\r\n            </div>\r\n            {!props.directCompareConfig &&\r\n            <div className=\"row chart-control-button-bar\">\r\n                <PieChartConfigurationForm chartType={chartType}\r\n                                           showLegend={showLegend}\r\n                                           handleRadioButtonClick={handleRadioButtonClick}\r\n                                           handleLegendCheckboxClick={handleLegendCheckbox}/>\r\n\r\n            </div>\r\n            }\r\n        </div>\r\n    );\r\n\r\n\r\n}","import * as Constants from \"../config/Constants\";\r\nimport {applicationStrings} from \"../static/labels\";\r\nimport {autoRound} from \"./calculation/MathService\";\r\nimport FoodItem from \"../types/nutrientdata/FoodItem\";\r\nimport FoodClass from \"../types/nutrientdata/FoodClass\";\r\nimport {getNameFromFoodNameList} from \"./nutrientdata/NameTypeService\";\r\nimport NameType from \"../types/nutrientdata/NameType\";\r\nimport {getNutrientDataForFoodItem} from \"./nutrientdata/NutrientDataRetriever\";\r\nimport getName from \"./LanguageService\";\r\nimport {\r\n    RANKING_BASE_DATA_INDEX,\r\n    RANKING_CARBS_INDEX,\r\n    RANKING_LIPIDS_INDEX,\r\n    RANKING_MINERAL_INDEX,\r\n    RANKING_PROTEIN_INDEX,\r\n    RANKING_VITAMIN_INDEX\r\n} from \"../config/Constants\";\r\nimport ReactSelectOption from \"../types/ReactSelectOption\";\r\n\r\n\r\nexport interface ChartItem {\r\n    name: string\r\n    value: number\r\n    id?: number   // Possibly, the food item ID to which the bar refers to (juxtaposition chart)\r\n}\r\n\r\n/**\r\n * Returns a list of all ranking categories.\r\n */\r\nexport function getRankingGroups(language: string) {\r\n    return [\r\n        {value: RANKING_BASE_DATA_INDEX, label: applicationStrings.label_chart_nutrientComposition[language]},\r\n        {value: RANKING_VITAMIN_INDEX, label: applicationStrings.label_nutrient_vit[language]},\r\n        {value: RANKING_MINERAL_INDEX, label: applicationStrings.label_nutrient_min[language]},\r\n        {value: RANKING_LIPIDS_INDEX, label: applicationStrings.label_nutrient_lipids_long[language]},\r\n        {value: RANKING_CARBS_INDEX, label: applicationStrings.label_nutrient_carbohydrates[language]},\r\n        {value: RANKING_PROTEIN_INDEX, label: applicationStrings.label_chart_proteins[language]},\r\n    ];\r\n}\r\n\r\n\r\n/**\r\n * Returns the list of all selectable vitamins.\r\n */\r\nexport function getBaseCategoryValues(language: string) {\r\n    return [\r\n        {value: Constants.DATA_ENERGY, label: applicationStrings.label_nutrient_energy[language]},\r\n        {value: Constants.DATA_WATER, label: applicationStrings.label_nutrient_water[language]},\r\n        {value: Constants.DATA_CARBS, label: applicationStrings.label_nutrient_carbohydrates[language]},\r\n        {value: Constants.DATA_LIPIDS, label: applicationStrings.label_nutrient_lipids_long[language]},\r\n        {value: Constants.DATA_PROTEINS, label: applicationStrings.label_nutrient_proteins[language]},\r\n        {value: Constants.DATA_ASH, label: applicationStrings.label_nutrient_ash[language]},\r\n    ];\r\n}\r\n\r\n\r\n/**\r\n * Returns the list of all selectable vitamin values.\r\n */\r\nexport function getVitaminCategoryValues(language: string) {\r\n    return [\r\n        {value: Constants.DATA_VITAMINS_A, label: applicationStrings.label_nutrient_vit_a[language]},\r\n        {value: Constants.DATA_VITAMINS_B1, label: applicationStrings.label_nutrient_vit_b1[language]},\r\n        {value: Constants.DATA_VITAMINS_B2, label: applicationStrings.label_nutrient_vit_b2[language]},\r\n        {value: Constants.DATA_VITAMINS_B3, label: applicationStrings.label_nutrient_vit_b3[language]},\r\n        {value: Constants.DATA_VITAMINS_B5, label: applicationStrings.label_nutrient_vit_b5[language]},\r\n        {value: Constants.DATA_VITAMINS_B6, label: applicationStrings.label_nutrient_vit_b6[language]},\r\n        {value: Constants.DATA_VITAMINS_B9, label: applicationStrings.label_nutrient_vit_b9[language]},\r\n        {value: Constants.DATA_VITAMINS_B12, label: applicationStrings.label_nutrient_vit_b12[language]},\r\n        {value: Constants.DATA_VITAMINS_C, label: applicationStrings.label_nutrient_vit_c[language]},\r\n        {value: Constants.DATA_VITAMINS_D, label: applicationStrings.label_nutrient_vit_d[language]},\r\n        {value: Constants.DATA_VITAMINS_E, label: applicationStrings.label_nutrient_vit_e[language]},\r\n        {value: Constants.DATA_VITAMINS_K, label: applicationStrings.label_nutrient_vit_k[language]},\r\n    ];\r\n}\r\n\r\n\r\n/**\r\n * Returns the list of all selectable mineral values.\r\n */\r\nexport function getMineralCategoryValues(language: string) {\r\n    return [\r\n        {value: Constants.DATA_MINERAL_CALCIUM, label: applicationStrings.label_nutrient_min_calcium[language]},\r\n        {value: Constants.DATA_MINERAL_IRON, label: applicationStrings.label_nutrient_min_iron[language]},\r\n        {value: Constants.DATA_MINERAL_MAGNESIUM, label: applicationStrings.label_nutrient_min_magnesium[language]},\r\n        {value: Constants.DATA_MINERAL_PHOSPHORUS, label: applicationStrings.label_nutrient_min_phosphorus[language]},\r\n        {value: Constants.DATA_MINERAL_POTASSIUM, label: applicationStrings.label_nutrient_min_potassimum[language]},\r\n        {value: Constants.DATA_MINERAL_SODIUM, label: applicationStrings.label_nutrient_min_sodium[language]},\r\n        {value: Constants.DATA_MINERAL_ZINC, label: applicationStrings.label_nutrient_min_zinc[language]},\r\n        {value: Constants.DATA_MINERAL_SELENIUM, label: applicationStrings.label_nutrient_min_selenium[language]},\r\n        {value: Constants.DATA_MINERAL_MANGANESE, label: applicationStrings.label_nutrient_min_manganese[language]},\r\n        {value: Constants.DATA_MINERAL_COPPER, label: applicationStrings.label_nutrient_min_copper[language]},\r\n    ];\r\n}\r\n\r\n\r\n/**\r\n * Returns the list of all selectable mineral values.\r\n */\r\nexport function getLipidCategoryValues(language: string) {\r\n    return [\r\n        {value: Constants.DATA_LIPIDS_SATURATED, label: applicationStrings.label_nutrient_lipids_saturated[language]},\r\n        {\r\n            value: Constants.DATA_LIPIDS_MONO_UNSATURATED,\r\n            label: applicationStrings.label_nutrient_lipids_unsaturated_mono[language]\r\n        },\r\n        {\r\n            value: Constants.DATA_LIPIDS_POLY_UNSATURATED,\r\n            label: applicationStrings.label_nutrient_lipids_unsaturated_poly[language]\r\n        },\r\n        {\r\n            value: Constants.DATA_LIPIDS_TRANSFATTY_ACIDS,\r\n            label: applicationStrings.label_nutrient_lipids_unsaturated[language]\r\n        },\r\n    ];\r\n}\r\n\r\n\r\n/**\r\n * Returns the list of all selectable carbohydrate values.\r\n */\r\nexport function getCarbohydrateCategoryValues(language: string) {\r\n    return [\r\n        {value: Constants.DATA_CARBS_DIETARY_FIBERS, label: applicationStrings.label_nutrient_dietaryFibers[language]},\r\n        {value: Constants.DATA_CARBS_SUGAR, label: applicationStrings.label_nutrient_sugar[language]},\r\n        {value: Constants.DATA_CARBS_GLUCOSE, label: applicationStrings.label_nutrient_carbohydrates_glucose[language]},\r\n        {\r\n            value: Constants.DATA_CARBS_FRUCTOSE,\r\n            label: applicationStrings.label_nutrient_carbohydrates_fructose[language]\r\n        },\r\n        {\r\n            value: Constants.DATA_CARBS_GALACTOSE,\r\n            label: applicationStrings.label_nutrient_carbohydrates_galactose[language]\r\n        },\r\n        {value: Constants.DATA_CARBS_SUCROSE, label: applicationStrings.label_nutrient_carbohydrates_sucrose[language]},\r\n        {value: Constants.DATA_CARBS_LACTOSE, label: applicationStrings.label_nutrient_carbohydrates_lactose[language]},\r\n        {value: Constants.DATA_CARBS_MALTOSE, label: applicationStrings.label_nutrient_carbohydrates_maltose[language]},\r\n        {value: Constants.DATA_CARBS_STARCH, label: applicationStrings.label_nutrient_carbohydrates_starch[language]},\r\n    ];\r\n}\r\n\r\n\r\n/**\r\n * Returns the list of all protein values.\r\n */\r\nexport function getProteinCategoryValues(language: string) {\r\n    return [\r\n        {value: Constants.DATA_PROTEIN_ALANINE, label: applicationStrings.label_nutrient_proteins_alanine[language]},\r\n        {value: Constants.DATA_PROTEIN_ARGININE, label: applicationStrings.label_nutrient_proteins_arginine[language]},\r\n        {\r\n            value: Constants.DATA_PROTEIN_ASPARTIC_ACID,\r\n            label: applicationStrings.label_nutrient_proteins_asparticAcid[language]\r\n        },\r\n        {value: Constants.DATA_PROTEIN_CYSTINE, label: applicationStrings.label_nutrient_proteins_cystine[language]},\r\n        {\r\n            value: Constants.DATA_PROTEIN_GLUTAMIC_ACID,\r\n            label: applicationStrings.label_nutrient_proteins_glutamicAcid[language]\r\n        },\r\n        {value: Constants.DATA_PROTEIN_GLYCINE, label: applicationStrings.label_nutrient_proteins_glysine[language]},\r\n        {\r\n            value: Constants.DATA_PROTEIN_HISTIDINE,\r\n            label: applicationStrings.label_nutrient_proteins_histidine[language]\r\n        },\r\n        {\r\n            value: Constants.DATA_PROTEIN_ISOLEUCINE,\r\n            label: applicationStrings.label_nutrient_proteins_isoleucine[language]\r\n        },\r\n        {value: Constants.DATA_PROTEIN_LEUCINE, label: applicationStrings.label_nutrient_proteins_leucine[language]},\r\n        {value: Constants.DATA_PROTEIN_LYSINE, label: applicationStrings.label_nutrient_proteins_lysine[language]},\r\n        {\r\n            value: Constants.DATA_PROTEIN_METHIONINE,\r\n            label: applicationStrings.label_nutrient_proteins_methionine[language]\r\n        },\r\n        {\r\n            value: Constants.DATA_PROTEIN_PHENYLALANINE,\r\n            label: applicationStrings.label_nutrient_proteins_phenylalanine[language]\r\n        },\r\n        {value: Constants.DATA_PROTEIN_PROLINE, label: applicationStrings.label_nutrient_proteins_proline[language]},\r\n        {value: Constants.DATA_PROTEIN_SERINE, label: applicationStrings.label_nutrient_proteins_serine[language]},\r\n        {\r\n            value: Constants.DATA_PROTEIN_THREONINE,\r\n            label: applicationStrings.label_nutrient_proteins_threonine[language]\r\n        },\r\n        {\r\n            value: Constants.DATA_PROTEIN_TRYPTOPHAN,\r\n            label: applicationStrings.label_nutrient_proteins_tryptophan[language]\r\n        },\r\n        {value: Constants.DATA_PROTEIN_TYROSINE, label: applicationStrings.label_nutrient_proteins_tyrosine[language]},\r\n        {value: Constants.DATA_PROTEIN_VALINE, label: applicationStrings.label_nutrient_proteins_valine[language]},\r\n    ];\r\n}\r\n\r\n\r\nexport function getElementsOfRankingGroup(rankingGroup: number, language: string) {\r\n    switch (rankingGroup) {\r\n        case RANKING_BASE_DATA_INDEX:\r\n            return getBaseCategoryValues(language)\r\n        case RANKING_VITAMIN_INDEX:\r\n            return getVitaminCategoryValues(language)\r\n        case RANKING_MINERAL_INDEX:\r\n            return getMineralCategoryValues(language)\r\n        case RANKING_LIPIDS_INDEX:\r\n            return getLipidCategoryValues(language)\r\n        case RANKING_CARBS_INDEX:\r\n            return getCarbohydrateCategoryValues(language)\r\n        case RANKING_PROTEIN_INDEX:\r\n            return getProteinCategoryValues(language)\r\n    }\r\n}\r\n\r\n\r\nexport function getOrderedFoodList(foodList: Array<FoodItem>, foodClassesList: Array<FoodClass>, selectedCategory: number,\r\n                                   selectedValue: any, use100gram: number, language: string, foodNamesList: Array<NameType>,\r\n                                   conditions: Array<NameType>) {\r\n    let chartItems: Array<ChartItem> = [];\r\n\r\n    for (let i = 0; i < foodList.length; i++) {\r\n        let foodItem: FoodItem = foodList[i];\r\n        const foodClassId = foodClassesList.find(foodClass => foodClass.id === foodItem.foodClass)\r\n        const category = foodClassId ? foodClassId.category : foodClassId\r\n\r\n        if (selectedCategory !== 0 && (category !== selectedCategory)) {\r\n            continue;  // Skip this food item, as it does not belong to the selected category\r\n        }\r\n\r\n        let value = getValueOfFoodItem(foodItem, selectedValue);\r\n        if (value === null || value === 0) {\r\n            continue;  // Skip all food items, which do not have the specified value\r\n        }\r\n\r\n        let portionAmount\r\n\r\n        if (!use100gram) {\r\n            const defaultPortion = foodItem.defaultPortionId\r\n            const portionObject = foodItem.portionData?.find(portionObject => portionObject.portionType === defaultPortion)\r\n            portionAmount = portionObject ? portionObject.amount : 100\r\n            value = getPortionValue(value, portionAmount);\r\n        } else {\r\n            value = autoRound(value)\r\n        }\r\n\r\n        let name = getNameFromFoodNameList(foodNamesList, foodItem.nameId!!, language)\r\n\r\n        if(foodItem.conditionId !== 100) {\r\n            const condition = conditions.find(condition => condition.id === foodItem.conditionId)\r\n            if(condition) {\r\n                const conditionName = getName(condition, language)\r\n                name = name + \", \" + conditionName\r\n            }\r\n        }\r\n\r\n        if(!use100gram) {\r\n            name = name + \" (\" + portionAmount + \"g )\"\r\n        }\r\n\r\n        const chartItem: ChartItem = {\r\n            name: name ? name : \"\",\r\n            value: value\r\n        };\r\n\r\n        chartItems.push(chartItem);\r\n    }\r\n\r\n    return sortChartItems(chartItems);\r\n}\r\n\r\n\r\nexport function sortChartItems(chartItems: Array<ChartItem>) {\r\n    return chartItems.sort((obj1, obj2) => {\r\n        if (obj1.value > obj2.value) {\r\n            return -1;\r\n        } else if (obj1.value < obj2.value) {\r\n            return 1;\r\n        } else {\r\n            return 0;\r\n        }\r\n    });\r\n}\r\n\r\n\r\nexport function getValueOfFoodItem(foodItem, selectedValue): number | null {\r\n    let value\r\n\r\n    const nutrientData = getNutrientDataForFoodItem(foodItem, 0, true)\r\n\r\n    const baseData = nutrientData.baseData;\r\n    const vitaminData = nutrientData.vitaminData;\r\n    const mineralData = nutrientData.mineralData;\r\n    const lipidData = nutrientData.lipidData;\r\n    const carbsData = nutrientData.carbohydrateData;\r\n    const proteinData = nutrientData.proteinData;\r\n\r\n    if (proteinData === null) {\r\n        return 0;\r\n    }\r\n\r\n    // Base Data\r\n\r\n    if (selectedValue === Constants.DATA_ENERGY) {\r\n        value = baseData.energy;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_WATER) {\r\n        value = baseData.water;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_CARBS) {\r\n        value = baseData.carbohydrates;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_LIPIDS) {\r\n        value = baseData.lipids;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEINS) {\r\n        value = baseData.proteins;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_ASH) {\r\n        value = baseData.ash;\r\n    }\r\n\r\n\r\n    // Vitamins\r\n\r\n    if (selectedValue === Constants.DATA_VITAMINS_A) {\r\n        value = vitaminData.a;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_VITAMINS_B1) {\r\n        value = vitaminData.b1;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_VITAMINS_B2) {\r\n        value = vitaminData.b2;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_VITAMINS_B3) {\r\n        value = vitaminData.b3;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_VITAMINS_B5) {\r\n        value = vitaminData.b5;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_VITAMINS_B6) {\r\n        value = vitaminData.b6;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_VITAMINS_B9) {\r\n        value = vitaminData.b9;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_VITAMINS_B12) {\r\n        value = vitaminData.b12;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_VITAMINS_C) {\r\n        value = vitaminData.c;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_VITAMINS_D) {\r\n        value = vitaminData.d;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_VITAMINS_E) {\r\n        value = vitaminData.e;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_VITAMINS_K) {\r\n        value = vitaminData.k;\r\n    }\r\n\r\n\r\n    // Minerals\r\n\r\n    if (selectedValue === Constants.DATA_MINERAL_CALCIUM) {\r\n        value = mineralData.calcium;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_MINERAL_IRON) {\r\n        value = mineralData.iron;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_MINERAL_MAGNESIUM) {\r\n        value = mineralData.magnesium;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_MINERAL_PHOSPHORUS) {\r\n        value = mineralData.phosphorus;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_MINERAL_POTASSIUM) {\r\n        value = mineralData.potassium;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_MINERAL_SODIUM) {\r\n        value = mineralData.sodium;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_MINERAL_ZINC) {\r\n        value = mineralData.zinc;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_MINERAL_SELENIUM) {\r\n        value = mineralData.selenium;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_MINERAL_COPPER) {\r\n        value = mineralData.copper;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_MINERAL_MANGANESE) {\r\n        value = mineralData.manganese;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_LIPIDS_SATURATED) {\r\n        value = lipidData.saturated;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_LIPIDS_MONO_UNSATURATED) {\r\n        value = lipidData.unsaturatedMono;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_LIPIDS_POLY_UNSATURATED) {\r\n        value = lipidData.unsaturatedPoly;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_LIPIDS_TRANSFATTY_ACIDS) {\r\n        value = lipidData.transFattyAcids;\r\n    }\r\n\r\n\r\n    // Carbohydrates\r\n\r\n    if (selectedValue === Constants.DATA_CARBS_DIETARY_FIBERS) {\r\n        value = baseData.dietaryFibers;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_CARBS_SUGAR) {\r\n        value = carbsData.sugar;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_CARBS_GLUCOSE) {\r\n        value = carbsData.glucose;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_CARBS_FRUCTOSE) {\r\n        value = carbsData.fructose;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_CARBS_GALACTOSE) {\r\n        value = carbsData.galactose;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_CARBS_SUCROSE) {\r\n        value = carbsData.sucrose;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_CARBS_LACTOSE) {\r\n        value = carbsData.lactose;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_CARBS_MALTOSE) {\r\n        value = carbsData.maltose;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_CARBS_STARCH) {\r\n        value = carbsData.starch;\r\n    }\r\n\r\n\r\n    // Proteins\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_ALANINE) {\r\n        value = proteinData.alanine;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_ARGININE) {\r\n        value = proteinData.arginine;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_ASPARTIC_ACID) {\r\n        value = proteinData.asparticAcid;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_CYSTINE) {\r\n        value = proteinData.cystine;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_GLUTAMIC_ACID) {\r\n        value = proteinData.glutamicAcid;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_GLYCINE) {\r\n        value = proteinData.glycine;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_HISTIDINE) {\r\n        value = proteinData.histidine;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_ISOLEUCINE) {\r\n        value = proteinData.isoleucine;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_LEUCINE) {\r\n        value = proteinData.leucine;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_LYSINE) {\r\n        value = proteinData.lysine;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_METHIONINE) {\r\n        value = proteinData.methionine;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_PHENYLALANINE) {\r\n        value = proteinData.phenylalanine;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_PROLINE) {\r\n        value = proteinData.proline;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_SERINE) {\r\n        value = proteinData.serine;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_THREONINE) {\r\n        value = proteinData.threonine;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_TRYPTOPHAN) {\r\n        value = proteinData.tryptophan;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_TYROSINE) {\r\n        value = proteinData.tyrosine;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_VALINE) {\r\n        value = proteinData.valine;\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\n\r\nfunction getPortionValue(value, portionSize) {\r\n    const portionValue = value / 100 * portionSize;\r\n    return autoRound(portionValue);\r\n}","import {determineFoodRequirementRatio, determineProteinRequirementRatio} from \"./DietaryRequirementService\";\r\nimport {UserData} from \"../../types/livedata/UserData\";\r\nimport {MineralData, VitaminData} from \"../../types/nutrientdata/FoodItem\";\r\nimport * as Constants from \"../../config/Constants\";\r\n\r\n/**\r\n * Determines the maximum vitamin or mineral or protein value of a food item (referring to the daily dietary requirements).\r\n */\r\nexport function getMaximumValue(dataSet: any, amount: number, requirementData: any, userData: UserData, proteins?: boolean) {\r\n    let maxValue = 0\r\n    for (let dataSetKey in dataSet) {\r\n        if (requirementData[dataSetKey]) {\r\n            const ratioValue = proteins === true\r\n                ? determineProteinRequirementRatio(requirementData[dataSetKey], dataSet[dataSetKey], amount, userData)\r\n                : determineFoodRequirementRatio(requirementData[dataSetKey], dataSet[dataSetKey], amount, userData)\r\n            if (ratioValue > maxValue) {\r\n                maxValue = ratioValue\r\n            }\r\n        }\r\n    }\r\n    return maxValue\r\n}\r\n\r\n\r\n/**\r\n * Given two data sets of values, this method determines the attributes that has values for both objects. It\r\n * can be used to remove all data attributes (columns) where at least one of the two data sets does not provide\r\n * a value.\r\n * @param dataSet1\r\n * @param dataSet2\r\n */\r\nexport function getOverlappingValues(dataSet1: any, dataSet2: any): string[] {\r\n    const overlapping: string[] = []\r\n    for (const dataSetKey in dataSet1) {\r\n        const value = dataSet1[dataSetKey]\r\n        if((value !== null && value !== undefined) && (dataSet2[dataSetKey] !== null && dataSet2[dataSetKey] !== undefined)) {\r\n            overlapping.push(dataSetKey)\r\n        }\r\n    }\r\n\r\n    return overlapping\r\n}\r\n\r\n\r\nexport function nullifyNonOverlappingValues(dataSet: any, overlappingAttributes: string[]): any {\r\n    const newDataset: any = {}\r\n    for (const dataSetKey in dataSet) {\r\n        if(!overlappingAttributes.includes(dataSetKey)) {\r\n            newDataset[dataSetKey] = null\r\n        } else {\r\n            newDataset[dataSetKey] = dataSet[dataSetKey]\r\n        }\r\n    }\r\n\r\n    return newDataset\r\n}\r\n\r\n/**\r\n * Returns the unit of a nutrient. This unit refers to the default unit of the Food Data Central data sheets (resp.\r\n * the Food Compare Catalog)\r\n * @param selectedValue The selected nutrient\r\n * @param transformToDietaryRequirements Optionally, the specification that the daily requirements are used as unit\r\n * @return The unit (g, mg or %).\r\n */\r\nexport const getUnit = (selectedValue: string, transformToDietaryRequirements?: boolean) => {\r\n    if (selectedValue === Constants.DATA_ENERGY) {\r\n        return \"kcal\";\r\n    } else if (selectedValue === Constants.DATA_WATER\r\n        || selectedValue === Constants.DATA_LIPIDS\r\n        || selectedValue === Constants.DATA_CARBS\r\n        || selectedValue === Constants.DATA_CARBS_SUGAR\r\n        || selectedValue === Constants.DATA_PROTEINS\r\n        || selectedValue === Constants.DATA_ASH\r\n        || selectedValue === Constants.DATA_CARBS_DIETARY_FIBERS\r\n        || selectedValue === Constants.DATA_LIPIDS_SATURATED\r\n        || selectedValue === Constants.DATA_LIPIDS_MONO_UNSATURATED\r\n        || selectedValue === Constants.DATA_LIPIDS_POLY_UNSATURATED\r\n        || selectedValue === Constants.DATA_LIPIDS_TRANSFATTY_ACIDS) {\r\n        return \"g\";\r\n    } else if (transformToDietaryRequirements) {\r\n        return \"%\";\r\n    } else {\r\n        return \"mg\";\r\n    }\r\n}","import {JuxtapositionChartProps} from \"../../types/livedata/ChartPropsData\";\r\nimport FoodDataCorpus from \"../../types/nutrientdata/FoodDataCorpus\";\r\nimport {ChartItem, getElementsOfRankingGroup, getValueOfFoodItem, sortChartItems} from \"../RankingService\";\r\nimport {\r\n    COMPARISON_REFERENCE_ALL,\r\n    COMPARISON_REFERENCE_ALL_IN_CATEGORY,\r\n    COMPARISON_REFERENCE_SELECTED_TABS,\r\n    LANGUAGE_DE\r\n} from \"../../config/Constants\";\r\nimport FoodItem from \"../../types/nutrientdata/FoodItem\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {getUnit} from \"../calculation/NutrientCalculationService\";\r\nimport {JuxtapositionTableEntry} from \"../../types/livedata/JuxtapositionTableEntry\";\r\nimport {autoRound} from \"../calculation/MathService\";\r\n\r\nexport interface JuxtapostionChartData {\r\n    chartItems: Array<ChartItem>\r\n    nutrientName: string\r\n    unit: string\r\n}\r\n\r\n/**\r\n * Creates the chart data for a set of nutrient data. The set comprises the chart data for exactly one\r\n * group, such as base data, vitamins, lipids etc.\r\n * @param props The juxtaposition chart props containing settings information for chart data creation.\r\n * @param foodDataCorpus An instance of the Food Compare food data corpus.\r\n * @param referenceData The reference data to use.\r\n * @param language The currently set language.\r\n * @return A list of juxtaposition chart data objects that are used to create the different juxtaposition charts\r\n * for each nutrient in the selected group.\r\n */\r\nexport function createChartDataForJuxtapostionChart(props: JuxtapositionChartProps, foodDataCorpus: FoodDataCorpus,\r\n                                                    referenceData: Array<FoodItem>, language: string): Array<JuxtapostionChartData> {\r\n        const chartData: Array<JuxtapostionChartData> = []\r\n        const valuesInGroup = getElementsOfRankingGroup(props.selectedGroup, language)\r\n\r\n        if (!valuesInGroup) {\r\n            throw new Error(\"No group values available\")\r\n        }\r\n\r\n        valuesInGroup.forEach(valueInGroup => {\r\n            let chartItems: Array<ChartItem> = []\r\n            const nutrientName = valueInGroup.label\r\n            const unit = getUnit(valueInGroup.value)\r\n            referenceData.forEach(foodItem => {\r\n                const value = getValueOfFoodItem(foodItem, valueInGroup.value)\r\n                const nameKey = foodDataCorpus.foodNames.find(foodName => foodName.id === foodItem.nameId)\r\n                const name = language === LANGUAGE_DE ? nameKey?.germanName : nameKey?.englishName\r\n                const fooditemCondition = props.selectedFoodItem.foodItem.conditionId\r\n                const condition = foodDataCorpus.conditions.find(condition => condition.id === fooditemCondition)\r\n                const conditionName = condition !== undefined && condition.id !== 100\r\n                    ? language === LANGUAGE_DE\r\n                        ? condition.germanName\r\n                        : condition.englishName\r\n                    : null\r\n                const fullName = conditionName !== null ? `${name} (${conditionName})` : name\r\n                if (value !== null && value !== undefined) {\r\n                    chartItems.push({\r\n                        name: fullName ?? '',\r\n                        value: value,\r\n                        id: foodItem.id\r\n                    })\r\n                }\r\n            })\r\n\r\n            chartItems = sortChartItems(chartItems)\r\n            const atLeastOneValueAboveZero = Math.max(...chartItems.map(item => item.value)) > 0\r\n\r\n            if(atLeastOneValueAboveZero) {\r\n                chartData.push({\r\n                    nutrientName: nutrientName,\r\n                    unit: unit,\r\n                    chartItems: chartItems\r\n                })\r\n            }\r\n        })\r\n\r\n    return chartData\r\n}\r\n\r\n/**\r\n * Creates the table data for a set of nutrient data. The set comprises the chart data for exactly one\r\n * group, such as base data, vitamins, lipids etc.\r\n * @param props The juxtaposition chart props containing settings information for chart data creation.\r\n * @param foodDataCorpus An instance of the Food Compare food data corpus.\r\n * @param referenceData The reference data to use.\r\n * @param language The currently set language.\r\n * @return The data table object ready for the table to display (a list of JuxtapositionTableEntry objects, each\r\n * object representing one row in the table).\r\n */\r\nexport function createJuxtapositionTableData(props: JuxtapositionChartProps, foodDataCorpus: FoodDataCorpus,\r\n                                             referenceData: Array<FoodItem>, language: string): Array<JuxtapositionTableEntry> {\r\n    const tableData: Array<JuxtapositionTableEntry> = []\r\n    const valuesInGroup = getElementsOfRankingGroup(props.selectedGroup, language)\r\n\r\n    if (!valuesInGroup) {\r\n        throw new Error(\"No group values available\")\r\n    }\r\n\r\n    valuesInGroup.forEach(valueInGroup => {\r\n        const value = getValueOfFoodItem(props.selectedFoodItem.foodItem, valueInGroup.value)\r\n        const allValues: Array<number> = []\r\n        referenceData.forEach(foodItem => {\r\n            const value = getValueOfFoodItem(foodItem, valueInGroup.value)\r\n            if(value !== null) {\r\n                allValues.push(value)\r\n            }\r\n        })\r\n\r\n        // Do not show nutrient elements, if the selected food item does not have this value.\r\n        if(allValues.length === 0 || value === null) {\r\n            return\r\n        }\r\n\r\n        const minValue = Math.min(...allValues)\r\n        const maxValue = Math.max(...allValues)\r\n        const averageValue = allValues.reduce((a,b) => a + b, 0) / allValues.length\r\n\r\n        const sorted = allValues.sort((a, b) => b-a)\r\n        const centerValue = sorted.length / 2\r\n        const medianValue = allValues[Math.floor(centerValue)]\r\n\r\n        const rank = sorted.findIndex(num => num === value)\r\n\r\n        const label = valueInGroup.label\r\n        const unit = getUnit(valueInGroup.value)\r\n\r\n        const tableRow: JuxtapositionTableEntry = {\r\n            label: label,\r\n            value: `${value} ${unit}`,\r\n            rank: `${rank} / ${allValues.length}`,\r\n            min: `${minValue} ${unit}`,\r\n            max: `${maxValue} ${unit}`,\r\n            average: `${autoRound(averageValue)} ${unit}`,\r\n            median: `${medianValue} ${unit}`,\r\n        }\r\n\r\n        tableData.push(tableRow)\r\n    })\r\n\r\n    return tableData\r\n}\r\n\r\n/**\r\n * Returns a set of food items that serve as database for the juxtaposition chart (comparison base).\r\n * @param selectedReference The selected reference value, indicating which data reference should be used.\r\n * @param foodDataCorpus The food data corpus of Food Compare.\r\n * @param selectedFoodItem The selected food item in the data panel.\r\n * @param selectedFoodItemsInPanel All food items currently added to the data panel.\r\n * @return A list of food items that serve as data basis for the juxtaposition charts.\r\n */\r\nexport function getFoodItemsForComparison(selectedReference: number,\r\n                                          foodDataCorpus: FoodDataCorpus,\r\n                                          selectedFoodItem: SelectedFoodItem,\r\n                                          selectedFoodItemsInPanel: Array<SelectedFoodItem>): Array<FoodItem> {\r\n    const allFoodItems = foodDataCorpus.foodItems\r\n\r\n    switch (selectedReference) {\r\n        case COMPARISON_REFERENCE_ALL_IN_CATEGORY:\r\n            const selectedFoodClass = foodDataCorpus.foodClasses.find(\r\n                foodClass => foodClass.id === selectedFoodItem.foodItem.foodClass\r\n            )\r\n            if(selectedFoodClass === undefined) {\r\n                return allFoodItems\r\n            }\r\n            const category = selectedFoodClass.category\r\n            return foodDataCorpus.foodItems.filter(foodItem => {\r\n                const foodClass = foodDataCorpus.foodClasses.find(foodClass => foodClass.id === foodItem.foodClass)\r\n                return foodClass !== undefined ? foodClass.category === category : false\r\n            })\r\n        case COMPARISON_REFERENCE_SELECTED_TABS:\r\n            return selectedFoodItemsInPanel.map(selectedFoodItem => selectedFoodItem.foodItem)\r\n        case COMPARISON_REFERENCE_ALL:\r\n        default:\r\n            return allFoodItems\r\n    }\r\n}\r\n","import {JuxtapositionChartProps} from \"../../../types/livedata/ChartPropsData\";\r\nimport {color_chart_black, color_gray, color_line_blue, color_line_red} from \"../../../config/ChartConfig\";\r\nimport {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {\r\n    createChartDataForJuxtapostionChart, getFoodItemsForComparison,\r\n    JuxtapostionChartData\r\n} from \"../../../service/chartdata/JuxtapositionDataService\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {Bar} from \"react-chartjs-2\";\r\nimport {\r\n    getBarChartOptionsForJuxtaposition\r\n} from \"../../../service/ChartConfigurationService\";\r\nimport SelectedFoodItem from \"../../../types/livedata/SelectedFoodItem\";\r\nimport {CHART_SIZE_LARGE, CHART_SIZE_MEDIUM, CHART_SIZE_SMALL} from \"../../../config/Constants\";\r\nimport {shortenName} from \"../../../service/nutrientdata/NameTypeService\";\r\n\r\n\r\nexport function JuxtapositionChart(props: JuxtapositionChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const language = useContext(LanguageContext).language\r\n\r\n    if (applicationContext === null) {\r\n        throw new Error(\"Application context is unavailable.\")\r\n    }\r\n\r\n    const calculateChartData = (): Array<JuxtapostionChartData> => {\r\n        const selectedFoodItemsInPanel = applicationContext.applicationData.foodDataPanel.selectedFoodItems\r\n        const foodDataCorpus = applicationContext.foodDataCorpus\r\n        const {selectedReference, selectedFoodItem} = props\r\n        const referenceData = getFoodItemsForComparison(selectedReference, foodDataCorpus, selectedFoodItem,\r\n            selectedFoodItemsInPanel)\r\n\r\n        return createChartDataForJuxtapostionChart(props, foodDataCorpus, referenceData, language)\r\n    }\r\n\r\n    const chartData = calculateChartData()\r\n\r\n    const showLabels = applicationContext.applicationData.foodDataPanel.juxtapositionConfigData.showLabels\r\n\r\n    const getOptions = (title: string, unit: string, nutrientIndex: number) => {\r\n        let options = getBarChartOptionsForJuxtaposition(title, unit)\r\n\r\n        const barIndexOfSelectedFoodItem = chartData[nutrientIndex].chartItems.findIndex(\r\n            chartItem => chartItem.id === props.selectedFoodItem.id\r\n        )\r\n\r\n        const color = showLabels ? color_chart_black : color_line_red\r\n        const maxRotation = showLabels ? 90 : 0\r\n        const minRotation = showLabels ? 90 : 0\r\n\r\n        const numberOfItemsInChart = chartData[nutrientIndex].chartItems.length\r\n        const maxNumberOfTicks = 60\r\n\r\n        const ticks = {\r\n            autoSkip: false,\r\n            color: color,\r\n            minRotation: minRotation,\r\n            maxRotation: maxRotation,\r\n            callback: function (value, index) {\r\n                const label = showLabels ? chartData[nutrientIndex].chartItems[index].name : \"\"\r\n                const marker = showLabels ? \"►\" : \"▲\"\r\n\r\n                if(numberOfItemsInChart <= maxNumberOfTicks) {   // Not too many bars in chart => you can print any label then\r\n                    return index === barIndexOfSelectedFoodItem ? marker : shortenName(label, 18)\r\n                } else { // Too many bars in chart => print only every nth label\r\n                    const skip = Math.ceil(numberOfItemsInChart / maxNumberOfTicks)\r\n                    return (index % skip === 0 || index === barIndexOfSelectedFoodItem)\r\n                        ? index === barIndexOfSelectedFoodItem\r\n                            ? marker\r\n                            : shortenName(label, 18)\r\n                        : \"\"\r\n                }\r\n            }\r\n        }\r\n\r\n        options = {\r\n            ...options, scales: {\r\n                ...options.scales, x: {\r\n                    ...options.scales.x,\r\n                    ticks: ticks\r\n                }\r\n            }\r\n        }\r\n\r\n        return options\r\n    }\r\n\r\n\r\n    const chartHeightCategory = applicationContext.applicationData.foodDataPanel.juxtapositionConfigData.chartSize\r\n    let height\r\n    switch (chartHeightCategory) {\r\n        case CHART_SIZE_SMALL:\r\n            height = 125\r\n            break\r\n        default:\r\n        case CHART_SIZE_MEDIUM:\r\n            height = 200\r\n            break\r\n        case CHART_SIZE_LARGE:\r\n            height = 300\r\n            break\r\n    }\r\n\r\n    if(showLabels) {\r\n        height += 115\r\n    }\r\n\r\n    const renderChartsOfGroup = () => {\r\n        return chartData.map((chartData, nutrientIndex) => {\r\n            const labels: string[] = []\r\n            const data: number[] = []\r\n            const colors: string[] = []\r\n            chartData.chartItems.forEach((chartItem) => {\r\n                const name = chartItem.name\r\n                const color = chartItem.id === props.selectedFoodItem.id ? color_line_red : color_line_blue\r\n                labels.push(name);\r\n                data.push(chartItem.value);\r\n                colors.push(color)\r\n            })\r\n\r\n            const chartDataObj = {\r\n                labels: labels,\r\n                datasets: [{\r\n                    label: \"\",\r\n                    data: data,\r\n                    backgroundColor: colors,\r\n                    borderWidth: 2,\r\n                    maxBarThickness: 50\r\n                }]\r\n            }\r\n\r\n            const options = getOptions(chartData.nutrientName, chartData.unit, nutrientIndex)\r\n\r\n            return (\r\n                <div key={`juxchartdiv-${chartData.nutrientName}`}>\r\n                    <div className=\"smooth-scroll\">\r\n                        <div>\r\n                            <div style={{height: `${height}px`}}>\r\n                                <Bar key={`juxchart-${chartData.nutrientName}`}\r\n                                     data={chartDataObj}\r\n                                     options={options}\r\n                                />\r\n                            </div>\r\n                            <hr/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div>{renderChartsOfGroup()}</div>\r\n        </div>\r\n    )\r\n\r\n}","import {JuxtapositionChartProps} from \"../../../types/livedata/ChartPropsData\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport {isMobileDevice} from \"../../../service/WindowDimension\";\r\nimport {BootstrapTable, TableHeaderColumn} from 'react-bootstrap-table';\r\nimport {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {JuxtapositionTableEntry} from \"../../../types/livedata/JuxtapositionTableEntry\";\r\nimport {\r\n    createChartDataForJuxtapostionChart, createJuxtapositionTableData,\r\n    getFoodItemsForComparison, JuxtapostionChartData\r\n} from \"../../../service/chartdata/JuxtapositionDataService\";\r\n\r\nexport function JuxtapositionTable(props: JuxtapositionChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const language = useContext(LanguageContext).language\r\n\r\n    if (applicationContext === null) {\r\n        throw new Error(\"Application context is unavailable.\")\r\n    }\r\n\r\n    const [tableData, setTableData] = useState<Array<JuxtapositionTableEntry>>([])\r\n\r\n    useEffect(() => {\r\n        updateTable()\r\n    }, [applicationContext.applicationData.foodDataPanel.juxtapositionConfigData, props.selectedFoodItem])\r\n\r\n    const updateTable = () => {\r\n        const selectedFoodItemsInPanel = applicationContext.applicationData.foodDataPanel.selectedFoodItems\r\n        const foodDataCorpus = applicationContext.foodDataCorpus\r\n        const {selectedReference, selectedFoodItem} = props\r\n        const referenceData = getFoodItemsForComparison(selectedReference, foodDataCorpus, selectedFoodItem,\r\n            selectedFoodItemsInPanel)\r\n\r\n        const newTableData = createJuxtapositionTableData(props, foodDataCorpus, referenceData, language)\r\n        setTableData(newTableData)\r\n    }\r\n\r\n    const dataExists = tableData.length > 0\r\n    const tableClass = isMobileDevice() ? \"table-style-m\" : \"table-style\"\r\n\r\n    return (\r\n        <div>\r\n            <div style={{height: \"428px\", margin: \"12px\"}}>\r\n                <div>\r\n                    {dataExists &&\r\n                    <BootstrapTable trClassName={tableClass} data={tableData} striped hover>\r\n                        <TableHeaderColumn isKey dataField='label' width={\"220px\"}>Element</TableHeaderColumn>\r\n                        <TableHeaderColumn dataField='value'>{applicationStrings.label_juxtaposition_table_value[language]}\r\n                        </TableHeaderColumn>\r\n                        <TableHeaderColumn dataField='rank'>\r\n                            {applicationStrings.label_juxtaposition_table_rank[language]}\r\n                        </TableHeaderColumn>\r\n                        <TableHeaderColumn dataField='min'>\r\n                            {applicationStrings.label_juxtaposition_table_min[language]}\r\n                        </TableHeaderColumn>\r\n                        <TableHeaderColumn dataField='max'>\r\n                            {applicationStrings.label_juxtaposition_table_max[language]}\r\n                        </TableHeaderColumn>\r\n                        <TableHeaderColumn dataField='average'>\r\n                            {applicationStrings.label_juxtaposition_table_avg[language]}\r\n                        </TableHeaderColumn>\r\n                        <TableHeaderColumn dataField='median'>\r\n                            {applicationStrings.label_juxtaposition_table_median[language]}\r\n                        </TableHeaderColumn>\r\n                    </BootstrapTable>\r\n                    }\r\n                    {!dataExists &&\r\n                    <div className=\"text-center\">{applicationStrings.label_noData[language]}</div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import React, {useContext, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {Form, FormGroup, Modal} from \"react-bootstrap\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport {\r\n    CHART_SIZE_LARGE,\r\n    CHART_SIZE_MEDIUM,\r\n    CHART_SIZE_SMALL,\r\n} from \"../../../config/Constants\";\r\nimport {isMobileDevice} from \"../../../service/WindowDimension\";\r\nimport Select from 'react-select';\r\nimport ReactSelectOption from \"../../../types/ReactSelectOption\";\r\n\r\nexport interface JuxtapositionSettingsProps {\r\n    onHide: () => void,\r\n}\r\n\r\nexport function JustapositionSettings(props: JuxtapositionSettingsProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const language = useContext(LanguageContext).language\r\n\r\n    if(!applicationContext) {\r\n        throw Error(\"Application context is unavailable.\")\r\n    }\r\n\r\n    const currentSettings = applicationContext.applicationData.foodDataPanel.juxtapositionConfigData\r\n    const [chartSize, setChartSize] = useState<number>(currentSettings.chartSize)\r\n    const [showLabels, setShowLabels] = useState<boolean>(currentSettings.showLabels)\r\n\r\n    const saveData = () => {\r\n        const newJuxtapositionConfigData = {\r\n            ...applicationContext.applicationData.foodDataPanel.juxtapositionConfigData,\r\n            chartSize: chartSize,\r\n            showLabels: showLabels\r\n        }\r\n        console.log('jux', newJuxtapositionConfigData)\r\n        applicationContext.setFoodDataPanelData.updateJuxtapositionConfig(newJuxtapositionConfigData)\r\n        props.onHide()\r\n    }\r\n\r\n    const renderMenu = () => {\r\n        const optionsChartSize: Array<ReactSelectOption> = [\r\n            {label: applicationStrings.label_juxtaposition_settings_chartsize_s[language], value: CHART_SIZE_SMALL},\r\n            {label: applicationStrings.label_juxtaposition_settings_chartsize_m[language], value: CHART_SIZE_MEDIUM},\r\n            {label: applicationStrings.label_juxtaposition_settings_chartsize_l[language], value: CHART_SIZE_LARGE},\r\n        ]\r\n\r\n        const chartSizeOption = optionsChartSize[chartSize]\r\n\r\n        const classRow = isMobileDevice() ? \"form-row-m\" : \"form-row\"\r\n\r\n        return <div>\r\n            <form>\r\n                <FormGroup controlId=\"formBasicText\">\r\n                    <div className=\"row\">\r\n                        <div className={classRow}>\r\n                            <Form.Label className=\"form-label\">\r\n                                {applicationStrings.label_juxtaposition_settings_chartsize[language]}:\r\n                            </Form.Label>\r\n                            <Select options={optionsChartSize}\r\n                                    value={chartSizeOption}\r\n                                    isSearchable={false}\r\n                                    onChange={(option) => setChartSize(option.value)}\r\n                            />\r\n                        </div>\r\n                        <div className={classRow}>\r\n                            <Form.Check inline className=\"form-radiobutton\"\r\n                                        checked={showLabels === true}\r\n                                        label={applicationStrings.label_juxtaposition_settings_showLabels[language]}\r\n                                        onChange={() => setShowLabels(!showLabels)}>\r\n                            </Form.Check>\r\n                        </div>\r\n                    </div>\r\n                </FormGroup>\r\n            </form>\r\n        </div>\r\n    }\r\n\r\n    return (\r\n        <Modal show={true}>\r\n            <Modal.Header>\r\n                <h5 className=\"modal-title\"><b>{applicationStrings.modal_settings_title[language]}</b></h5>\r\n                <button type=\"button\"\r\n                        className=\"btn-close\"\r\n                        data-dismiss=\"modal\"\r\n                        aria-label=\"Close\"\r\n                        onClick={() => saveData()}>\r\n                </button>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div style={{padding: \"20px\"}}>\r\n                    {renderMenu()}\r\n                </div>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <button type=\"button\"\r\n                        className=\"btn btn-primary\"\r\n                        onClick={() => saveData()}>\r\n                    {applicationStrings.button_close[language]}\r\n                </button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    )\r\n\r\n}","import {ChartProps} from \"../../../types/livedata/ChartPropsData\";\r\nimport {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {getRankingGroups} from \"../../../service/RankingService\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport {customSelectStyles} from \"../../../config/UI_Config\";\r\nimport Select from 'react-select';\r\nimport {\r\n    COMPARISON_REFERENCE_ALL,\r\n    COMPARISON_REFERENCE_ALL_IN_CATEGORY, COMPARISON_REFERENCE_SELECTED_TABS, DISPLAYMODE_CHART\r\n} from \"../../../config/Constants\";\r\nimport {JuxtapositionChart} from \"./JuxtapositionChart\";\r\nimport {JuxtapositionTable} from \"./JuxtapositionTable\";\r\nimport {JustapositionSettings} from \"./JustapositionSettings\";\r\n\r\nexport default function JuxtapostionContainer(props: ChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const language = useContext(LanguageContext).language\r\n\r\n    if (!applicationContext) {\r\n        throw new Error(\"ApplicationContext unavailable.\")\r\n    }\r\n\r\n    const [showSettingsModal, setShowSettingsModal] = useState<boolean>(false)\r\n\r\n    const referenceList = [\r\n        {value: COMPARISON_REFERENCE_ALL, label: applicationStrings.label_reference_all[language]},\r\n        {value: COMPARISON_REFERENCE_ALL_IN_CATEGORY, label: applicationStrings.label_reference_category[language]}\r\n    ]\r\n\r\n    const numberOfTabs = applicationContext.applicationData.foodDataPanel.selectedFoodItems.length\r\n    if(numberOfTabs > 1) {\r\n        referenceList.push({value: COMPARISON_REFERENCE_SELECTED_TABS, label: applicationStrings.label_reference_panel[language]})\r\n    }\r\n\r\n    useEffect(() => {\r\n        const numberOfFoodItemsInPanel = applicationContext.applicationData.foodDataPanel.selectedFoodItems.length\r\n        const compareToFoodItemsInPanel =\r\n            applicationContext.applicationData.foodDataPanel.juxtapositionConfigData.selectedComparisonReference?.value === COMPARISON_REFERENCE_SELECTED_TABS\r\n        if(numberOfFoodItemsInPanel === 1 && compareToFoodItemsInPanel) {\r\n            const newJuxtapositionConfigData = {\r\n                ...applicationContext.applicationData.foodDataPanel.juxtapositionConfigData,\r\n                selectedComparisonReference: referenceList[0]\r\n            }\r\n            applicationContext.setFoodDataPanelData.updateJuxtapositionConfig(newJuxtapositionConfigData)\r\n        }\r\n    }, [applicationContext.applicationData.foodDataPanel.selectedFoodItems.length,\r\n        applicationContext.applicationData.foodDataPanel.juxtapositionConfigData])\r\n\r\n    const handleGroupChange = (selectedOption) => {\r\n        const newJuxtapositionConfigData = {\r\n            ...applicationContext.applicationData.foodDataPanel.juxtapositionConfigData,\r\n            selectedGroup: selectedOption\r\n        }\r\n        applicationContext.setFoodDataPanelData.updateJuxtapositionConfig(newJuxtapositionConfigData)\r\n    }\r\n\r\n    const handleComparisonReferenceChange = (selectedOption) => {\r\n        const newJuxtapositionConfigData = {\r\n            ...applicationContext.applicationData.foodDataPanel.juxtapositionConfigData,\r\n            selectedComparisonReference: selectedOption\r\n        }\r\n        applicationContext.setFoodDataPanelData.updateJuxtapositionConfig(newJuxtapositionConfigData)\r\n    }\r\n\r\n    const getRankingGroupsList = () => {\r\n        return getRankingGroups(language);\r\n    }\r\n\r\n    const {\r\n        selectedGroup,\r\n        selectedComparisonReference\r\n    } = applicationContext.applicationData.foodDataPanel.juxtapositionConfigData\r\n\r\n    const rankingList = getRankingGroupsList()\r\n\r\n    const group = selectedGroup ?? rankingList[0]\r\n    const reference = selectedComparisonReference ?? referenceList[1]\r\n\r\n    if(props.selectedFoodItem.aggregated === true) {\r\n        return <div>\r\n            <p style={{maxHeight: \"437px\", minHeight: \"437px\", textAlign: \"center\"}}>{applicationStrings.label_juxtaposition_unavailable[language]}</p>\r\n        </div>\r\n    }\r\n\r\n    return (\r\n        <div style={{maxHeight: \"453px\", minHeight: \"453px\", overflow: \"auto\"}}>\r\n            {showSettingsModal &&\r\n                <JustapositionSettings onHide={() => setShowSettingsModal(false)}></JustapositionSettings>\r\n            }\r\n            <div className={\"container row align-items-end\"}>\r\n                <div className={\"col-4\"}>\r\n                    <span className={\"form-label\"}>{applicationStrings.label_reference[language]}:</span>\r\n                    <Select className=\"form-control-sm\"\r\n                            options={referenceList}\r\n                            value={reference}\r\n                            defaultValue={referenceList[0]}\r\n                            styles={customSelectStyles}\r\n                            onChange={handleComparisonReferenceChange}\r\n                    />\r\n                </div>\r\n                <div className={\"col-4\"}>\r\n                    <span className={\"form-label\"}>{applicationStrings.label_group[language]}:</span>\r\n                    <Select className=\"form-control-sm\"\r\n                            options={rankingList}\r\n                            value={group}\r\n                            defaultValue={rankingList[0]}\r\n                            styles={customSelectStyles}\r\n                            onChange={handleGroupChange}\r\n                    />\r\n                </div>\r\n                <div className={\"col-2\"}>\r\n                    <button className={\"btn btn-link\"} onClick={() => setShowSettingsModal(true)}>\r\n                        {applicationStrings.label_juxtaposition_settings_btn[language]}\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <hr/>\r\n            <div style={{paddingTop: \"10px\", paddingBottom: \"10px\", paddingLeft: \"20px\", paddingRight: \"15px\"}}>\r\n                {props.displayMode === DISPLAYMODE_CHART ?\r\n                    <JuxtapositionChart selectedGroup={group.value} selectedReference={reference.value} selectedFoodItem={props.selectedFoodItem}/>\r\n                    :\r\n                    <JuxtapositionTable selectedGroup={group.value} selectedReference={reference.value} selectedFoodItem={props.selectedFoodItem}></JuxtapositionTable>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}","import BaseDataChart from \"./charts/BaseDataChart\";\r\nimport EnergyDataChart from \"./charts/EnergyDataChart\";\r\nimport {\r\n    CHART_MINERALS,\r\n    CHART_VITAMINS,\r\n    TAB_BASE_DATA,\r\n    TAB_CARBS_DATA,\r\n    TAB_ENERGY_DATA, TAB_JUXTAPOSITION,\r\n    TAB_LIPIDS_DATA,\r\n    TAB_MINERAL_DATA,\r\n    TAB_PROTEINS_DATA,\r\n    TAB_VITAMIN_DATA\r\n} from \"../../config/Constants\";\r\nimport MineralVitaminChart from \"./charts/MineralVitaminChart\";\r\nimport LipidsDataChart from \"./charts/LipidsDataChart\";\r\nimport ProteinDataChart from \"./charts/ProteinDataChart\";\r\nimport CarbsDataChart from \"./charts/CarbsDataChart\";\r\nimport {ChartProps} from \"../../types/livedata/ChartPropsData\";\r\nimport {useContext} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport JuxtapostionContainer from \"./juxtaposition/JuxtapositionContainer\";\r\n\r\nexport function ChartPanel(props: ChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const selectedDataTab = applicationContext.applicationData.foodDataPanel.selectedDataPage\r\n\r\n    let chart = <div>Nothing to show</div>;\r\n    if (selectedDataTab === TAB_BASE_DATA) {\r\n        chart = <BaseDataChart selectedFoodItem={props.selectedFoodItem}/>\r\n    } else if (selectedDataTab === TAB_ENERGY_DATA) {\r\n        chart = <EnergyDataChart selectedFoodItem={props.selectedFoodItem}/>\r\n    } else if (selectedDataTab === TAB_VITAMIN_DATA) {\r\n        chart = <MineralVitaminChart selectedFoodItem={props.selectedFoodItem} selectedSubChart={CHART_VITAMINS}/>\r\n    } else if (selectedDataTab === TAB_MINERAL_DATA) {\r\n        chart = <MineralVitaminChart selectedFoodItem={props.selectedFoodItem} selectedSubChart={CHART_MINERALS}/>\r\n    } else if (selectedDataTab === TAB_LIPIDS_DATA) {\r\n        chart = <LipidsDataChart selectedFoodItem={props.selectedFoodItem}/>\r\n    } else if (selectedDataTab === TAB_CARBS_DATA) {\r\n        chart = <CarbsDataChart selectedFoodItem={props.selectedFoodItem}/>\r\n    } else if (selectedDataTab === TAB_PROTEINS_DATA) {\r\n        chart = <ProteinDataChart selectedFoodItem={props.selectedFoodItem}/>\r\n    }  else if (selectedDataTab === TAB_JUXTAPOSITION) {\r\n        chart = <JuxtapostionContainer selectedFoodItem={props.selectedFoodItem} displayMode={props.displayMode}/>\r\n    }\r\n\r\n    return (\r\n        <div style={{paddingTop: \"24px\"}}>\r\n            {chart}\r\n        </div>\r\n    )\r\n}","import {FoodTableDataObject} from \"../../types/livedata/SelectedFoodItemData\";\r\nimport {BootstrapTable, TableHeaderColumn} from 'react-bootstrap-table';\r\nimport {useContext} from \"react\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport 'react-bootstrap-table/dist/react-bootstrap-table-all.min.css';\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {DISPLAYMODE_CHART, TAB_MINERAL_DATA, TAB_PROTEINS_DATA, TAB_VITAMIN_DATA} from \"../../config/Constants\";\r\nimport {isMobileDevice} from \"../../service/WindowDimension\";\r\n\r\ninterface FoodDataTableProps {\r\n    tableData: Array<FoodTableDataObject>\r\n    portionSize: number\r\n    dataPage: string\r\n}\r\n\r\nexport function FoodDataTable(props: FoodDataTableProps) {\r\n    const dataExists = props.tableData && props.tableData.length > 0;\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const language = useContext(LanguageContext)\r\n\r\n    const changeToChartMode = () => {\r\n        applicationContext?.setFoodDataPanelData.setSelectedDisplayMode(DISPLAYMODE_CHART)\r\n    }\r\n\r\n    const formatDataCell = (cell, row) => {\r\n        if(!cell) {\r\n            return cell\r\n        }\r\n\r\n        if (!cell.includes(\"&&\")) {\r\n            return cell\r\n        }\r\n\r\n        const firstLineStype = {paddingBottom: \"6px\", display: 'block'}\r\n        const indentStyle = {paddingLeft: \"8px\"}\r\n\r\n        return <div>{cell.split(\"&&\").map((element, index) => (\r\n            <div key={`table-inner-cell-${row.label}-${index}`}>\r\n                {index > 0 ?\r\n                    <span style={indentStyle}>\r\n                    {element}\r\n                    </span>\r\n                    :\r\n                    <span style={firstLineStype}>\r\n                    {element}\r\n                </span>\r\n                }\r\n            </div>)\r\n        )}</div>\r\n    }\r\n\r\n    const labelPortion = `${applicationStrings.label_per_portion[language.language]} (${props.portionSize} g)`\r\n    const tableClass = isMobileDevice() ? \"table-style-m\" : \"table-style\"\r\n\r\n    const shouldShowDietaryRequirements = props.dataPage === TAB_VITAMIN_DATA || props.dataPage === TAB_MINERAL_DATA\r\n        || props.dataPage === TAB_PROTEINS_DATA\r\n\r\n    return (\r\n        <div style={{height: \"428px\", margin: \"25px\", overflowY: \"auto\"}}>\r\n            <div>\r\n                {dataExists &&\r\n                <BootstrapTable trClassName={tableClass} data={props.tableData} striped hover>\r\n                    <TableHeaderColumn isKey dataField='label' dataFormat={formatDataCell}>Element</TableHeaderColumn>\r\n                    <TableHeaderColumn dataField='value_100g'\r\n                                       width={\"170px\"}\r\n                                       dataFormat={formatDataCell}>{applicationStrings.label_per_100g[language.language]}\r\n                    </TableHeaderColumn>\r\n                    <TableHeaderColumn dataField='value_portion'\r\n                                       width={\"170px\"}\r\n                                       dataFormat={formatDataCell}>{labelPortion}\r\n                    </TableHeaderColumn>\r\n                    {shouldShowDietaryRequirements &&\r\n                    <TableHeaderColumn dataField='dailyRequirement'\r\n                                       width={\"190px\"}\r\n                                       dataFormat={formatDataCell}>{applicationStrings.label_requirement[language.language]}\r\n                    </TableHeaderColumn>\r\n                    }\r\n                </BootstrapTable>\r\n                }\r\n                {!dataExists &&\r\n                <div className=\"text-center\">{applicationStrings.label_noData[language.language]}</div>\r\n                }\r\n            </div>\r\n            <div style={{paddingTop: \"25px\"}}>\r\n                <button className={\"btn btn-link\"} onClick={changeToChartMode}>\r\n                    {applicationStrings.label_chart_view[language.language]}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React, {useContext, useEffect, useState} from \"react\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {BootstrapTable, TableHeaderColumn} from 'react-bootstrap-table';\r\nimport SelectedFoodItem from \"../../../types/livedata/SelectedFoodItem\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {getNameFromFoodNameList} from \"../../../service/nutrientdata/NameTypeService\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport getName from \"../../../service/LanguageService\";\r\nimport {calculateChartContainerHeight} from \"../../../service/ChartSizeCalculation\";\r\nimport {isMobileDevice, useWindowDimension} from \"../../../service/WindowDimension\";\r\nimport {getNutrientData, getSourceName} from \"../../../service/nutrientdata/NutrientDataRetriever\";\r\nimport {Button} from \"react-bootstrap\";\r\nimport {getFoodItemName} from \"../../../service/nutrientdata/FoodItemsService\";\r\n\r\ninterface InfoDataProps {\r\n    selectedFoodItem: SelectedFoodItem,\r\n    directCompare?: boolean\r\n}\r\n\r\ninterface RowElement {\r\n    key: string,\r\n    value: string\r\n}\r\n\r\nexport function InfoData(props: InfoDataProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n\r\n    const windowSize = useWindowDimension()\r\n    const [containerHeight, setContainerHeight] = useState<number>(calculateChartContainerHeight(windowSize, props.directCompare))\r\n\r\n    useEffect(() => {\r\n        setContainerHeight(calculateChartContainerHeight(windowSize, props.directCompare))\r\n    }, [containerHeight])\r\n\r\n    const createRow = (key: string, value: any): RowElement => {\r\n        return {\r\n            key: key,\r\n            value: value\r\n        }\r\n    }\r\n\r\n    const getGeneralTableData = (): Array<RowElement> => {\r\n        if (!applicationContext) {\r\n            return []\r\n        }\r\n\r\n        const foodNameId = props.selectedFoodItem.foodItem.nameId\r\n        const foodName = foodNameId ? getNameFromFoodNameList(applicationContext.foodDataCorpus.foodNames, foodNameId, lang, true) : ''\r\n\r\n        const foodClass = props.selectedFoodItem.foodClass;\r\n        const foodClassNameId = foodClass ? foodClass.nameKey : null\r\n\r\n        const sourceName = getSourceName(props.selectedFoodItem.selectedSource)\r\n        const sourceItemId = getNutrientData(props.selectedFoodItem).sourceItemId\r\n\r\n        const source = `United States Department of Agriculture (USDA)`;\r\n        const sourceLine2 = `${sourceName}, ID = ${sourceItemId}`;\r\n        const foodClassName = foodClassNameId ? getNameFromFoodNameList(applicationContext.foodDataCorpus.foodNames, foodClassNameId, lang) : null;\r\n\r\n        const categoryId = foodClass ? foodClass.category : null\r\n        const category = categoryId ? applicationContext.foodDataCorpus.categories.find(category => category.id === categoryId) : null\r\n        const categoryName = category ? getName(category, lang) : null;\r\n\r\n        const conditionId = props.selectedFoodItem.foodItem.conditionId\r\n        const condition = applicationContext.foodDataCorpus.conditions.find(condition => condition.id === conditionId)\r\n        const conditionName = condition ? getName(condition, lang) : null;\r\n\r\n        const tableDataGeneral: Array<RowElement> = [];\r\n\r\n        tableDataGeneral.push(\r\n            createRow(`${applicationStrings.label_info_foodName[lang]}:`, foodName)\r\n        );\r\n        tableDataGeneral.push(\r\n            createRow(`${applicationStrings.label_info_preparation[lang]}:`, conditionName)\r\n        );\r\n        tableDataGeneral.push(\r\n            createRow(`${applicationStrings.label_info_foodId[lang]}:`, props.selectedFoodItem.foodItem.id)\r\n        );\r\n        tableDataGeneral.push(\r\n            createRow(`${applicationStrings.label_info_foodClass[lang]}:`, foodClassName)\r\n        );\r\n        tableDataGeneral.push(\r\n            createRow(`${applicationStrings.label_info_category[lang]}:`, categoryName)\r\n        );\r\n        tableDataGeneral.push(\r\n            createRow(`${applicationStrings.label_info_source[lang]}:`, source)\r\n        );\r\n        tableDataGeneral.push(\r\n            createRow(\"\", sourceLine2)\r\n        );\r\n\r\n        return tableDataGeneral;\r\n    }\r\n\r\n    const getTableDataPortion = () => {\r\n        const foodPortion = props.selectedFoodItem.portion;\r\n        const portionValue = `${foodPortion.amount} g`;\r\n\r\n        const portionObject = applicationContext?.foodDataCorpus.portionTypes.find(portion => portion.id === foodPortion.portionType)\r\n        if (portionObject) {\r\n            const portionName = foodPortion.portionType !== 0 ? getName(portionObject, lang) : applicationStrings.portion_individual[lang];\r\n            const tableDataPortion: Array<RowElement> = [];\r\n\r\n            tableDataPortion.push(\r\n                createRow(`${applicationStrings.label_info_portionType[lang]}:`, portionName)\r\n            );\r\n\r\n            tableDataPortion.push(\r\n                createRow(`${applicationStrings.label_portion[lang]}:`, portionValue)\r\n            );\r\n\r\n            return tableDataPortion\r\n        }\r\n\r\n\r\n        return [];\r\n    }\r\n\r\n\r\n    const makeTableDataCombinedFood = () => {\r\n        if (!applicationContext) {\r\n            return\r\n        }\r\n\r\n        const compositeList = props.selectedFoodItem?.compositeSubElements ?? []\r\n        const tableData: Array<RowElement> = []\r\n        const {foodNames} = applicationContext.foodDataCorpus\r\n\r\n        for (let i = 0; i < compositeList.length; i++) {\r\n            const foodItem = compositeList[i].foodItem\r\n            let name = getFoodItemName(foodItem, foodNames, lang)\r\n            const portion = compositeList[i].portion.amount\r\n            const conditionId = compositeList[i].foodItem.conditionId\r\n\r\n            if (conditionId !== 100) {\r\n                const condition = applicationContext.foodDataCorpus.conditions.find(condition => condition.id === conditionId)\r\n                const conditionName = condition ? getName(condition, lang) : null;\r\n                name += ` (${conditionName})`\r\n            }\r\n            tableData.push(\r\n                createRow(`${name}:`, `${portion} g`)\r\n            )\r\n        }\r\n\r\n        return tableData;\r\n    }\r\n\r\n    const tableClass = isMobileDevice() ? \"table-style-m\" : \"table-style\"\r\n\r\n    const renderSubTable = (data) => {\r\n        return (\r\n            <div>\r\n                <BootstrapTable trClassName={tableClass} bordered={false} data={data}>\r\n                    <TableHeaderColumn className=\"table-header-no-top-border\" dataField='key' isKey width=\"200px\"/>\r\n                    <TableHeaderColumn className=\"table-header-no-top-border\" dataField='value'/>\r\n                </BootstrapTable>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const onLinkClick = () => {\r\n        const sourceItemId = getNutrientData(props.selectedFoodItem).sourceItemId\r\n        const usdaLink = `https://fdc.nal.usda.gov/fdc-app.html#/food-details/${sourceItemId}/nutrients`\r\n        const link = window.open(usdaLink, '_blank')\r\n        if (link) {\r\n            link.focus()\r\n        } else {\r\n            window.location.href = usdaLink\r\n        }\r\n    }\r\n\r\n\r\n    let height = containerHeight\r\n    if (!props.directCompare) {\r\n        height += 86\r\n    }\r\n\r\n    const isCompositeFoodElement = props.selectedFoodItem.aggregated === true\r\n\r\n    return (\r\n        <div>\r\n            <div style={{height: height, maxHeight: height, overflowY: \"auto\", padding: \"15px\"}}>\r\n                {!isCompositeFoodElement &&\r\n                <div>\r\n                    <div>\r\n                        <div>\r\n                            {renderSubTable(getGeneralTableData())}\r\n                        </div>\r\n                        <div style={{paddingTop: \"30px\"}}>\r\n                            <h5>{applicationStrings.label_info_portion[lang]}</h5>\r\n                            {renderSubTable(getTableDataPortion())}\r\n                        </div>\r\n                    </div>\r\n                    <div style={{paddingTop: \"20px\", paddingBottom: \"12px\"}}>\r\n                        <Button variant={'link'} active={true} onClick={onLinkClick}>\r\n                            {applicationStrings.label_usda_reference[lang]}\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n                }\r\n                {isCompositeFoodElement &&\r\n                <div>\r\n                    <h5>{applicationStrings.label_info_composite[lang]}</h5>\r\n                    {renderSubTable(makeTableDataCombinedFood())}\r\n                </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}","import {FoodTableDataObject} from \"../../types/livedata/SelectedFoodItemData\";\r\nimport {DISPLAYMODE_CHART, DISPLAYMODE_TABLE, TAB_INFO, TAB_JUXTAPOSITION} from \"../../config/Constants\";\r\nimport {ChartPanel} from \"./ChartPanel\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {FoodDataTable} from \"./FoodDataTable\";\r\nimport {InfoData} from \"./charts/InfoData\";\r\nimport {useContext} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {calculateMinimalDataPanelWidth} from \"../../service/ChartSizeCalculation\";\r\n\r\ninterface FoodDataPageBodyProps {\r\n    tableData: Array<FoodTableDataObject>\r\n    selectedFoodItem: SelectedFoodItem,\r\n    dataPage: string\r\n}\r\n\r\nexport default function FoodDataPageBody(props: FoodDataPageBodyProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n\r\n    if(!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const {displayMode, selectedDataPage}  = applicationContext.applicationData.foodDataPanel\r\n\r\n    const renderDataPage = () => {\r\n        return (\r\n            <div>\r\n                {(displayMode === DISPLAYMODE_TABLE && selectedDataPage !== TAB_JUXTAPOSITION) ?\r\n                <div className=\"col\">\r\n                    <FoodDataTable tableData={props.tableData}\r\n                                   portionSize={props.selectedFoodItem.portion.amount}\r\n                                   dataPage={props.dataPage}\r\n                    />\r\n                </div>\r\n                :\r\n                <div className=\"col\">\r\n                    <ChartPanel selectedFoodItem={props.selectedFoodItem} displayMode={displayMode} />\r\n                </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div style={{maxWidth: \"1200px\", minWidth: calculateMinimalDataPanelWidth()}}>\r\n            {selectedDataPage === TAB_INFO &&\r\n                 <InfoData selectedFoodItem={props.selectedFoodItem}/>\r\n            }\r\n            {selectedDataPage !== TAB_INFO &&\r\n                renderDataPage()\r\n            }\r\n        </div>\r\n    )\r\n\r\n}","import {Button, ButtonGroup} from \"react-bootstrap\";\r\nimport {\r\n    TAB_BASE_DATA,\r\n    TAB_CARBS_DATA,\r\n    TAB_ENERGY_DATA,\r\n    TAB_INFO, TAB_JUXTAPOSITION,\r\n    TAB_LIPIDS_DATA,\r\n    TAB_MINERAL_DATA,\r\n    TAB_PROTEINS_DATA,\r\n    TAB_VITAMIN_DATA\r\n} from \"../../config/Constants\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {useContext} from \"react\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {isMobileDevice} from \"../../service/WindowDimension\";\r\n\r\ninterface ChartMenuPanelProps {\r\n    dataPage: string\r\n    setDataPage: (id: string) => void\r\n    verticalArrangement: boolean\r\n}\r\n\r\nexport function ChartMenuPanel(props: ChartMenuPanelProps) {\r\n    const languageContext = useContext(LanguageContext)\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n\r\n    const handlePageButtonClick = (value: string) => {\r\n        props.setDataPage(value)\r\n    }\r\n\r\n    const variant = \"link\"\r\n\r\n    const makeButtonLabel = (buttonText): JSX.Element => {\r\n        const classNameSpan = props.verticalArrangement ? \"float-start\" : \"\"\r\n        return <span className={classNameSpan}>{buttonText}</span>\r\n    }\r\n\r\n    const rowClass = props.verticalArrangement ? \"d-flex\" : \"d-flex flex-row flex-wrap\"\r\n\r\n    const labelMinerals = isMobileDevice()\r\n        ? applicationStrings.label_nutrient_min_m[languageContext.language]\r\n        : applicationStrings.label_nutrient_min[languageContext.language]\r\n\r\n    const labelCarbs = isMobileDevice()\r\n        ? applicationStrings.label_nutrient_carbohydrates_m[languageContext.language]\r\n        : applicationStrings.label_nutrient_carbohydrates[languageContext.language]\r\n\r\n    return (\r\n        <div>\r\n            <ButtonGroup className={rowClass} vertical={props.verticalArrangement}>\r\n                <Button className=\"btn sidebar-link\"\r\n                        onClick={() => handlePageButtonClick(TAB_BASE_DATA)}\r\n                        variant={variant}\r\n                        active={props.dataPage === TAB_BASE_DATA}>\r\n                    {makeButtonLabel(applicationStrings.label_overview[languageContext.language])}\r\n                </Button>\r\n                <Button className=\"btn sidebar-link\"\r\n                        onClick={() => handlePageButtonClick(TAB_ENERGY_DATA)}\r\n                        variant={variant}\r\n                        active={props.dataPage === TAB_ENERGY_DATA}>\r\n                    {makeButtonLabel(applicationStrings.label_nutrient_energy[languageContext.language])}\r\n                </Button>\r\n                <Button className=\"btn sidebar-link\"\r\n                        onClick={() => handlePageButtonClick(TAB_VITAMIN_DATA)}\r\n                        variant={variant}\r\n                        active={props.dataPage === TAB_VITAMIN_DATA}>\r\n                    {makeButtonLabel(applicationStrings.label_nutrient_vit[languageContext.language])}\r\n                </Button>\r\n                <Button className=\"btn sidebar-link\"\r\n                        onClick={() => handlePageButtonClick(TAB_MINERAL_DATA)}\r\n                        variant={variant}\r\n                        active={props.dataPage === TAB_MINERAL_DATA}>\r\n                    {makeButtonLabel(labelMinerals)}\r\n                </Button>\r\n                <Button className=\"btn sidebar-link\"\r\n                        onClick={() => handlePageButtonClick(TAB_LIPIDS_DATA)}\r\n                        variant={variant}\r\n                        active={props.dataPage === TAB_LIPIDS_DATA}>\r\n                    {makeButtonLabel(applicationStrings.label_nutrient_lipids[languageContext.language])}\r\n                </Button>\r\n                <Button className=\"btn sidebar-link\"\r\n                        onClick={() => handlePageButtonClick(TAB_CARBS_DATA)}\r\n                        variant={variant}\r\n                        active={props.dataPage === TAB_CARBS_DATA}>\r\n                    {makeButtonLabel(labelCarbs)}\r\n                </Button>\r\n                <Button className=\"btn sidebar-link\"\r\n                        onClick={() => handlePageButtonClick(TAB_PROTEINS_DATA)}\r\n                        variant={variant}\r\n                        active={props.dataPage === TAB_PROTEINS_DATA}>\r\n                    {makeButtonLabel(applicationStrings.label_nutrient_proteins[languageContext.language])}\r\n                </Button>\r\n                {props.verticalArrangement &&\r\n                    <Button className=\"btn sidebar-link\"\r\n                            onClick={() => handlePageButtonClick(TAB_JUXTAPOSITION)}\r\n                            variant={variant}\r\n                            active={props.dataPage === TAB_JUXTAPOSITION}>\r\n                        {makeButtonLabel(applicationStrings.label_juxtaposition[languageContext.language])}\r\n                    </Button>\r\n                }\r\n                <Button className=\"btn sidebar-link\"\r\n                        onClick={() => handlePageButtonClick(TAB_INFO)}\r\n                        variant={variant}\r\n                        active={props.dataPage === TAB_INFO}>\r\n                    {makeButtonLabel(applicationStrings.label_info[languageContext.language])}\r\n                </Button>\r\n            </ButtonGroup>\r\n        </div>\r\n    );\r\n\r\n}","import React, {useContext} from \"react\";\r\nimport {Button, Form, FormControl, FormGroup, Modal} from \"react-bootstrap\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {isMobileDevice} from \"../../service/WindowDimension\";\r\nimport {\r\n    OPTION_NO,\r\n    OPTION_YES,\r\n    UNIT_GRAM,\r\n    UNIT_MICROGRAM,\r\n    UNIT_MILLIGRAM\r\n} from \"../../config/Constants\";\r\nimport Select from 'react-select';\r\nimport ReactSelectOption from \"../../types/ReactSelectOption\";\r\n\r\ninterface SettingsProps {\r\n    onHide: () => void\r\n}\r\n\r\nexport default function SettingsModal(props: SettingsProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const language = useContext(LanguageContext).language\r\n\r\n    const handleUnitVitaminsChange = (selectionOption: ReactSelectOption) => {\r\n        if (applicationContext) {\r\n            let dataSettings = {...applicationContext.dataSettings, unitVitamins: selectionOption.value}\r\n            applicationContext.setDataSettings(dataSettings)\r\n        }\r\n    }\r\n\r\n    const handleUnitProteinsChange = (selectionOption: ReactSelectOption) => {\r\n        if (applicationContext) {\r\n            let dataSettings = {...applicationContext.dataSettings, unitProteins: selectionOption.value}\r\n            applicationContext.setDataSettings(dataSettings)\r\n        }\r\n    }\r\n\r\n    const handleIncludeProvitaminsChange = (selectionOption: ReactSelectOption) => {\r\n        if (applicationContext) {\r\n            let dataSettings = {...applicationContext.dataSettings, includeProvitamins: selectionOption.value}\r\n            applicationContext.setDataSettings(dataSettings)\r\n        }\r\n    }\r\n\r\n    const renderMenu = () => {\r\n        const optionsVitamins: Array<ReactSelectOption> = [\r\n            {label: applicationStrings._milligram[language], value: UNIT_MILLIGRAM},\r\n            {label: applicationStrings._microgram[language], value: UNIT_MICROGRAM},\r\n        ]\r\n        const selectedUnitVitamins = applicationContext?.dataSettings.unitVitamins\r\n        const selectedOptionVitamins = optionsVitamins.find(option => option.value === selectedUnitVitamins)\r\n\r\n        const optionsProteins: Array<ReactSelectOption> = [\r\n            {label: applicationStrings._gram[language], value: UNIT_GRAM},\r\n            {label: applicationStrings._milligram[language], value: UNIT_MILLIGRAM},\r\n        ]\r\n        const selectedUnitProteins = applicationContext?.dataSettings.unitProteins\r\n        const selectedOptionProteins = optionsProteins.find(option => option.value === selectedUnitProteins)\r\n\r\n        const optionsProvitamins: Array<ReactSelectOption> = [\r\n            {label: applicationStrings._option_yes[language], value: OPTION_YES},\r\n            {label: applicationStrings._option_no[language], value: OPTION_NO},\r\n        ]\r\n        const includeProvitamins = applicationContext?.dataSettings.includeProvitamins\r\n        const selectedOptionProvitamins = optionsProvitamins.find(option => option.value === includeProvitamins)\r\n\r\n        const classRow = isMobileDevice() ? \"form-row-m\" : \"form-row\"\r\n\r\n        return <div>\r\n            <form>\r\n                <FormGroup controlId=\"formBasicText\">\r\n                    <div className=\"row\">\r\n                        <div className={classRow}>\r\n                            <Form.Label className=\"form-label\">\r\n                                {applicationStrings.modal_settings_label_unit_vitamins[language]}:\r\n                            </Form.Label>\r\n                            <Select options={optionsVitamins}\r\n                                    value={selectedOptionVitamins}\r\n                                    isSearchable={false}\r\n                                    onChange={(value) => handleUnitVitaminsChange(value)}\r\n                            />\r\n                        </div>\r\n                        <div className={classRow}>\r\n                            <Form.Label className=\"form-label\">\r\n                                {applicationStrings.modal_settings_label_unit_proteins[language]}:\r\n                            </Form.Label>\r\n                            <Select options={optionsProteins}\r\n                                    value={selectedOptionProteins}\r\n                                    isSearchable={false}\r\n                                    onChange={(value) => handleUnitProteinsChange(value)}\r\n                            />\r\n                        </div>\r\n                        <div className={classRow}>\r\n                            <Form.Label className=\"form-label\">\r\n                                {applicationStrings.modal_settings_label_provitamins[language]}:\r\n                            </Form.Label>\r\n                            <Select options={optionsProvitamins}\r\n                                    value={selectedOptionProvitamins}\r\n                                    isSearchable={false}\r\n                                    onChange={(value) => handleIncludeProvitaminsChange(value)}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                </FormGroup>\r\n            </form>\r\n        </div>\r\n    }\r\n\r\n    return (\r\n        <Modal show={true}>\r\n            <Modal.Header>\r\n                <h5 className=\"modal-title\"><b>{applicationStrings.modal_settings_title[language]}</b></h5>\r\n                <button type=\"button\"\r\n                        className=\"btn-close\"\r\n                        data-dismiss=\"modal\"\r\n                        aria-label=\"Close\"\r\n                        onClick={props.onHide}>\r\n                </button>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div style={{padding: \"20px\"}}>\r\n                    {renderMenu()}\r\n                </div>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <button type=\"button\"\r\n                        className=\"btn btn-primary\"\r\n                        onClick={props.onHide}>\r\n                    {applicationStrings.button_close[language]}\r\n                </button>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    )\r\n\r\n}","import {useContext, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {Button} from \"react-bootstrap\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {FaBookOpen, FaChartBar, FaQuestionCircle, FaThList, FaTimes, FaTools} from \"react-icons/fa\";\r\nimport {\r\n    DISPLAYMODE_CHART,\r\n    DISPLAYMODE_TABLE,\r\n    PATH_FOODDATA_PANEL,\r\n    TAB_BASE_DATA,\r\n    TAB_CARBS_DATA,\r\n    TAB_ENERGY_DATA,\r\n    TAB_INFO, TAB_JUXTAPOSITION,\r\n    TAB_LIPIDS_DATA,\r\n    TAB_MINERAL_DATA,\r\n    TAB_PROTEINS_DATA,\r\n    TAB_VITAMIN_DATA\r\n} from \"../../config/Constants\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport {getNameFromFoodNameList, shortenName} from \"../../service/nutrientdata/NameTypeService\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport FoodDataPageBody from \"./FoodDataPageBody\";\r\nimport {FoodTableDataObject} from \"../../types/livedata/SelectedFoodItemData\";\r\nimport {HelpModal} from \"../HelpModal\";\r\nimport {getHelpText, HelpText} from \"../../service/HelpService\";\r\nimport getName from \"../../service/LanguageService\";\r\nimport {ChartMenuPanel} from \"./ChartMenuPanel\";\r\nimport {getSourceName} from \"../../service/nutrientdata/NutrientDataRetriever\";\r\nimport {useHistory} from 'react-router-dom';\r\nimport {isMobileDevice} from \"../../service/WindowDimension\";\r\nimport SettingsModal from \"./SettingsModal\";\r\n\r\ninterface FoodDataPageHeaderProps {\r\n    setDisplayMode: (id: string) => void\r\n    setDataPage: (id: string) => void\r\n    selectedFoodItem: SelectedFoodItem\r\n    tableData: Array<FoodTableDataObject>\r\n}\r\n\r\nexport default function FoodDataPageHeader(props: FoodDataPageHeaderProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const history = useHistory()\r\n\r\n    const [helpModalId, setHelpModalId] = useState<number>(0)\r\n    const [showBookModal, setShowBookModal] = useState<boolean>(false)\r\n    const [showSettingsModal, setShowSettingsModal] = useState<boolean>(false)\r\n\r\n    if (applicationContext === null) {\r\n        return <div/>\r\n    }\r\n\r\n    const displayMode = applicationContext.applicationData.foodDataPanel.displayMode\r\n    const dataPage = applicationContext.applicationData.foodDataPanel.selectedDataPage\r\n\r\n    const handleRadioButtonClick = (value: string) => {\r\n        props.setDisplayMode(value)\r\n    }\r\n\r\n    const closeTab = () => {\r\n        const id = (props.selectedFoodItem.foodItem.id)\r\n        const remainingItems = applicationContext.applicationData.foodDataPanel.selectedFoodItems.length - 1\r\n        applicationContext.setFoodDataPanelData.removeItemFromFoodDataPanel(id)\r\n\r\n        if (remainingItems === 0) {\r\n            history.push({pathName: PATH_FOODDATA_PANEL})\r\n        }\r\n    }\r\n\r\n    const openHelpMenu = () => {\r\n        switch (dataPage) {\r\n            case TAB_BASE_DATA:\r\n                setHelpModalId(1)\r\n                return;\r\n            case TAB_ENERGY_DATA:\r\n                setHelpModalId(2)\r\n                return;\r\n            case TAB_VITAMIN_DATA:\r\n                setHelpModalId(3)\r\n                return;\r\n            case TAB_MINERAL_DATA:\r\n                setHelpModalId(4)\r\n                return;\r\n            case TAB_LIPIDS_DATA:\r\n                setHelpModalId(5)\r\n                return;\r\n            case TAB_INFO:\r\n                setHelpModalId(6)\r\n                return;\r\n            case TAB_CARBS_DATA:\r\n                setHelpModalId(7)\r\n                return;\r\n            case TAB_PROTEINS_DATA:\r\n                setHelpModalId(8)\r\n                return;\r\n            case TAB_JUXTAPOSITION:\r\n                setHelpModalId(11)\r\n                return;\r\n            default:\r\n                return;\r\n        }\r\n    }\r\n\r\n    const openSettingsMenu = () => {\r\n        setShowSettingsModal(true)\r\n    }\r\n\r\n    const openVitaminMineralBook = () => {\r\n        setShowBookModal(true)\r\n    }\r\n\r\n    const enabledDisplayButtonClasses = \"btn button-displaymode-enabled\"\r\n    const disabledDisplayButtonClasses = \"btn button-displaymode-disabled\"\r\n\r\n    const chartButtonClasses = displayMode === DISPLAYMODE_CHART ? enabledDisplayButtonClasses\r\n        : disabledDisplayButtonClasses;\r\n\r\n    const tablesButtonClasses = displayMode === DISPLAYMODE_TABLE ? enabledDisplayButtonClasses\r\n        : disabledDisplayButtonClasses;\r\n\r\n    const foodNamesList = applicationContext.foodDataCorpus.foodNames;\r\n\r\n\r\n    let foodName\r\n    if (props.selectedFoodItem.foodItem.nameId) {\r\n        foodName = getNameFromFoodNameList(foodNamesList, props.selectedFoodItem.foodItem.nameId, languageContext.language)\r\n    } else {\r\n        foodName = props.selectedFoodItem.title !== undefined ? props.selectedFoodItem.title : 'Individual'\r\n    }\r\n\r\n    let fullName\r\n    const portionSize = props.selectedFoodItem.portion.amount\r\n\r\n    if (!props.selectedFoodItem.foodItem.aggregated) {\r\n        const condition = applicationContext.foodDataCorpus.conditions.find(condition => condition.id === props.selectedFoodItem.foodItem.conditionId)\r\n        const conditionName = condition ? getName(condition, languageContext.language) : \"\"\r\n        if (isMobileDevice()) {\r\n            foodName = shortenName(foodName, 16)\r\n        }\r\n        fullName = condition?.id !== 100\r\n            ? `${foodName} (${conditionName}, ${portionSize} g)`\r\n            : `${foodName} (${portionSize} g)`\r\n    } else {\r\n        fullName = `${foodName} (${portionSize} g)`\r\n    }\r\n\r\n    const helpText: HelpText | null = helpModalId > 0 ? getHelpText(helpModalId, languageContext.language) : null\r\n    const sourceString = getSourceName(props.selectedFoodItem.selectedSource)\r\n    const selectedDataPage = applicationContext.applicationData.foodDataPanel.selectedDataPage\r\n    const sourceToolTip = `${applicationStrings.tooltip_source[languageContext.language]} ${sourceString}`\r\n    const headerLabel = isMobileDevice() ? \"header-label-m\" : \"header-label\";\r\n\r\n    const aggregatedFoodItem = props.selectedFoodItem?.aggregated === true\r\n\r\n    return (\r\n        <div style={{paddingBottom: \"6px\"}}>\r\n            {helpText !== null &&\r\n            <HelpModal helpText={helpText} closeHelpModal={() => setHelpModalId(0)}/>\r\n            }\r\n            {showSettingsModal &&\r\n                <SettingsModal onHide={() => setShowSettingsModal(false)} />\r\n            }\r\n            <div className={\"d-flex flex-nowrap\"}>\r\n                <div className=\"col-2\">\r\n                    <div className={\"card\"}>\r\n                        <div className=\"card-body\" style={{paddingRight: \"16px\"}}>\r\n                            <ChartMenuPanel verticalArrangement={true} setDataPage={props.setDataPage}\r\n                                            dataPage={selectedDataPage}/>\r\n                            <div className={\"d-flex card\"} style={{marginTop: \"24px\", backgroundColor: \"#eeeeee\"}}>\r\n                                <div className={\"text-center\"} style={{fontSize: \"0.8em\"}} data-tip={sourceToolTip}>\r\n                                    {sourceString}\r\n                                    <ReactTooltip/>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className={\"col-10\"}>\r\n                    <div className=\"d-flex flex-row justify-content-between\" style={{marginTop: \"10px\"}}>\r\n                        <div style={{paddingTop: \"6px\", paddingLeft: \"32px\"}}>\r\n                            <div className={headerLabel}>\r\n                                <b>{fullName}</b>\r\n                            </div>\r\n                        </div>\r\n                        <div style={{paddingRight: \"24px\"}}>\r\n                            <div className={\"d-flex flex-row\"} >\r\n                                <div className=\"btn-group\" role=\"group\">\r\n                                    <Button className={chartButtonClasses}\r\n                                            onClick={() => handleRadioButtonClick(DISPLAYMODE_CHART)}\r\n                                            active={displayMode === DISPLAYMODE_CHART}\r\n                                            data-for={\"datapanel-chart\"}\r\n                                            data-tip={applicationStrings.tooltip_icon_charts[languageContext.language]}>\r\n                                        <ReactTooltip id={\"datapanel-chart\"}/>\r\n                                        <FaChartBar/>\r\n                                    </Button>\r\n                                    <Button className={tablesButtonClasses}\r\n                                            onClick={() => handleRadioButtonClick(DISPLAYMODE_TABLE)}\r\n                                            active={displayMode === DISPLAYMODE_TABLE}\r\n                                            data-for={\"datapanel-table\"}\r\n                                            data-tip={applicationStrings.tooltip_icon_table[languageContext.language]}>\r\n                                        <ReactTooltip id=\"datapanel-table\"/>\r\n                                        <FaThList/>\r\n                                    </Button>\r\n                                </div>\r\n                                <div className={\"d-flex flex-row\"} style={{paddingLeft: \"20px\"}}>\r\n                                    <Button className={\"btn-primary button-foodPanelHead\"}\r\n                                            onClick={openSettingsMenu}\r\n                                            data-for={\"datapanel-settings\"}\r\n                                            data-tip={applicationStrings.tooltip_icon_settings[languageContext.language]}>\r\n                                        <ReactTooltip id=\"datapanel-settings\" globalEventOff=\"click\"/>\r\n                                        <FaTools/>\r\n                                    </Button>\r\n                                    <Button className={\"btn-primary button-foodPanelHead\"}\r\n                                            onClick={openHelpMenu}>\r\n                                        <FaQuestionCircle/>\r\n                                    </Button>\r\n                                    <Button className={\"button-closeTab\"}\r\n                                            onClick={closeTab}\r\n                                            data-for={\"datapanel-close\"}\r\n                                            data-tip={applicationStrings.tooltip_icon_close[languageContext.language]}>\r\n                                        <ReactTooltip id=\"datapanel-close\"/>\r\n                                        <FaTimes/>\r\n                                    </Button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <FoodDataPageBody selectedFoodItem={props.selectedFoodItem}\r\n                                      tableData={props.tableData}\r\n                                      dataPage={dataPage}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}","import * as MathService from './calculation/MathService';\r\nimport {applicationStrings} from \"../static/labels\";\r\nimport {FoodTableDataObject} from \"../types/livedata/SelectedFoodItemData\";\r\nimport {getNutrientData} from \"./nutrientdata/NutrientDataRetriever\";\r\nimport SelectedFoodItem from \"../types/livedata/SelectedFoodItem\";\r\nimport {getTotalAmountOfCarotenoids} from \"./calculation/provitaminCalculation/CarotenoidCalculationService\";\r\nimport {CATEGORY_BEVERAGE, OPTION_YES, UNIT_GRAM, UNIT_MICROGRAM, UNIT_MILLIGRAM} from \"../config/Constants\";\r\nimport {\r\n    getTotalAmountOfExtendedVitaminE,\r\n    hasExtendedData\r\n} from \"./calculation/provitaminCalculation/ExtendedVitaminECalculationService\";\r\nimport DietaryRequirement, {RequirementData} from \"../types/nutrientdata/DietaryRequirement\";\r\nimport {determineDailyRequirement} from \"./calculation/DietaryRequirementService\";\r\nimport {UserData} from \"../types/livedata/UserData\";\r\nimport {\r\n    EC_FACTOR_TOCOTRIENOL_ALPHA, EC_FACTOR_TOCOTRIENOL_BETA, EC_FACTOR_TOCOTRIENOL_GAMMA,\r\n    EQ_FACTOR_BETA_CAROTENE,\r\n    EQ_FACTOR_OTHER_CAROTENE, EQ_FACTOR_TOCOPHEROL_BETA, EQ_FACTOR_TOCOPHEROL_DELTA, EQ_FACTOR_TOCOPHEROL_GAMMA\r\n} from \"./calculation/provitaminCalculation/ProvitaminEquivalentFactors\";\r\nimport {autoRound} from \"./calculation/MathService\";\r\nimport {DataSettings} from \"../types/livedata/DataSettings\";\r\n\r\nexport interface TableCalculationParams {\r\n    selectedFoodItem: SelectedFoodItem\r\n    portion: number\r\n    language: string\r\n    preferredSource: string\r\n    dietaryRequirement?: DietaryRequirement\r\n    userData?: UserData\r\n    dataSettings: DataSettings\r\n}\r\n\r\nexport function createBaseDataTable(params: TableCalculationParams): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject> = [];\r\n    const {selectedFoodItem, portion, language} = params\r\n\r\n    const {\r\n        water,\r\n        carbohydrates,\r\n        lipids,\r\n        proteins,\r\n        dietaryFibers,\r\n        ash,\r\n        alcohol\r\n    } = getNutrientData(selectedFoodItem).baseData\r\n    const {sugar} = getNutrientData(selectedFoodItem).carbohydrateData\r\n\r\n    if (water !== null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_water[language],\r\n            water,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if (carbohydrates !== null) {\r\n        const carbObject = makeCarbsTableObject(carbohydrates, sugar, dietaryFibers, portion, language)\r\n        tableData.push(carbObject)\r\n    }\r\n\r\n    if (lipids !== null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_lipids[language],\r\n            lipids,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if (proteins !== null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins[language],\r\n            proteins,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    // We display alcohol content only if the food class is beverage or unknown\r\n    if (alcohol !== null && (selectedFoodItem.foodClass?.category === CATEGORY_BEVERAGE || selectedFoodItem.foodClass === null)) {\r\n        tableData.push(createTableObjectAlcohol(\r\n            applicationStrings.label_nutrient_alcohol[language],\r\n            alcohol,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if (ash !== null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_ash[language],\r\n            ash,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\nexport function createVitaminTable(params: TableCalculationParams): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject> = [];\r\n    const {selectedFoodItem, portion, language, dietaryRequirement, userData, dataSettings} = params\r\n    const vitRequirementData = dietaryRequirement?.vitaminRequirementData ?? null\r\n\r\n    const nutrientData = getNutrientData(selectedFoodItem)\r\n    const unit = params.dataSettings.unitVitamins === UNIT_MILLIGRAM ? \"mg\" : \"µg\"\r\n\r\n    if(!vitRequirementData || !userData) {\r\n        throw new Error(\"Vitamin Requirement Data or User Data is not available\")\r\n    }\r\n\r\n    if (nutrientData.vitaminData.a != null) {\r\n        const requirement = makeDietaryRequirementString(vitRequirementData.a, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_vit_a[language],\r\n                getVitaminOrMineralAmount(nutrientData.vitaminData.a, dataSettings),\r\n                portion,\r\n                unit,\r\n                requirement\r\n            )\r\n        );\r\n    }\r\n\r\n    const {carotenoidData} = nutrientData.vitaminData\r\n\r\n    if (carotenoidData != null && dataSettings.includeProvitamins === OPTION_YES) {\r\n        let totalCarotenoid = getTotalAmountOfCarotenoids(carotenoidData)\r\n\r\n        if (totalCarotenoid !== null) {\r\n            if(dataSettings.unitVitamins === UNIT_MICROGRAM) {\r\n                totalCarotenoid *= 1000\r\n            }\r\n\r\n            let reqString\r\n            let requirementVitaminA = determineDailyRequirement(vitRequirementData.a, userData)\r\n            if(dataSettings.unitVitamins === UNIT_MICROGRAM) {\r\n                requirementVitaminA *= 1000\r\n            }\r\n\r\n            reqString = `${requirementVitaminA} ${unit} Vit. A ≙`\r\n\r\n            let carotenoidTableObject = createTableObject(\r\n                applicationStrings.label_nutrient_vit_carotenoid[language],\r\n                totalCarotenoid,\r\n                portion, unit, reqString\r\n            )\r\n\r\n            if (carotenoidData.caroteneAlpha !== null) {\r\n                let reqString = \"\"\r\n                if (vitRequirementData && userData) {\r\n                    const equivalentVitA = calculateProvitaminEquivalent(\r\n                        vitRequirementData.a,\r\n                        EQ_FACTOR_OTHER_CAROTENE,\r\n                        userData,\r\n                        dataSettings\r\n                    )\r\n                    reqString = `... ${applicationStrings.label_prefix_hereof[language]} ${equivalentVitA} ${unit}`\r\n                }\r\n\r\n                const label = ` ... ${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_vit_carotenoid_alpha[language]}`\r\n\r\n                carotenoidTableObject = appendTableDataObject(\r\n                    carotenoidTableObject,\r\n                    language,\r\n                    label,\r\n                    getVitaminOrMineralAmount(carotenoidData.caroteneAlpha, dataSettings),\r\n                    portion,\r\n                    unit,\r\n                    reqString\r\n                )\r\n            }\r\n\r\n            if (carotenoidData.caroteneBeta !== null) {\r\n                let reqString = \"\"\r\n                if (vitRequirementData && userData) {\r\n                    const equivalentVitA = calculateProvitaminEquivalent(\r\n                        vitRequirementData.a,\r\n                        EQ_FACTOR_BETA_CAROTENE,\r\n                        userData,\r\n                        dataSettings\r\n                    )\r\n                    reqString = `... ${applicationStrings.label_prefix_hereof[language]} ${equivalentVitA} ${unit}`\r\n                }\r\n\r\n                const label = ` ... ${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_vit_carotenoid_beta[language]}`\r\n                carotenoidTableObject = appendTableDataObject(\r\n                    carotenoidTableObject,\r\n                    language,\r\n                    label,\r\n                    getVitaminOrMineralAmount(carotenoidData.caroteneBeta, dataSettings),\r\n                    portion,\r\n                    unit,\r\n                    reqString\r\n                )\r\n            }\r\n\r\n            if (carotenoidData.cryptoxanthin !== null) {\r\n                let reqString = \"\"\r\n                if (vitRequirementData && userData) {\r\n                    const equivalentVitA = calculateProvitaminEquivalent(\r\n                        vitRequirementData.a,\r\n                        EQ_FACTOR_OTHER_CAROTENE,\r\n                        userData,\r\n                        dataSettings\r\n                    )\r\n                    reqString = `... ${applicationStrings.label_prefix_hereof[language]} ${equivalentVitA} ${unit}`\r\n                }\r\n                const label = ` ... ${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_vit_cryptoxanthin[language]}`\r\n                carotenoidTableObject = appendTableDataObject(\r\n                    carotenoidTableObject,\r\n                    language,\r\n                    label,\r\n                    getVitaminOrMineralAmount(carotenoidData.cryptoxanthin, dataSettings),\r\n                    portion,\r\n                    unit,\r\n                    reqString\r\n                )\r\n            }\r\n\r\n            tableData.push(carotenoidTableObject)\r\n        }\r\n    }\r\n\r\n    if (nutrientData.vitaminData.b1 != null) {\r\n        const requirement = makeDietaryRequirementString(vitRequirementData.b1, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_vit_b1[language],\r\n                getVitaminOrMineralAmount(nutrientData.vitaminData.b1, dataSettings),\r\n                portion,\r\n                unit,\r\n                requirement\r\n            )\r\n        );\r\n    }\r\n\r\n    if (nutrientData.vitaminData.b2 != null) {\r\n        const requirement = makeDietaryRequirementString(vitRequirementData.b2, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_vit_b2[language],\r\n                getVitaminOrMineralAmount(nutrientData.vitaminData.b2, dataSettings),\r\n                portion,\r\n                unit,\r\n                requirement\r\n            )\r\n        );\r\n    }\r\n\r\n    if (nutrientData.vitaminData.b3 != null) {\r\n        const requirement = makeDietaryRequirementString(vitRequirementData.b3, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_vit_b3[language],\r\n                getVitaminOrMineralAmount(nutrientData.vitaminData.b3, dataSettings),\r\n                portion,\r\n                unit,\r\n                requirement\r\n            )\r\n        );\r\n    }\r\n\r\n    if (nutrientData.vitaminData.b5 != null) {\r\n        const requirement = makeDietaryRequirementString(vitRequirementData.b5, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_vit_b5[language],\r\n                getVitaminOrMineralAmount(nutrientData.vitaminData.b5, dataSettings),\r\n                portion,\r\n                unit,\r\n                requirement\r\n            )\r\n        );\r\n    }\r\n\r\n    if (nutrientData.vitaminData.b6 != null) {\r\n        const requirement = makeDietaryRequirementString(vitRequirementData.b6, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_vit_b6[language],\r\n                getVitaminOrMineralAmount(nutrientData.vitaminData.b6, dataSettings),\r\n                portion,\r\n                unit,\r\n                requirement\r\n            )\r\n        );\r\n    }\r\n\r\n    if (nutrientData.vitaminData.b9 != null) {\r\n        const requirement = makeDietaryRequirementString(vitRequirementData.b9, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_vit_b9[language],\r\n                getVitaminOrMineralAmount(nutrientData.vitaminData.b9, dataSettings),\r\n                portion,\r\n                unit,\r\n                requirement\r\n            )\r\n        );\r\n    }\r\n\r\n    if (nutrientData.vitaminData.b12 != null) {\r\n        const requirement = makeDietaryRequirementString(vitRequirementData.b12, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_vit_b12[language],\r\n                getVitaminOrMineralAmount(nutrientData.vitaminData.b12, dataSettings),\r\n                portion,\r\n                unit,\r\n                requirement\r\n            )\r\n        );\r\n    }\r\n\r\n    if (nutrientData.vitaminData.c != null) {\r\n        const requirement = makeDietaryRequirementString(vitRequirementData.c, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_vit_c[language],\r\n                getVitaminOrMineralAmount(nutrientData.vitaminData.c, dataSettings),\r\n                portion,\r\n                unit,\r\n                requirement\r\n            )\r\n        );\r\n    }\r\n\r\n    if (nutrientData.vitaminData.d != null) {\r\n        const requirement = makeDietaryRequirementString(vitRequirementData.d, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_vit_d[language],\r\n                getVitaminOrMineralAmount(nutrientData.vitaminData.d, dataSettings),\r\n                portion,\r\n                unit,\r\n                requirement\r\n            )\r\n        );\r\n    }\r\n\r\n    if (nutrientData.vitaminData.e != null) {\r\n        const requirement = makeDietaryRequirementString(vitRequirementData.e, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_vit_e[language],\r\n                getVitaminOrMineralAmount(nutrientData.vitaminData.e, dataSettings),\r\n                portion,\r\n                unit,\r\n                requirement\r\n            )\r\n        );\r\n    }\r\n\r\n    const {extendedVitaminE} = nutrientData.vitaminData\r\n\r\n    if (nutrientData.vitaminData.e !== null && extendedVitaminE !== null && hasExtendedData(extendedVitaminE)\r\n            && dataSettings.includeProvitamins === OPTION_YES) {\r\n        let totalExtensions = getTotalAmountOfExtendedVitaminE(extendedVitaminE)\r\n\r\n        if (totalExtensions !== null) {\r\n            if(dataSettings.unitVitamins === UNIT_MICROGRAM) {\r\n                totalExtensions *= 1000\r\n            }\r\n\r\n            let reqString = \"\"\r\n            if (vitRequirementData && userData) {\r\n                const requirementVitaminE = determineDailyRequirement(vitRequirementData.e, userData)\r\n                reqString = `${requirementVitaminE} mg Vit. E ≙`\r\n            }\r\n\r\n            let extendedVitaminETable = createTableObject(\r\n                applicationStrings.label_nutrient_vit_e_ext[language],\r\n                totalExtensions,\r\n                portion,\r\n                unit,\r\n                reqString\r\n            )\r\n\r\n            if (extendedVitaminE.tocopherolBeta !== null) {\r\n                let reqString = \"\"\r\n                if (vitRequirementData?.e && userData) {\r\n                    const equivalentVitE = calculateProvitaminEquivalent(\r\n                        vitRequirementData.e,\r\n                        EQ_FACTOR_TOCOPHEROL_BETA,\r\n                        userData,\r\n                        dataSettings\r\n                    )\r\n                    reqString = `... ${applicationStrings.label_prefix_hereof[language]} ${equivalentVitE} ${unit}`\r\n                }\r\n                const label = ` ... ${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_vit_e_ext_tocopherolBeta[language]}`\r\n                extendedVitaminETable = appendTableDataObject(\r\n                    extendedVitaminETable,\r\n                    language,\r\n                    label,\r\n                    getVitaminOrMineralAmount(extendedVitaminE.tocopherolBeta, dataSettings),\r\n                    portion,\r\n                    unit,\r\n                    reqString\r\n                )\r\n            }\r\n\r\n            if (extendedVitaminE.tocopherolGamma !== null) {\r\n                let reqString = \"\"\r\n                if (vitRequirementData?.e && userData) {\r\n                    const equivalentVitE = calculateProvitaminEquivalent(\r\n                        vitRequirementData.e,\r\n                        EQ_FACTOR_TOCOPHEROL_GAMMA,\r\n                        userData,\r\n                        dataSettings\r\n                    )\r\n                    reqString = `... ${applicationStrings.label_prefix_hereof[language]} ${equivalentVitE} ${unit}`\r\n                }\r\n                const label = ` ... ${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_vit_e_ext_tocopherolGamma[language]}`\r\n                extendedVitaminETable = appendTableDataObject(\r\n                    extendedVitaminETable,\r\n                    language,\r\n                    label,\r\n                    getVitaminOrMineralAmount(extendedVitaminE.tocopherolGamma, dataSettings),\r\n                    portion,\r\n                    unit,\r\n                    reqString)\r\n            }\r\n\r\n            if (extendedVitaminE.tocopherolDelta !== null) {\r\n                let reqString = \"\"\r\n                if (vitRequirementData?.e && userData) {\r\n                    const equivalentVitE = calculateProvitaminEquivalent(\r\n                        vitRequirementData.e,\r\n                        EQ_FACTOR_TOCOPHEROL_DELTA,\r\n                        userData,\r\n                        dataSettings\r\n                    )\r\n                    reqString = `... ${applicationStrings.label_prefix_hereof[language]} ${equivalentVitE} ${unit}`\r\n                }\r\n                const label = ` ... ${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_vit_e_ext_tocopherolDelta[language]}`\r\n                extendedVitaminETable = appendTableDataObject(\r\n                    extendedVitaminETable,\r\n                    language,\r\n                    label,\r\n                    getVitaminOrMineralAmount(extendedVitaminE.tocopherolDelta, dataSettings),\r\n                    portion,\r\n                    unit,\r\n                    reqString\r\n                )\r\n            }\r\n\r\n            if (extendedVitaminE.tocotrienolAlpha !== null) {\r\n                let reqString = \"\"\r\n                if (vitRequirementData?.e && userData) {\r\n                    const equivalentVitE = calculateProvitaminEquivalent(\r\n                        vitRequirementData.e,\r\n                        EC_FACTOR_TOCOTRIENOL_ALPHA,\r\n                        userData,\r\n                        dataSettings\r\n                    )\r\n                    reqString = `... ${applicationStrings.label_prefix_hereof[language]} ${equivalentVitE} ${unit}`\r\n                }\r\n                const label = ` ... ${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_vit_e_ext_tocotrienolAlpha[language]}`\r\n                extendedVitaminETable = appendTableDataObject(\r\n                    extendedVitaminETable,\r\n                    language,\r\n                    label,\r\n                    getVitaminOrMineralAmount(extendedVitaminE.tocotrienolAlpha, dataSettings),\r\n                    portion,\r\n                    unit,\r\n                    reqString\r\n                )\r\n            }\r\n\r\n            if (extendedVitaminE.tocotrienolBeta !== null) {\r\n                let reqString = \"\"\r\n                if (vitRequirementData?.e && userData) {\r\n                    const equivalentVitE = calculateProvitaminEquivalent(\r\n                        vitRequirementData.e,\r\n                        EC_FACTOR_TOCOTRIENOL_BETA,\r\n                        userData,\r\n                        dataSettings\r\n                    )\r\n                    reqString = `... ${applicationStrings.label_prefix_hereof[language]} ${equivalentVitE} ${unit}`\r\n                }\r\n                const label = ` ... ${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_vit_e_ext_tocotrienolBeta[language]}`\r\n                extendedVitaminETable = appendTableDataObject(\r\n                    extendedVitaminETable,\r\n                    language,\r\n                    label,\r\n                    getVitaminOrMineralAmount(extendedVitaminE.tocotrienolBeta, dataSettings),\r\n                    portion,\r\n                    unit,\r\n                    reqString\r\n                )\r\n            }\r\n\r\n            if (extendedVitaminE.tocotrienolGamma !== null) {\r\n                let reqString = \"\"\r\n                if (vitRequirementData?.e && userData) {\r\n                    const equivalentVitE = calculateProvitaminEquivalent(\r\n                        vitRequirementData.e,\r\n                        EC_FACTOR_TOCOTRIENOL_GAMMA,\r\n                        userData,\r\n                        dataSettings\r\n                    )\r\n                    reqString = `... ${applicationStrings.label_prefix_hereof[language]} ${equivalentVitE} ${unit}`\r\n                }\r\n                const label = ` ... ${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_vit_e_ext_tocotrienolGamma[language]}`\r\n                extendedVitaminETable = appendTableDataObject(\r\n                    extendedVitaminETable,\r\n                    language,\r\n                    label,\r\n                    getVitaminOrMineralAmount(extendedVitaminE.tocotrienolGamma, dataSettings),\r\n                    portion,\r\n                    unit,\r\n                    reqString\r\n                )\r\n            }\r\n\r\n            tableData.push(extendedVitaminETable)\r\n        }\r\n    }\r\n\r\n    if (nutrientData.vitaminData.k != null) {\r\n        const requirement = makeDietaryRequirementString(vitRequirementData.k, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_vit_k[language],\r\n                getVitaminOrMineralAmount(nutrientData.vitaminData.k, dataSettings),\r\n                portion,\r\n                unit,\r\n                requirement\r\n            )\r\n        );\r\n    }\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\nexport function createMineralTable(params: TableCalculationParams): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject> = [];\r\n    const {selectedFoodItem, portion, language, dietaryRequirement, userData, dataSettings} = params\r\n    const minRequirementData = dietaryRequirement?.mineralRequirementData\r\n\r\n    if(!minRequirementData || !userData) {\r\n        throw new Error(\"Mineral Requirement Data or User Data is not available\")\r\n    }\r\n\r\n    const unit = params.dataSettings.unitVitamins === UNIT_MILLIGRAM ? \"mg\" : \"µg\"\r\n\r\n    const firstNutrientData = getNutrientData(selectedFoodItem);\r\n\r\n    if (firstNutrientData.mineralData.calcium != null) {\r\n        const requirement = makeDietaryRequirementString(minRequirementData.calcium, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_min_calcium[language],\r\n                getVitaminOrMineralAmount(firstNutrientData.mineralData.calcium, dataSettings),\r\n                portion,\r\n                unit,\r\n                requirement\r\n            )\r\n        );\r\n    }\r\n\r\n    if (firstNutrientData.mineralData.iron != null) {\r\n        const requirement = makeDietaryRequirementString(minRequirementData.iron, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_min_iron[language],\r\n                getVitaminOrMineralAmount(firstNutrientData.mineralData.iron, dataSettings),\r\n                portion,\r\n                unit,\r\n                requirement\r\n            )\r\n        );\r\n    }\r\n\r\n    if (firstNutrientData.mineralData.magnesium != null) {\r\n        const requirement = makeDietaryRequirementString(minRequirementData.magnesium, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_min_magnesium[language],\r\n                getVitaminOrMineralAmount(firstNutrientData.mineralData.magnesium, dataSettings),\r\n                portion,\r\n                unit,\r\n                requirement\r\n            )\r\n        );\r\n    }\r\n\r\n    if (firstNutrientData.mineralData.phosphorus != null) {\r\n        const requirement = makeDietaryRequirementString(minRequirementData.phosphorus, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_min_phosphorus[language],\r\n                getVitaminOrMineralAmount(firstNutrientData.mineralData.phosphorus, dataSettings),\r\n                portion,\r\n                unit,\r\n                requirement\r\n            )\r\n        );\r\n    }\r\n\r\n    if (firstNutrientData.mineralData.potassium != null) {\r\n        const requirement = makeDietaryRequirementString(minRequirementData.potassium, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_min_potassimum[language],\r\n                getVitaminOrMineralAmount(firstNutrientData.mineralData.potassium, dataSettings),\r\n                portion,\r\n                unit,\r\n                requirement\r\n            )\r\n        );\r\n    }\r\n\r\n    if (firstNutrientData.mineralData.sodium != null) {\r\n        const requirement = makeDietaryRequirementString(minRequirementData.sodium, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_min_sodium[language],\r\n                getVitaminOrMineralAmount(firstNutrientData.mineralData.sodium, dataSettings),\r\n                portion, unit,\r\n                requirement\r\n            )\r\n        );\r\n    }\r\n\r\n    if (firstNutrientData.mineralData.zinc != null) {\r\n        const requirement = makeDietaryRequirementString(minRequirementData.zinc, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_min_zinc[language],\r\n                getVitaminOrMineralAmount(firstNutrientData.mineralData.zinc, dataSettings),\r\n                portion,\r\n                unit,\r\n                requirement\r\n            )\r\n        );\r\n    }\r\n\r\n    if (firstNutrientData.mineralData.copper != null) {\r\n        const requirement = makeDietaryRequirementString(minRequirementData.copper, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_min_copper[language],\r\n                getVitaminOrMineralAmount(firstNutrientData.mineralData.copper, dataSettings),\r\n                portion,\r\n                unit,\r\n                requirement\r\n            )\r\n        );\r\n    }\r\n\r\n    if (firstNutrientData.mineralData.manganese != null) {\r\n        const requirement = makeDietaryRequirementString(minRequirementData.manganese, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_min_manganese[language],\r\n                getVitaminOrMineralAmount(firstNutrientData.mineralData.manganese, dataSettings),\r\n                portion,\r\n                unit,\r\n                requirement\r\n            )\r\n        );\r\n    }\r\n\r\n    if (firstNutrientData.mineralData.selenium != null) {\r\n        const requirement = makeDietaryRequirementString(minRequirementData.selenium, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_min_selenium[language],\r\n                getVitaminOrMineralAmount(firstNutrientData.mineralData.selenium, dataSettings),\r\n                portion,\r\n                unit,\r\n                requirement\r\n            )\r\n        );\r\n    }\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\nexport function createLipidsTable(params: TableCalculationParams): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject> = [];\r\n    const {selectedFoodItem, portion, language} = params\r\n    const firstNutrientData = getNutrientData(selectedFoodItem);\r\n\r\n    if (firstNutrientData.lipidData.saturated != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_lipids_saturated[language],\r\n            firstNutrientData.lipidData.saturated,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if (firstNutrientData.lipidData.unsaturatedMono != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_lipids_unsaturated_mono[language],\r\n            firstNutrientData.lipidData.unsaturatedMono,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if (firstNutrientData.lipidData.unsaturatedPoly != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_lipids_unsaturated_poly[language],\r\n            firstNutrientData.lipidData.unsaturatedPoly,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if (firstNutrientData.lipidData.omegaData) {\r\n        if (firstNutrientData.lipidData.omegaData.omega3 != null) {\r\n            tableData.push(createTableObject(\r\n                ` ... ${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_lipids_omega3[language]}`,\r\n                firstNutrientData.lipidData.omegaData.omega3,\r\n                portion, \"g\")\r\n            );\r\n        }\r\n\r\n        if (firstNutrientData.lipidData.omegaData.omega6 != null) {\r\n            tableData.push(createTableObject(\r\n                ` ... ${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_lipids_omega6[language]}`,\r\n                firstNutrientData.lipidData.omegaData.omega6,\r\n                portion, \"g\")\r\n            );\r\n        }\r\n    }\r\n\r\n    if (firstNutrientData.lipidData.transFattyAcids != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_lipids_transfattyAcids[language],\r\n            firstNutrientData.lipidData.transFattyAcids,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if (firstNutrientData.lipidData.cholesterol != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_lipids_cholesterol[language],\r\n            firstNutrientData.lipidData.cholesterol,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\nexport function createEnergyTable(params: TableCalculationParams): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject> = [];\r\n    const {selectedFoodItem, portion} = params\r\n\r\n    const nutrientData = getNutrientData(selectedFoodItem)\r\n    const energy = nutrientData.baseData.energy !== null ? nutrientData.baseData.energy : 0;\r\n\r\n    tableData.push(createTableObject(\r\n        \"kcal\",\r\n        energy,\r\n        portion, \"\")\r\n    );\r\n\r\n    tableData.push(createTableObject(\r\n        \"kJ\",\r\n        MathService.round(4.186 * energy, 1),\r\n        portion, \"\")\r\n    );\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\nexport function createCarbsTable(params: TableCalculationParams): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject> = [];\r\n    const {selectedFoodItem, portion, language} = params\r\n\r\n    const firstNutrientData = getNutrientData(selectedFoodItem);\r\n    const {carbohydrates, dietaryFibers} = firstNutrientData.baseData\r\n    const {sugar} = firstNutrientData.carbohydrateData\r\n\r\n    if (carbohydrates) {\r\n        const carbObject = makeCarbsTableObject(carbohydrates, sugar, dietaryFibers, portion, language)\r\n        tableData.push(carbObject)\r\n    }\r\n\r\n    if (firstNutrientData.carbohydrateData.glucose != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_glucose[language],\r\n            firstNutrientData.carbohydrateData.glucose,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if (firstNutrientData.carbohydrateData.fructose != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_fructose[language],\r\n            firstNutrientData.carbohydrateData.fructose,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if (firstNutrientData.carbohydrateData.galactose != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_galactose[language],\r\n            firstNutrientData.carbohydrateData.galactose,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if (firstNutrientData.carbohydrateData.sucrose != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_sucrose[language],\r\n            firstNutrientData.carbohydrateData.sucrose,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if (firstNutrientData.carbohydrateData.lactose != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_lactose[language],\r\n            firstNutrientData.carbohydrateData.lactose,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if (firstNutrientData.carbohydrateData.maltose != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_maltose[language],\r\n            firstNutrientData.carbohydrateData.maltose,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if (firstNutrientData.carbohydrateData.starch != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_starch[language],\r\n            firstNutrientData.carbohydrateData.starch,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\nexport function createProteinTable(params: TableCalculationParams): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject> = [];\r\n    const {selectedFoodItem, portion, language, dietaryRequirement, userData, dataSettings} = params\r\n    const protRequirementData = dietaryRequirement?.proteinRequirementData ?? null\r\n\r\n    const unit = params.dataSettings.unitProteins === UNIT_MILLIGRAM ? \"mg\" : \"g\"\r\n\r\n    const proteinData = getNutrientData(selectedFoodItem).proteinData;\r\n    if (!proteinData) {\r\n        return tableData;\r\n    }\r\n\r\n    if(!protRequirementData || !userData) {\r\n        throw new Error(\"Protein Requirement Data or User Data is not available\")\r\n    }\r\n\r\n    if (proteinData.tryptophan != null) {\r\n        const requirement = calculateProteinRequirement(protRequirementData.tryptophan, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_proteins_tryptophan[language],\r\n                getProteinAmount(proteinData.tryptophan, dataSettings),\r\n                portion,\r\n                unit,\r\n                protRequirementData ? `${requirement} ${unit}` : \"\"\r\n            )\r\n        );\r\n    }\r\n\r\n    if (proteinData.threonine != null) {\r\n        const requirement = calculateProteinRequirement(protRequirementData.threonine, userData, dataSettings)\r\n        tableData.push(\r\n                createTableObject(\r\n                applicationStrings.label_nutrient_proteins_threonine[language],\r\n                getProteinAmount(proteinData.threonine, dataSettings),\r\n                portion,\r\n                    unit,\r\n                    protRequirementData ? `${requirement} ${unit}` : \"\"\r\n            )\r\n        );\r\n    }\r\n\r\n    if (proteinData.isoleucine != null) {\r\n        const requirement = calculateProteinRequirement(protRequirementData.isoleucine, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_proteins_isoleucine[language],\r\n                getProteinAmount(proteinData.isoleucine, dataSettings),\r\n                portion, unit,\r\n                protRequirementData ? `${requirement} ${unit}` : \"\"\r\n            )\r\n        );\r\n    }\r\n\r\n    if (proteinData.leucine != null) {\r\n        const requirement = calculateProteinRequirement(protRequirementData.leucine, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_proteins_leucine[language],\r\n                getProteinAmount(proteinData.leucine, dataSettings),\r\n                portion, unit,\r\n                protRequirementData ? `${requirement} ${unit}` : \"\"\r\n            )\r\n        );\r\n    }\r\n\r\n    if (proteinData.lysine != null) {\r\n        const requirement = calculateProteinRequirement(protRequirementData.lysine, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_proteins_lysine[language],\r\n                getProteinAmount(proteinData.lysine, dataSettings),\r\n                portion, unit,\r\n                protRequirementData ? `${requirement} ${unit}` : \"\"\r\n            )\r\n        );\r\n    }\r\n\r\n    if (proteinData.methionine != null) {\r\n        const requirement = calculateProteinRequirement(protRequirementData.methionine, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_proteins_methionine[language],\r\n                getProteinAmount(proteinData.methionine, dataSettings),\r\n                portion,\r\n                unit,\r\n                protRequirementData ? `${requirement} ${unit}` : \"\"\r\n            )\r\n        );\r\n    }\r\n\r\n    if (proteinData.cystine != null) {\r\n        const requirement = calculateProteinRequirement(protRequirementData.cystine, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_proteins_cystine[language],\r\n                getProteinAmount(proteinData.cystine, dataSettings),\r\n                portion,\r\n                unit,\r\n                protRequirementData ? `${requirement} ${unit}` : \"\"\r\n            )\r\n        );\r\n    }\r\n\r\n    if (proteinData.phenylalanine != null) {\r\n        const requirement = calculateProteinRequirement(protRequirementData.phenylalanine, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_proteins_phenylalanine[language],\r\n                getProteinAmount(proteinData.phenylalanine, dataSettings),\r\n                portion,\r\n                unit,\r\n                protRequirementData ? `${requirement} ${unit}` : \"\"\r\n            )\r\n        );\r\n    }\r\n\r\n    if (proteinData.tyrosine != null) {\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_proteins_tyrosine[language],\r\n                getProteinAmount(proteinData.tyrosine, dataSettings),\r\n                portion,\r\n                unit,\r\n                \"\"\r\n            )\r\n        );\r\n    }\r\n\r\n    if (proteinData.valine != null) {\r\n        const requirement = calculateProteinRequirement(protRequirementData.valine, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_proteins_valine[language],\r\n                getProteinAmount(proteinData.valine, dataSettings),\r\n                portion,\r\n                unit,\r\n                protRequirementData ? `${requirement} ${unit}` : \"\"\r\n            )\r\n        );\r\n    }\r\n\r\n    if (proteinData.arginine != null) {\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_proteins_arginine[language],\r\n                getProteinAmount(proteinData.arginine, dataSettings),\r\n                portion,\r\n                unit,\r\n                \"\"\r\n            )\r\n        );\r\n    }\r\n\r\n    if (proteinData.histidine != null) {\r\n        const requirement = calculateProteinRequirement(protRequirementData.histidine, userData, dataSettings)\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_proteins_histidine[language],\r\n                getProteinAmount(proteinData.histidine, dataSettings),\r\n                portion,\r\n                unit,\r\n                protRequirementData ? `${requirement} ${unit}` : \"\"\r\n            )\r\n        );\r\n    }\r\n\r\n    if (proteinData.alanine != null) {\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_proteins_alanine[language],\r\n                getProteinAmount(proteinData.alanine, dataSettings),\r\n                portion, unit,\r\n                \"\"\r\n            )\r\n        );\r\n    }\r\n\r\n    if (proteinData.asparticAcid != null) {\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_proteins_asparticAcid[language],\r\n                getProteinAmount(proteinData.asparticAcid, dataSettings),\r\n                portion,\r\n                unit,\r\n                \"\"\r\n            )\r\n        );\r\n    }\r\n\r\n    if (proteinData.glutamicAcid != null) {\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_proteins_glutamicAcid[language],\r\n                getProteinAmount(proteinData.glutamicAcid, dataSettings),\r\n                portion,\r\n                unit,\r\n                \"\"\r\n            )\r\n        );\r\n    }\r\n\r\n    if (proteinData.glycine != null) {\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_proteins_glysine[language],\r\n                getProteinAmount(proteinData.glycine, dataSettings),\r\n                portion,\r\n                unit,\r\n                \"\"\r\n            )\r\n        );\r\n    }\r\n\r\n    if (proteinData.proline != null) {\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_proteins_proline[language],\r\n                getProteinAmount(proteinData.proline, dataSettings),\r\n                portion,\r\n                unit,\r\n                \"\"\r\n            )\r\n        );\r\n    }\r\n\r\n    if (proteinData.serine != null) {\r\n        tableData.push(\r\n            createTableObject(\r\n                applicationStrings.label_nutrient_proteins_serine[language],\r\n                getProteinAmount(proteinData.serine, dataSettings),\r\n                portion,\r\n                unit,\r\n                \"\"\r\n            )\r\n        );\r\n    }\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\nfunction createTableObject(label: string, value_100g: number, portion: number, unit: String, requirement?: string): FoodTableDataObject {\r\n    const valuePortion = calculatePortionData(value_100g, portion);\r\n    return {\r\n        label: label,\r\n        value_100g: `${MathService.autoRound(value_100g)} ${unit}`,\r\n        value_portion: `${MathService.autoRound(valuePortion)} ${unit}`,\r\n        dailyRequirement: requirement ?? \"\"\r\n    }\r\n}\r\n\r\nfunction createTableObjectAlcohol(label: string, value_100g: number, portion: number, unit: String): FoodTableDataObject {\r\n    const valuePortion = calculatePortionData(value_100g, portion);\r\n    if (valuePortion === null) {\r\n        return {\r\n            label: label,\r\n            value_100g: \"n/a\",\r\n            value_portion: \"n/a\",\r\n        }\r\n    }\r\n\r\n    const valueVolume100gram = value_100g * 1.267\r\n\r\n    return {\r\n        label: label,\r\n        value_100g: `${MathService.autoRound(value_100g)} ${unit}   ( = ${MathService.autoRound(valueVolume100gram)} Vol % )`,\r\n        value_portion: `${MathService.autoRound(valuePortion)} ${unit}   ( = ${MathService.autoRound(valueVolume100gram)} Vol % )`\r\n    }\r\n}\r\n\r\n\r\nfunction calculatePortionData(value: number | null, portionSize: number): number | null {\r\n    if (value === null || value === undefined) {\r\n        return null;\r\n    } else if (value === 0) {\r\n        return 0;\r\n    }\r\n    return (value / 100) * portionSize;\r\n}\r\n\r\n\r\nfunction makeCarbsTableObject(carbohydrates: number, sugar: number | null, dietaryFibers: number | null,\r\n                              portion: number, language: string): FoodTableDataObject {\r\n\r\n    // NOTE: Sometimes the sugar or dietary fibers value is above the carbs value, which is impossible (> 100 %)\r\n    if(sugar && (sugar > carbohydrates)) {\r\n        sugar = carbohydrates\r\n    }\r\n    if(dietaryFibers && (dietaryFibers > carbohydrates)) {\r\n        dietaryFibers = carbohydrates\r\n    }\r\n    if(sugar && dietaryFibers && (sugar + dietaryFibers > carbohydrates)) {  // Special case, where sug + fibers are above the 100 %\r\n        sugar = (sugar / (sugar+dietaryFibers)) * carbohydrates\r\n        dietaryFibers = (dietaryFibers / (sugar+dietaryFibers)) * carbohydrates\r\n    }\r\n\r\n    let carbObject = createTableObject(\r\n        applicationStrings.label_nutrient_carbohydrates[language],\r\n        carbohydrates,\r\n        portion, \"g\")\r\n\r\n    if (sugar !== null) {\r\n        const label = ` ... ${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_sugar[language]}`\r\n        carbObject = appendTableDataObject(carbObject, language, label, sugar, portion, \"g\")\r\n    }\r\n\r\n    if (dietaryFibers !== null) {\r\n        const label = ` ... ${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_dietaryFibers[language]}`\r\n        carbObject = appendTableDataObject(carbObject, language, label, dietaryFibers, portion, \"g\")\r\n    }\r\n\r\n    return carbObject\r\n}\r\n\r\n\r\nfunction appendTableDataObject(object: FoodTableDataObject, language: string, label: string, value: number,\r\n                               portion: number, unit: string, reqString?: string): FoodTableDataObject {\r\n    const appendedObject = {...object}\r\n    const extension = createTableObject(label, value, portion, unit, reqString)\r\n\r\n    appendedObject.label = appendedObject.label + '&&' + extension.label\r\n    appendedObject.value_100g = appendedObject.value_100g + '&&' + extension.value_100g\r\n    appendedObject.value_portion = appendedObject.value_portion + '&&' + extension.value_portion\r\n\r\n    if (reqString) {\r\n        appendedObject.dailyRequirement = appendedObject.dailyRequirement + '&&' + extension.dailyRequirement\r\n    }\r\n\r\n    return appendedObject\r\n}\r\n\r\nfunction getVitaminOrMineralAmount(amountInMg: number, dataSettings: DataSettings) {\r\n    return dataSettings.unitVitamins === UNIT_MILLIGRAM ? amountInMg : amountInMg * 1000;\r\n}\r\n\r\nfunction getProteinAmount(amountInGram: number, dataSettings: DataSettings) {\r\n    return dataSettings.unitProteins === UNIT_GRAM ? amountInGram : amountInGram * 1000;\r\n}\r\n\r\nfunction makeDietaryRequirementString(requirementData: RequirementData, userData: UserData, dataSettings: DataSettings): string {\r\n    let requirement = determineDailyRequirement(requirementData, userData)\r\n    const unit = dataSettings.unitVitamins === UNIT_MILLIGRAM ? \"mg\" : \"µg\";\r\n    if(dataSettings.unitVitamins === UNIT_MICROGRAM) {\r\n        requirement *= 1000\r\n    }\r\n\r\n    return `${requirement} ${unit}`\r\n}\r\n\r\nfunction calculateProteinRequirement(requirementMg: number, userData: UserData | undefined, dataSettings: DataSettings) {\r\n    if(userData === undefined) {\r\n        return 0\r\n    }\r\n    const requirement = (requirementMg * userData.weight)\r\n    return dataSettings.unitProteins === UNIT_MILLIGRAM ? requirement : autoRound(requirement / 1000)\r\n}\r\n\r\nfunction calculateProvitaminEquivalent(referenceVitaminRequriemtnAmount: RequirementData, equivalenceFactor: number,\r\n                                       userData: UserData, dataSettings: DataSettings): number {\r\n    const requirementVitaminA = determineDailyRequirement(referenceVitaminRequriemtnAmount, userData)\r\n    let equivalentVitA = autoRound(requirementVitaminA / equivalenceFactor)\r\n    if(dataSettings.unitVitamins === UNIT_MICROGRAM) {\r\n        equivalentVitA *= 1000;\r\n    }\r\n    return equivalentVitA\r\n}","import SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport FoodDataPageHeader from \"./FoodDataPageHeader\";\r\nimport {FoodTableDataObject} from \"../../types/livedata/SelectedFoodItemData\";\r\nimport {\r\n    SOURCE_SRLEGACY,\r\n    TAB_BASE_DATA,\r\n    TAB_CARBS_DATA,\r\n    TAB_ENERGY_DATA,\r\n    TAB_LIPIDS_DATA,\r\n    TAB_MINERAL_DATA,\r\n    TAB_PROTEINS_DATA,\r\n    TAB_VITAMIN_DATA\r\n} from \"../../config/Constants\";\r\nimport {\r\n    createBaseDataTable,\r\n    createCarbsTable,\r\n    createEnergyTable,\r\n    createLipidsTable,\r\n    createMineralTable,\r\n    createProteinTable,\r\n    createVitaminTable, TableCalculationParams\r\n} from \"../../service/TableService\";\r\n\r\ninterface FoodDataPageProps {\r\n    selectedFoodItem: SelectedFoodItem,\r\n    dataPage?: string\r\n}\r\n\r\nexport default function FoodDataPage(props: FoodDataPageProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const {language} = useContext(LanguageContext)\r\n\r\n    if(applicationContext === null) {\r\n        throw new Error(\"ApplicationContext is null\")\r\n    }\r\n\r\n    useEffect(() => {\r\n        updatePage()\r\n    }, [applicationContext.dataSettings])\r\n\r\n    const selectedDataTab = applicationContext\r\n        ? applicationContext.applicationData.foodDataPanel.selectedDataPage\r\n        : TAB_BASE_DATA\r\n\r\n    const [tableData, setTableData] = useState<Array<FoodTableDataObject>>([])\r\n\r\n    const updatePage = () => {   // Central update method when any (radio) button was clicked\r\n        let tableDataList: Array<FoodTableDataObject> = [];\r\n        const {portion} = props.selectedFoodItem\r\n\r\n        const preferredSource = applicationContext ? applicationContext.applicationData.preferredSource : SOURCE_SRLEGACY\r\n        const dietaryRequirement = applicationContext?.foodDataCorpus.dietaryRequirements ?? undefined\r\n        const userData = applicationContext?.userData\r\n\r\n        const tableCalculationParams: TableCalculationParams = {\r\n            selectedFoodItem: props.selectedFoodItem,\r\n            portion: portion.amount,\r\n            language: language,\r\n            preferredSource: preferredSource,\r\n            dataSettings: applicationContext.dataSettings\r\n        }\r\n\r\n        const extendedParams = {...tableCalculationParams,\r\n            dietaryRequirement: dietaryRequirement,\r\n            userData: userData\r\n        }\r\n\r\n        if (selectedDataTab === TAB_BASE_DATA) {\r\n            tableDataList = createBaseDataTable(tableCalculationParams);\r\n        } else if (selectedDataTab === TAB_ENERGY_DATA) {\r\n            tableDataList = createEnergyTable(tableCalculationParams);\r\n        } else if (selectedDataTab === TAB_VITAMIN_DATA) {\r\n            tableDataList = createVitaminTable(extendedParams);\r\n        } else if (selectedDataTab === TAB_MINERAL_DATA) {\r\n            tableDataList = createMineralTable(extendedParams);\r\n        } else if (selectedDataTab === TAB_LIPIDS_DATA) {\r\n            tableDataList = createLipidsTable(tableCalculationParams);\r\n        } else if (selectedDataTab === TAB_CARBS_DATA) {\r\n            tableDataList = createCarbsTable(tableCalculationParams);\r\n        } else if (selectedDataTab === TAB_PROTEINS_DATA) {\r\n            tableDataList = createProteinTable(extendedParams);\r\n        }\r\n\r\n        setTableData(tableDataList)\r\n    }\r\n\r\n    useEffect(() => {\r\n            updatePage()\r\n        }, [props.selectedFoodItem,\r\n            applicationContext?.applicationData.preferredSource,\r\n            applicationContext?.applicationData.foodDataPanel.selectedDataPage,\r\n            applicationContext?.applicationData.foodDataPanel.displayMode,\r\n            applicationContext?.userData]\r\n    )\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const onNewDataPage = (datapage: string) => {\r\n        applicationContext.setFoodDataPanelData.setSelectedDataPage(datapage)\r\n        updatePage()\r\n    }\r\n\r\n    const onDisplayModeChange = (newMode: string) => {\r\n        applicationContext.setFoodDataPanelData.setSelectedDisplayMode(newMode)\r\n        updatePage()\r\n    }\r\n\r\n    if (applicationContext.debug) {\r\n        console.log('FoodDataPage: Render, tabledata = ', tableData)\r\n    }\r\n\r\n    return <div>\r\n        <FoodDataPageHeader setDisplayMode={onDisplayModeChange}\r\n                            setDataPage={onNewDataPage}\r\n                            selectedFoodItem={props.selectedFoodItem}\r\n                            tableData={tableData}\r\n        />\r\n    </div>\r\n\r\n}","import NameType from \"../types/nutrientdata/NameType\";\r\nimport SelectedFoodItem from \"../types/livedata/SelectedFoodItem\";\r\nimport {getNameFromFoodNameList} from \"./nutrientdata/NameTypeService\";\r\nimport FoodDataPage from \"../components/fooddatapanel/FoodDataPage\";\r\nimport React from \"react\";\r\n\r\n/**\r\n * Enriches a selected food item by its JSX container to be displayed as a tab in the food data panel\r\n * @param selectedFoodItem The already initialized selected food item\r\n * @param foodNamesList The food names list\r\n * @param language The selected language\r\n */\r\nexport function makeFoodDataPanelComponent(selectedFoodItem: SelectedFoodItem, foodNamesList: Array<NameType>, \r\n\t\tlanguage: string): SelectedFoodItem | null {\r\n    let foodName\r\n    if(selectedFoodItem.foodItem.nameId) {\r\n        foodName = getNameFromFoodNameList(foodNamesList, selectedFoodItem.foodItem.nameId, language)\r\n    } else {\r\n        foodName = selectedFoodItem.title ?? 'Unknown'\r\n    }\r\n\r\n    if (foodName === null) {\r\n        return null\r\n    }\r\n\r\n    selectedFoodItem.component = <FoodDataPage key={`page component ${selectedFoodItem.id}`} selectedFoodItem={selectedFoodItem}/>\r\n    selectedFoodItem.tab = foodName\r\n    selectedFoodItem.id = selectedFoodItem.foodItem.id\r\n\r\n    return selectedFoodItem\r\n}\r\n","import React, {useContext, useEffect, useState} from 'react'\r\nimport {Button} from 'react-bootstrap'\r\n\r\nimport FoodSelectorModal from '../foodselector/FoodSelectorModal'\r\nimport {FaLayerGroup, FaPlusSquare, FaTrash} from \"react-icons/fa\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {confirmAction} from \"../ConfirmationDialog\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport {useHistory} from 'react-router-dom';\r\nimport {PATH_FOODDATA_PANEL, TAB_JUXTAPOSITION} from '../../config/Constants';\r\nimport {makeFoodDataPanelComponent} from \"../../service/FoodDataPanelService\";\r\nimport {isMobileDevice} from \"../../service/WindowDimension\";\r\n\r\ninterface FoodAnalyzerContainerProps {\r\n    openSelectorModal?: boolean\r\n    openCompositeSelectorModal?: boolean\r\n    onNewFoodItemSelected: () => void\r\n}\r\n\r\nexport default function FoodAnalyzerContainer(props: FoodAnalyzerContainerProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const history = useHistory()\r\n\r\n    const showFoodSelectorInitialState = props.openSelectorModal === true\r\n    const showCompositeFoodSelectorInitialState = props.openCompositeSelectorModal === true\r\n\r\n    const [showFoodSelector, setShowFoodSelector] = useState<Boolean>(showFoodSelectorInitialState)\r\n    const [showFoodAggregatedFoodSelector, setShowAggregatedFoodSelector] = useState<Boolean>(showCompositeFoodSelectorInitialState)\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const onOpenSelector = (aggregateSelector: boolean) => {\r\n        if(aggregateSelector) {\r\n            setShowAggregatedFoodSelector(!showFoodAggregatedFoodSelector)\r\n        } else {\r\n            setShowFoodSelector(!showFoodSelector)\r\n        }\r\n    }\r\n\r\n    const onHide = (): void => {\r\n        setShowFoodSelector(false)\r\n        setShowAggregatedFoodSelector(false)\r\n    }\r\n\r\n    const onSelectFoodItemSubmit = (selectedFoodItem: SelectedFoodItem): void => {\r\n        if (applicationContext === null) {\r\n            return\r\n        }\r\n\r\n        const selectedFoodItemWithComponent = makeFoodDataPanelComponent(\r\n            selectedFoodItem, applicationContext.foodDataCorpus.foodNames, languageContext.language)\r\n\r\n        if (selectedFoodItemWithComponent !== null) {\r\n            applicationContext.setFoodDataPanelData.addItemToFoodDataPanel(selectedFoodItemWithComponent)\r\n        }\r\n\r\n        if (applicationContext?.debug) {\r\n            console.log('FoodAnalyzerContainer: Set new selected item and execute callback. Selected item = ', selectedFoodItemWithComponent)\r\n        }\r\n\r\n        props.onNewFoodItemSelected()\r\n    }\r\n\r\n    const onCloseAllTabs = async () => {\r\n        if (await confirmAction(\r\n            applicationStrings.confirm_close_all_tabs[languageContext.language],\r\n            applicationStrings.button_yes[languageContext.language],\r\n            applicationStrings.button_no[languageContext.language],\r\n            {}\r\n        )) {\r\n            history.push(PATH_FOODDATA_PANEL)\r\n            applicationContext?.setFoodDataPanelData.removeAllItemsFromFoodDataPanel()\r\n        }\r\n    }\r\n\r\n    if (applicationContext?.debug) {\r\n        console.log('FoodAnalyzerContainer: Render')\r\n    }\r\n\r\n    const selectedFoodItems = applicationContext?.applicationData.foodDataPanel.selectedFoodItems\r\n    const deleteIconEnabled = selectedFoodItems && selectedFoodItems.length > 0\r\n    const buttonClass = isMobileDevice() ? \"btn m-2\" : \"btn mb-4 foodanalyzer-button\"\r\n\r\n    const divButtonClass = isMobileDevice() ? \"d-flex flex-row mb-4\" : \"d-flex flex-column align-items-center\"\r\n\r\n    return (\r\n        <div className={\"foodanalyzer-buttonbar\"}>\r\n            <div>\r\n                {showFoodSelector &&\r\n                <FoodSelectorModal onHide={onHide} selectedFoodItemCallback={onSelectFoodItemSubmit}\r\n                                   compositeSelector={false}/>\r\n                }\r\n                {showFoodAggregatedFoodSelector &&\r\n                <FoodSelectorModal onHide={onHide} selectedFoodItemCallback={onSelectFoodItemSubmit}\r\n                                   compositeSelector={true}/>\r\n                }\r\n                <div className={divButtonClass}>\r\n                    <Button onClick={() => onOpenSelector(false)}\r\n                            className={buttonClass}\r\n                            data-for={\"fa-btn-add\"}\r\n                            data-tip={applicationStrings.tooltip_icon_newFoodItem[languageContext.language]}>\r\n                        <FaPlusSquare/>\r\n                        <ReactTooltip id={\"fa-btn-add\"} globalEventOff=\"click\"/>\r\n                    </Button>\r\n                    <Button onClick={() => onOpenSelector(true)}\r\n                            className={buttonClass}\r\n                            disabled={isMobileDevice()}\r\n                            data-for={\"fa-btn-aggregate\"}\r\n                            data-tip={applicationStrings.tooltip_icon_newFoodItemStack[languageContext.language]}>\r\n                        <FaLayerGroup/>\r\n                        <ReactTooltip id={\"fa-btn-aggregate\"} globalEventOff=\"click\"/>\r\n                    </Button>\r\n                    <Button onClick={() => onCloseAllTabs()}\r\n                            disabled={deleteIconEnabled === false}\r\n                            className={buttonClass}\r\n                            data-for={\"fa-btn-close\"}\r\n                            data-tip={applicationStrings.tooltip_icon_removeAll[languageContext.language]}>\r\n                        <FaTrash/>\r\n                        <ReactTooltip id={\"fa-btn-close\"}/>\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}","import React, {useContext} from \"react\";\r\nimport CloseableTabs from 'react-closeable-tabs';\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\n\r\ninterface TabContainerProps {\r\n    onTabChange: (id: number) => void\r\n    indexToSet: number\r\n}\r\n\r\n// Origin: Vinus Online\r\nexport default function TabContainer(props: TabContainerProps) {\r\n    const applicationData = useContext(ApplicationDataContextStore)\r\n\r\n    const style = {\r\n        buttonTab: {\r\n            border: \"border border-secondary\",\r\n            background: \"none\",\r\n            display: \"inline-flex\",\r\n            verticalAlign: \"middle\",\r\n            minHeight: \"30px\",\r\n            alignItems: \"center\",\r\n            cursor: \"pointer\",\r\n            marginTop: \"-12px\",\r\n            borderBottom: \"2px solid transparent\"\r\n        }\r\n    }\r\n\r\n    if(applicationData?.debug) {\r\n        console.log('TabContainer: Render, food panel data = ', applicationData.applicationData.foodDataPanel.selectedFoodItems)\r\n    }\r\n\r\n    if (!applicationData || !applicationData.applicationData.foodDataPanel.selectedFoodItems) {\r\n        return <div/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <CloseableTabs\r\n                data={applicationData.applicationData.foodDataPanel.selectedFoodItems}\r\n                tabPanelClass=\"tab-panel\"\r\n                tabContentClass=\"tab-content mainPanel\"\r\n                style={style}\r\n                onTabClick={(id) => props.onTabChange(id)}\r\n                activeIndex={applicationData.applicationData.foodDataPanel.selectedFoodItemIndex}\r\n            />\r\n        </div>\r\n    )\r\n}","import { AMOUNT_PORTION, CARBS_DATA_BASE, CARBS_DATA_DETAIL, CHART_TYPE_BAR, CHART_TYPE_PIE, AMOUNT_100_GRAM, LIPIDS_DATA_BASE, LIPIDS_DATA_OMEGA, TAB_BASE_DATA, TAB_CARBS_DATA, TAB_LIPIDS_DATA, TAB_MINERAL_DATA, TAB_PROTEINS_DATA, TAB_VITAMIN_DATA } from \"../../config/Constants\"\r\nimport { ChartConfigData, DirectCompareChartConfigData, GeneralizedChartConfig } from \"../../types/livedata/ChartConfigData\"\r\nimport { convertBooleanToDigit, convertStringToBoolean } from \"../calculation/MathService\"\r\n\r\n/**\r\n * Converts/encodes a food data panel chart config sub-element into the corresponding URI query string.\r\n */\r\nexport function makeChartConfigUriString(chartConfigData: ChartConfigData | DirectCompareChartConfigData, selectedDataPage: string): string {\r\n\tlet chartObject: any\r\n\tswitch(selectedDataPage) {\r\n\t\tcase TAB_BASE_DATA:\r\n\t\t\tchartObject = chartConfigData.baseChartConfig\r\n\t\t\tbreak\r\n\t\tcase TAB_LIPIDS_DATA:\r\n\t\t\tchartObject = chartConfigData.lipidsChartConfig\r\n\t\t\tbreak\r\n\t\tcase TAB_CARBS_DATA:\r\n\t\t\tchartObject = chartConfigData.carbsChartConfig\r\n\t\t\tbreak\r\n\t\tcase TAB_VITAMIN_DATA:\r\n\t\t\tchartObject = chartConfigData.vitaminChartConfig\r\n\t\t\tbreak\r\n\t\tcase TAB_MINERAL_DATA:\r\n\t\t\tchartObject = chartConfigData.mineralChartConfig\r\n\t\t\tbreak\r\n\t\tcase TAB_PROTEINS_DATA:\r\n\t\t\tchartObject = chartConfigData.proteinChartConfig\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tchartObject = {}\r\n\t}\r\n\t\r\n\tconst generalizedChartConfig = makeGeneralizedChartConfig(chartObject)\r\n\treturn convertGeneralizedChartConfigToString(generalizedChartConfig)\r\n}\r\n\r\n\r\n/**\r\n * Converts/decodes a URI query string to get the encoded chart config data of the currently selected data page\r\n * in the food data panel.\r\n * The resulting chart config will be added to the existing chart configuration data object passed to this method.\r\n */\r\nexport function getUpdatedChartConfig(chartConfigData: ChartConfigData, chartConfigUriString: string, selectedDataPage: string): ChartConfigData {\r\n\tconst chartConfigFromUri = convertGeneralizedChartConfigStringToObject(chartConfigUriString)\r\n\tconst {chartType, expand100, showDetails, showLegend, portionType, subChart} = chartConfigFromUri\r\n\t\r\n\tif(selectedDataPage === TAB_BASE_DATA) {\r\n\t\tif(!chartType || showLegend === undefined || showDetails === undefined) {\r\n\t\t\treturn chartConfigData\r\n\t\t}\r\n\r\n\t\treturn {...chartConfigData, baseChartConfig: {\r\n\t\t\t\tchartType: chartType,\r\n\t\t\t\tshowLegend: showLegend,\r\n\t\t\t\tshowDetails: showDetails\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tif(selectedDataPage === TAB_LIPIDS_DATA) {\r\n\t\tif(!chartType || showLegend === undefined || subChart === undefined) {\r\n\t\t\treturn chartConfigData\r\n\t\t}\r\n\r\n\t\treturn {...chartConfigData, lipidsChartConfig: {\r\n\t\t\t\t...chartConfigData.lipidsChartConfig,\r\n\t\t\t\tchartType: chartType,\r\n\t\t\t\tshowLegend: showLegend,\r\n\t\t\t\tsubChart: subChart\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tif(selectedDataPage === TAB_CARBS_DATA) {\r\n\t\tif(!chartType || showLegend === undefined || subChart === undefined) {\r\n\t\t\treturn chartConfigData\r\n\t\t}\r\n\r\n\t\treturn {...chartConfigData, carbsChartConfig: {\r\n\t\t\t\t...chartConfigData.carbsChartConfig,\r\n\t\t\t\tchartType: chartType,\r\n\t\t\t\tshowLegend: showLegend,\r\n\t\t\t\tsubChart: subChart\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tif(selectedDataPage === TAB_VITAMIN_DATA || selectedDataPage === TAB_MINERAL_DATA || selectedDataPage === TAB_PROTEINS_DATA) {\r\n\t\tif(portionType === undefined || expand100 === undefined) {\r\n\t\t\treturn chartConfigData\r\n\t\t}\r\n\r\n\t\tconst barChartConfig = {\r\n\t\t\t\tportionType: portionType,\r\n\t\t\t\texpand100: expand100,\r\n\t\t\t}\r\n\r\n\t\tif(selectedDataPage === TAB_VITAMIN_DATA) {\r\n\t\t\treturn {...chartConfigData, vitaminChartConfig: barChartConfig}\r\n\t\t}\r\n\r\n\t\tif(selectedDataPage === TAB_MINERAL_DATA) {\r\n\t\t\treturn {...chartConfigData, mineralChartConfig: barChartConfig}\r\n\t\t}\r\n\t\t\r\n\t\tif(selectedDataPage === TAB_PROTEINS_DATA) {\r\n\t\t\treturn {...chartConfigData, proteinChartConfig: barChartConfig}\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n\treturn chartConfigData\r\n}\r\n\r\n\r\nexport function getUpdatedDirectCompareChartConfig(chartConfigData: DirectCompareChartConfigData, \r\n\t\tchartConfigUriString: string, selectedDataPage: string): DirectCompareChartConfigData {\r\n\tconst chartConfigFromUri = convertGeneralizedChartConfigStringToObject(chartConfigUriString)\r\n\tconst {chartType, expand100, showDetails, showLegend, portionType, subChart, subChart2, synchronize} = chartConfigFromUri\r\n\t\r\n\tif(selectedDataPage === TAB_BASE_DATA) {\r\n\t\tif(!chartType || showLegend === undefined || showDetails === undefined) {\r\n\t\t\treturn chartConfigData\r\n\t\t}\r\n\r\n\t\treturn {...chartConfigData, baseChartConfig: {\r\n\t\t\t\tchartType: chartType,\r\n\t\t\t\tshowLegend: showLegend,\r\n\t\t\t\tshowDetails: showDetails\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tif(selectedDataPage === TAB_LIPIDS_DATA) {\r\n\t\tif(!chartType || showLegend === undefined || subChart === undefined || subChart2 === undefined) {\r\n\t\t\treturn chartConfigData\r\n\t\t}\r\n\r\n\t\treturn {...chartConfigData, lipidsChartConfig: {\r\n\t\t\t\t...chartConfigData.lipidsChartConfig,\r\n\t\t\t\tchartType: chartType,\r\n\t\t\t\tshowLegend: showLegend,\r\n\t\t\t\tsubChart1: subChart,\r\n\t\t\t\tsubChart2: subChart2,\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tif(selectedDataPage === TAB_CARBS_DATA) {\r\n\t\tif(!chartType || showLegend === undefined || subChart === undefined || subChart2 === undefined) {\r\n\t\t\treturn chartConfigData\r\n\t\t}\r\n\r\n\t\treturn {...chartConfigData, carbsChartConfig: {\r\n\t\t\t\t...chartConfigData.carbsChartConfig,\r\n\t\t\t\tchartType: chartType,\r\n\t\t\t\tshowLegend: showLegend,\r\n\t\t\t\tsubChart1: subChart,\r\n\t\t\t\tsubChart2: subChart2,\r\n\t\t\t\thideRemainders: false\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tif(selectedDataPage === TAB_VITAMIN_DATA || selectedDataPage === TAB_MINERAL_DATA || selectedDataPage === TAB_PROTEINS_DATA) {\r\n\t\tif(portionType === undefined || expand100 === undefined || synchronize === undefined) {\r\n\t\t\treturn chartConfigData\r\n\t\t}\r\n\r\n\t\tconst barChartConfig = {\r\n\t\t\t\tportionType: portionType,\r\n\t\t\t\texpand100: expand100,\r\n\t\t\t\tsynchronize: synchronize\r\n\t\t\t}\r\n\r\n\t\tif(selectedDataPage === TAB_VITAMIN_DATA) {\r\n\t\t\treturn {...chartConfigData, vitaminChartConfig: barChartConfig}\r\n\t\t}\r\n\r\n\t\tif(selectedDataPage === TAB_MINERAL_DATA) {\r\n\t\t\treturn {...chartConfigData, mineralChartConfig: barChartConfig}\r\n\t\t}\r\n\t\t\r\n\t\tif(selectedDataPage === TAB_PROTEINS_DATA) {\r\n\t\t\treturn {...chartConfigData, proteinChartConfig: barChartConfig}\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n\treturn chartConfigData\r\n}\r\n\r\n\r\n\r\nexport function makeGeneralizedChartConfig(chartObject: any): GeneralizedChartConfig {\r\n\tconst generalizedChartObject: GeneralizedChartConfig = {}\r\n\tif(chartObject.chartType) {\r\n\t\tgeneralizedChartObject.chartType = chartObject.chartType\r\n\t}\r\n\t\r\n\tif(chartObject.expand100) {\r\n\t\tgeneralizedChartObject.expand100 = chartObject.expand100\r\n\t}\r\n\t\r\n\tif(chartObject.showDetails) {\r\n\t\tgeneralizedChartObject.showDetails = chartObject.showDetails\r\n\t}\r\n\t\r\n\tif(chartObject.showLegend) {\r\n\t\tgeneralizedChartObject.showLegend = chartObject.showLegend\r\n\t}\r\n\t\r\n\tif(chartObject.portionType) {\r\n\t\tgeneralizedChartObject.portionType = chartObject.portionType\r\n\t}\r\n\r\n\tif(chartObject.subChart) {\r\n\t\tgeneralizedChartObject.subChart = chartObject.subChart\r\n\t}\r\n\t\r\n\tif(chartObject.subChart2) {\r\n\t\tgeneralizedChartObject.subChart2 = chartObject.subChart2\r\n\t}\r\n\t\r\n\tif(chartObject.synchronize) {\r\n\t\tgeneralizedChartObject.synchronize = chartObject.synchronize\r\n\t}\r\n\t\r\n\treturn generalizedChartObject\r\n}\r\n\r\n\r\nexport function convertGeneralizedChartConfigToString(chartObject: GeneralizedChartConfig) {\r\n\tconst {chartType, expand100, showDetails, showLegend, portionType, subChart, subChart2, synchronize} = chartObject\r\n\t\r\n\tconst chartTypeKey = chartType === undefined || chartType === null ? 0 : chartType === CHART_TYPE_PIE ? 1 : 2\r\n\tconst portionTypeKey = portionType === undefined || portionType === null ? 0 : portionType === AMOUNT_PORTION ? 1 : 2\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\tconst expand100Key = expand100 ? convertBooleanToDigit(expand100) : 0\r\n\tconst showLegendKey = showLegend ? convertBooleanToDigit(showLegend) : 0\r\n\tconst showDetailsKey = showDetails ? convertBooleanToDigit(showDetails) : 0\r\n\t\r\n\tconst subChartKey = subChart ? getSubChartKey(subChart) : 0\r\n\tconst subChartKey2 = subChart2 ? getSubChartKey(subChart2) : 0\r\n\tconst synchronizeKey = synchronize ? convertBooleanToDigit(synchronize) : 0\r\n\t\r\n\treturn `${chartTypeKey}${portionTypeKey}${expand100Key}${showLegendKey}${showDetailsKey}${subChartKey}${subChartKey2}${synchronizeKey}`\r\n}\r\n\r\n\r\nexport function convertGeneralizedChartConfigStringToObject(uriString: string): GeneralizedChartConfig {\r\n\tif(!uriString) {\r\n\t\treturn {}\r\n\t}\r\n\t\r\n\tconst stringToParse = uriString.trim()\r\n\tif(stringToParse.length !== 8) {\r\n\t\treturn {}\r\n\t}\r\n\t\r\n\tconst chartTypeKey = stringToParse.substring(0, 1)\r\n\tconst portionTypeKey = stringToParse.substring(1, 2)\r\n\tconst expand100Key = stringToParse.substring(2, 3)\r\n\tconst showLegendKey = stringToParse.substring(3, 4)\r\n\tconst showDetailsKey = stringToParse.substring(4, 5)\r\n\tconst subChartKey = stringToParse.substring(5, 6)\r\n\tconst subChartKey2 = stringToParse.substring(6, 7)\r\n\tconst synchronizeKey = stringToParse.substring(7, 8)\r\n\t\r\n\tconst chartTypeNumber = parseInt(chartTypeKey)\r\n\tconst portionTypeNumber = parseInt(portionTypeKey)\r\n\tconst subChartNumber = parseInt(subChartKey)\r\n\tconst subChartNumber2 = parseInt(subChartKey2)\r\n\t\t\r\n\tconst chartType = chartTypeNumber === 0 || isNaN(chartTypeNumber) \r\n\t\t\t\t\t\t? undefined \r\n\t\t\t\t\t\t: chartTypeNumber === 1 ? CHART_TYPE_PIE : CHART_TYPE_BAR\r\n\t\t\t\t\t\t\r\n\tconst portionType = portionTypeNumber === 0 || isNaN(portionTypeNumber) \r\n\t\t\t\t\t\t? undefined \r\n\t\t\t\t\t\t: portionTypeNumber === 1 ? AMOUNT_PORTION : AMOUNT_100_GRAM\r\n\t\r\n\tconst subChart = subChartNumber === 0 || isNaN(subChartNumber) ? undefined : getSubChartFromKey(subChartNumber)\r\n\tconst subChart2 = subChartNumber2 === 0 || isNaN(subChartNumber2) ? undefined : getSubChartFromKey(subChartNumber2)\r\n\t\r\n\treturn {\r\n\t\tchartType: chartType,\r\n\t\tportionType: portionType,\r\n\t\texpand100: convertStringToBoolean(expand100Key),\r\n\t\tshowLegend: convertStringToBoolean(showLegendKey),\r\n\t\tshowDetails: convertStringToBoolean(showDetailsKey),\r\n\t\tsubChart: subChart ? subChart : undefined,\r\n\t\tsubChart2: subChart2 ? subChart2 : undefined,\r\n\t\tsynchronize: convertStringToBoolean(synchronizeKey)\r\n\t}\r\n\t\r\n}\r\n\r\n\r\nexport function getSubChartKey(subChart: string): number {\r\n\tswitch(subChart) {\r\n\t\tcase CARBS_DATA_BASE:\r\n\t\t\treturn 1\r\n\t\tcase CARBS_DATA_DETAIL:\r\n\t\t\treturn 2\r\n\t\tcase LIPIDS_DATA_BASE:\r\n\t\t\treturn 3\r\n\t\tcase LIPIDS_DATA_OMEGA:\r\n\t\t\treturn 4\r\n\t\tdefault:\r\n\t\t\treturn 0\r\n\t}\r\n}\r\n\r\nexport function getSubChartFromKey(key: number): string | null {\r\n\tswitch(key) {\r\n\t\tcase 1:\r\n\t\t\treturn CARBS_DATA_BASE\r\n\t\tcase 2:\r\n\t\t\treturn CARBS_DATA_DETAIL\r\n\t\tcase 3:\r\n\t\t\treturn LIPIDS_DATA_BASE\r\n\t\tcase 4:\r\n\t\t\treturn LIPIDS_DATA_OMEGA\r\n\t\tdefault:\r\n\t\t\treturn null\r\n\t}\t\t\r\n}\r\n","import {SEX_FEMALE, SEX_MALE} from \"../../config/Constants\"\r\nimport {ChartConfigData} from \"../../types/livedata/ChartConfigData\"\r\nimport {FoodItemUriData, SimpleFoodItemUriData} from \"../../types/livedata/UriData\"\r\nimport {UserData} from \"../../types/livedata/UserData\"\r\nimport {PortionData} from \"../../types/nutrientdata/FoodItem\"\r\nimport {getPalCategory, getPalValue} from \"../calculation/EnergyService\"\r\nimport {convertBooleanToDigit, convertStringToBoolean, getNumberOfFixedLength} from \"../calculation/MathService\"\r\nimport {getUpdatedChartConfig, makeChartConfigUriString} from \"./ChartConfigConverter\"\r\n\r\n\r\nexport function makeFoodDataPanelDefaultUri(foodItemData: FoodItemUriData,\r\n\t\tuserData: UserData, selectedDataPage: string, selectedDisplayMode: string, chartConfigData: ChartConfigData) {\r\n\tconst foodItemDataString = makeFoodItemDefaultUri(foodItemData)\r\n\tconst userDataString = convertUserDataObjectToString(userData)\r\n\tconst chartConfigString = makeChartConfigUriString(chartConfigData, selectedDataPage)\r\n\treturn `${foodItemDataString};${selectedDataPage};${selectedDisplayMode};${userDataString};${chartConfigString}`\r\n}\r\n\r\nexport function makeFoodItemDefaultUri(foodItemData: FoodItemUriData) {\r\n\t\tconst portionString = convertPortionDataObjectToString(foodItemData.portionData)\t\r\n\t\tconst supplementValue = convertBooleanToDigit(foodItemData.supplementData)\r\n\t\tconst combineValue = convertBooleanToDigit(foodItemData.combineData)\r\n\t\t\r\n\t\treturn `${foodItemData.foodItemId};${foodItemData.source};${portionString};${supplementValue}${combineValue}`\r\n}\r\n\r\nexport function parseFoodDataPanelDefaultUri(uri: string, chartConfigData: ChartConfigData): SimpleFoodItemUriData | null {\r\n\tconst fragments = prepareUriForParsing(uri).split(\";\")\r\n\tif(fragments.length !== 8) {\r\n\t\treturn null\r\n\t}\r\n\t\r\n\tconst selectedDataPage = fragments[4]\r\n\tconst displayMode = fragments[5]\r\n\tconst userData = convertUserDataStringToObject(fragments[6])\r\n\tconst chartConfigString = fragments[7]\r\n\tconst foodItemUriData = getFoodItemUriData(fragments)\r\n\t\r\n\tif(!userData || !foodItemUriData) {\r\n\t\treturn null\r\n\t}\r\n\t\r\n\tconst newChartConfigData = getUpdatedChartConfig(chartConfigData, chartConfigString, selectedDataPage)\r\n\t\r\n\treturn {\r\n\t\tselectedFoodItem: foodItemUriData,\r\n\t\tselectedDataPage: selectedDataPage,\r\n\t\tdisplayMode: displayMode,\r\n\t\tuserData: userData,\r\n\t\tchartConfigData: newChartConfigData\r\n\t}\r\n}\r\n\r\n\r\n/**\r\n * Retrieves the food item uri data from a fragments string. It will always extract those\r\n * data objects from the beginning of the array, no matter how long it is.\r\n */\r\nexport function getFoodItemUriData(fragments: Array<string>): FoodItemUriData | null {\r\n\tconst foodItemId = parseInt(fragments[0])\r\n\tconst source = parseInt(fragments[1])\r\n\tconst portionData = convertPortionDataStringToObject(fragments[2])\r\n\tconst booleanData = fragments[3]\r\n\t\r\n\tconst supplementData = convertStringToBoolean(booleanData.substring(0,1))\r\n\tconst combineData = convertStringToBoolean(booleanData.substring(1,2))\r\n\t\r\n\tif(!portionData || booleanData.length < 2) {\r\n\t\treturn null\r\n\t}\r\n\t\r\n\treturn {\r\n\t\tfoodItemId: foodItemId,\r\n\t\tsource: source,\r\n\t\tportionData: portionData,\r\n\t\tsupplementData: supplementData,\r\n\t\tcombineData: combineData\r\n\t}\r\n}\r\n\r\nexport function convertUserDataObjectToString(userData: UserData): string {\r\n\tconst weight = getNumberOfFixedLength(userData.weight, 3)\r\n\tconst age = getNumberOfFixedLength(userData.age, 3)\r\n\tconst size = getNumberOfFixedLength(userData.size, 3)\r\n\r\n\tconst palValue = getNumberOfFixedLength( getPalCategory(userData.palValue), 2)\r\n\tconst sex = userData.sex === SEX_MALE ? 1 : 0\r\n\t\r\n\tconst pregnant = convertBooleanToDigit(userData.pregnant)\r\n\tconst breastFeeding = convertBooleanToDigit(userData.breastFeeding)\r\n\tconst leisureSports = convertBooleanToDigit(userData.leisureSports)\r\n\t\t\r\n\treturn `${weight}${age}${size}${palValue}${sex}${pregnant}${breastFeeding}${leisureSports}`\r\n}\r\n\r\n\r\nexport function convertUserDataStringToObject(userDataString: string): UserData | null {\r\n\tif(userDataString.length < 15) {\r\n\t\treturn null\r\n\t}\r\n\t\r\n\tconst weight = userDataString.substring(0,3)\r\n\tconst age = userDataString.substring(3,6)\r\n\tconst size = userDataString.substring(6,9)\r\n\tconst palValueInt = userDataString.substring(9,11)\r\n\tconst sex = userDataString.substring(11,12)\r\n\tconst pregnant = userDataString.substring(12,13)\r\n\tconst breastFeeding = userDataString.substring(13,14)\r\n\tconst leisureSports = userDataString.substring(14,15)\r\n\t\r\n\tconst palValue = getPalValue(parseInt(palValueInt))\r\n\t\r\n\treturn {\r\n\t\tweight: parseInt(weight),\r\n\t\tage: parseInt(age),\r\n\t\tsize: parseInt(size),\r\n\t\tpalValue: palValue,\r\n\t\tsex: sex === \"1\" ? SEX_MALE : SEX_FEMALE,\r\n\t\tpregnant: convertStringToBoolean(pregnant),\r\n\t\tbreastFeeding: convertStringToBoolean(breastFeeding),\r\n\t\tleisureSports: convertStringToBoolean(leisureSports),\r\n\t\tinitialValues: false\r\n\t}\r\n}\r\n\r\n\r\nexport function convertPortionDataObjectToString(portionData: PortionData): string {\r\n\treturn `${portionData.portionType}_${portionData.amount}`\r\n}\r\n\r\nexport function convertPortionDataStringToObject(portionDataString: string): PortionData | null {\r\n\tconst fragments = portionDataString.split(\"_\")\r\n\tif(fragments.length !== 2) {\r\n\t\treturn null\r\n\t}\r\n\treturn {\r\n\t\tportionType: parseInt(fragments[0]),\r\n\t\tamount: parseInt(fragments[1])\r\n\t}\r\n}\r\n\r\n\r\nexport function prepareUriForParsing(uri: string): string {\r\n\t// Some websites like youtube transform the semicolons in the URL to %3B, which later need to be translated back to semicolons\r\n\treturn uri.replace(/%3B/g, \";\")\r\n}\r\n\r\n","import { ChartConfigData } from \"../../types/livedata/ChartConfigData\"\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\"\r\nimport { AggregatedFoodItemUriData } from \"../../types/livedata/UriData\"\r\nimport { UserData } from \"../../types/livedata/UserData\"\r\nimport { getUpdatedChartConfig, makeChartConfigUriString } from \"./ChartConfigConverter\"\r\nimport {\r\n\tconvertUserDataObjectToString,\r\n\tconvertUserDataStringToObject,\r\n\tprepareUriForParsing\r\n} from \"./FoodDataPanelUriService\"\r\n\r\n\r\ninterface Replacemet {\r\n\tkey: string\r\n\tshort: string\r\n}\r\n\r\nconst separator = \"++\"\r\n\r\nconst metaDataReplacement: Array<Replacemet> = [\r\n\t{key: \"nutrientDataList\", short: \"_mA\"},\r\n\t{key: \"foodItem\", short: \"_mB\"},\r\n\t{key: \"sourceItemId\", short: \"_mC\"},\r\n\t{key: \"source\", short: \"_mD\"},\r\n\t{key: \"url\", short: \"_mE\"},\r\n\t{key: \"name\", short: \"_mF\"},\r\n\t{key: \"id\", short: \"_mG\"},\r\n]\r\n\t\r\nconst nutrientCategoryReplacement: Array<Replacemet> = [\r\n\t{key: \"baseData\", short: \"_nA\"},\r\n\t{key: \"carbohydrateData\", short: \"_nB\"},\r\n\t{key: \"vitaminData\", short: \"_nC\"},\r\n\t{key: \"mineralData\", short: \"_nD\"},\r\n\t{key: \"lipidData\", short: \"_nE\"},\r\n\t{key: \"proteinData\", short: \"_nF\"},\r\n]\r\n\r\nconst baseDataReplacements: Array<Replacemet> = [\r\n\t{key: \"energy\", short: \"_bA\"},\r\n\t{key: \"water\", short: \"_bB\"},\r\n\t{key: \"carbohydrates\", short: \"_bC\"},\r\n\t{key: \"lipids\", short: \"_bD\"},\r\n\t{key: \"proteins\", short: \"_bE\"},\r\n\t{key: \"dietaryFibers\", short: \"_bF\"},\r\n\t{key: \"ash\", short: \"_bG\"},\r\n\t{key: \"alcohol\", short: \"_bH\"}\r\n]\r\n\r\nconst carbsDataReplacements: Array<Replacemet> = [\r\n\t{key: \"sugar\", short: \"_cA\"},\r\n\t{key: \"sucrose\", short: \"_cB\"},\r\n\t{key: \"glucose\", short: \"_cC\"},\r\n\t{key: \"lactose\", short: \"_cD\"},\r\n\t{key: \"fructose\", short: \"_cE\"},\r\n\t{key: \"galactose\", short: \"_cF\"},\r\n\t{key: \"maltose\", short: \"_cG\"},\r\n\t{key: \"starch\", short: \"_cH\"}\r\n]\r\n\r\nconst lipidsDataReplacements: Array<Replacemet> = [\r\n\t{key: \"saturated\", short: \"_lA\"},\r\n\t{key: \"unsaturatedMono\", short: \"_lB\"},\r\n\t{key: \"unsaturatedPoly\", short: \"_lC\"},\r\n\t{key: \"transFattyAcids\", short: \"_lD\"},\r\n\t{key: \"cholesterol\", short: \"_lE\"},\r\n\t{key: \"galactose\", short: \"_lF\"},\r\n\t{key: \"omegaData\", short: \"_lG\"},\r\n\t{key: \"omega3\", short: \"_lH\"},\r\n\t{key: \"omega6\", short: \"_li\"},\r\n\t{key: \"uncertain\", short: \"_lj\"},\r\n\t{key: \"uncertainRatio\", short: \"_li\"}\r\n]\r\n\r\nconst mineralDataReplacement: Array<Replacemet> = [\r\n\t{key: \"calcium\", short: \"_bA\"},\r\n\t{key: \"iron\", short: \"_bB\"},\r\n\t{key: \"magnesium\", short: \"_bC\"},\r\n\t{key: \"phosphorus\", short: \"_bD\"},\r\n\t{key: \"potassium\", short: \"_bE\"},\r\n\t{key: \"sodium\", short: \"_bF\"},\r\n\t{key: \"zinc\", short: \"_bG\"},\r\n\t{key: \"selenium\", short: \"_bH\"},\r\n\t{key: \"manganese\", short: \"_bI\"},\r\n\t{key: \"copper\", short: \"_bJ\"}\r\n]\r\n\r\nconst vitaminDataReplacement: Array<Replacemet> = [\r\n\t{key: \"a\", short: \"_vA\"},\r\n\t{key: \"b1\", short: \"_vB\"},\r\n\t{key: \"b2\", short: \"_vC\"},\r\n\t{key: \"b3\", short: \"_vD\"},\r\n\t{key: \"b5\", short: \"_vE\"},\r\n\t{key: \"b7\", short: \"_vF\"},\r\n\t{key: \"b9\", short: \"_vG\"},\r\n\t{key: \"b12\", short: \"_vH\"},\r\n\t{key: \"c\", short: \"_vI\"},\r\n\t{key: \"d\", short: \"_vJ\"},\r\n\t{key: \"e\", short: \"_vK\"},\r\n\t{key: \"k\", short: \"_vL\"}\r\n]\r\n\r\nconst carotenoidDataReplacement: Array<Replacemet> = [\r\n\t{key: \"caroteneAlpha\", short: \"_xA\"},\r\n\t{key: \"caroteneBeta\", short: \"_xB\"},\r\n\t{key: \"cryptoxanthin\", short: \"_xC\"},\r\n\t{key: \"lycopene\", short: \"_xD\"},\r\n\t{key: \"lutein\", short: \"_xE\"},\r\n]\r\n\r\nconst proteinDataReplacement: Array<Replacemet> = [\r\n\t{key: \"tryptophan\", short: \"_bA\"},\r\n\t{key: \"threonine\", short: \"_bB\"},\r\n\t{key: \"isoleucine\", short: \"_bC\"},\r\n\t{key: \"leucine\", short: \"_bD\"},\r\n\t{key: \"lysine\", short: \"_bE\"},\r\n\t{key: \"methionine\", short: \"_bF\"},\r\n\t{key: \"cystine\", short: \"_bG\"},\r\n\t{key: \"phenylalanine\", short: \"_bH\"},\r\n\t{key: \"tyrosine\", short: \"_bI\"},\r\n\t{key: \"arginine\", short: \"_bJ\"},\r\n\t{key: \"histidine\", short: \"_bK\"},\r\n\t{key: \"alanine\", short: \"_bL\"},\r\n\t{key: \"asparticAcid\", short: \"_bM\"},\r\n\t{key: \"glycine\", short: \"_bN\"},\r\n\t{key: \"proline\", short: \"_bO\"},\r\n\t{key: \"serine\", short: \"_bP\"},\r\n]\r\n\r\nconst replacements: Array<Array<Replacemet>> = [\r\n\tmetaDataReplacement,\r\n\tnutrientCategoryReplacement,\r\n\tbaseDataReplacements,\r\n\tcarbsDataReplacements,\r\n\tlipidsDataReplacements,\r\n\tmineralDataReplacement,\r\n\tvitaminDataReplacement,\r\n\tcarotenoidDataReplacement,\r\n\tproteinDataReplacement\r\n]\r\n\r\n\r\nexport function convertAggregatedDataJsonToUriString(uriData: AggregatedFoodItemUriData): string {\t\r\n\tconst objectToParse: SelectedFoodItem = {...uriData.selectedFoodItem, compositeSubElements: undefined, component: undefined, foodClass: undefined}\r\n\tlet selectedFoodItemString = JSON.stringify(objectToParse)\r\n\t\r\n\treplacements.forEach(replacementArray => {\r\n\t\treplacementArray.forEach(replacement => selectedFoodItemString = selectedFoodItemString.replace(`\"${replacement.key}\"`, replacement.short))\r\n\t})\r\n\t\r\n\tconst userDataString = convertUserDataObjectToString(uriData.userData)\r\n\tconst chartConfigString = makeChartConfigUriString(uriData.chartConfigData, uriData.selectedDataPage)\r\n\t\r\n\treturn `${uriData.selectedDataPage}${separator}${selectedFoodItemString}${separator}${userDataString}${separator}${chartConfigString}`\r\n}\r\n\r\nexport function convertAggregatedUriStringToObject(chartConfigData: ChartConfigData, uriString: string): AggregatedFoodItemUriData | null {\r\n\tconst fragments = uriString.split(separator)\r\n\tif(fragments.length !== 4) {\r\n\t\treturn null\r\n\t}\r\n\t\r\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n\tconst selectedDataPage = fragments[0]\r\n\tlet selectedFoodItem: SelectedFoodItem = convertUriStringToSelectedFoodItem( fragments[1])\r\n\tselectedFoodItem = {...selectedFoodItem, aggregated: true}\r\n\t\r\n\tconst userData: UserData | null = convertUserDataStringToObject(fragments[2])\r\n\tconst newChartConfigData: ChartConfigData = getUpdatedChartConfig(chartConfigData, fragments[3], selectedDataPage)\r\n\t\r\n\tif(!userData) {\r\n\t\treturn null\r\n\t}\r\n\t\t\r\n\treturn {\r\n\t\tselectedDataPage: selectedDataPage,\r\n\t\tselectedFoodItem: selectedFoodItem,\r\n\t\tuserData: userData,\r\n\t\tchartConfigData: newChartConfigData\r\n\t}\r\n}\r\n\r\n\r\nexport function convertUriStringToSelectedFoodItem(uriString: string): SelectedFoodItem {\r\n\tlet stringToParse = prepareUriForParsing(uriString).trim()\r\n\tstringToParse = stringToParse.replace(/%22/g, \"\\\"\")\r\n\tstringToParse = stringToParse.replace(/%20/g, \" \")\r\n\t\r\n\treplacements.forEach(replacementArray => {\r\n\t\treplacementArray.forEach(replacement => stringToParse = stringToParse.replace(replacement.short, `\"${replacement.key}\"`))\r\n\t})\r\n\t\r\n\treturn JSON.parse(stringToParse)\r\n}","import { UserData } from \"../types/livedata/UserData\";\r\n\r\nexport const USERDATA_ERROR_AGE = \"userdata error age\"\r\nexport const USERDATA_ERROR_WEIGHT = \"userdata error weight\"\r\nexport const USERDATA_ERROR_SIZE = \"userdata error size\"\r\nexport const USERDATA_OK = \"userdata ok\"\r\n\r\nexport function checkUserDataValidity(userData: UserData): string {\r\n\tconst {age, size, weight} = userData\r\n\r\n\tif (age != null && (age < 15 || age > 100 || isNaN(age))) {\r\n\t\treturn USERDATA_ERROR_AGE\r\n    } else if (size != null && (size < 80 || size > 225 || isNaN(size))) {\r\n\t\treturn USERDATA_ERROR_SIZE\r\n\t} else if (weight != null && (weight < 30 || weight > 250 || isNaN(weight))) {\r\n\t\treturn USERDATA_ERROR_WEIGHT\r\n    }\r\n\r\n    return USERDATA_OK\r\n}","import FoodAnalyzerContainer from \"./FoodAnalyzerContainer\";\r\nimport {useContext, useEffect} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport TabContainer from \"./TabContainer\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {\r\n    PATH_FOODDATA_PANEL,\r\n    QUERYKEY_DATAPANEL_ADD, QUERYKEY_DATAPANEL_ADD_COMPOSITE,\r\n    QUERYKEY_DATAPANEL_AGGREGATED,\r\n    QUERYKEY_DATAPANEL_ITEM\r\n} from \"../../config/Constants\";\r\nimport {useHistory} from 'react-router-dom';\r\nimport {makeFoodDataPanelComponent} from \"../../service/FoodDataPanelService\";\r\nimport {AggregatedFoodItemUriData, FoodItemUriData} from \"../../types/livedata/UriData\";\r\nimport {makeFoodDataPanelDefaultUri, parseFoodDataPanelDefaultUri} from \"../../service/uri/FoodDataPanelUriService\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {\r\n    convertAggregatedDataJsonToUriString,\r\n    convertAggregatedUriStringToObject\r\n} from \"../../service/uri/FoodDataPanelAggregatedUriService\";\r\nimport {checkUserDataValidity, USERDATA_OK} from \"../../service/UserDataService\";\r\nimport {isMobileDevice} from \"../../service/WindowDimension\";\r\nimport {FaExclamationTriangle} from \"react-icons/fa\";\r\n\r\nexport default function FoodDataPanelContainer() {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const history = useHistory()\r\n\r\n    const queryString = window.location.search.substring(1)\r\n    const equalOperator = queryString.indexOf(\"=\")\r\n    const key = queryString.substring(0, equalOperator)\r\n    const value = queryString.substring(equalOperator + 1)\r\n\r\n    const openSelectorModal = key === QUERYKEY_DATAPANEL_ADD && value === \"1\"\r\n    const openCompositeSelectorModal = key === QUERYKEY_DATAPANEL_ADD_COMPOSITE && value === \"1\"\r\n\r\n    useEffect(() => {\r\n        buildDataPanelPageFromURI()\r\n    }, [applicationContext?.applicationData.foodDataPanel.selectedFoodItemIndex,\r\n        applicationContext?.applicationData.foodDataPanel.selectedFoodItems,\r\n        applicationContext?.applicationData.foodDataPanel.selectedDataPage,\r\n        applicationContext?.applicationData.foodDataPanel.displayMode,\r\n        applicationContext?.applicationData.foodDataPanel.chartConfigData,\r\n        applicationContext?.userData])\r\n\r\n    const buildDataPanelPageFromURI = () => {\r\n        if (!applicationContext) {\r\n            return\r\n        }\r\n\r\n        const {selectedFoodItemIndex, selectedFoodItems} = applicationContext.applicationData.foodDataPanel\r\n\r\n        if (selectedFoodItemIndex === null || !selectedFoodItems || selectedFoodItems.length === 0) {\r\n            createDataFromUriQuery()\r\n        } else {   // Set new URI Query\r\n            updateUriQuery(selectedFoodItemIndex)\r\n        }\r\n    }\r\n\r\n    if (!applicationContext || !applicationContext.ready) {\r\n        return <div/>\r\n    }\r\n\r\n    const chartConfigData = applicationContext.applicationData.foodDataPanel.chartConfigData\r\n\r\n    const updateUriQuery = (selectedFoodItemIndex: number) => {\r\n        const selectedFoodItem = selectedFoodItems[selectedFoodItemIndex]\r\n        const userData = applicationContext.userData\r\n        const {selectedDataPage, displayMode, chartConfigData} = applicationContext.applicationData.foodDataPanel\r\n\r\n        // New query for aggregated food item\r\n        if (selectedFoodItem.aggregated) {\r\n            const uriDataObject: AggregatedFoodItemUriData = {\r\n                selectedFoodItem: {...selectedFoodItem, component: undefined},\r\n                selectedDataPage: selectedDataPage,\r\n                userData: userData,\r\n                chartConfigData: chartConfigData\r\n            }\r\n\r\n            const query = convertAggregatedDataJsonToUriString(uriDataObject)\r\n\r\n            history.push({\r\n                pathName: PATH_FOODDATA_PANEL,\r\n                search: `${QUERYKEY_DATAPANEL_AGGREGATED}=${query}`\r\n            })\r\n        } else {   // New query for a default food item\r\n            const {portion, selectedSource, supplementData, combineData} = selectedFoodItem\r\n            const foodItemData: FoodItemUriData = {\r\n                foodItemId: selectedFoodItem.foodItem.id,\r\n                portionData: portion,\r\n                source: selectedSource,\r\n                supplementData: supplementData,\r\n                combineData: combineData\r\n            }\r\n            const query = makeFoodDataPanelDefaultUri(foodItemData, userData, selectedDataPage, displayMode, chartConfigData)\r\n\r\n            history.push({\r\n                pathName: PATH_FOODDATA_PANEL,\r\n                search: `${QUERYKEY_DATAPANEL_ITEM}=${query}`\r\n            })\r\n        }\r\n    }\r\n\r\n    const createDataFromUriQuery = () => {\r\n        const {\r\n            addItemToFoodDataPanel,\r\n            setSelectedDataPage,\r\n            setSelectedDisplayMode\r\n        } = applicationContext.setFoodDataPanelData\r\n\r\n        // Set data from an aggregated food item query\r\n        if (key === QUERYKEY_DATAPANEL_AGGREGATED && value.length > 1) {\r\n            try {\r\n                const uriDataObject: AggregatedFoodItemUriData | null = convertAggregatedUriStringToObject(chartConfigData, value)\r\n                if (!uriDataObject) {\r\n                    return\r\n                }\r\n\r\n                if (checkUserDataValidity(uriDataObject.userData) !== USERDATA_OK) {\r\n                    return\r\n                }\r\n\r\n                applicationContext.setFoodDataPanelData.updateFoodDataPanelChartConfig(uriDataObject.chartConfigData)\r\n                setSelectedDataPage(uriDataObject.selectedDataPage)\r\n                applicationContext.setUserData(uriDataObject.userData)\r\n\r\n                const selectedFoodItemWithComponent = makeFoodDataPanelComponent(uriDataObject.selectedFoodItem,\r\n                    applicationContext.foodDataCorpus.foodNames, languageContext.language)\r\n\r\n                if (selectedFoodItemWithComponent) {\r\n                    selectedFoodItemWithComponent.aggregated = true\r\n                    addItemToFoodDataPanel(selectedFoodItemWithComponent)\r\n                }\r\n            } catch (e) {\r\n                if(applicationContext.debug) {\r\n                    console.log(e)\r\n                }\r\n            }\r\n        }\r\n\r\n        // Set data from a simple food item (create data from query parameters)\r\n        if (key === QUERYKEY_DATAPANEL_ITEM && value.length > 1) {\r\n            const uriDataObject = parseFoodDataPanelDefaultUri(value, chartConfigData)\r\n            if (uriDataObject) {\r\n                const foodItem = applicationContext.foodDataCorpus.foodItems.find(\r\n                    foodItem => foodItem.id === uriDataObject.selectedFoodItem.foodItemId\r\n                )\r\n\r\n                if (!foodItem) {\r\n                    return\r\n                }\r\n\r\n                if (checkUserDataValidity(uriDataObject.userData) !== USERDATA_OK) {\r\n                    return\r\n                }\r\n\r\n                applicationContext.setUserData(uriDataObject.userData)\r\n                const foodClass = applicationContext.foodDataCorpus.foodClasses.find(foodClass => foodClass.id === foodItem.foodClass)\r\n\r\n                const selectedFoodItem: SelectedFoodItem = {\r\n                    id: 1,\r\n                    foodItem: foodItem,\r\n                    foodClass: foodClass,\r\n                    portion: uriDataObject.selectedFoodItem.portionData,\r\n                    selectedSource: uriDataObject.selectedFoodItem.source,\r\n                    combineData: uriDataObject.selectedFoodItem.combineData,\r\n                    supplementData: uriDataObject.selectedFoodItem.supplementData\r\n                }\r\n\r\n                setSelectedDataPage(uriDataObject.selectedDataPage)\r\n                setSelectedDisplayMode(uriDataObject.displayMode)\r\n\r\n                const selectedFoodItemWithComponent = makeFoodDataPanelComponent(selectedFoodItem,\r\n                    applicationContext.foodDataCorpus.foodNames, languageContext.language)\r\n\r\n                if (selectedFoodItemWithComponent) {\r\n                    addItemToFoodDataPanel(selectedFoodItemWithComponent)\r\n                }\r\n\r\n                applicationContext.setFoodDataPanelData.updateFoodDataPanelChartConfig(uriDataObject.chartConfigData)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    const selectedFoodItems = applicationContext.applicationData.foodDataPanel.selectedFoodItems\r\n\r\n    const onTabChange = (foodId) => {\r\n        buildDataPanelPageFromURI()\r\n        for (let i = 0; i < selectedFoodItems.length; i++) {\r\n            if (selectedFoodItems[i].id === foodId) {\r\n                applicationContext.setFoodDataPanelData.setSelectedFoodTab(i)\r\n            }\r\n        }\r\n    }\r\n\r\n    const onNewFoodItemSelected = (): void => {\r\n        buildDataPanelPageFromURI()\r\n        const newTabIndex = applicationContext.applicationData.foodDataPanel.selectedFoodItems.length - 1\r\n        applicationContext.setFoodDataPanelData.setSelectedFoodTab(newTabIndex)\r\n    }\r\n\r\n    const selectedTabIndex = applicationContext.applicationData.foodDataPanel.selectedFoodItemIndex\r\n\r\n    if (!(selectedTabIndex >= 0)) {\r\n        return <div/>\r\n    }\r\n\r\n    const selectedFoodItem = applicationContext.applicationData.foodDataPanel.selectedFoodItems[selectedTabIndex]\r\n\r\n    if (applicationContext.debug) {\r\n        console.log('FoodDataPanelContainer: Render, selected food item = ', selectedFoodItem)\r\n    }\r\n\r\n    const divClass = isMobileDevice() ? \"\" : \"d-flex flex-row\"\r\n\r\n    return <div>\r\n        {selectedFoodItem !== null &&\r\n        <div className=\"container-fluid container-scroll\" style={{paddingTop: \"4vh\"}}>\r\n            <div className={divClass}>\r\n                <div className={\"\"}>\r\n                    <FoodAnalyzerContainer onNewFoodItemSelected={onNewFoodItemSelected}\r\n                                           openSelectorModal={openSelectorModal}\r\n                                           openCompositeSelectorModal={openCompositeSelectorModal}\r\n                    />\r\n                </div>\r\n                <div className={\"d-flex flex-row\"}>\r\n                    <div className=\"col media app\" style={{maxWidth: \"1100px\", minWidth: \"1100px\", marginTop: \"-10px\"}}>\r\n                        {selectedFoodItems && selectedFoodItems.length > 0 ?\r\n                            <div>\r\n                                <TabContainer indexToSet={selectedTabIndex} onTabChange={onTabChange}/>\r\n                            </div>\r\n                            :\r\n                            <div className={\"form-text\"} style={{padding: \"24px\"}}>\r\n                                <p>\r\n                                    <i>\r\n                                        {applicationStrings.text_empty_fooddatapanel[languageContext.language]}\r\n                                    </i>\r\n                                </p>\r\n                                {isMobileDevice() &&\r\n                                <p><FaExclamationTriangle/> {applicationStrings.text_empty_fooddatapanel_mobileInfo[languageContext.language]}</p>\r\n                                }\r\n                            </div>\r\n                        }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        }\r\n    </div>\r\n\r\n\r\n}","import React, {useContext, useEffect, useState} from \"react\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport FoodSelector from \"./FoodSelector\";\r\nimport {Button, Card, CardDeck} from \"react-bootstrap\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {direct_compare_color1, direct_compare_color2} from \"../../config/ChartConfig\";\r\nimport {initialComparisonFoodClassId, initialFoodClassId} from \"../../config/ApplicationSetting\";\r\nimport ReactSelectOption from \"../../types/ReactSelectOption\";\r\n\r\ninterface DirectCompareSelectorProps {\r\n    updateSelectedFoodItems: (selectedFoodItem1: SelectedFoodItem, selectedFoodItem2: SelectedFoodItem) => void\r\n}\r\n\r\nconst STATUS_FIRST_TIME = \"first time\"\r\nconst STATUS_NOT_UPDATED = \"not updated\"\r\nconst STATUS_UPDATED = \"updated\"\r\n\r\nexport function DirectCompareSelector(props: DirectCompareSelectorProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const language = languageContext.language\r\n\r\n    // Checkbox states (needed to update global configuration)\r\n    const [supplementData1, setSupplementData1] = useState<boolean>(true)\r\n    const [combineData1, setCombineData1] = useState<boolean>(false)\r\n\r\n    const [supplementData2, setSupplementData2] = useState<boolean>(true)\r\n    const [combineData2, setCombineData2] = useState<boolean>(false)\r\n\r\n    const initialItem1 = applicationContext && applicationContext.applicationData.directCompareDataPanel.selectedFoodItem1 !== null\r\n        ? applicationContext.applicationData.directCompareDataPanel.selectedFoodItem1\r\n        : null\r\n\r\n    const initialItem2 = applicationContext && applicationContext.applicationData.directCompareDataPanel.selectedFoodItem2 !== null\r\n        ? applicationContext.applicationData.directCompareDataPanel.selectedFoodItem2\r\n        : null\r\n\r\n    const [selectedFoodItem1, setSelectedFoodItem1] = useState<SelectedFoodItem | null>(initialItem1)\r\n    const [selectedFoodItem2, setSelectedFoodItem2] = useState<SelectedFoodItem | null>(initialItem2)\r\n    const [displayStatus, setDisplayStatus] = useState<string>(STATUS_FIRST_TIME)\r\n\r\n    useEffect(() => {\r\n        if(applicationContext && applicationContext.applicationData.directCompareDataPanel.selectedFoodItem2) {\r\n            const {selectedFoodItem1, selectedFoodItem2} = applicationContext.applicationData.directCompareDataPanel\r\n            if(selectedFoodItem1 && selectedFoodItem2) {\r\n                updateSelectedFoodItem1(selectedFoodItem1)\r\n                updateSelectedFoodItem2(selectedFoodItem2)\r\n            }\r\n        }\r\n\r\n    }, [applicationContext?.applicationData.directCompareDataPanel, supplementData1, combineData1, supplementData2, combineData2 ])\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const updateSelectedFoodItem1 = (selectedFoodItem: SelectedFoodItem): void => {\r\n        setSelectedFoodItem1({...selectedFoodItem})\r\n        if (displayStatus !== STATUS_FIRST_TIME) {\r\n            setDisplayStatus(STATUS_UPDATED)\r\n        }\r\n    }\r\n\r\n    const updateSelectedFoodItem2 = (selectedFoodItem: SelectedFoodItem): void => {\r\n        setSelectedFoodItem2(selectedFoodItem)\r\n        if (displayStatus !== STATUS_FIRST_TIME) {\r\n            setDisplayStatus(STATUS_UPDATED)\r\n        }\r\n    }\r\n\r\n    const updateFoodSelectorConfig1 = (selectedCategory: ReactSelectOption | null, supplementData: boolean, combineData: boolean) => {\r\n        setSupplementData1(supplementData)\r\n        setCombineData1(combineData)\r\n    }\r\n\r\n    const updateFoodSelectorConfig2 = (selectedCategory: ReactSelectOption | null, supplementData: boolean, combineData: boolean) => {\r\n        setSupplementData2(supplementData)\r\n        setCombineData2(combineData)\r\n    }\r\n\r\n    const onSubmit = () => {\r\n        if (selectedFoodItem1 && selectedFoodItem2) {\r\n            props.updateSelectedFoodItems(selectedFoodItem1, selectedFoodItem2)\r\n\r\n            if (applicationContext) {\r\n                const currentSelectorSetting1 = applicationContext.applicationData.directCompareDataPanel.foodSelector1\r\n                if (supplementData1 !== currentSelectorSetting1.sourceSupplement\r\n                    || combineData1 !== currentSelectorSetting1.sourceCombine) {\r\n                    applicationContext.setDirectCompareFoodSelector1(supplementData1, combineData1)\r\n                }\r\n\r\n                const currentSelectorSetting2 = applicationContext.applicationData.directCompareDataPanel.foodSelector2\r\n                if (supplementData2 !== currentSelectorSetting2.sourceSupplement\r\n                    || combineData2 !== currentSelectorSetting2.sourceCombine) {\r\n                    applicationContext.setDirectCompareFoodSelector2(supplementData2, combineData2)\r\n                }\r\n            }\r\n        }\r\n\r\n        setDisplayStatus(STATUS_NOT_UPDATED)\r\n    }\r\n\r\n\r\n    const renderFoodSelectorCard = (foodSelectorNumber: number) => {\r\n        const updateSelectedFoodItem = foodSelectorNumber === 1 ? updateSelectedFoodItem1 : updateSelectedFoodItem2\r\n        const styleClass = foodSelectorNumber === 1 ? {backgroundColor: direct_compare_color1} : {backgroundColor: direct_compare_color2}\r\n        const initialFoodClassToSet = foodSelectorNumber === 1 ? initialFoodClassId : initialComparisonFoodClassId\r\n\r\n        const selectedFoodItem = foodSelectorNumber === 1 ? selectedFoodItem1 : selectedFoodItem2\r\n        const updateFoodSelectorConfig = foodSelectorNumber === 1 ? updateFoodSelectorConfig1 : updateFoodSelectorConfig2\r\n\r\n        return <div style={{paddingTop: \"32px\"}}>\r\n            <Card style={styleClass}>\r\n                <Card.Header>\r\n                    {applicationStrings.label_food[language]} {foodSelectorNumber}\r\n                </Card.Header>\r\n                <CardDeck>\r\n                    <FoodSelector updateSelectedFoodItem={updateSelectedFoodItem}\r\n                                  updateFoodSelectorConfig={updateFoodSelectorConfig}\r\n                                  compositeSelector={false}\r\n                                  directCompareSelector={true}\r\n                                  selectedFoodItem={selectedFoodItem}\r\n                                  defaultFoodClass={initialFoodClassToSet}\r\n                                  directCompareSelectorNumber={foodSelectorNumber}\r\n                    />\r\n                </CardDeck>\r\n            </Card>\r\n        </div>\r\n    }\r\n\r\n    const buttonName = displayStatus === STATUS_FIRST_TIME ? applicationStrings.button_show[language] : applicationStrings.button_update[language]\r\n\r\n    return <div>\r\n        {renderFoodSelectorCard(1)}\r\n        {renderFoodSelectorCard(2)}\r\n        <div style={{paddingTop: \"20px\", paddingBottom: \"64px\"}}>\r\n            <Button className={\"form-button float-end\"}\r\n                    disabled={displayStatus === STATUS_NOT_UPDATED}\r\n                    onClick={onSubmit}>\r\n                {buttonName}\r\n            </Button>\r\n        </div>\r\n    </div>\r\n}","import {useContext} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport getName from \"../../service/LanguageService\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\n\r\nexport interface VerticalLabelProps {\r\n    selectedFoodItem: SelectedFoodItem\r\n}\r\n\r\nexport function VerticalLabel(props: VerticalLabelProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n\r\n    if(applicationContext === null) {\r\n        return null\r\n    }\r\n\r\n    const condition = applicationContext.foodDataCorpus.conditions.find(condition => condition.id === props.selectedFoodItem.foodItem.conditionId)\r\n    const conditionName = condition ? getName(condition, languageContext.language) : \"\"\r\n\r\n    return (\r\n        <>\r\n            <div className={\"vertical-label-small\"}>{conditionName}</div>\r\n            <div className={\"vertical-label\"}>{props.selectedFoodItem.resolvedName}</div>\r\n        </>\r\n    )\r\n}","import MineralVitaminChart from \"../fooddatapanel/charts/MineralVitaminChart\";\r\nimport {AMOUNT_PORTION, CHART_VITAMINS} from \"../../config/Constants\";\r\nimport {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {BarChartConfigurationForm} from \"../charthelper/BarChartConfigurationForm\";\r\nimport {roundToNextValue} from \"../../service/calculation/MathService\";\r\nimport {\r\n    getMaximumValue,\r\n    getOverlappingValues,\r\n    nullifyNonOverlappingValues\r\n} from \"../../service/calculation/NutrientCalculationService\";\r\nimport {direct_compare_color1, direct_compare_color2} from \"../../config/ChartConfig\";\r\nimport {initialDirectCompareConfigData} from \"../../config/ApplicationSetting\";\r\nimport {Card} from \"react-bootstrap\";\r\nimport {DC_MineralVitaminChartProps} from \"../../types/livedata/ChartPropsData\";\r\nimport {useWindowDimension} from \"../../service/WindowDimension\";\r\nimport {calculateChartContainerHeight} from \"../../service/ChartSizeCalculation\";\r\nimport {getNutrientData} from \"../../service/nutrientdata/NutrientDataRetriever\";\r\nimport {VerticalLabel} from \"./VerticalLabel\";\r\n\r\nexport function DcMineralVitaminChart(props: DC_MineralVitaminChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const windowSize = useWindowDimension()\r\n\r\n    const chartConfigVitamins = applicationContext\r\n        ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.vitaminChartConfig\r\n        : initialDirectCompareConfigData.vitaminChartConfig\r\n\r\n    const chartConfigMinerals = applicationContext\r\n        ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.mineralChartConfig\r\n        : initialDirectCompareConfigData.mineralChartConfig\r\n\r\n    const [portionType_vitamins, setPortionType_vitamins] = useState<string>(chartConfigVitamins.portionType)\r\n    const [portionType_minerals, setPortionType_minerals] = useState<string>(chartConfigMinerals.portionType)\r\n    const [expand100_vitamins, setExpand100_vitamins] = useState<boolean>(chartConfigVitamins.expand100)\r\n    const [expand100_minerals, setExpand100_minerals] = useState<boolean>(chartConfigMinerals.expand100)\r\n    const [synchronizeVitamins, setSynchronizeVitamins] = useState<boolean>(chartConfigVitamins.synchronize)\r\n    const [synchronizeMinerals, setSynchronizeMinerals] = useState<boolean>(chartConfigMinerals.synchronize)\r\n\r\n    const [containerHeight, setContainerHeight] = useState<number>(calculateChartContainerHeight(windowSize, true))\r\n\r\n    useEffect(() => {\r\n            updateChartConfig()\r\n            setContainerHeight(calculateChartContainerHeight(windowSize, true))\r\n        }, [portionType_minerals,\r\n            portionType_vitamins,\r\n            synchronizeVitamins,\r\n            synchronizeMinerals,\r\n            expand100_vitamins,\r\n            expand100_minerals,\r\n            containerHeight,\r\n            windowSize]\r\n    )\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const updateChartConfig = () => {\r\n        if (applicationContext) {\r\n            const newChartConfig = {\r\n                ...applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart,\r\n                vitaminChartConfig: {\r\n                    portionType: portionType_vitamins,\r\n                    expand100: expand100_vitamins,\r\n                    synchronize: synchronizeVitamins\r\n                },\r\n                mineralChartConfig: {\r\n                    portionType: portionType_minerals,\r\n                    expand100: expand100_minerals,\r\n                    synchronize: synchronizeMinerals\r\n                }\r\n            }\r\n            applicationContext.setDirectCompareData.updateDirectCompareChartConfig(newChartConfig)\r\n        }\r\n    }\r\n\r\n    const requirementData = props.selectedSubChart === CHART_VITAMINS\r\n        ? applicationContext.foodDataCorpus.dietaryRequirements?.vitaminRequirementData\r\n        : applicationContext.foodDataCorpus.dietaryRequirements?.mineralRequirementData\r\n\r\n    if (!requirementData) {\r\n        return <div></div>\r\n    }\r\n\r\n    const handleRadioButtonClick = (event: any): void => {\r\n        const value = event.target.value\r\n        props.selectedSubChart === CHART_VITAMINS\r\n            ? setPortionType_vitamins(value)\r\n            : setPortionType_minerals(value)\r\n    }\r\n\r\n    const handleExpandCheckbox = () => {\r\n        props.selectedSubChart === CHART_VITAMINS\r\n            ? setExpand100_vitamins(!expand100_vitamins)\r\n            : setExpand100_minerals(!expand100_minerals)\r\n    }\r\n\r\n    const handleSynchronize = () => {\r\n        props.selectedSubChart === CHART_VITAMINS\r\n            ? setSynchronizeVitamins(!synchronizeVitamins)\r\n            : setSynchronizeMinerals(!synchronizeMinerals)\r\n    }\r\n\r\n    const portionType = props.selectedSubChart === CHART_VITAMINS\r\n        ? portionType_vitamins\r\n        : portionType_minerals\r\n\r\n    const renderChartConfigurationForm = () => {\r\n        const expand100 = props.selectedSubChart === CHART_VITAMINS\r\n            ? expand100_vitamins\r\n            : expand100_minerals\r\n        const synchronize = props.selectedSubChart === CHART_VITAMINS\r\n            ? synchronizeVitamins\r\n            : synchronizeMinerals\r\n\r\n        const barChartProps = {\r\n            portionType: portionType,\r\n            expand100: expand100,\r\n            synchronize: synchronize,\r\n            handleRadioButtonClick: handleRadioButtonClick,\r\n            handleExpandCheckboxClick: handleExpandCheckbox,\r\n            handleSynchronize: handleSynchronize\r\n        }\r\n\r\n        return <BarChartConfigurationForm {...barChartProps}/>\r\n    }\r\n\r\n    const nutrientData1 = getNutrientData(props.selectedFoodItem1)\r\n    const nutrientData2 = getNutrientData(props.selectedFoodItem2)\r\n\r\n    let dataSet1 = props.selectedSubChart === CHART_VITAMINS ? nutrientData1.vitaminData : nutrientData1.mineralData\r\n    let dataSet2 = props.selectedSubChart === CHART_VITAMINS ? nutrientData2.vitaminData : nutrientData2.mineralData\r\n\r\n    const synchronize = props.selectedSubChart === CHART_VITAMINS ? synchronizeVitamins : synchronizeMinerals\r\n\r\n    if (synchronize) {\r\n        const overlappingAttributes = getOverlappingValues(dataSet1, dataSet2)\r\n        dataSet1 = nullifyNonOverlappingValues(dataSet1, overlappingAttributes)\r\n        dataSet2 = nullifyNonOverlappingValues(dataSet2, overlappingAttributes)\r\n    }\r\n\r\n    const portion1 = portionType === AMOUNT_PORTION ? props.selectedFoodItem1.portion.amount : 100\r\n    const portion2 = portionType === AMOUNT_PORTION ? props.selectedFoodItem2.portion.amount : 100\r\n\r\n    const maxValue1 = getMaximumValue(dataSet1, portion1, requirementData, applicationContext.userData)\r\n    const maxValue2 = getMaximumValue(dataSet2, portion2, requirementData, applicationContext.userData)\r\n    const maxValue = Math.max(maxValue1, maxValue2)\r\n\r\n    const maxY = synchronize\r\n        ? roundToNextValue(maxValue) : undefined\r\n\r\n    const preconfigVitamins = {\r\n        maxValue: maxY,\r\n        portionType: portionType_vitamins,\r\n        expand100: expand100_vitamins,\r\n        synchronize: synchronizeVitamins\r\n    }\r\n\r\n    const preconfigMinerals = {\r\n        maxValue: maxY,\r\n        portionType: portionType_minerals,\r\n        expand100: expand100_minerals,\r\n        synchronize: synchronizeMinerals\r\n    }\r\n\r\n    const preconfig = props.selectedSubChart === CHART_VITAMINS ? preconfigVitamins : preconfigMinerals\r\n\r\n    const preconfigFoodItem1 = {...preconfig, barChartColor: direct_compare_color1}\r\n    const preconfigFoodItem2 = {...preconfig, barChartColor: direct_compare_color2}\r\n\r\n    return <div className={\"direct-compare-panel\"}>\r\n        <Card>\r\n            <div className={\"d-flex\"} style={{maxHeight: containerHeight}}>\r\n                <VerticalLabel selectedFoodItem={props.selectedFoodItem1}></VerticalLabel>\r\n                <MineralVitaminChart selectedSubChart={props.selectedSubChart}\r\n                                     selectedFoodItem={props.selectedFoodItem1}\r\n                                     precalculatedData={dataSet1}\r\n                                     directCompareUse={true} directCompareConfig={preconfigFoodItem1}/>\r\n            </div>\r\n        </Card>\r\n\r\n        <Card>\r\n            <div className={\"d-flex\"} style={{maxHeight: containerHeight}}>\r\n                <VerticalLabel selectedFoodItem={props.selectedFoodItem2}></VerticalLabel>\r\n                <MineralVitaminChart selectedSubChart={props.selectedSubChart}\r\n                                     selectedFoodItem={props.selectedFoodItem2}\r\n                                     precalculatedData={dataSet2}\r\n                                     directCompareUse={true} directCompareConfig={preconfigFoodItem2}/>\r\n            </div>\r\n        </Card>\r\n        <Card.Footer>\r\n            {renderChartConfigurationForm()}\r\n        </Card.Footer>\r\n    </div>\r\n\r\n}","import {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {initialDirectCompareConfigData} from \"../../config/ApplicationSetting\";\r\nimport {PieChartConfigurationForm} from \"../charthelper/PieChartConfigurationForm\";\r\nimport {Card} from \"react-bootstrap\";\r\nimport BaseDataChart from \"../fooddatapanel/charts/BaseDataChart\";\r\nimport {\r\n    CARBS_DATA_BASE,\r\n    LIPIDS_DATA_BASE,\r\n    TAB_BASE_DATA,\r\n    TAB_CARBS_DATA,\r\n    TAB_LIPIDS_DATA\r\n} from \"../../config/Constants\";\r\nimport LipidsDataChart from \"../fooddatapanel/charts/LipidsDataChart\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {\r\n    PieChartConfigurationProps,\r\n    PieChartDirectCompareConfig,\r\n    PieChartDirectCompareProp\r\n} from \"../../types/livedata/ChartPropsData\";\r\nimport CarbsDataChart from \"../fooddatapanel/charts/CarbsDataChart\";\r\nimport {\r\n    GeneralChartConfigDirectCompareWithSubCharts,\r\n    GeneralChartConfigWithDetails\r\n} from \"../../types/livedata/ChartConfigData\";\r\nimport {calculateChartContainerHeight} from \"../../service/ChartSizeCalculation\";\r\nimport {useWindowDimension} from \"../../service/WindowDimension\";\r\nimport {VerticalLabel} from \"./VerticalLabel\";\r\n\r\n/**\r\n * Re-usable direct compare chart component for pie-chart data pages (Lipids, Carbs, Base Data)\r\n */\r\nexport function DcPieChart(props: PieChartDirectCompareProp) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const windowSize = useWindowDimension()\r\n\r\n    let initialConfig\r\n    switch (props.dataPage) {\r\n        case TAB_BASE_DATA:\r\n            initialConfig = applicationContext && applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.baseChartConfig\r\n                ? applicationContext?.applicationData.directCompareDataPanel.directCompareConfigChart.baseChartConfig\r\n                : initialDirectCompareConfigData.baseChartConfig\r\n            break\r\n        case TAB_LIPIDS_DATA:\r\n            initialConfig = applicationContext && applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig\r\n                ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig\r\n                : initialDirectCompareConfigData.lipidsChartConfig\r\n            break\r\n        case TAB_CARBS_DATA:\r\n            initialConfig = applicationContext && applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig\r\n                ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig\r\n                : initialDirectCompareConfigData.carbsChartConfig\r\n            break\r\n    }\r\n\r\n    const [chartType, setChartType] = useState<string>(initialConfig.chartType)\r\n    const [showLegend, setShowLegend] = useState<boolean>(initialConfig.showLegend)\r\n    const [showDetails, setShowDetails] = useState<boolean>(initialConfig.showDetails)\r\n    const [subChart1, setSubChart1] = useState<string>(initialConfig.subChart1)\r\n    const [subChart2, setSubChart2] = useState<string>(initialConfig.subChart2)\r\n\r\n    const [containerHeight, setContainerHeight] = useState<number>(calculateChartContainerHeight(windowSize, true))\r\n\r\n    useEffect(() => {\r\n        const currentConfig = applicationContext?.applicationData.directCompareDataPanel.directCompareConfigChart\r\n\r\n        if (!currentConfig) {\r\n            return\r\n        }\r\n\r\n        if (props.dataPage === TAB_LIPIDS_DATA || props.dataPage === TAB_CARBS_DATA) {\r\n            const configObject: GeneralChartConfigDirectCompareWithSubCharts = props.dataPage === TAB_LIPIDS_DATA\r\n                ? currentConfig.lipidsChartConfig\r\n                : currentConfig.carbsChartConfig\r\n\r\n            if (chartType !== configObject.chartType || showLegend !== configObject.showLegend\r\n                 || subChart1 !== configObject.subChart1 || subChart2 !== configObject.subChart2) {\r\n                updateChartConfig()\r\n            }\r\n        } else if (props.dataPage === TAB_BASE_DATA) {\r\n            const configObject: GeneralChartConfigWithDetails = currentConfig.baseChartConfig\r\n            if (chartType !== configObject.chartType || showLegend !== configObject.showLegend || showDetails !== configObject?.showDetails) {\r\n                updateChartConfig()\r\n            }\r\n        }\r\n\r\n        setContainerHeight(calculateChartContainerHeight(windowSize, true))\r\n    }, [chartType, showDetails, showLegend, subChart1, subChart2, containerHeight, windowSize.height])\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const updateChartConfig = () => {\r\n        if (applicationContext) {\r\n            let newChartConfig\r\n\r\n            if (props.dataPage === TAB_BASE_DATA) {\r\n                const pieChartConfig: GeneralChartConfigWithDetails = {\r\n                    chartType: chartType,\r\n                    showLegend: showLegend,\r\n                    showDetails: showDetails\r\n                }\r\n\r\n                newChartConfig = {\r\n                    ...applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart,\r\n                    baseChartConfig: pieChartConfig\r\n                }\r\n            } else {\r\n                if (props.dataPage === TAB_LIPIDS_DATA) {\r\n                    newChartConfig = {\r\n                        ...applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart,\r\n                        lipidsChartConfig: {\r\n                            ...applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig,\r\n                            chartType: chartType,\r\n                            showLegend: showLegend,\r\n                            subChart1: subChart1,\r\n                            subChart2: subChart2\r\n                        }\r\n                    }\r\n                } else if (props.dataPage === TAB_CARBS_DATA) {\r\n                    newChartConfig = {\r\n                        ...applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart,\r\n                        carbsChartConfig: {\r\n                            ...applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig,\r\n                            chartType: chartType,\r\n                            showLegend: showLegend,\r\n                            subChart1: subChart1,\r\n                            subChart2: subChart2\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (newChartConfig) {\r\n                applicationContext.setDirectCompareData.updateDirectCompareChartConfig(newChartConfig)\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleRadioButtonClick = (event: any): void => {\r\n        const value = event.target.value\r\n        setChartType(value)\r\n    }\r\n\r\n    const handleShowLegendCheckbox = () => {\r\n        setShowLegend(!showLegend)\r\n    }\r\n\r\n    const handleShowDetailsCheckbox = () => {\r\n        setShowDetails(!showDetails)\r\n    }\r\n\r\n    const handleSubchart1Change = (event: any): void => {\r\n        setSubChart1(event.target.value)\r\n    }\r\n\r\n    const handleSubchart2Change = (event: any): void => {\r\n        setSubChart2(event.target.value)\r\n    }\r\n\r\n    const renderChartConfigurationForm = () => {\r\n        const chartProps = getConfigurationProps()\r\n        return <PieChartConfigurationForm key={`Config DirectCompare ${props.dataPage}`} {...chartProps}/>\r\n    }\r\n\r\n    const getConfigurationProps = (): PieChartConfigurationProps => {\r\n        let chartProps: PieChartConfigurationProps = {\r\n            chartType: chartType,\r\n            showLegend: showLegend,\r\n            handleRadioButtonClick: handleRadioButtonClick,\r\n            handleLegendCheckboxClick: handleShowLegendCheckbox,\r\n        }\r\n\r\n        if (props.dataPage === TAB_BASE_DATA) {\r\n            chartProps = {\r\n                ...chartProps,\r\n                detailsCheckboxAvailable: true,\r\n                showDetails: showDetails,\r\n                handleDetailsCheckboxClick: handleShowDetailsCheckbox\r\n            }\r\n        }\r\n\r\n        return chartProps\r\n    }\r\n\r\n\r\n    const getChartComponent = (selectedFoodItem: SelectedFoodItem, index: number) => {\r\n        let preconfig: PieChartDirectCompareConfig = {\r\n            chartType: chartType,\r\n            showLegend: showLegend,\r\n            showDetails: showDetails,\r\n        }\r\n\r\n        if (props.dataPage === TAB_BASE_DATA) {\r\n            return <BaseDataChart key={`${TAB_BASE_DATA} ${index}`} selectedFoodItem={selectedFoodItem}\r\n                                  directCompareUse={true}\r\n                                  directCompareConfig={preconfig}/>\r\n        }\r\n\r\n        if (props.dataPage === TAB_LIPIDS_DATA) {\r\n            const selectedSubChart = applicationContext\r\n                ? index === 1\r\n                    ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig.subChart1\r\n                        ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig.subChart1\r\n                        : LIPIDS_DATA_BASE\r\n                    : applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig.subChart2\r\n                        ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig.subChart2\r\n                        : LIPIDS_DATA_BASE\r\n                : LIPIDS_DATA_BASE\r\n\r\n            preconfig = {\r\n                ...preconfig,\r\n                subChart: selectedSubChart,\r\n                handleSubchartChange: index === 1 ? handleSubchart1Change : handleSubchart2Change,\r\n                chartIndex: index\r\n            }\r\n\r\n            return <LipidsDataChart key={`${TAB_LIPIDS_DATA} ${index}`} selectedFoodItem={selectedFoodItem}\r\n                                    directCompareUse={true}\r\n                                    directCompareConfig={preconfig}/>\r\n        }\r\n\r\n        if (props.dataPage === TAB_CARBS_DATA) {\r\n            const selectedSubChart = applicationContext\r\n                ? index === 1\r\n                    ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig.subChart1\r\n                        ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig.subChart1\r\n                        : CARBS_DATA_BASE\r\n                    : applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig.subChart2\r\n                        ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig.subChart2\r\n                        : CARBS_DATA_BASE\r\n                : CARBS_DATA_BASE\r\n\r\n            preconfig = {\r\n                ...preconfig,\r\n                subChart: selectedSubChart,\r\n                chartIndex: index,\r\n                handleSubchartChange: index === 1 ? handleSubchart1Change : handleSubchart2Change\r\n            }\r\n\r\n            return <CarbsDataChart key={`${TAB_CARBS_DATA} ${index}`} selectedFoodItem={selectedFoodItem}\r\n                                   directCompareUse={true}\r\n                                   directCompareConfig={preconfig}/>\r\n        }\r\n    }\r\n\r\n    return <div className={\"direct-compare-panel\"}>\r\n        <Card>\r\n            <div className={\"d-flex\"} style={{maxHeight: containerHeight}}\r\n                 key={\"directcompare container\" + containerHeight}>\r\n                <VerticalLabel selectedFoodItem={props.selectedFoodItem1}></VerticalLabel>\r\n                {getChartComponent(props.selectedFoodItem1, 1)}\r\n            </div>\r\n        </Card>\r\n\r\n        <Card>\r\n            <div className={\"d-flex\"} style={{maxHeight: containerHeight}}\r\n                 key={\"directcompare container\" + containerHeight}>\r\n                <VerticalLabel selectedFoodItem={props.selectedFoodItem2}></VerticalLabel>\r\n                {getChartComponent(props.selectedFoodItem2, 2)}\r\n            </div>\r\n        </Card>\r\n        <Card.Footer>\r\n            {renderChartConfigurationForm()}\r\n        </Card.Footer>\r\n    </div>\r\n\r\n}","import {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {initialDirectCompareConfigData} from \"../../config/ApplicationSetting\";\r\nimport {BarChartConfigurationForm} from \"../charthelper/BarChartConfigurationForm\";\r\nimport {roundToNextValue} from \"../../service/calculation/MathService\";\r\nimport {direct_compare_color1, direct_compare_color2} from \"../../config/ChartConfig\";\r\nimport {Card} from \"react-bootstrap\";\r\nimport ProteinDataChart from \"../fooddatapanel/charts/ProteinDataChart\";\r\nimport {BarChartDirectCompareConfig, DirectCompareDataPanelProps} from \"../../types/livedata/ChartPropsData\";\r\nimport {useWindowDimension} from \"../../service/WindowDimension\";\r\nimport {calculateChartContainerHeight} from \"../../service/ChartSizeCalculation\";\r\nimport {getNutrientData} from \"../../service/nutrientdata/NutrientDataRetriever\";\r\nimport {\r\n    getMaximumValue,\r\n    getOverlappingValues,\r\n    nullifyNonOverlappingValues\r\n} from \"../../service/calculation/NutrientCalculationService\";\r\nimport {VerticalLabel} from \"./VerticalLabel\";\r\n\r\nexport function DcProteinDataChart(props: DirectCompareDataPanelProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const windowSize = useWindowDimension()\r\n\r\n    const chartConfig = applicationContext\r\n        ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.proteinChartConfig\r\n        : initialDirectCompareConfigData.proteinChartConfig\r\n\r\n    const [portionType, setPortionType] = useState<string>(chartConfig.portionType)\r\n    const [expand100, setExpand100] = useState<boolean>(chartConfig.expand100)\r\n    const [synchronize, setSynchronize] = useState<boolean>(chartConfig.synchronize)\r\n\r\n    const [containerHeight, setContainerHeight] = useState<number>(calculateChartContainerHeight(windowSize, true))\r\n\r\n    useEffect(() => {\r\n        updateChartConfig()\r\n        setContainerHeight(calculateChartContainerHeight(windowSize, true))\r\n    }, [portionType, expand100, synchronize, containerHeight, windowSize.height])\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const updateChartConfig = () => {\r\n        if (applicationContext) {\r\n            const newChartConfig = {\r\n                ...applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart,\r\n                proteinChartConfig: {\r\n                    portionType: portionType,\r\n                    expand100: expand100,\r\n                    synchronize: synchronize\r\n                }\r\n            }\r\n            applicationContext.setDirectCompareData.updateDirectCompareChartConfig(newChartConfig)\r\n        }\r\n    }\r\n\r\n    const requirementData = applicationContext.foodDataCorpus.dietaryRequirements?.proteinRequirementData\r\n    if (!requirementData) {\r\n        return <div/>\r\n    }\r\n\r\n    const handleRadioButtonClick = (event: any): void => {\r\n        const value = event.target.value\r\n        setPortionType(value)\r\n    }\r\n\r\n    const handleExpandCheckbox = () => {\r\n        setExpand100(!expand100)\r\n    }\r\n\r\n    const handleSynchronize = () => {\r\n        setSynchronize(!synchronize)\r\n    }\r\n\r\n    const renderChartConfigurationForm = () => {\r\n        const barChartProps = {\r\n            portionType: portionType,\r\n            expand100: expand100,\r\n            synchronize: synchronize,\r\n            handleRadioButtonClick: handleRadioButtonClick,\r\n            handleExpandCheckboxClick: handleExpandCheckbox,\r\n            handleSynchronize: handleSynchronize\r\n        }\r\n\r\n        return <BarChartConfigurationForm {...barChartProps}/>\r\n    }\r\n\r\n    let dataSet1 = getNutrientData(props.selectedFoodItem1).proteinData\r\n    let dataSet2 = getNutrientData(props.selectedFoodItem2).proteinData\r\n\r\n    if (synchronize) {\r\n        const overlappingAttributes = getOverlappingValues(dataSet1, dataSet2)\r\n        dataSet1 = nullifyNonOverlappingValues(dataSet1, overlappingAttributes)\r\n        dataSet2 = nullifyNonOverlappingValues(dataSet2, overlappingAttributes)\r\n    }\r\n\r\n    const maxValue1 = getMaximumValue(dataSet1, props.selectedFoodItem1.portion.amount, requirementData, applicationContext.userData, true)\r\n    const maxValue2 = getMaximumValue(dataSet2, props.selectedFoodItem2.portion.amount, requirementData, applicationContext.userData, true)\r\n    const maxValue = Math.max(maxValue1, maxValue2)\r\n    const maxY = synchronize ? roundToNextValue(maxValue) : undefined\r\n\r\n    const preconfig: BarChartDirectCompareConfig = {\r\n        maxValue: maxY,\r\n        portionType: portionType,\r\n        expand100: expand100,\r\n        synchronize: synchronize,\r\n        barChartColor: ''\r\n    }\r\n\r\n    const preconfigFoodItem1 = {...preconfig, barChartColor: direct_compare_color1}\r\n    const preconfigFoodItem2 = {...preconfig, barChartColor: direct_compare_color2}\r\n\r\n    return <div className={\"direct-compare-panel\"}>\r\n        <Card>\r\n            <div className={\"d-flex\"} style={{maxHeight: containerHeight}}>\r\n                <VerticalLabel selectedFoodItem={props.selectedFoodItem1}></VerticalLabel>\r\n                <ProteinDataChart selectedFoodItem={props.selectedFoodItem1}\r\n                                  precalculatedData={dataSet1}\r\n                                  directCompareUse={true} directCompareConfig={preconfigFoodItem1}/>\r\n            </div>\r\n        </Card>\r\n\r\n        <Card>\r\n            <div className={\"d-flex\"} style={{maxHeight: containerHeight}}>\r\n                <VerticalLabel selectedFoodItem={props.selectedFoodItem2}></VerticalLabel>\r\n                <ProteinDataChart selectedFoodItem={props.selectedFoodItem2}\r\n                                  precalculatedData={dataSet2}\r\n                                  directCompareUse={true} directCompareConfig={preconfigFoodItem2}/>\r\n            </div>\r\n        </Card>\r\n        <Card.Footer>\r\n            {renderChartConfigurationForm()}\r\n        </Card.Footer>\r\n    </div>\r\n\r\n}","import {Card} from \"react-bootstrap\";\r\nimport EnergyDataChart from \"../fooddatapanel/charts/EnergyDataChart\";\r\nimport {DirectCompareDataPanelProps} from \"../../types/livedata/ChartPropsData\";\r\nimport {useWindowDimension} from \"../../service/WindowDimension\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {calculateChartContainerHeight} from \"../../service/ChartSizeCalculation\";\r\nimport {VerticalLabel} from \"./VerticalLabel\";\r\n\r\nexport function DcEnergyChart(props: DirectCompareDataPanelProps) {\r\n    const windowSize = useWindowDimension()\r\n    const [containerHeight, setContainerHeight] = useState<number>(calculateChartContainerHeight(windowSize, true))\r\n\r\n    useEffect(() => {\r\n        setContainerHeight(calculateChartContainerHeight(windowSize, true))\r\n    }, [containerHeight, windowSize])\r\n\r\n    return <div className={\"direct-compare-panel\"}>\r\n        <Card>\r\n            <div className={\"d-flex\"} style={{maxHeight: containerHeight}}>\r\n                <VerticalLabel selectedFoodItem={props.selectedFoodItem1}></VerticalLabel>\r\n                <EnergyDataChart selectedFoodItem={props.selectedFoodItem1} directCompareUse={true}/>\r\n            </div>\r\n        </Card>\r\n\r\n        <Card>\r\n            <div className={\"d-flex\"} style={{maxHeight: containerHeight}}>\r\n                <VerticalLabel selectedFoodItem={props.selectedFoodItem2}></VerticalLabel>\r\n                <EnergyDataChart selectedFoodItem={props.selectedFoodItem2} directCompareUse={true}/>\r\n            </div>\r\n        </Card>\r\n    </div>\r\n\r\n}","import {ChartMenuPanel} from \"../fooddatapanel/ChartMenuPanel\";\r\nimport {\r\n    CHART_MINERALS,\r\n    CHART_VITAMINS,\r\n    TAB_BASE_DATA,\r\n    TAB_CARBS_DATA,\r\n    TAB_ENERGY_DATA,\r\n    TAB_INFO,\r\n    TAB_LIPIDS_DATA,\r\n    TAB_MINERAL_DATA,\r\n    TAB_PROTEINS_DATA,\r\n    TAB_VITAMIN_DATA\r\n} from \"../../config/Constants\";\r\nimport {useContext} from \"react\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {DcMineralVitaminChart} from \"./DcMineralVitaminChart\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {Card} from \"react-bootstrap\";\r\nimport {DcPieChart} from \"./DcPieChart\";\r\nimport {DcProteinDataChart} from \"./DcProteinDataChart\";\r\nimport {DcEnergyChart} from \"./DcEnergyChart\";\r\nimport {getNameFromFoodNameList} from \"../../service/nutrientdata/NameTypeService\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {DirectCompareDataPanelProps} from \"../../types/livedata/ChartPropsData\";\r\nimport {InfoData} from \"../fooddatapanel/charts/InfoData\";\r\n\r\nexport function DirectCompareDataPanel(props: DirectCompareDataPanelProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const setDataPage = (datapage: string) => {\r\n        applicationContext.setDirectCompareData.setSelectedDirectCompareDataPage(datapage)\r\n    }\r\n\r\n    const foodNames = applicationContext.foodDataCorpus.foodNames\r\n\r\n    const nameId1 = props.selectedFoodItem1.foodItem.nameId ? props.selectedFoodItem1.foodItem.nameId : null\r\n    const nameId2 = props.selectedFoodItem2.foodItem.nameId ? props.selectedFoodItem2.foodItem.nameId : null\r\n\r\n    const name1 = nameId1 ? getNameFromFoodNameList(foodNames, nameId1, languageContext.language) : \"\"\r\n    const name2 = nameId2 ? getNameFromFoodNameList(foodNames, nameId2, languageContext.language) : \"\"\r\n\r\n    const selectedFoodItem1: SelectedFoodItem = {...props.selectedFoodItem1, resolvedName: name1}\r\n    const selectedFoodItem2: SelectedFoodItem = {...props.selectedFoodItem2, resolvedName: name2}\r\n\r\n    const selectedDataPage = applicationContext.applicationData.directCompareDataPanel.selectedDataPage\r\n\r\n    const renderCharts = () => {\r\n        switch (selectedDataPage) {\r\n            case TAB_BASE_DATA:\r\n                return <DcPieChart key={TAB_BASE_DATA}\r\n                                   selectedFoodItem1={selectedFoodItem1}\r\n                                   selectedFoodItem2={selectedFoodItem2}\r\n                                   dataPage={TAB_BASE_DATA}\r\n                />\r\n            case TAB_ENERGY_DATA:\r\n                return <DcEnergyChart selectedFoodItem1={selectedFoodItem1}\r\n                                      selectedFoodItem2={selectedFoodItem2}\r\n                />\r\n\r\n            case TAB_VITAMIN_DATA:\r\n                return <DcMineralVitaminChart key={TAB_VITAMIN_DATA}\r\n                                              selectedFoodItem1={selectedFoodItem1}\r\n                                              selectedFoodItem2={selectedFoodItem2}\r\n                                              selectedSubChart={CHART_VITAMINS}\r\n                />\r\n            case TAB_MINERAL_DATA:\r\n                return <DcMineralVitaminChart key={TAB_MINERAL_DATA}\r\n                                              selectedFoodItem1={selectedFoodItem1}\r\n                                              selectedFoodItem2={selectedFoodItem2}\r\n                                              selectedSubChart={CHART_MINERALS}\r\n                />\r\n            case TAB_LIPIDS_DATA:\r\n                return <DcPieChart key={TAB_LIPIDS_DATA}\r\n                                   selectedFoodItem1={selectedFoodItem1}\r\n                                   selectedFoodItem2={selectedFoodItem2}\r\n                                   dataPage={TAB_LIPIDS_DATA}\r\n                />\r\n            case TAB_CARBS_DATA:\r\n                return <DcPieChart key={TAB_CARBS_DATA}\r\n                                   selectedFoodItem1={selectedFoodItem1}\r\n                                   selectedFoodItem2={selectedFoodItem2}\r\n                                   dataPage={TAB_CARBS_DATA}\r\n                />\r\n            case TAB_PROTEINS_DATA:\r\n                return <DcProteinDataChart selectedFoodItem1={selectedFoodItem1}\r\n                                           selectedFoodItem2={selectedFoodItem2}\r\n                />\r\n            case TAB_INFO:\r\n                return <div>\r\n                    <Card>\r\n                        <InfoData selectedFoodItem={props.selectedFoodItem1} directCompare={true}/>\r\n                    </Card>\r\n                    <Card>\r\n                        <InfoData selectedFoodItem={props.selectedFoodItem2} directCompare={true}/>\r\n                    </Card>\r\n                </div>\r\n\r\n        }\r\n\r\n        return <div/>\r\n    }\r\n\r\n    return <div>\r\n        <Card.Header>\r\n            <ChartMenuPanel dataPage={selectedDataPage} verticalArrangement={false} setDataPage={setDataPage}/>\r\n        </Card.Header>\r\n        {renderCharts()}\r\n    </div>\r\n\r\n}","import { DirectCompareChartConfigData } from \"../../types/livedata/ChartConfigData\"\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\"\r\nimport { DirectCompareUriData, FoodItemUriData } from \"../../types/livedata/UriData\"\r\nimport { UserData } from \"../../types/livedata/UserData\"\r\nimport { getUpdatedDirectCompareChartConfig, makeChartConfigUriString } from \"./ChartConfigConverter\"\r\nimport {\r\n\tconvertUserDataObjectToString,\r\n\tconvertUserDataStringToObject,\r\n\tgetFoodItemUriData,\r\n\tmakeFoodItemDefaultUri,\r\n\tprepareUriForParsing\r\n} from \"./FoodDataPanelUriService\"\r\n\r\nexport function makeDirectCompareDataUri(selectedFoodItem1: SelectedFoodItem, selectedFoodItem2: SelectedFoodItem, \r\n\t\tuserData: UserData, selectedDataPage: string, chartConfigData: DirectCompareChartConfigData): string {\r\n\tconst foodItemUriData1 = makeFoodItemUriData(selectedFoodItem1)\r\n\tconst foodItemUriData2 = makeFoodItemUriData(selectedFoodItem2)\r\n\t\r\n\tconst foodItem1DataUri = makeFoodItemDefaultUri(foodItemUriData1)\r\n\tconst foodItem2DataUri = makeFoodItemDefaultUri(foodItemUriData2)\r\n\t\r\n\tconst userDataUri = convertUserDataObjectToString(userData)\r\n\tconst chartConfigUri = makeChartConfigUriString(chartConfigData, selectedDataPage)\r\n\t\r\n\treturn `${foodItem1DataUri};${foodItem2DataUri};${selectedDataPage};${userDataUri};${chartConfigUri}`\r\n}\r\n\r\n\r\nfunction makeFoodItemUriData(selectedFoodItem: SelectedFoodItem): FoodItemUriData {\r\n\treturn {\r\n\t\tfoodItemId: selectedFoodItem.foodItem.id,\r\n\t\tportionData: selectedFoodItem.portion,\r\n\t\tsource: selectedFoodItem.selectedSource,\r\n\t\tcombineData: selectedFoodItem.combineData,\r\n\t\tsupplementData: selectedFoodItem.supplementData\r\n\t}\r\n}\r\n\r\n\r\nexport function parseDirectComparetUri(uri: string, chartConfigData: DirectCompareChartConfigData): DirectCompareUriData | null {\r\n\tconst fragments = prepareUriForParsing(uri).split(\";\")\r\n\tif(fragments.length !== 11) {\r\n\t\treturn null\r\n\t}\r\n\t\r\n\tconst selectedDataPage = fragments[8]\r\n\tconst userData = convertUserDataStringToObject(fragments[9])\r\n\tconst chartConfigString = fragments[10]\r\n\t\r\n\tconst foodItemUriData1 = getFoodItemUriData(fragments)\r\n\tconst remainingFragments = fragments.slice(4)\r\n\tconst foodItemUriData2 = getFoodItemUriData(remainingFragments)\r\n\t\r\n\tif(!userData || !foodItemUriData1 || !foodItemUriData2) {\r\n\t\treturn null\r\n\t}\r\n\t\r\n\tconst newChartConfigData = getUpdatedDirectCompareChartConfig(chartConfigData, chartConfigString, selectedDataPage)\r\n\t\r\n\treturn {\r\n\t\tselectedFoodItem1: foodItemUriData1,\r\n\t\tselectedFoodItem2: foodItemUriData2,\r\n\t\tselectedDataPage: selectedDataPage,\r\n\t\tuserData: userData,\r\n\t\tchartConfigData: newChartConfigData\r\n\t}\r\n\t\r\n}","import {DirectCompareSelector} from \"../foodselector/DirectCompareSelector\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport React, {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {DirectCompareDataPanel} from \"./DirectCompareDataPanel\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {PATH_DIRECT_COMPARE, QUERYKEY_DATAPANEL_ITEM} from \"../../config/Constants\";\r\nimport {useHistory} from 'react-router-dom';\r\nimport {makeDirectCompareDataUri, parseDirectComparetUri} from \"../../service/uri/DirectCompareUriService\";\r\nimport {checkUserDataValidity, USERDATA_OK} from \"../../service/UserDataService\";\r\n\r\nexport default function DirectCompareContainer() {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const history = useHistory()\r\n\r\n    const initialFoodItem1 = applicationContext?.applicationData.directCompareDataPanel.selectedFoodItem1\r\n        ? applicationContext?.applicationData.directCompareDataPanel.selectedFoodItem1\r\n        : null\r\n\r\n    const initialFoodItem2 = applicationContext?.applicationData.directCompareDataPanel.selectedFoodItem2\r\n        ? applicationContext?.applicationData.directCompareDataPanel.selectedFoodItem2\r\n        : null\r\n\r\n    const [selectedFoodItem1, setSelectedFoodItem1] = useState<SelectedFoodItem | null>(initialFoodItem1)\r\n    const [selectedFoodItem2, setSelectedFoodItem2] = useState<SelectedFoodItem | null>(initialFoodItem2)\r\n\r\n\tuseEffect(() => {\r\n        buildDataObjectsFromURI()\r\n    }, [applicationContext?.applicationData.directCompareDataPanel])\r\n\r\n\t\r\n    if (applicationContext === null || !applicationContext.ready) {\r\n        return <div/>\r\n    }\r\n\r\n\tconst buildDataObjectsFromURI = () => {\r\n\t\tif(!applicationContext) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\t\r\n\t\tif(!selectedFoodItem1 || !selectedFoodItem2) {\t\t\t\r\n\t\t\tcreateDataFromUriQuery()\t\t\r\n\t\t} else {   // Set new URI Query\t\t\r\n\t\t\tupdateUriQuery()\r\n\t\t}\r\n    }\r\n\r\n\tconst chartConfigData = applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart\r\n\r\n\tconst updateUriQuery = () => {\r\n\t\tconst userData = applicationContext.userData\r\n\t\tconst selectedDataPage = applicationContext.applicationData.directCompareDataPanel.selectedDataPage\r\n\r\n\t\tif(selectedFoodItem1 && selectedFoodItem2) {\r\n\t\t\tconst query = makeDirectCompareDataUri(selectedFoodItem1, selectedFoodItem2, userData, selectedDataPage, \r\n\t\t\t\tchartConfigData)\r\n\t\t\t\t\r\n\t\t\thistory.push({\r\n\t\t\t\tpathName: PATH_DIRECT_COMPARE,\r\n\t\t\t\tsearch: `${QUERYKEY_DATAPANEL_ITEM}=${query}`\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tconst createDataFromUriQuery = () => {\r\n\t\t\tconst queryString = window.location.search.substring(1)\r\n\t\t\tconst equalOperator = queryString.indexOf(\"=\")\r\n            const key = queryString.substring(0, equalOperator)\r\n            const value = queryString.substring(equalOperator+1)\r\n\r\n\t\t\t// Set data from a simple food item (create data from query parameters)\r\n\t\t\tif(key === QUERYKEY_DATAPANEL_ITEM && value.length > 1) {\r\n\t\t\t\tconst uriDataObject = parseDirectComparetUri(value, chartConfigData)\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\tif(uriDataObject) {\r\n\t\t\t\t\tconst foodItem1 = applicationContext.foodDataCorpus.foodItems.find(\r\n\t\t\t\t\t\tfoodItem => foodItem.id === uriDataObject.selectedFoodItem1.foodItemId\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tconst foodItem2 = applicationContext.foodDataCorpus.foodItems.find(\r\n\t\t\t\t\t\tfoodItem => foodItem.id === uriDataObject.selectedFoodItem2.foodItemId\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tif(!foodItem1 || !foodItem2) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(checkUserDataValidity(uriDataObject.userData) !== USERDATA_OK) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tapplicationContext.setUserData(uriDataObject.userData)\t\r\n\t\t\t\t\tapplicationContext.setDirectCompareData.updateDirectCompareChartConfig(uriDataObject.chartConfigData)\r\n\t\t\t\t\tapplicationContext.setDirectCompareData.setSelectedDirectCompareDataPage(uriDataObject.selectedDataPage)\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst foodClass1 = applicationContext.foodDataCorpus.foodClasses.find(\r\n\t\t\t\t\t\tfoodClass => foodClass.id === foodItem1.foodClass)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tconst foodClass2 = applicationContext.foodDataCorpus.foodClasses.find(\r\n\t\t\t\t\t\tfoodClass => foodClass.id === foodItem2.foodClass)\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst selectedFoodItem1: SelectedFoodItem = {\r\n\t\t\t\t\t\tid: 1000,\r\n\t\t\t\t\t\tfoodItem: foodItem1,\r\n\t\t\t\t\t\tfoodClass: foodClass1,\r\n\t\t\t\t\t\tportion: uriDataObject.selectedFoodItem1.portionData,\r\n\t\t\t\t\t\tselectedSource: uriDataObject.selectedFoodItem1.source,\r\n\t\t\t\t\t\tcombineData: uriDataObject.selectedFoodItem1.combineData,\r\n\t\t\t\t\t\tsupplementData: uriDataObject.selectedFoodItem1.supplementData\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst selectedFoodItem2: SelectedFoodItem = {\r\n\t\t\t\t\t\tid: 1001,\r\n\t\t\t\t\t\tfoodItem: foodItem2,\r\n\t\t\t\t\t\tfoodClass: foodClass2,\r\n\t\t\t\t\t\tportion: uriDataObject.selectedFoodItem2.portionData,\r\n\t\t\t\t\t\tselectedSource: uriDataObject.selectedFoodItem2.source,\r\n\t\t\t\t\t\tcombineData: uriDataObject.selectedFoodItem2.combineData,\r\n\t\t\t\t\t\tsupplementData: uriDataObject.selectedFoodItem2.supplementData\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tupdateSelectedFoodItems(selectedFoodItem1, selectedFoodItem2)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n    const updateSelectedFoodItems = (selectedFoodItem1: SelectedFoodItem, selectedFoodItem2: SelectedFoodItem) => {\r\n    \tconst foodClassNameKey1 = selectedFoodItem1.foodClass?.nameKey\r\n\t\tconst nameEntity1 = applicationContext.foodDataCorpus.foodNames.find(entry => entry.id === foodClassNameKey1)\r\n\t\tconst foodClassName1 = nameEntity1 ? nameEntity1.englishName : ''\r\n\t\tconst foodClassNameKey2 = selectedFoodItem2.foodClass?.nameKey\r\n\t\tconst nameEntity2 = applicationContext.foodDataCorpus.foodNames.find(entry => entry.id === foodClassNameKey2)\r\n\t\tconst foodClassName2 = nameEntity2 ? nameEntity2.englishName : ''\r\n\t\tconst label = `${foodClassName1}; ${foodClassName2}`\r\n\t\tconst debugMode = applicationContext.debug\r\n\r\n\t\tsetSelectedFoodItem1(selectedFoodItem1)\r\n        setSelectedFoodItem2(selectedFoodItem2)\r\n        applicationContext.setDirectCompareData.setSelectedDirectCompareItems(selectedFoodItem1, selectedFoodItem2)\r\n    }\r\n\r\n    return (\r\n        <div className={\"container-fluid\"}>\r\n            <div className={\"row\"}>\r\n                <div className={\"col-4\"}>\r\n                    <DirectCompareSelector updateSelectedFoodItems={updateSelectedFoodItems}/>\r\n                </div>\r\n                <div className={\"col-8\"} style={{padding: \"32px\"}}>\r\n                    {selectedFoodItem1 !== null && selectedFoodItem2 !== null ?\r\n                    <DirectCompareDataPanel selectedFoodItem1={selectedFoodItem1}\r\n                                            selectedFoodItem2={selectedFoodItem2}/>\r\n                        : <div className={\"form-text\"}><i>{applicationStrings.direct_compare_text[languageContext.language]}</i></div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}","import React, {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../contexts/ApplicationDataContext\";\r\nimport {LanguageContext} from \"../contexts/LangContext\";\r\nimport {SEX_FEMALE, SEX_MALE} from \"../config/Constants\";\r\nimport {UserData} from \"../types/livedata/UserData\";\r\nimport {\r\n    initialUserDataAge,\r\n    initialUserDataBreastfeeding,\r\n    initialUserDataLeisureSports,\r\n    initialUserDataPregnant,\r\n    initialUserDataSex,\r\n    initialUserDataSize,\r\n    initialUserDataWeight\r\n} from \"../config/ApplicationSetting\";\r\nimport {applicationStrings} from \"../static/labels\";\r\nimport {NotificationManager} from 'react-notifications'\r\nimport 'react-notifications/lib/notifications.css';\r\nimport {Form, FormControl, FormGroup} from \"react-bootstrap\";\r\nimport Select from 'react-select';\r\nimport {getPalCategories, getPalCategory} from \"../service/calculation/EnergyService\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport ReactSelectOption from \"../types/ReactSelectOption\";\r\nimport {isMobileDevice, isSmallScreen, useWindowDimension} from \"../service/WindowDimension\";\r\nimport {\r\n    checkUserDataValidity,\r\n    USERDATA_ERROR_AGE,\r\n    USERDATA_ERROR_SIZE,\r\n    USERDATA_ERROR_WEIGHT\r\n} from \"../service/UserDataService\";\r\nimport {customSelectStyles} from \"../config/UI_Config\";\r\nimport {FaLightbulb} from \"react-icons/fa\";\r\n\r\nexport function UserSettings() {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n\r\n    const [age, setAge] = useState<number>(initialUserDataAge)\r\n    const [size, setSize] = useState<number>(initialUserDataSize)\r\n    const [weight, setWeight] = useState<number>(initialUserDataWeight)\r\n    const [sex, setSex] = useState<string>(initialUserDataSex)\r\n    const [pregnant, setPregnant] = useState<boolean>(initialUserDataPregnant)\r\n    const [breastFeeding, setBreastFeeding] = useState<boolean>(initialUserDataBreastfeeding)\r\n    const [palValue, setPalValue] = useState<ReactSelectOption | null>(null)\r\n    const [leisureSport, setLeisureSport] = useState<boolean>(initialUserDataLeisureSports)\r\n\r\n    const windowSize = useWindowDimension()\r\n\r\n    useEffect(() => {\r\n        if (applicationContext) {\r\n            setAge(applicationContext.userData.age)\r\n            setSize(applicationContext.userData.size)\r\n            setWeight(applicationContext.userData.weight)\r\n            setSex(applicationContext.userData.sex)\r\n            setPregnant(applicationContext.userData.pregnant)\r\n            setBreastFeeding(applicationContext.userData.breastFeeding)\r\n            setLeisureSport(applicationContext.userData.leisureSports)\r\n        }\r\n    }, [applicationContext])\r\n\r\n    const changeAge = (event: any) => {\r\n        setAge(event.target.value)\r\n    }\r\n\r\n    const changeSize = (event: any) => {\r\n        setSize(event.target.value)\r\n    }\r\n\r\n    const changeWeight = (event: any) => {\r\n        setWeight(event.target.value)\r\n    }\r\n\r\n    const handleRadioButtonClick = (event: any) => {\r\n        const value = event.target.value;\r\n        const sex = value === SEX_MALE ? SEX_MALE : SEX_FEMALE;\r\n        if (sex === SEX_MALE) {\r\n            setPregnant(false)\r\n            setBreastFeeding(false)\r\n        }\r\n        setSex(sex)\r\n    }\r\n\r\n    const changePregnant = (event: any) => {\r\n        setPregnant(!pregnant)\r\n    }\r\n\r\n    const changeBreastFeeding = (event: any) => {\r\n        setBreastFeeding(!breastFeeding)\r\n    }\r\n\r\n    const changeAdditionalPalPorts = (event: any) => {\r\n        setLeisureSport(!leisureSport)\r\n    }\r\n\r\n    const changePalValue = (value: ReactSelectOption) => {\r\n        setPalValue(value)\r\n    }\r\n\r\n    const submitUserData = () => {\r\n        if (!applicationContext) {\r\n            return\r\n        }\r\n\r\n        const userData: UserData = {\r\n            age: age,\r\n            size: size,\r\n            weight: weight,\r\n            sex: sex,\r\n            pregnant: pregnant,\r\n            breastFeeding: breastFeeding,\r\n            palValue: palValue ? palValue.value : applicationContext.userData.palValue,\r\n            leisureSports: leisureSport,\r\n            initialValues: false\r\n        }\r\n\r\n        const inputOk = checkInputValidity(userData)\r\n\r\n        if (inputOk) {\r\n            applicationContext.setUserData(userData)\r\n            NotificationManager.success(applicationStrings.message_userdata_success[lang])\r\n        }\r\n    }\r\n\r\n\r\n    const checkInputValidity = (userData: UserData) => {\r\n        const validationResult = checkUserDataValidity(userData)\r\n\r\n        if (validationResult === USERDATA_ERROR_AGE) {\r\n            showMessage(applicationStrings.message_userdata_error_age[lang]);\r\n            return false;\r\n        } else if (validationResult === USERDATA_ERROR_SIZE) {\r\n            showMessage(applicationStrings.message_userdata_error_size[lang]);\r\n            return false;\r\n        } else if (validationResult === USERDATA_ERROR_WEIGHT) {\r\n            showMessage(applicationStrings.message_userdata_error_weight[lang]);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    const showMessage = (message: string) => {\r\n        NotificationManager.error(message)\r\n    }\r\n\r\n    const inputClass = isSmallScreen(windowSize) ? \"form-control form-control-sm input-sm\" : \"form-control input\"\r\n\r\n    const renderTextField = (label, value, callback) => {\r\n        const classRow = isMobileDevice() ? \"form-row-m\" : \"form-row\"\r\n\r\n        return (\r\n            <div className={classRow}>\r\n                <Form.Label className=\"form-label\">{label}:</Form.Label>\r\n                <FormControl\r\n                    className={inputClass}\r\n                    type=\"text\"\r\n                    value={value}\r\n                    onChange={callback}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const renderSexRadioButtons = () => {\r\n        const classRow = isMobileDevice() ? \"form-row-indent-m\" : \"form-row-indent\"\r\n\r\n        return (\r\n            <div className={classRow}>\r\n                    <Form.Check type=\"radio\"\r\n                                inline={true}\r\n                                label={applicationStrings.label_userSettings_sex_male[lang]}\r\n                                value={SEX_MALE}\r\n                                checked={(sex === SEX_MALE)}\r\n                                onChange={handleRadioButtonClick}\r\n                    />\r\n                    <Form.Check type=\"radio\"\r\n                                inline={true}\r\n                                label={applicationStrings.label_userSettings_sex_female[lang]}\r\n                                value={SEX_FEMALE}\r\n                                checked={(sex !== SEX_MALE)}\r\n                                onChange={handleRadioButtonClick}\r\n                    />\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const renderFemaleCheckboxes = () => {\r\n        return (\r\n            <div className=\"form\" style={{marginLeft: \"100px\"}}>\r\n                <div>\r\n                    <Form.Check inline className=\"form-radiobutton\"\r\n                                checked={pregnant === true}\r\n                                disabled={sex === SEX_MALE}\r\n                                label={applicationStrings.label_userSettings_pregnant[lang]}\r\n                                onClick={changePregnant}>\r\n                    </Form.Check>\r\n                </div>\r\n                <div>\r\n                    <Form.Check inline className=\"form-radiobutton\"\r\n                                disabled={sex === SEX_MALE}\r\n                                label={applicationStrings.label_userSettings_breastfeeding[lang]}\r\n                                onClick={changeBreastFeeding}>\r\n                    </Form.Check>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    const renderPalList = (userData: UserData) => {\r\n        const palCategories = getPalCategories(lang);\r\n        if (!palCategories) {\r\n            return <div/>\r\n        }\r\n\r\n        if (!palValue) {   // Initialize pal value first time\r\n            let userDataPalValue = palCategories.find(palObject => palObject.value === userData.palValue)\r\n            if (!userDataPalValue) {\r\n                userDataPalValue = palCategories[0]\r\n            }\r\n            setPalValue(userDataPalValue)\r\n        }\r\n\r\n        if (!palValue) {\r\n            return <div/>\r\n        }\r\n\r\n        const descriptionCode = `palcat_desc_${getPalCategory(palValue.value)}`\r\n        const description = applicationStrings[descriptionCode][lang];\r\n\r\n        return (\r\n            <div className=\"form-row\">\r\n                <div className={\"usersettings-pal\"}>\r\n                    <label className=\"form-label\">{applicationStrings.label_userSettings_palValue[lang]}:</label>\r\n                    <Select className=\"form-control-sm\"\r\n                            options={palCategories}\r\n                            value={palValue}\r\n                            isSearchable={false}\r\n                            styles={customSelectStyles}\r\n                            onChange={(value) => changePalValue(value)}\r\n                    />\r\n                </div>\r\n                <p className=\"usersettings-pal-text\">\r\n                    {description}\r\n                </p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    const renderActivityCheckboxes = () => {\r\n        return (\r\n            <div className=\"form-row-indent\" style={{marginTop: \"-15px\"}}>\r\n                <label className=\"form-elements\"\r\n                       data-for={\"us-leisure\"}\r\n                       data-tip={applicationStrings.label_userSettings_leisureSports_tooltip[lang]}>\r\n                    <ReactTooltip id={\"us-leisure\"}/>\r\n                    <Form.Check inline className=\"form-radiobutton\"\r\n                                label={applicationStrings.label_userSettings_leisureSports[lang]}\r\n                                checked={leisureSport}\r\n                                onChange={changeAdditionalPalPorts}>\r\n                    </Form.Check>\r\n                </label>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const renderSubmitButton = () => {\r\n        return (\r\n            <div className=\"text-center\">\r\n                <button type=\"button\"\r\n                        className=\"btn btn-primary\"\r\n                        style={{marginBottom: \"5vh\"}}\r\n                        onClick={() => submitUserData()}>\r\n                    {applicationStrings.button_submit[lang]}\r\n                </button>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const value_age = (age != null) ? age : initialUserDataAge\r\n    const value_size = (size != null) ? size : initialUserDataSize\r\n    const value_weight = (weight != null) ? weight : initialUserDataWeight\r\n\r\n    return (\r\n        <div>\r\n            <div className={\"m-3\"}>\r\n               <FaLightbulb/> {applicationStrings.label_userSettings_intro[lang]}\r\n            </div>\r\n            <div className=\"container\" style={{paddingTop: \"24px\"}}>\r\n                <div className=\"row userDataSettings\">\r\n                    <div className=\"col-12\">\r\n                        <form>\r\n                            <FormGroup controlId=\"formBasicText\">\r\n                                <div className=\"row\">\r\n                                    <div className=\"col-6\">\r\n                                        {renderTextField(applicationStrings.label_userSettings_age[lang], value_age, changeAge)}\r\n                                        {renderTextField(applicationStrings.label_userSettings_size[lang], value_size, changeSize)}\r\n                                        {renderTextField(applicationStrings.label_userSettings_weight[lang], value_weight, changeWeight)}\r\n                                    </div>\r\n                                    <div className=\"col-6\">\r\n                                        <Form.Label className=\"form-label\" style={{paddingLeft: \"20px\"}}>\r\n                                            {applicationStrings.label_userSettings_sex[lang]}\r\n                                        </Form.Label>\r\n                                        {renderSexRadioButtons()}\r\n                                        {renderFemaleCheckboxes()}\r\n                                    </div>\r\n                                </div>\r\n                                <div className=\"row\">\r\n                                    {renderPalList(applicationContext.userData)}\r\n                                    {renderActivityCheckboxes()}\r\n                                </div>\r\n                            </FormGroup>\r\n                            {renderSubmitButton()}\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}","export const MAIL_INVALID_NAME = \"mail invalid name\"\r\nexport const MAIL_NO_CONTENT = \"no content\"\r\nexport const MAIL_CONTENT_TO_LONG = \"content too long\"\r\nexport const MAIL_INVALID_ADDRESS = \"invalid address\"","import {MailData} from \"../types/livedata/MailData\";\r\nimport {\r\n    MAIL_INVALID_ADDRESS,\r\n    MAIL_CONTENT_TO_LONG,\r\n    MAIL_INVALID_NAME,\r\n    MAIL_NO_CONTENT\r\n} from \"../config/ErrorMessageCodes\";\r\nimport {maxMessageCharacters} from \"../config/ApplicationSetting\";\r\n\r\n\r\nconst mailRegex = '(?:[a-z0-9!#$%&\\'*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&\\'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\\\])'\r\n\r\nexport function checkMailValidity(mail: MailData): string[] {\r\n    const errors: string[] = []\r\n\r\n    if (!checkName(mail.name)) {\r\n        errors.push(MAIL_INVALID_NAME)\r\n    }\r\n\r\n    if (!checkMailAddress(mail.address)) {\r\n        errors.push(MAIL_INVALID_ADDRESS)\r\n    }\r\n\r\n    if (!checkContent(mail.message)) {\r\n        errors.push(MAIL_NO_CONTENT)\r\n    }\r\n\r\n    if (!checkLength(mail.message)) {\r\n        errors.push(MAIL_CONTENT_TO_LONG)\r\n    }\r\n\r\n    return errors\r\n}\r\n\r\nfunction checkName(name: string): boolean {\r\n    return name.length >= 3 && name.length <= 50\r\n}\r\n\r\nfunction checkContent(content: string): boolean {\r\n    return content.length >= 30\r\n}\r\n\r\nfunction checkLength(content: string): boolean {\r\n    return content.length <= maxMessageCharacters\r\n}\r\n\r\nfunction checkMailAddress(mailAddress: string): boolean {\r\n    return mailAddress.match(mailRegex) !== null\r\n}\r\n","// Google:\r\nexport const ANALYTICS_MESS_ID = 'G-DXHX3Y13KZ'\r\nexport const ADSENSE_TRACKING_ID = 'ca-pub-2335013571820161'\r\nexport const RECAPTCHA_KEY = '6LdVyyMcAAAAACXul89K-Epl2dQu3XOvOo1bTIg3'\r\n\r\n// Emailjs:\r\nexport const SERVICE_ID = 'service_608vcxh'\r\nexport const TEMPLATE_ID = 'template_nledi86'\r\nexport const USER_ID = 'user_8TjzzLK0ZdfUQd7h7cieX'\r\n\r\n","import React, {useContext, useState} from \"react\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {maxMessageCharacters} from \"../../config/ApplicationSetting\";\r\nimport {MailData} from \"../../types/livedata/MailData\";\r\nimport {checkMailValidity} from \"../../service/MailService\";\r\nimport {NotificationManager} from 'react-notifications'\r\n\r\nimport {\r\n    MAIL_CONTENT_TO_LONG,\r\n    MAIL_INVALID_ADDRESS,\r\n    MAIL_INVALID_NAME,\r\n    MAIL_NO_CONTENT\r\n} from \"../../config/ErrorMessageCodes\";\r\nimport {RECAPTCHA_KEY, SERVICE_ID, TEMPLATE_ID, USER_ID} from \"../../config/ApplicationKeys\";\r\nimport emailjs from \"emailjs-com\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\n\r\nexport function ContactForm() {\r\n    const language = useContext(LanguageContext).language\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n\r\n    const [name, setName] = useState(\"\")\r\n    const [mailAddress, setMailAdress] = useState(\"\")\r\n    const [message, setMessage] = useState(\"\")\r\n    const [characters, setCharacters] = useState(0)\r\n\r\n    const updateName = (event) => {\r\n        setName(event.target.value)\r\n    }\r\n\r\n    const updateMailAddress = (event) => {\r\n        setMailAdress(event.target.value)\r\n    }\r\n\r\n    const updateMessage = (event) => {\r\n        setMessage(event.target.value)\r\n        setCharacters(event.target.value.length)\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault()\r\n\r\n        const mailData: MailData = {\r\n            name: name.trim(),\r\n            address: mailAddress.trim(),\r\n            message: message.trim()\r\n        }\r\n\r\n        const validationErrors = checkMailValidity(mailData)\r\n        if(validationErrors.length > 0) {\r\n            const firstError = validationErrors[0]\r\n            let errorMessage = ''\r\n            switch(firstError) {\r\n                case MAIL_INVALID_NAME:\r\n                    errorMessage = applicationStrings.label_mail_error_name[language]\r\n                    break\r\n                case MAIL_INVALID_ADDRESS:\r\n                    errorMessage = applicationStrings.label_mail_error_mailaddress[language]\r\n                    break\r\n                case MAIL_NO_CONTENT:\r\n                    errorMessage = applicationStrings.label_mail_error_nocontent[language]\r\n                    break\r\n                case MAIL_CONTENT_TO_LONG:\r\n                    errorMessage = applicationStrings.label_mail_error_content_too_long[language]\r\n                    break\r\n            }\r\n\r\n            NotificationManager.error(errorMessage)\r\n            return\r\n        }\r\n\r\n        sendMail(mailData, language)\r\n    }\r\n\r\n    const sendMail = (mail: MailData, language: string) => {\r\n        const options = {\r\n            reply_to: mail.address,\r\n            from_name: mail.name,\r\n            message: mail.message,\r\n        }\r\n\r\n        emailjs.send(SERVICE_ID, TEMPLATE_ID, options, USER_ID)\r\n            .then((result) => {\r\n                NotificationManager.info(applicationStrings.message_email_success[language])\r\n                setName(\"\")\r\n                setMessage(\"\")\r\n                setMailAdress(\"\")\r\n                setCharacters(0)\r\n            }, (error) => {\r\n                if(applicationContext?.debug) {\r\n                    console.log(error.text);\r\n                }\r\n                NotificationManager.info(applicationStrings.message_email_error[language])\r\n            });\r\n    }\r\n\r\n    const charactersLeft = maxMessageCharacters - characters\r\n    const charactersMessage = maxMessageCharacters >= 0\r\n        ? applicationStrings.label_mail_characters_left[language].replace(\"/xx/\", charactersLeft)\r\n        : applicationStrings.label_mail_too_long[language]\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div className={\"container\"} style={{paddingBottom: \"30px\"}}>\r\n                <p>{applicationStrings.text_contact_form[language]}</p>\r\n                <div>\r\n                    <span className={'form-label'}>{applicationStrings.label_mail_name[language]}</span>\r\n                    <input className={\"form-control input\"}\r\n                           value={name}\r\n                           onChange={updateName}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <span className={'form-label'}>{applicationStrings.label_mail_address[language]}</span>\r\n                    <input className={\"form-control input\"}\r\n                           value={mailAddress}\r\n                           onChange={updateMailAddress}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <span className={'form-label'}>{applicationStrings.label_mail_message[language]}</span>\r\n                    <textarea className={\"form-control input\"}\r\n                              rows={8}\r\n                              value={message}\r\n                              onChange={updateMessage}\r\n                    />\r\n                </div>\r\n                <div><p style={{fontSize: \"0.8em\"}}>{charactersMessage}</p></div>\r\n                <button className={\"btn btn-primary\"} type=\"submit\">{applicationStrings.button_send[language]}</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};","import {applicationStrings} from \"../../static/labels\";\r\nimport {useContext} from \"react\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\n\r\nexport function Sources() {\r\n    const language = useContext(LanguageContext).language\r\n\r\n    return (\r\n        <div className={\"container\"}>\r\n            <h4><b>{applicationStrings.text_contact_source1[language]}</b></h4>\r\n            <h5>{applicationStrings.text_contact_source2[language]}</h5>\r\n            <p>U.S. Department of Agriculture, Agricultural Research Service.<br/>\r\n                FoodData Central, 2021-2023.</p>\r\n            <p>\r\n                Website: <a href={\"https://fdc.nal.usda.gov/\"}>Food Data Central</a>\r\n            </p>\r\n            <h5>{applicationStrings.text_contact_source3[language]}</h5>\r\n            <p>Deutsche Gesellschaft für Ernährung e.V.</p>\r\n            <p>\r\n                Website: <a href={\"https://www.dge.de/\"}>DGE</a>\r\n            </p>\r\n            <h5>{applicationStrings.text_contact_source4[language]}</h5>\r\n            <p>Prakash S. Shetty, Christiani J. K. Henry, Alison E. Black and A. M. Prentice:<br/>\r\n                \"Energy requirements of adults: an update on basal metabolic rates (BMRs) and physical activity\r\n                levels (PALs).\",<br/>\r\n                European journal of clinical nutrition (1996), Volume 50, Suppl 1, pp. 11-23\r\n            </p>\r\n        </div>\r\n    );\r\n\r\n}","import {buildDate, release} from \"../../config/ApplicationSetting\";\r\nimport {isMobileDevice} from \"../../service/WindowDimension\";\r\n\r\nexport function Versions() {\r\n    return <div className={\"container\"}>\r\n        {isMobileDevice() ?\r\n            <h3>\r\n                Food Compare\r\n            </h3>\r\n            :\r\n            <h1>\r\n                Food Compare\r\n            </h1>\r\n        }\r\n\r\n        <h6>\r\n            Version {release}\r\n        </h6>\r\n        <h6>\r\n            Build time: {buildDate}\r\n        </h6>\r\n\r\n        <p style={{paddingTop: \"24px\"}}>\r\n            <b>New features in Version {release}</b>\r\n            <ul>\r\n                <li>The layout of several menus has been revised</li>\r\n                <li>Food Compare fits better on mobile devices now, though some functionality remains limited</li>\r\n                <li>New food items have been added</li>\r\n            </ul>\r\n        </p>\r\n\r\n    </div>\r\n}","export default __webpack_public_path__ + \"static/media/impressum-german.92ba80d6.png\";","export default __webpack_public_path__ + \"static/media/impressum-english.1bd33956.png\";","import {useContext} from \"react\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\n\r\nimport impressum_de from '../../static/image/impressum-german.png';\r\nimport impressum_en from '../../static/image/impressum-english.png';\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {LANGUAGE_DE} from \"../../config/Constants\";\r\nimport {isMobileDevice} from \"../../service/WindowDimension\";\r\n\r\nexport function Impressum() {\r\n    const lang = useContext(LanguageContext).language\r\n\r\n    const impressumPath = lang === LANGUAGE_DE ? impressum_de : impressum_en;\r\n    const columnClass = isMobileDevice() ? \"col-10\" : \"col-6\"\r\n\r\n    return (\r\n        <div className={\"container\"} style={{paddingBottom: \"30px\"}}>\r\n            <div className={columnClass}>\r\n                <p>\r\n                    <b>{applicationStrings.text_contact_disclaimer1[lang]}</b>\r\n                </p>\r\n                <p>\r\n                    <i>\r\n                        {applicationStrings.text_contact_disclaimer2[lang]}\r\n                    </i>\r\n                </p>\r\n                <p>\r\n                    <i>\r\n                        {applicationStrings.text_contact_disclaimer3[lang]}\r\n                    </i>\r\n                </p>\r\n            </div>\r\n            <div style={{paddingTop: \"20px\"}}>\r\n                <div style={{height: '180px'}}>\r\n                    <img src={impressumPath} alt={\"Impressumtext\"} style={{height: '180px'}}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}","import {useContext} from \"react\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\n\r\nimport dataprivacy from \"../../static/dataprivacy.json\";\r\n\r\nexport function DataPrivacy() {\r\n\r\n    const language = useContext(LanguageContext).language\r\n\r\n    return (\r\n        <div className={\"container\"}>\r\n            <p>\r\n                {dataprivacy[0][language]}\r\n            </p>\r\n            <p>\r\n                {dataprivacy[1][language]}\r\n            </p>\r\n            <p>\r\n                <a href=\"https://www.fastcounter.de/de/privacy/40519.htm\">https://www.fastcounter.de/de/privacy/40519.htm</a>.\r\n            </p>\r\n            <p>\r\n                {dataprivacy[2][language]}\r\n            </p>\r\n            <p>\r\n                <a href=\"https://www.fastcounter.de/datenschutz.html\">https://www.fastcounter.de/datenschutz.html</a>\r\n            </p>\r\n        </div>\r\n    )\r\n\r\n}","import {useContext, useState} from \"react\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {ToggleButton, ToggleButtonGroup} from \"react-bootstrap\";\r\nimport {ContactForm} from \"./ContactForm\";\r\nimport {Sources} from \"./Sources\";\r\nimport {Versions} from \"./Versions\";\r\nimport {Impressum} from \"./Impressum\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {DataPrivacy} from \"./DataPrivacy\";\r\n\r\nexport function ContactContainer() {\r\n    const languageContext = useContext(LanguageContext)\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n\r\n    const menu_contact = 1\r\n    const menu_sources = 2\r\n    const menu_privacy = 3\r\n    const menu_versions = 4\r\n    const menu_impressum = 5\r\n\r\n\r\n    const [selectedMenu, setSelectedMenu] = useState(menu_contact)\r\n    const buttonStyle = {width: \"175px\"}\r\n\r\n    const renderSubMenu = () => {\r\n        switch (selectedMenu) {\r\n            case menu_contact:\r\n                return <ContactForm/>\r\n            case menu_sources:\r\n                return <Sources/>\r\n            case menu_privacy:\r\n                return <DataPrivacy/>\r\n            case menu_versions:\r\n                return <Versions/>\r\n            case menu_impressum:\r\n                return <Impressum/>\r\n            default:\r\n                return <div/>\r\n        }\r\n    }\r\n\r\n    const onChangeSubmenu = (selectedMenu) => {\r\n        setSelectedMenu(selectedMenu)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={\"text-center\"} style={{paddingTop: \"25px\", paddingBottom: \"50px\"}}>\r\n                <ToggleButtonGroup className={\"contact\"}\r\n                                   type={\"radio\"}\r\n                                   name={\"contact menus\"}\r\n                                   defaultValue={menu_contact}>\r\n                    <ToggleButton style={buttonStyle}\r\n                                  value={menu_contact}\r\n                                  checked={selectedMenu === menu_contact}\r\n                                  onChange={() => onChangeSubmenu(menu_contact)}>\r\n                        {applicationStrings.menu_contact[languageContext.language]}\r\n                    </ToggleButton>\r\n                    <ToggleButton style={buttonStyle}\r\n                                  value={menu_sources}\r\n                                  checked={selectedMenu === menu_sources}\r\n                                  onChange={() => onChangeSubmenu(menu_sources)}>\r\n                        {applicationStrings.menu_contact_sources[languageContext.language]}\r\n                    </ToggleButton>\r\n                    <ToggleButton style={buttonStyle}\r\n                                  value={menu_privacy}\r\n                                  checked={selectedMenu === menu_privacy}\r\n                                  onChange={() => onChangeSubmenu(menu_privacy)}>\r\n                        {applicationStrings.menu_contact_dataprivacy[languageContext.language]}\r\n                    </ToggleButton>\r\n                    <ToggleButton style={buttonStyle}\r\n                                  value={menu_versions}\r\n                                  checked={selectedMenu === menu_versions}\r\n                                  onChange={() => onChangeSubmenu(menu_versions)}>\r\n                        {applicationStrings.menu_contact_versions[languageContext.language]}\r\n                    </ToggleButton>\r\n                    <ToggleButton style={buttonStyle}\r\n                                  value={menu_impressum}\r\n                                  checked={selectedMenu === menu_impressum}\r\n                                  onChange={() => onChangeSubmenu(menu_impressum)}>\r\n                        {applicationStrings.menu_contact_impressum[languageContext.language]}\r\n                    </ToggleButton>\r\n                </ToggleButtonGroup>\r\n            </div>\r\n            <div>\r\n                {renderSubMenu()}\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}","import {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {getCategorySelectList} from \"../../service/nutrientdata/CategoryService\";\r\nimport {useHistory} from 'react-router-dom';\r\nimport {getElementsOfRankingGroup, getRankingGroups} from \"../../service/RankingService\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {Form} from \"react-bootstrap\";\r\nimport Select from 'react-select';\r\nimport {RANKING_MINERAL_INDEX, PATH_RANKING, QUERYKEY_DATAPANEL_RANKING, RANKING_VITAMIN_INDEX} from \"../../config/Constants\";\r\nimport {makeRankingPanelDataUri, parseRankingPanelDataUri} from \"../../service/uri/RankingPanelUriService\";\r\nimport {RankingPanelData} from \"../../types/livedata/ApplicationData\";\r\nimport {customSelectStyles} from \"../../config/UI_Config\";\r\n\r\ninterface RankingSelectorProps {\r\n    openChart: (selectedCategory, selectedValue, use100gram, transformToDietaryRequirements) => void,\r\n    useHorizontalLayout: boolean\r\n}\r\n\r\nexport function RankingSelector(props: RankingSelectorProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const {language} = useContext(LanguageContext)\r\n    const history = useHistory()\r\n\r\n    const rankingPanelData = applicationContext?.applicationData.rankingPanelData\r\n\r\n    const initializeState = rankingPanelData && rankingPanelData.selectedFoodCategory\r\n                                && rankingPanelData.selectedGroup && rankingPanelData.selectedElement ? true : false\r\n\r\n    const [elementsList, setElementsList] = useState<any>()\r\n    const [initialized, setInitialized] = useState<boolean>(initializeState)\r\n\r\n    useEffect(() => {\r\n        if (applicationContext) {\r\n            const newElements = buildElementsList(applicationContext.applicationData.rankingPanelData.selectedGroup)\r\n            setElementsList(newElements)\r\n        }\r\n    }, [applicationContext?.applicationData.rankingPanelData.selectedGroup])\r\n\r\n    useEffect(() => {\r\n        if (selectedFoodCategory && selectedGroup && selectedElement && initialized) {\r\n            updateUriQuery()\r\n            openChart()\r\n        } else if (!initialized) {\r\n            buildRankingPanelPageFromURI()\r\n        }\r\n    }, [applicationContext?.applicationData.rankingPanelData.selectedFoodCategory,\r\n        applicationContext?.applicationData.rankingPanelData.selectedElement,\r\n        applicationContext?.applicationData.rankingPanelData.use100gram,\r\n        applicationContext?.applicationData.rankingPanelData.showDietaryRequirements,\r\n        elementsList\r\n    ])\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const {\r\n        selectedFoodCategory,\r\n        selectedGroup,\r\n        selectedElement,\r\n        use100gram,\r\n        showDietaryRequirements\r\n    } = applicationContext.applicationData.rankingPanelData\r\n\r\n    const buildRankingPanelPageFromURI = () => {\r\n        const queryString = window.location.search.substring(1)\r\n        const equalOperator = queryString.indexOf(\"=\")\r\n        const key = queryString.substring(0, equalOperator)\r\n        const value = queryString.substring(equalOperator + 1)\r\n\r\n        if (key === QUERYKEY_DATAPANEL_RANKING && value.length > 1) {\r\n            const uriData: RankingPanelData | null = parseRankingPanelDataUri(value, applicationContext.foodDataCorpus, language)\r\n            if (!uriData) {\r\n                return\r\n            }\r\n\r\n            const {selectedFoodCategory, selectedGroup, selectedElement} = uriData\r\n            if (selectedFoodCategory === null || selectedGroup === null || selectedElement === null) {\r\n                return\r\n            } else {   // Set new URI Query\r\n                applicationContext.setRankingPanelData(uriData)\r\n                openChart()\r\n                setInitialized(true)\r\n            }\r\n        }\r\n    }\r\n\r\n    const updateUriQuery = () => {\r\n        const query = makeRankingPanelDataUri(applicationContext.applicationData.rankingPanelData)\r\n\r\n        history.push({\r\n            pathName: PATH_RANKING,\r\n            search: `${QUERYKEY_DATAPANEL_RANKING}=${query}`\r\n        })\r\n    }\r\n\r\n    const handleFoodCategoryChange = (selectedOption) => {\r\n        const newRankingData = {\r\n            ...applicationContext.applicationData.rankingPanelData,\r\n            selectedFoodCategory: selectedOption\r\n        }\r\n\r\n        applicationContext.setRankingPanelData(newRankingData)\r\n    }\r\n\r\n    const handleGroupChange = (selectedOption) => {\r\n        setInitialized(true)\r\n        const newRankingData = {\r\n            ...applicationContext.applicationData.rankingPanelData,\r\n            selectedGroup: selectedOption,\r\n            selectedElement: null\r\n        }\r\n        applicationContext.setRankingPanelData(newRankingData)\r\n        props.openChart(null, null, false, false);\r\n    }\r\n\r\n    const handleValueChange = (selectedOption) => {\r\n        const newRankingData = {\r\n            ...applicationContext.applicationData.rankingPanelData,\r\n            selectedElement: selectedOption\r\n        }\r\n\r\n        applicationContext.setRankingPanelData(newRankingData)\r\n    }\r\n\r\n    const handlePortionAmountChange = () => {\r\n        const newRankingData = {\r\n            ...applicationContext.applicationData.rankingPanelData,\r\n            use100gram: !use100gram\r\n        }\r\n        applicationContext.setRankingPanelData(newRankingData)\r\n    }\r\n\r\n    const handleDietaryRequirementsCheckbox = () => {\r\n        const newRankingData = {\r\n            ...applicationContext.applicationData.rankingPanelData,\r\n            showDietaryRequirements: !showDietaryRequirements\r\n        }\r\n        applicationContext.setRankingPanelData(newRankingData)\r\n    }\r\n\r\n    const getFoodCategoryList = () => {\r\n        return getCategorySelectList(applicationContext.foodDataCorpus.categories, language)\r\n    }\r\n\r\n    const getRankingGroupsList = () => {\r\n        return getRankingGroups(language);\r\n    }\r\n\r\n    const buildElementsList = (selectedGroup) => {\r\n        if (!selectedGroup) {\r\n            return;\r\n        }\r\n\r\n        return getElementsOfRankingGroup(selectedGroup.value, language)\r\n    }\r\n\r\n    const openChart = () => {\r\n        if (!selectedFoodCategory || !selectedGroup || !selectedElement) {\r\n            return\r\n        }\r\n\r\n        const rankingCategory = selectedGroup ? selectedGroup.value : null\r\n        const mineralOrVitaminCategory = (rankingCategory === RANKING_VITAMIN_INDEX) || (rankingCategory === RANKING_MINERAL_INDEX);\r\n        const transformToDietaryRequirements = mineralOrVitaminCategory ? showDietaryRequirements : false;\r\n\r\n        props.openChart(selectedFoodCategory, selectedElement, use100gram, transformToDietaryRequirements);\r\n    }\r\n\r\n    const renderPortionForm = () => {\r\n        const rankingCategory = selectedGroup ? selectedGroup.value : null;\r\n\r\n        return (\r\n            <div className=\"column select-menu\" style={{paddingLeft: \"20px\", paddingTop: \"10px\"}}>\r\n                <form className=\"form-inline form-group\">\r\n                    <label className=\"form-elements form-label\">\r\n                        <input className={\"form-input\"}\r\n                               type=\"radio\"\r\n                               checked={(use100gram)}\r\n                               onChange={handlePortionAmountChange}\r\n                        />\r\n                        100 g\r\n                    </label>\r\n                    <label className=\"form-elements-largespace form-label\">\r\n                        <input className={\"form-input\"}\r\n                               type=\"radio\"\r\n                               checked={!use100gram}\r\n                               onChange={handlePortionAmountChange}\r\n                        />\r\n                        {applicationStrings.label_portion_common[language]}\r\n                    </label>\r\n                    {(rankingCategory === RANKING_VITAMIN_INDEX || rankingCategory === RANKING_MINERAL_INDEX) &&\r\n                    <Form.Label className=\"form-elements\">\r\n                        <Form.Check className=\"form-radiobutton\"\r\n                                    inline={true}\r\n                                    label={applicationStrings.label_ranking_dietaryRequirements[language]}\r\n                                    defaultChecked={showDietaryRequirements}\r\n                                    onClick={handleDietaryRequirementsCheckbox}>\r\n                        </Form.Check>\r\n                    </Form.Label>\r\n                    }\r\n                </form>\r\n            </div>\r\n        );\r\n\r\n    }\r\n\r\n    const rankingList = getRankingGroupsList()\r\n\r\n    const containerClass = props.useHorizontalLayout ? \"container row\" : \"container\"\r\n    const selectorClass = props.useHorizontalLayout ? \"col-4 select-menu form-section\" : \"column select-menu form-section\"\r\n\r\n    return (\r\n        <div className={containerClass}>\r\n            <div className={selectorClass}>\r\n                <span className={\"form-label\"}>{applicationStrings.label_category[language]}:</span>\r\n                <Select className=\"form-control-sm\"\r\n                        options={getFoodCategoryList()}\r\n                        value={selectedFoodCategory}\r\n                        styles={customSelectStyles}\r\n                        onChange={handleFoodCategoryChange}\r\n                />\r\n            </div>\r\n            <div className={selectorClass}>\r\n                <span className={\"form-label\"}>{applicationStrings.label_group[language]}:</span>\r\n                <Select className=\"form-control-sm\"\r\n                        options={rankingList}\r\n                        value={selectedGroup}\r\n                        styles={customSelectStyles}\r\n                        onChange={handleGroupChange}\r\n                />\r\n            </div>\r\n            <div className={selectorClass}>\r\n                <span className={\"form-label\"}>{applicationStrings.label_value[language]}:</span>\r\n                <Select className=\"form-control-sm\"\r\n                        options={elementsList}\r\n                        value={selectedElement}\r\n                        styles={customSelectStyles}\r\n                        onChange={handleValueChange}\r\n                />\r\n            </div>\r\n            {renderPortionForm()}\r\n        </div>\r\n    )\r\n\r\n\r\n}","import {RankingPanelData} from \"../../types/livedata/ApplicationData\";\r\nimport {prepareUriForParsing} from \"./FoodDataPanelUriService\";\r\nimport {getCategorySelectList} from \"../nutrientdata/CategoryService\";\r\nimport FoodDataCorpus from \"../../types/nutrientdata/FoodDataCorpus\";\r\nimport {getElementsOfRankingGroup, getRankingGroups} from \"../RankingService\";\r\n\r\nexport function makeRankingPanelDataUri(rankingPanelData: RankingPanelData) {\r\n    const selectedCategory = rankingPanelData.selectedFoodCategory?.value\r\n    const selectedGroup = rankingPanelData.selectedGroup?.value\r\n    const selectedElement = rankingPanelData.selectedElement?.value\r\n\r\n    const use100gram = rankingPanelData.use100gram ? \"1\" : \"0\"\r\n    const showDailyRequirements = rankingPanelData.showDietaryRequirements ? \"1\" : \"0\"\r\n\r\n    return `${selectedCategory};${selectedGroup};${selectedElement};${use100gram}${showDailyRequirements}`\r\n}\r\n\r\nexport function parseRankingPanelDataUri(uri: string, foodDataCorpus: FoodDataCorpus, language: string): RankingPanelData | null {\r\n    const fragments = prepareUriForParsing(uri).split(\";\")\r\n    if(fragments.length !== 4) {\r\n        return null\r\n    }\r\n\r\n    if(fragments[3].length !== 2) {\r\n        return null\r\n    }\r\n\r\n    const selectedCategory = parseInt(fragments[0])\r\n    const selectedGroup = parseInt(fragments[1])\r\n    const selectedElement = fragments[2]\r\n\r\n    const foodCategories = getCategorySelectList(foodDataCorpus.categories, language)\r\n    const groups = getRankingGroups(language)\r\n    const elements = getElementsOfRankingGroup(selectedGroup, language)\r\n\r\n    const selectedFoodCategoryOption = foodCategories.find(foodCategory => foodCategory.value === selectedCategory)\r\n    const selectedGroupOption = groups.find(group => group.value === selectedGroup)\r\n    const selectedElementOption: any = elements ? elements.find(element => element.value === selectedElement) : null\r\n\r\n    const use100g = fragments[3].substring(0,1) === \"0\" ? false : true\r\n    const showDietaryRequirements = fragments[3].substring(1,2) === \"0\" ? false : true\r\n\r\n    if(selectedFoodCategoryOption && selectedGroupOption && selectedElementOption) {\r\n        return {\r\n            selectedFoodCategory: selectedFoodCategoryOption,\r\n            selectedGroup: selectedGroupOption,\r\n            selectedElement: selectedElementOption,\r\n            use100gram: use100g,\r\n            showDietaryRequirements: showDietaryRequirements\r\n        }\r\n    } else {\r\n        return null\r\n    }\r\n}","import {ChartItem} from \"../../service/RankingService\";\r\nimport {useContext} from \"react\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {color_green} from \"../../config/ChartConfig\";\r\nimport {getBarChartOptionsForRanking} from \"../../service/ChartConfigurationService\";\r\nimport {Bar} from \"react-chartjs-2\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {isMobileDevice} from \"../../service/WindowDimension\";\r\n\r\ninterface RankingChartProps {\r\n    chartItems: Array<ChartItem>\r\n    unit: string\r\n    selectedElement: string\r\n}\r\n\r\nexport function RankingChart(props: RankingChartProps) {\r\n    const {language} = useContext(LanguageContext)\r\n\r\n    const createChartData = () => {\r\n        const labels: Array<String> = [];\r\n        const data: Array<number> = [];\r\n\r\n        for (let i = 0; i < props.chartItems.length; i++) {\r\n            const chartItem = props.chartItems[i];\r\n\r\n            const name = chartItem.name\r\n            labels.push(name);\r\n            data.push(chartItem.value);\r\n        }\r\n\r\n        return {\r\n            labels: labels,\r\n            datasets: [{\r\n                data: data,\r\n                backgroundColor: color_green,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        };\r\n    }\r\n\r\n    const getOptions = () => {\r\n        let options = getBarChartOptionsForRanking(props.selectedElement, props.unit)\r\n        options = {\r\n            ...options, plugins: {\r\n                ...options.plugins, title: {\r\n                    ...options.plugins.title,\r\n                    position: \"left\"\r\n                }\r\n            }\r\n        }\r\n        return options\r\n    }\r\n\r\n\r\n    const chartData: any = createChartData();\r\n    const options = getOptions();\r\n    const dataAvailable = chartData.datasets.length > 0 && chartData.datasets[0].data.length > 0;\r\n\r\n    const width = isMobileDevice()\r\n        ? 40 * props.chartItems.length + 150\r\n        : 50 * props.chartItems.length + 150\r\n    const height = isMobileDevice() ? 200 : 500;\r\n    const maxWidth = isMobileDevice() ? \"90vw\": 1000;\r\n\r\n    let containerStyle: any = {\r\n        position: \"relative\",\r\n        width: `${width}px`\r\n    }\r\n\r\n    if(isMobileDevice()) {\r\n        containerStyle.height = `90vh`\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"smooth-scroll\" style={{overflowX: \"auto\", position: \"absolute\", maxWidth: maxWidth}}>\r\n                {dataAvailable &&\r\n                    <div style={containerStyle}>\r\n                        <Bar id=\"chart\"\r\n                             data={chartData}\r\n                             height={height}\r\n                             options={options}\r\n                        />\r\n                    </div>\r\n                }\r\n                {!dataAvailable &&\r\n                  <span>{applicationStrings.label_noData[language]}</span>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}","import {useContext, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {ChartItem, getOrderedFoodList} from \"../../service/RankingService\";\r\nimport {convertAbsoluteValueToDailyRequirement} from \"../../service/calculation/DietaryRequirementService\";\r\nimport * as Constants from \"./../../config/Constants\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {RankingSelector} from \"./RankingSelector\";\r\nimport {RankingChart} from \"./RankingChart\";\r\nimport {maxElementsInRankingChart} from \"../../config/ApplicationSetting\";\r\nimport ReactSelectOption from \"../../types/ReactSelectOption\";\r\nimport {isMobileDevice} from \"../../service/WindowDimension\";\r\nimport {getUnit} from \"../../service/calculation/NutrientCalculationService\";\r\n\r\nexport function RankingContainer() {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const {language} = useContext(LanguageContext)\r\n\r\n    const [chartItems, setChartItems] = useState<Array<ChartItem>>([])\r\n    const [unit, setUnit] = useState<string>(\"g\")\r\n    const [selectedValue, setSelectedValue] = useState<ReactSelectOption | null>(null)\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const openChart = (selectedCategory, selectedValue, use100gram, transformToDietaryRequirements) => {\r\n        if (!selectedValue) {\r\n            setChartItems([])\r\n            return\r\n        }\r\n\r\n        let category = 0;\r\n        if (selectedCategory) {\r\n            category = selectedCategory.value;\r\n        }\r\n\r\n        setSelectedValue(selectedValue)\r\n        const {foodItems, foodClasses, dietaryRequirements} = applicationContext.foodDataCorpus\r\n        const userData = applicationContext.userData\r\n\r\n        let orderedChartItems = getOrderedFoodList(foodItems, foodClasses, category,\r\n            selectedValue.value, use100gram, language, applicationContext?.foodDataCorpus.foodNames,\r\n            applicationContext?.foodDataCorpus.conditions);\r\n\r\n        if (transformToDietaryRequirements && dietaryRequirements) {\r\n            for (let i = 0; i < orderedChartItems.length; i++) {\r\n                orderedChartItems[i].value = convertAbsoluteValueToDailyRequirement(\r\n                    dietaryRequirements,\r\n                    selectedValue.value,\r\n                    orderedChartItems[i].value,\r\n                    userData\r\n                );\r\n            }\r\n        }\r\n\r\n        const unit = getUnit(selectedValue.value, transformToDietaryRequirements)\r\n\r\n        if (orderedChartItems.length > maxElementsInRankingChart) {\r\n            orderedChartItems = orderedChartItems.slice(0, maxElementsInRankingChart + 1)\r\n        }\r\n\r\n        setChartItems(orderedChartItems)\r\n        setUnit(unit)\r\n    }\r\n\r\n    const renderHelpText = () => {\r\n        const helpText = applicationStrings.text_ranking[language];\r\n\r\n        return (\r\n            <div className=\"col-md-6 col-lg-5 infotextMenus\" style={{padding: \"24px\"}}>\r\n                <i>{helpText}</i>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const renderInformationText = () => {\r\n        return (\r\n            <span>\r\n                {selectedValue === null &&\r\n                renderHelpText()\r\n                }\r\n                {selectedValue !== null && chartItems && chartItems.length === 0 &&\r\n                applicationStrings.label_noData[language]\r\n                }\r\n            </span>\r\n        )\r\n    }\r\n\r\n    const renderWebsite = () => {\r\n        return (\r\n            <div className=\"container-fluid\" style={{paddingTop: \"24px\"}}>\r\n                <div className=\"row\">\r\n                    <div className=\"col-3\">\r\n                        <RankingSelector openChart={openChart} useHorizontalLayout={false}/>\r\n                    </div>\r\n                    {chartItems && chartItems.length > 0 &&\r\n                    <div className=\"col-9\">\r\n                        <RankingChart chartItems={chartItems}\r\n                                      unit={unit}\r\n                                      selectedElement={selectedValue ? selectedValue.label : \"\"}/>\r\n                    </div>\r\n                    }\r\n                    {\r\n                        renderInformationText()\r\n                    }\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const renderMobile = () => {\r\n        return (\r\n            <div className=\"container-fluid\" style={{paddingTop: \"24px\"}}>\r\n                <div>\r\n                    <RankingSelector openChart={openChart} useHorizontalLayout={isMobileDevice()}/>\r\n                </div>\r\n                <hr/>\r\n                {chartItems && chartItems.length > 0 &&\r\n                <div>\r\n                    <RankingChart chartItems={chartItems}\r\n                                  unit={unit}\r\n                                  selectedElement={selectedValue ? selectedValue.label : \"\"}/>\r\n                </div>\r\n                }\r\n                {\r\n                    renderInformationText()\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    return isMobileDevice() ? renderMobile() : renderWebsite()\r\n\r\n}","import Header from \"./Header\";\r\nimport Switch from \"react-bootstrap/Switch\";\r\nimport {\r\n    PATH_CONTACT,\r\n    PATH_DIRECT_COMPARE,\r\n    PATH_FOODCOMPARE,\r\n    PATH_FOODDATA_PANEL,\r\n    PATH_HOME,\r\n    PATH_RANKING,\r\n    PATH_USERSETTINGS\r\n} from \"../config/Constants\";\r\nimport {Home} from \"./Home\";\r\nimport FoodDataPanelContainer from \"./fooddatapanel/FoodDataPanelContainer\";\r\nimport DirectCompareContainer from \"./directcompare/DirectCompareContainer\";\r\nimport {UserSettings} from \"./UserSettings\";\r\nimport {ContactContainer} from \"./contact/ContactContainer\";\r\nimport React, {useContext} from \"react\";\r\nimport {BrowserRouter as Router, Route} from 'react-router-dom'\r\nimport {ApplicationDataContextStore} from \"../contexts/ApplicationDataContext\";\r\nimport {RankingContainer} from \"./ranking/RankingContainer\";\r\nimport {Chart, ArcElement} from 'chart.js'\r\nimport annotationPlugin from \"chartjs-plugin-annotation\";\r\n\r\nexport function WebPageContainer() {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    // Registering requires some time and should only be performed when the real site is loaded.\r\n    Chart.register(annotationPlugin)\r\n    Chart.register(ArcElement);\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <Router>\r\n                    <Header/>\r\n                    <Switch>\r\n                        <Route path={PATH_FOODCOMPARE} component={Home}/>\r\n                        <Route path={PATH_HOME} component={Home}/>\r\n                        <Route path={PATH_FOODDATA_PANEL} component={FoodDataPanelContainer}/>\r\n                        <Route path={PATH_DIRECT_COMPARE} component={DirectCompareContainer}/>\r\n                        <Route path={PATH_RANKING} component={RankingContainer}/>\r\n                        <Route path={PATH_USERSETTINGS} component={UserSettings}/>\r\n                        <Route path={PATH_CONTACT} component={ContactContainer}/>\r\n                        <Route exact path={\"/\"} component={Home}/>\r\n                    </Switch>\r\n                </Router>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}","import React, {useContext} from \"react\";\r\nimport {applicationStrings} from \"../static/labels\";\r\nimport {LanguageContext} from \"../contexts/LangContext\";\r\nimport {ApplicationDataContextStore} from \"../contexts/ApplicationDataContext\";\r\nimport {Button} from \"react-bootstrap\";\r\nimport {isMobileDevice} from \"../service/WindowDimension\";\r\n\r\nexport default function MobileDeviceCheck() {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const {language} = useContext(LanguageContext)\r\n\r\n    const setMobileStatus = (status: boolean) => {\r\n        applicationContext?.setMobileUsage(status)\r\n    }\r\n\r\n    const showMobileInformationModal = () => {\r\n        return <div className={\"mobile-device-message\"}>\r\n            <div style={{margin: \"15px\"}}>\r\n                {applicationStrings.device_detection_hint[language]}\r\n            </div>\r\n            <div className={\"d-flex justify-content-center\"}>\r\n                <Button\r\n                    style={{minWidth: \"80px\"}}\r\n                    className=\"primary button-l\"\r\n                    onClick={() => setMobileStatus(false)}>\r\n                    OK\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    return <div>\r\n        {applicationContext?.useAsMobile === null && isMobileDevice() &&\r\n        < div>\r\n            {showMobileInformationModal()}\r\n        </div>\r\n        }\r\n    </div>\r\n\r\n}","import './App.scss';\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"bootstrap/dist/js/bootstrap.min.js\";\r\nimport {NotificationContainer} from 'react-notifications'\r\nimport ApplicationDataContextProvider from \"./contexts/ApplicationDataContext\";\r\nimport React, {useEffect} from \"react\";\r\n\r\nimport {LanguageProvider} from \"./contexts/LangContext\";\r\nimport ReactTooltip from \"react-tooltip\";\r\n\r\nimport {WebPageContainer} from \"./components/WebPageContainer\";\r\nimport MobileDeviceCheck from \"./components/MobileDeviceCheck\";\r\n\r\n\r\nfunction App(): JSX.Element {\r\n    useEffect(() => {\r\n        ReactTooltip.rebuild()\r\n    })\r\n\r\n    return (\r\n        <div id=\"root\" className=\"App\">\r\n            <NotificationContainer/>\r\n            <LanguageProvider>\r\n                <ApplicationDataContextProvider>\r\n                    <MobileDeviceCheck/>\r\n                    <WebPageContainer/>\r\n                </ApplicationDataContextProvider>\r\n            </LanguageProvider>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\n\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport {hydrate, render} from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\n\r\n/* if (rootElement && rootElement.hasChildNodes()) {\r\n    hydrate(<div><App/></div>, rootElement);\r\n} else {\r\n    render(\r\n        <div><App/></div>, rootElement);\r\n} */\r\n\r\nrender(<div><App/></div>, rootElement);\r\n\r\n\r\n// reportWebVitals();\r\n\r\n\r\n"],"sourceRoot":""}