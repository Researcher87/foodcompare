{"version":3,"sources":["static/image/carousel sync /^/.*$","static/image/carousel/Img-de-1.png","static/image/carousel/Img-de-2.png","static/image/carousel/Img-de-3.png","static/image/carousel/Img-de-4.png","static/image/carousel/Img-de-5.png","static/image/carousel/Img-de-6.png","static/image/carousel/Img-de-7.png","static/image/carousel/Img-en-1.png","static/image/carousel/Img-en-2.png","static/image/carousel/Img-en-3.png","static/image/carousel/Img-en-4.png","static/image/carousel/Img-en-5.png","static/image/carousel/Img-en-6.png","static/image/carousel/Img-en-7.png","service/NutrientDataImportService.ts","config/Constants.ts","config/ApplicationSetting.ts","service/LanguageService.ts","service/nutrientdata/NameTypeService.ts","contexts/ApplicationDataContext.tsx","contexts/LangContext.tsx","static/labels.ts","components/MobileDeviceCheck.tsx","static/image/logo.png","static/image/text.png","service/WindowDimension.ts","components/Header.tsx","components/Home.tsx","service/nutrientdata/CategoryService.ts","service/nutrientdata/FoodClassService.ts","service/nutrientdata/FoodItemsService.ts","service/nutrientdata/PortionDataService.ts","service/nutrientdata/NutrientDataRetriever.ts","components/foodselector/FoodSelector.tsx","components/foodselector/CompositeFoodList.tsx","service/calculation/FoodDataAggregationService.ts","components/HelpModal.tsx","service/HelpService.ts","components/foodselector/FoodSelectorModal.tsx","components/ConfirmationDialog.tsx","config/ChartConfig.ts","service/ChartConfigurationService.ts","components/charthelper/PieChartConfigurationForm.tsx","components/charthelper/CustomLegend.tsx","service/nutrientdata/ChartSizeCalculation.tsx","service/calculation/MathService.ts","service/chartdata/BaseChartDataService.ts","components/fooddatapanel/charts/BaseDataChart.tsx","config/EnergyConstants.ts","service/calculation/EnergyService.ts","components/fooddatapanel/charts/EnergyDataChart.tsx","components/charthelper/BarChartConfigurationForm.tsx","service/calculation/DietaryRequirementService.ts","components/fooddatapanel/charts/MineralVitaminChart.tsx","service/chartdata/VitaminsMineralsDataService.ts","service/chartdata/LipidsChartDataService.ts","components/fooddatapanel/charts/LipidsDataChart.tsx","components/fooddatapanel/charts/ProteinDataChart.tsx","service/chartdata/ProteinChartDataService.ts","service/chartdata/CarbsChartDataService.ts","components/fooddatapanel/charts/CarbsDataChart.tsx","components/fooddatapanel/ChartPanel.tsx","components/fooddatapanel/FoodDataTable.tsx","components/fooddatapanel/charts/InfoData.tsx","components/fooddatapanel/FoodDataPageBody.tsx","components/fooddatapanel/ChartMenuPanel.tsx","components/fooddatapanel/FoodDataPageHeader.tsx","service/TableService.ts","components/fooddatapanel/FoodDataPage.tsx","service/FoodDataPanelService.tsx","components/fooddatapanel/FoodAnalyzerContainer.tsx","components/fooddatapanel/TabContainer.tsx","service/uri/ChartConfigConverter.ts","service/uri/FoodDataPanelUriService.ts","service/uri/FoodDataPanelAggregatedUriService.ts","service/UserDataService.ts","components/fooddatapanel/FoodDataPanelContainer.tsx","components/foodselector/DirectCompareSelector.tsx","service/calculation/NutrientCalculationService.ts","components/directcompare/DcMineralVitaminChart.tsx","components/directcompare/DcPieChart.tsx","components/directcompare/DcProteinDataChart.tsx","components/directcompare/DcEnergyChart.tsx","components/directcompare/DirectCompareDataPanel.tsx","service/uri/DirectCompareUriService.ts","components/directcompare/DirectCompareContainer.tsx","static/image/app.png","components/FoodCompareApp.tsx","components/UserSettings.tsx","config/ErrorMessageCodes.ts","service/MailService.ts","components/contact/ContactForm.tsx","config/ApplicationKeys.ts","components/contact/Sources.tsx","components/contact/Versions.tsx","static/image/impressum-german.png","static/image/impressum-english.png","components/contact/Impressum.tsx","components/contact/ContactContainer.tsx","components/ranking/RankingSelector.tsx","service/uri/RankingPanelUriService.ts","service/RankingService.ts","components/ranking/RankingChart.tsx","components/ranking/RankingContainer.tsx","components/WebPageContainer.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","loadFoodDataCorpus","categories","nutrientdata","conditions","portionTypes","sources","foodNames","foodClasses","foodItems","dietaryRequirements","AMOUNT_PORTION","GRAM","CHART_TYPE_PIE","CHART_TYPE_BAR","CHART_VITAMINS","CHART_MINERALS","DATA_ENERGY","DATA_WATER","DATA_CARBS","DATA_LIPIDS","DATA_PROTEINS","DATA_MINERAL_CALCIUM","DATA_MINERAL_IRON","DATA_MINERAL_MAGNESIUM","DATA_MINERAL_PHOSPHORUS","DATA_MINERAL_POTASSIUM","DATA_MINERAL_SODIUM","DATA_MINERAL_ZINC","DATA_MINERAL_SELENIUM","DATA_MINERAL_MANGANESE","DATA_MINERAL_COPPER","DATA_VITAMINS_A","DATA_VITAMINS_B1","DATA_VITAMINS_B2","DATA_VITAMINS_B3","DATA_VITAMINS_B5","DATA_VITAMINS_B6","DATA_VITAMINS_B9","DATA_VITAMINS_B12","DATA_VITAMINS_C","DATA_VITAMINS_D","DATA_VITAMINS_E","DATA_VITAMINS_K","DATA_LIPIDS_SATURATED","DATA_LIPIDS_MONO_UNSATURATED","DATA_LIPIDS_POLY_UNSATURATED","DATA_LIPIDS_TRANSFATTY_ACIDS","DATA_CARBS_DIETARY_FIBERS","DATA_CARBS_SUGAR","DATA_CARBS_GLUCOSE","DATA_CARBS_FRUCTOSE","DATA_CARBS_GALACTOSE","DATA_CARBS_SUCROSE","DATA_CARBS_LACTOSE","DATA_CARBS_MALTOSE","DATA_CARBS_STARCH","DATA_PROTEIN_TRYPTOPHAN","DATA_PROTEIN_THREONINE","DATA_PROTEIN_ISOLEUCINE","DATA_PROTEIN_LEUCINE","DATA_PROTEIN_LYSINE","DATA_PROTEIN_METHIONINE","DATA_PROTEIN_CYSTINE","DATA_PROTEIN_PHENYLALANINE","DATA_PROTEIN_TYROSINE","DATA_PROTEIN_VALINE","DATA_PROTEIN_ARGININE","DATA_PROTEIN_HISTIDINE","DATA_PROTEIN_ALANINE","DATA_PROTEIN_ASPARTIC_ACID","DATA_PROTEIN_GLUTAMIC_ACID","DATA_PROTEIN_GLYCINE","DATA_PROTEIN_PROLINE","DATA_PROTEIN_SERINE","DISPLAYMODE_TABLE","DISPLAYMODE_CHART","CARBS_DATA_BASE","CARBS_DATA_DETAIL","LIPIDS_DATA_BASE","LIPIDS_DATA_OMEGA","PATH_DIRECT_COMPARE","PATH_FOODCOMPARE","PATH_FOODDATA_PANEL","PATH_HOME","PATH_CONTACT","PATH_MOBILE_APP","PATH_USERSETTINGS","PATH_RANKING","LANGUAGE_DE","LANGUAGE_EN","SEX_MALE","SEX_FEMALE","SOURCE_SRLEGACY","SOURCE_FNDDS","TAB_BASE_DATA","TAB_ENERGY_DATA","TAB_VITAMIN_DATA","TAB_MINERAL_DATA","TAB_LIPIDS_DATA","TAB_CARBS_DATA","TAB_PROTEINS_DATA","TAB_INFO","QUERYKEY_DATAPANEL_ITEM","QUERYKEY_DATAPANEL_RANKING","QUERYKEY_DATAPANEL_AGGREGATED","mobileAppPath","maxMessageCharacters","smallFormsScreenSize","initialUserDataSize","initialUserDataSex","initialUserDataPregnant","initialUserDataBreastfeeding","initialUserDataLeisureSports","initialChartConfigData","baseChartConfig","chartType","showLegend","showDetails","vitaminChartConfig","portionType","expand100","mineralChartConfig","lipidsChartConfig","hideRemainders","subChart","carbsChartConfig","proteinChartConfig","initialDirectCompareConfigData","synchronize","subChart1","subChart2","getName","nameType","language","germanName","englishName","getNameFromFoodNameList","foodNameList","find","console","error","ApplicationDataContextStore","createContext","ApplicationDataContextProvider","setSelectedFoodDataPanelTab","selectedTab","setState","prevState","applicationData","foodDataPanel","selectedFoodItemIndex","setSelectedDisplayMode","displayMode","setSelectedFoodDataPanelPage","selectedPage","selectedDataPage","addItemToFoodDataPanel","foodItem","newItems","assign","state","selectedFoodItems","push","removeItemFromFoodDataPanel","foodItemId","filter","selectedFoodItem","newIndex","currentIndex","length","removeAllItemsFromFoodDataPanel","updateAllFoodItemNames","newLanguage","newFoodItems","foodName","nameId","tab","updateFoodDataPanelChartConfig","chartConfig","chartConfigData","setSelectedDirectCompareItems","selectedFoodItem1","selectedFoodItem2","directCompareDataPanel","setSelectedDirectCompareDataPage","updateDirectCompareChartConfig","directCompareConfigChart","setUserData","userData","setPreferredSource","source","preferredSource","setFoodSelectorConfig","selectedCategory","sourceSupplement","sourceCombine","foodSelector","setRankingPanelData","rankingPanelData","foodDataCorpus","selectedFoodCategory","selectedGroup","selectedElement","use100gram","showDietaryRequirements","age","size","weight","sex","pregnant","breastFeeding","palValue","leisureSports","initialValues","debug","ready","useAsMobile","NutrientDataImportService","this","value","setMobileUsage","usage","setFoodDataPanelData","setSelectedFoodTab","setSelectedDataPage","setDirectCompareData","Provider","props","children","Component","LanguageContext","userLanguageChange","selectedLanguage","LanguageProvider","userLanguage","navigator","preferredLanguage","useState","setLanguage","provider","selectedLanaguage","applicationStrings","button_add","de","en","button_cancel","button_change_to_chart_mode","button_close","button_getstarted_1","button_getstarted_2","button_getstarted_3","button_getstarted_4","button_no","button_select","button_show","button_send","button_submit","button_update","button_yes","checkbox_chartoption_hideRemainders","checkbox_chartoption_showLegend","checkbox_chartoption_showDetails","checkbox_english","checkbox_english_m","checkbox_expand100g","checkbox_german","checkbox_german_m","checkbox_synchronize","confirm_close_all_tabs","device_detection_hint","device_detection_question","direct_compare_text","home_carousel_0","home_carousel_1","home_carousel_2","home_carousel_3","home_carousel_4","home_carousel_5","home_carousel_6","home_text_1","home_text_2","home_text_3","label_amount","label_amount_short","label_category","label_charttype","label_charttype_pie","label_charttype_bar","label_charttype_carbs_base","label_charttype_carbs_detail","label_charttype_energy","label_charttype_lipids_base","label_charttype_lipids_base_title","label_charttype_lipids_omega","label_charttype_lipids_omega_title","label_charttype_minerals","label_charttype_proteins","label_charttype_vitamins","label_chart_bmr","label_chart_energyExpenditure","label_chart_proteins","label_chart_nutrientComposition","label_chart_totalComposition","label_datatype","label_food","label_foodclass","label_fooditem","label_foodselector","label_foodselector_composite","label_group","label_getStarted","label_info","label_info_category","label_info_foodClass","label_info_foodId","label_info_foodName","label_info_portion","label_info_portionType","label_info_preparation","label_info_source","label_language","label_mail_name","label_mail_address","label_mail_message","label_mail_characters_left","label_mail_too_long","label_mail_error_name","label_mail_error_mailaddress","label_mail_error_nocontent","label_mail_error_content_too_long","label_mail_error_verification","label_noData","label_nutrient_alcohol","label_nutrient_ash","label_nutrient_carbohydrates","label_nutrient_carbohydrates_short","label_nutrient_carbohydrates_fructose","label_nutrient_carbohydrates_galactose","label_nutrient_carbohydrates_glucose","label_nutrient_carbohydrates_lactose","label_nutrient_carbohydrates_maltose","label_nutrient_carbohydrates_starch","label_nutrient_carbohydrates_sucrose","label_nutrient_dietaryFibers","label_nutrient_dietaryFibers_short","label_nutrient_energy","label_nutrient_lipids","label_nutrient_lipids_long","label_nutrient_lipids_saturated","label_nutrient_lipids_saturated_short","label_nutrient_lipids_unsaturated","label_nutrient_lipids_unsaturated_mono","label_nutrient_lipids_unsaturated_mono_short","label_nutrient_lipids_unsaturated_poly","label_nutrient_lipids_unsaturated_poly_short","label_nutrient_lipids_transfattyAcids","label_nutrient_lipids_omega3","label_nutrient_lipids_omega6","label_nutrient_lipids_cholesterol","label_nutrient_min","label_nutrient_min_calcium","label_nutrient_min_copper","label_nutrient_min_iron","label_nutrient_min_magnesium","label_nutrient_min_manganese","label_nutrient_min_phosphorus","label_nutrient_min_potassimum","label_nutrient_min_selenium","label_nutrient_min_sodium","label_nutrient_min_zinc","label_nutrient_omega3","label_nutrient_omega6","label_nutrient_proteins","label_nutrient_proteins_alanine","label_nutrient_proteins_arginine","label_nutrient_proteins_asparticAcid","label_nutrient_proteins_cystine","label_nutrient_proteins_glysine","label_nutrient_proteins_glutamicAcid","label_nutrient_proteins_histidine","label_nutrient_proteins_isoleucine","label_nutrient_proteins_leucine","label_nutrient_proteins_lysine","label_nutrient_proteins_methionine","label_nutrient_proteins_phenylalanine","label_nutrient_proteins_proline","label_nutrient_proteins_serine","label_nutrient_proteins_threonine","label_nutrient_proteins_tryptophan","label_nutrient_proteins_tyrosine","label_nutrient_proteins_valine","label_nutrient_remainder","label_nutrient_sugar","label_nutrient_vit","label_nutrient_vit_a","label_nutrient_vit_b1","label_nutrient_vit_b2","label_nutrient_vit_b3","label_nutrient_vit_b5","label_nutrient_vit_b6","label_nutrient_vit_b9","label_nutrient_vit_b12","label_nutrient_vit_c","label_nutrient_vit_d","label_nutrient_vit_e","label_nutrient_vit_k","label_nutrient_vit_scientific_b1","label_nutrient_vit_scientific_b2","label_nutrient_vit_scientific_b3","label_nutrient_vit_scientific_b5","label_nutrient_vit_scientific_b9","label_nutrient_vit_scientific_b12","label_nutrient_vit_scientific_c","label_nutrient_vit_scientific_d","label_nutrient_vit_scientific_e","label_nutrient_vit_scientific_k","label_nutrient_water","label_overview","label_portion","label_prefix_hereof","label_reference","label_preferred_source","label_ranking_dietaryRequirements","label_source","label_source_supplement","label_source_supplement_tooltip","label_source_combine","label_source_combine_tooltip","label_unknown","label_usda_reference","label_userSettings_age","label_userSettings_breastfeeding","label_userSettings_leisureSports","label_userSettings_leisureSports_tooltip","label_userSettings_palValue","label_userSettings_pregnant","label_userSettings_sex","label_userSettings_sex_male","label_userSettings_sex_female","label_userSettings_size","label_userSettings_weight","label_value","menu_food_data_panel","menu_food_data_panel_m","menu_direct_compare","menu_direct_compare_m","menu_home","menu_mobile_app","menu_ranking","menu_settings","menu_settings_m","menu_contact","menu_contact_sources","menu_contact_versions","menu_contact_impressum","message_email_success","message_email_error","message_error_existing_element","message_error_incomplete_form","message_error_invalid_portion","message_userdata_success","message_userdata_error_title","message_userdata_error_age","message_userdata_error_size","message_userdata_error_weight","palcat_name_1","palcat_desc_1","palcat_name_2","palcat_desc_2","palcat_name_3","palcat_desc_3","palcat_name_4","palcat_desc_4","palcat_name_5","palcat_desc_5","palcat_name_6","palcat_desc_6","palcat_name_7","palcat_desc_7","portion_100g","portion_individual","text_contact_disclaimer1","text_contact_disclaimer2","text_contact_disclaimer3","text_contact_form","text_contact_source1","text_contact_source2","text_contact_source3","text_contact_source4","text_empty_fooddatapanel","text_foodcompareapp_1","text_foodcompareapp_2","text_ranking","text_setUserdata_p1","text_setUserdata_p2","text_setUserdata_p3","tooltip_icon_charts","tooltip_icon_close","tooltip_icon_newFoodItem","tooltip_icon_newFoodItemStack","tooltip_icon_removeAll","tooltip_icon_table","tooltip_source","MobileDeviceCheck","applicationContext","useContext","setMobileStatus","status","window","location","href","isMobile","className","style","margin","Button","minWidth","marginRight","onClick","getCurrentWindowDimension","width","innerWidth","height","innerHeight","useWindowDimension","windowDimension","setWindowDimension","useEffect","addEventListener","removeEventListener","isSmallScreen","isNarrowScreen","isMobileDevice","Header","useLocation","handleLanguageButtonClick","event","target","handleSourceButtonClick","activePath","pathname","endsWith","substring","log","renderMenus","menuNameAnalyze","menuNameDirectCompare","menuNameSettings","role","to","variant","active","language_en","language_de","renderLanguageButtons","name","type","defaultChecked","renderSourceButtons","paddingLeft","checked","onChange","overflowX","paddingTop","maxWidth","src","logo","alt","text","marginTop","images","require","Home","languageContext","displayedImage","setDisplayedImage","imageChanged","image","renderHomeText","textElements","textElement","index","renderTextElement","paddingRight","colSizeLeft","homeText1","paddingBottom","backgroundColor","langKey","pic1","default","pic2","pic3","pic4","pic5","pic6","pic7","captionAttribute","imageCaption","showArrows","infiniteLoop","autoPlay","interval","transitionTime","selectedItem","showThumbs","showStatus","textAlign","fontStyle","renderCarousel","marginBottom","homeText2","getCategorySelectList","nameTypeList","sort","names","forEach","reactSelectOptions","label","getReactSelectOptionsList","getFoodClassSelectList","category","filteredFoodClasses","foodClass","getFoodClassesOfCategory","nameKey","obj1","obj2","localeCompare","getFoodItemsSelectList","filteredFoodItems","foodClassId","getFoodItemsOfFoodclass","condition","conditionId","conditionName","getPortionReactSelectList","portionData","portionElement","portionTypeIndex","findIndex","portionName","amount","getDefaultPortionData","portionDataList","defaultPortionIndex","defaultPortionId","getSourceName","sourceId","getNutrientData","getNutrientDataForFoodItem","selectedSource","supplementData","combineData","sourceToUse","undefined","nutrientDataList","nutrientData","nutrientDataObject","complement","selectedNutrientData","complementeNutrientData","supplementedBaseData","supplementCategory","baseData","supplementedVitaminData","vitaminData","supplementedMineralData","mineralData","supplementedCarbsData","carbohydrateData","supplementedProteinData","proteinData","supplementedOmegaData","lipidData","omegaData","supplementedLipidData","sourceItemId","supplementNutrientData","combinedBaseData","combineCategory","combinedVitaminData","combinedMineralData","combinedCarbsData","combinedProteinData","combinedOmegaData","combinedLipidData","combineNutrientData","nutrientCategory1","nutrientCategory2","key","objectHasChildren","keys1","keys2","allKeys","Set","finalObject","finalValue","value1","value2","FoodSelector","initialCategory","initialSupplementValue","initialCombineValue","setSelectedCategory","selectdFoodClass","setSelectedFoodClass","setSelectedFoodItem","selectedPortion","setSelectedPortion","portionAmount","setPortionAmount","setSelectedSource","setSupplementData","setCombineData","initialized","setInitialized","categoriesList","setCategoriesList","foodClassesList","setFoodClassesList","foodItemsList","setFoodItemsList","portionsList","setPortionsList","sourcesList","setSourcesList","windowSize","currentSelectorSetting","initialFoodClass","initialFoodClassToSet","categoryItems","foodItemsOfFoodClass","updateSourcesList","defaultPortion","makeSelectedFoodItemObject","newFoodItem","updateSelectedFoodItem","portion","handleSourceChange","updateFoodClasses","foodClassItems","updateFoodItem","updatePortionsList","sourceNames","getSourceNames","matchingSource","sourceObject","onCheckSupplementCheckbox","onCheckCombineCheckbox","predefinedFoodObject","foodClassOption","selected","sourceElement","portionObject","setInitialFoodElement","amount_label","smallVariant","selectClass","inputClass","noCategorySelect","options","disabled","parseInt","isNaN","sourceSelectBox","isDisabled","checkboxes","data-tip","Form","Check","inline","renderSourceLine","CompositeFoodList","renderLine","borderBottom","deleteItem","onDeleteItem","maxHeight","overflowY","combineFoodItems","compositeList","portionSize","energy","carbohydrates","lipids","proteins","water","dietaryFibers","alcohol","ash","portionFactor","createFinalValue","buildBaseDataObject","a","b1","b2","b3","b5","b6","b7","b9","b12","c","d","k","buildVitaminDataObject","calcium","iron","magnesium","phosphorus","potassium","sodium","zinc","copper","manganese","selenium","buildMineralDataObject","glucose","fructose","galactose","sucrose","maltose","lactose","starch","sugar","buildCarbohydrateData","unsaturatedMono","unsaturatedPoly","saturated","omega3","omega6","omegaUncertain","cholesterol","transFattyAcids","uncertain","omegaRatio","uncertainRatio","buildLipidData","tryptophan","threonine","isoleucine","leucine","lysine","methionine","cystine","phenylalanine","tyrosine","valine","arginine","histidine","alanine","asparticAcid","glutamicAcid","glycine","proline","serine","buildProteinData","nutrientObject","url","i","threshold","removeNutrientObjectsWithNullValues","buildAggregatedNutrientDataList","Date","getTime","aggregated","compositeSubElements","totalPortionAmount","HelpModal","helpText","display","title","data-dismiss","aria-label","closeHelpModal","dangerouslySetInnerHTML","__html","content","getHelpText","helpModalId","languageId","entry","entries","languageSection","contentArray","FoodSelectorModal","setCompositeList","showHelpModal","setShowHelpModal","onSubmit","compositeSelector","onSubmitComposite","onSubmitSingleItem","NotificationManager","selectedFoodItemCallback","onHide","aggregatedSelectedFoodItem","Modal","show","Body","newList","splice","Footer","ConfirmationDialog","okLabel","cancelLabel","confirmation","proceed","enableEscape","backdrop","keyboard","fullscreen","Title","React","confirmAction","small","createConfirmation","confirmable","color_yellow","color_green","color_red","color_turquoise","color_gray","color_chart_green_2","color_chart_green_3","color_chart_yellow_4","color_chart_yellow_green_1","color_chart_yellow_green_2","color_chart_misc","default_chart_height","color_water","color_lipids","color_carbs","color_carbs_sugar","color_carbs_dietaryFibers","color_carbs_mono_glucose","color_carbs_mono_fructose","color_carbs_mono_galactose","color_carbs_di_sucrose","color_carbs_di_lactose","color_carbs_di_maltose","color_carbs_starch","color_alcohol","color_proteins","color_lipids_saturated","color_lipids_unsaturated_mono","color_lipids_unsaturated_poly","color_lipids_omega3","color_lipids_omega6","color_lipids_misc","color_ash","direct_compare_color1","direct_compare_color2","getBarChartOptions","unit","maxYValue","yAxis","min","max","getOptions","y","getBarChartOptionsForRanking","scaleLabel","labelString","axesObj","yAxes","xAxes","ticks","autoSkip","callback","values","maxLength","includes","indexOfBrace","indexOf","trim","shortenName","getScalesForRankingChart","getPieChartOptions","scalesObject","maintainAspectRatio","responsive","plugins","fontSize","tooltip","getToolTips","legend","scales","enabled","callbacks","tooltipItem","formattedValue","PieChartConfigurationForm","Label","handleRadioButtonClick","handleLegendCheckboxClick","detailsCheckboxAvailable","handleDetailsCheckboxClick","CustomLegend","borderLeft","legendData","element","indent","verticalSpace","separateNextElement","marginLeft","background","color","item","renderLegend","calculateChartHeight","currentDimension","directCompare","dataPage","calculateChartContainerHeight","autoRound","round","digits","roundFactor","Math","pow","roundToNextValue","chartMaxValue","multiple","remainder","roundUp","getNumberOfFixedLength","number","numberString","convertBooleanToDigit","convertStringToBoolean","getBaseChartLegendData","lang","ChartConfig","BaseDataChart","directCompareConfig","showDetailsProp","setChartType","setShowLegend","setShowDetails","directCompareUse","chartHeight","setChartHeight","updateChartConfig","currentConfig","newChartConfig","legendAllowed","renderSubChart","chartData","data","totalChartData","chartDisplayData","alcoholValuePerc","labels","colors","getTotalChartData","datasets","borderWidth","borderColor","createTotalChartData","nutrientChartData","totalValue","carbValue","carbValuePerc","sugarValuePerc","dietaryFibersPerc","lipidValuePerc","proteinsValuePerc","getNutrientChartData","createNutrientChartData","totalChartDataTitle","nutrientChartDataTitle","containerHeight","justifyContent","PAL_CATEGORY_1","PAL_CATEGORY_2","PAL_CATEGORY_3","PAL_CATEGORY_4","PAL_CATEGORY_5","PAL_CATEGORY_6","PAL_CATEGORY_7","getPalCategory","EnergyConstants","createPalCategoryName","languageLabel","energyLabel","EnergyDataChart","energy100g","averagePortion","energyPortion","createEnergyLevelChart","bmr","calculateBMR","totalEnergy","calculateTotalEnergyConsumption","annotation","annotations","line1","drawTime","mode","scaleID","yMin","yMax","line2","BarChartConfigurationForm","handleExpandCheckboxClick","handleSynchronize","determineDailyRequirement","dailyRequirementObject","ageGroupRequirements","senior","preSenior","midLifeAdult","youngAdult","youth","male","femalePregnant","female","femaleBreastFeeding","determineFoodRequirementRatio","amountInFood","dailyRequirement","determineProteinRequirementRatio","requirement","convertAbsoluteValueToDailyRequirement","dailyRequirements","Constants","vitaminRequirementData","mineralRequirementData","MineralVitaminChart","chartConfigVitamins","chartConfigMinerals","portionType_vitamins","setPortionType_vitamins","expand100_vitamins","setExpand100_vitamins","chartType_minerals","setChartType_minerals","expand100_minerals","setExpand100_minerals","config","selectedSubChart","anyValueChanged","handleExpandCheckbox","requirementData","getVitaminChartData","chartColor","barChartColor","createVitaminChartData","getMineralsChartData","createMineralChartData","maxValue","overallMaxValue","barChartOptions","context","scientificName","vitamin","labelName","toLowerCase","getScientificVitaminName","barChartProps","renderChartConfigurationForm","getLipidsOmegaChartLegend","LipidsDataChart","initialExpand100","initialHideRemainders","setShowHideRemainders","setExpand100","setSubChart","totalLipidsAmount","handleChartSelectionChange","handleSubchartChange","handleExpand100Change","handleHideRemaindersCheckbox","totalAmount","lipidsData","valueSaturated","valueUnsaturatedMono","valueUnsaturatedPoly","valueRemainder","getTotalLipidsChartData","createOmegaChartData","valueOmega3","valueOmega6","valueUncertain","getOmegaChartData","omegaDataAvailabe","chartColType","renderChart","lipidsType","ProteinDataChart","setPortionType","currentSetting","proteinRequirementData","getProteinChartData","createProteinChartData","dataExists","getCarbsBaseLegend","getCarbsDetailsLegend","CarbsDataChart","currentSettings","chartIndex","detailChartData","valueGlucose","valueFructose","valueGalactose","valueSucrose","valueLactose","valueMaltose","valueStarch","valueDietaryFibers","valueMisc","getCarbDetailsChartData","createDetailChartData","basicChartData","totalCarbsAmount","valueSugar","getCarbBaseChartData","createBasicChartData","ChartPanel","selectedDataTab","chart","FoodDataTable","tableData","striped","hover","isKey","dataField","InfoData","setContainerHeight","createRow","renderSubTable","bordered","padding","foodNameId","foodClassNameId","sourceName","sourceLine2","foodClassName","categoryId","categoryName","tableDataGeneral","getGeneralTableData","foodPortion","portionValue","tableDataPortion","getTableDataPortion","getTableDataCombinedFood","usdaLink","link","open","focus","FoodDataPageBody","ChartMenuPanel","handlePageButtonClick","setDataPage","makeButtonLabel","buttonText","classNameSpan","verticalArrangement","rowClass","ButtonGroup","vertical","FoodDataPageHeader","history","useHistory","setHelpModalId","fullName","setDisplayMode","enabledDisplayButtonClasses","disabledDisplayButtonClasses","chartButtonClasses","tablesButtonClasses","foodNamesList","sourceString","sourceToolTip","remainingItems","pathName","createBaseDataTable","createTableObject","value_100g","valuePortion","calculatePortionData","value_portion","valueVolume100gram","MathService","createTableObjectAlcohol","FoodDataPage","setTableData","updatePage","tableDataList","createEnergyTable","createVitaminTable","firstNutrientData","createMineralTable","createLipidsTable","createCarbsTable","createProteinTable","newMode","datapage","makeFoodDataPanelComponent","component","FoodAnalyzerContainer","showFoodSelectorInitialState","openSelectorModal","showCompositeFoodSelectorInitialState","openCompositeSelectorModal","showFoodSelector","setShowFoodSelector","showFoodAggregatedFoodSelector","setShowAggregatedFoodSelector","ReactTooltip","rebuild","onSelectFoodItemSubmit","selectedFoodItemWithComponent","onNewFoodItemSelected","onCloseAllTabs","deleteIconEnabled","buttonRowClass","buttonRowStyle","buttonClass","buttonStyle","TabContainer","tabPanelClass","tabContentClass","buttonTab","border","verticalAlign","minHeight","alignItems","cursor","onTabClick","onTabChange","activeIndex","makeChartConfigUriString","chartObject","chartTypeKey","portionTypeKey","expand100Key","showLegendKey","showDetailsKey","subChartKey","getSubChartKey","subChartKey2","synchronizeKey","convertGeneralizedChartConfigToString","generalizedChartObject","makeGeneralizedChartConfig","getUpdatedChartConfig","chartConfigUriString","chartConfigFromUri","convertGeneralizedChartConfigStringToObject","barChartConfig","uriString","stringToParse","chartTypeNumber","portionTypeNumber","subChartNumber","subChartNumber2","getSubChartFromKey","makeFoodItemDefaultUri","foodItemData","portionString","supplementValue","combineValue","getFoodItemUriData","fragments","portionDataString","split","convertPortionDataStringToObject","booleanData","convertUserDataObjectToString","convertUserDataStringToObject","userDataString","palValueInt","palCategory","getPalValue","prepareUriForParsing","uri","replace","separator","replacements","short","convertAggregatedUriStringToObject","replacementArray","replacement","JSON","parse","convertUriStringToSelectedFoodItem","newChartConfigData","USERDATA_ERROR_AGE","USERDATA_ERROR_WEIGHT","USERDATA_ERROR_SIZE","USERDATA_OK","checkUserDataValidity","FoodDataPanelContainer","queryString","search","equalOperator","buildDataPanelPageFromURI","updateUriQuery","createDataFromUriQuery","query","uriData","objectToParse","selectedFoodItemString","stringify","chartConfigString","convertAggregatedDataJsonToUriString","selectedDisplayMode","foodItemDataString","makeFoodDataPanelDefaultUri","uriDataObject","foodItemUriData","parseFoodDataPanelDefaultUri","selectedTabIndex","newTabIndex","indexToSet","foodId","STATUS_FIRST_TIME","STATUS_NOT_UPDATED","STATUS_UPDATED","DirectCompareSelector","initialItem1","initialItem2","setSelectedFoodItem1","setSelectedFoodItem2","displayStatus","setDisplayStatus","updateSelectedFoodItem1","updateSelectedFoodItem2","renderFoodSelectorCard","foodSelectorNumber","styleClass","Card","CardDeck","buttonName","updateSelectedFoodItems","getMaximumValue","dataSet","dataSetKey","ratioValue","nullifyIncompleValues","dataSet1","dataSet2","DcMineralVitaminChart","portionType_minerals","setPortionType_minerals","synchronizeVitamins","setSynchronizeVitamins","synchronizeMinerals","setSynchronizeMinerals","nutrientData1","nutrientData2","portion1","portion2","maxValue1","maxValue2","maxY","preconfigVitamins","preconfigMinerals","preconfig","preconfigFoodItem1","preconfigFoodItem2","resolvedName","DcPieChart","initialConfig","setSubChart1","setSubChart2","configObject","pieChartConfig","handleShowLegendCheckbox","handleShowDetailsCheckbox","handleSubchart1Change","handleSubchart2Change","getConfigurationProps","chartProps","getChartComponent","DcProteinDataChart","setSynchronize","DcEnergyChart","DirectCompareDataPanel","nameId1","nameId2","name1","name2","renderCharts","makeFoodItemUriData","parseDirectComparetUri","foodItemUriData1","foodItemUriData2","slice","getUpdatedDirectCompareChartConfig","DirectCompareContainer","initialFoodItem1","initialFoodItem2","buildDataObjectsFromURI","foodItem1DataUri","foodItem2DataUri","userDataUri","chartConfigUri","makeDirectCompareDataUri","foodItem1","foodItem2","foodClass1","foodClass2","FoodCompareApp","fontWeight","appPath","UserSettings","setAge","setSize","setWeight","setSex","setPregnant","setBreastFeeding","setPalValue","leisureSport","setLeisureSport","changePregnant","changeBreastFeeding","changeAdditionalPalPorts","checkInputValidity","validationResult","showMessage","message","renderTextField","FormControl","value_age","value_size","value_weight","FormGroup","controlId","palCategories","userDataPalValue","palObject","descriptionCode","description","changePalValue","renderPalList","success","submitUserData","MAIL_INVALID_NAME","MAIL_NO_CONTENT","MAIL_CONTENT_TO_LONG","MAIL_INVALID_ADDRESS","mailRegex","checkMailValidity","mail","errors","address","match","checkLength","ContactForm","setName","mailAddress","setMailAdress","setMessage","characters","setCharacters","userVerified","setUserVerified","sendMail","reply_to","from_name","emailjs","send","then","result","info","charactersLeft","charactersMessage","preventDefault","mailData","validationErrors","errorMessage","rows","sitekey","render","verifyCallback","response","Sources","Versions","Impressum","impressumPath","impressum_de","impressum_en","ContactContainer","selectedMenu","setSelectedMenu","ToggleButtonGroup","defaultValue","ToggleButton","renderSubMenu","RankingSelector","initializeState","elementsList","setElementsList","newElements","buildElementsList","openChart","buildRankingPanelPageFromURI","foodCategories","groups","getRankingGroups","elements","getElementsOfRankingGroup","selectedFoodCategoryOption","foodCategory","selectedGroupOption","group","selectedElementOption","use100g","parseRankingPanelDataUri","showDailyRequirements","makeRankingPanelDataUri","handlePortionAmountChange","newRankingData","handleDietaryRequirementsCheckbox","rankingCategory","transformToDietaryRequirements","rankingList","selectedOption","renderPortionForm","rankingGroup","getBaseCategoryValues","getVitaminCategoryValues","getMineralCategoryValues","getLipidCategoryValues","getCarbohydrateCategoryValues","getProteinCategoryValues","getOrderedFoodList","foodList","selectedValue","chartItems","carbsData","getValueOfFoodItem","getPortionValue","chartItem","RankingChart","createChartData","position","dataAvailable","RankingContainer","setChartItems","setUnit","setSelectedValue","getUnit","orderedChartItems","maxElementsInRankingChart","renderHelpText","WebPageContainer","Chart","register","annotationPlugin","Switch","path","exact","ga4react","GA4React","App","initialize","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","rootElement","document","getElementById","hasChildNodes","hydrate"],"mappings":"8sPAAA,IAAIA,EAAM,CACT,iBAAkB,IAClB,iBAAkB,IAClB,iBAAkB,IAClB,iBAAkB,IAClB,iBAAkB,IAClB,iBAAkB,IAClB,iBAAkB,IAClB,iBAAkB,IAClB,iBAAkB,IAClB,iBAAkB,IAClB,iBAAkB,IAClB,iBAAkB,IAClB,iBAAkB,IAClB,iBAAkB,KAInB,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,GAE5B,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAIK,EAAI,IAAIC,MAAM,uBAAyBN,EAAM,KAEjD,MADAK,EAAEE,KAAO,mBACHF,EAEP,OAAOP,EAAIE,GAEZD,EAAeS,KAAO,WACrB,OAAOC,OAAOD,KAAKV,IAEpBC,EAAeW,QAAUR,EACzBS,EAAOC,QAAUb,EACjBA,EAAeE,GAAK,K,iCCnCpB,OAAe,cAA0B,sC,iCCAzC,OAAe,cAA0B,sC,iCCAzC,OAAe,cAA0B,sC,iCCAzC,OAAe,cAA0B,sC,iCCAzC,OAAe,cAA0B,sC,iCCAzC,OAAe,cAA0B,sC,iCCAzC,OAAe,cAA0B,sC,iCCAzC,OAAe,cAA0B,sC,iCCAzC,OAAe,cAA0B,sC,iCCAzC,OAAe,cAA0B,sC,iCCAzC,OAAe,cAA0B,sC,iCCAzC,OAAe,cAA0B,sC,iCCAzC,OAAe,cAA0B,sC,iCCAzC,OAAe,cAA0B,sC,i4bCSlC,SAASY,IAUf,MAAO,CACNC,WA4BMC,EAAaD,WA3BnBE,WAWMD,EAAaC,WAVnBC,aAcMF,EAAaE,aAbnBC,QAqBMH,EAAaG,QApBnBC,UAgBMJ,EAAaI,UAfnBC,YA2BML,EAAaK,YA1BnBC,UA8BMN,EAAaM,UA7BnBC,oBAiCMP,EAAaO,qBC5Dd,IAAMC,EAAiB,iBACjBC,EAAO,WAEPC,EAAiB,YACjBC,EAAiB,YAEjBC,EAAiB,iBACjBC,EAAiB,iBAGjBC,EAAc,WACdC,EAAa,UACbC,EAAa,UACbC,EAAc,WACdC,EAAgB,aAEhBC,EAAuB,YACvBC,EAAoB,SACpBC,EAAyB,cACzBC,EAA0B,gBAC1BC,EAAyB,cACzBC,EAAsB,WACtBC,EAAoB,SACpBC,EAAwB,aACxBC,EAAyB,cACzBC,EAAsB,WAEtBC,EAAkB,MAClBC,EAAmB,OACnBC,EAAmB,OACnBC,EAAmB,OACnBC,EAAmB,OACnBC,EAAmB,OACnBC,EAAmB,OACnBC,EAAoB,QACpBC,EAAkB,MAClBC,EAAkB,MAClBC,EAAkB,MAClBC,EAAkB,MAElBC,EAAwB,cACxBC,EAA+B,qBAC/BC,EAA+B,oBAC/BC,GAA+B,qBAE/BC,GAA4B,mBAC5BC,GAAmB,UACnBC,GAAqB,YACrBC,GAAsB,aACtBC,GAAuB,cACvBC,GAAqB,YACrBC,GAAqB,YACrBC,GAAqB,YACrBC,GAAoB,WAEpBC,GAA0B,aAC1BC,GAAyB,YACzBC,GAA0B,aAC1BC,GAAuB,UACvBC,GAAsB,SACtBC,GAA0B,aAC1BC,GAAuB,UACvBC,GAA6B,gBAC7BC,GAAwB,WACxBC,GAAsB,SACtBC,GAAwB,WACxBC,GAAyB,YACzBC,GAAuB,UACvBC,GAA6B,eAC7BC,GAA4B,eAC5BC,GAAuB,UACvBC,GAAuB,UACvBC,GAAsB,SAEtBC,GAAoB,MACpBC,GAAoB,MAEpBC,GAAkB,wBAClBC,GAAoB,0BAEpBC,GAAmB,yBACnBC,GAAoB,0BAEpBC,GAAsB,iBACtBC,GAAmB,eACnBC,GAAsB,aACtBC,GAAY,QACZC,GAAe,WACfC,GAAkB,aAClBC,GAAoB,gBAGpBC,GAAe,WAKfC,GAAc,KACdC,GAAc,KAEdC,GAAW,WACXC,GAAa,aAEbC,GAAkB,WAClBC,GAAe,QAEfC,GAAgB,WAChBC,GAAkB,aAClBC,GAAmB,cACnBC,GAAmB,cACnBC,GAAkB,aAClBC,GAAiB,YACjBC,GAAoB,eACpBC,GAAW,WAIXC,GAA0B,OAC1BC,GAA6B,UAC7BC,GAAgC,aChHhCC,GAAgB,2EAEhBC,GAAuB,IAOvBC,GACF,KADEA,GAED,IAICC,GAAsB,IAEtBC,GAAqBnB,GACrBoB,IAA0B,EAC1BC,IAA+B,EAE/BC,IAA+B,EAE/BC,GAA0C,CACnDC,gBAAiB,CACbC,UAAWvG,EACXwG,YAAY,EACZC,aAAa,GAEjBC,mBAAoB,CAChBC,YAAa7G,EACb8G,WAAW,GAEfC,mBAAoB,CAChBF,YAAa7G,EACb8G,WAAW,GAEfE,kBAAmB,CACfP,UAAWvG,EACXwG,YAAY,EACZO,gBAAgB,EAChBC,SAAU9C,GACV0C,WAAW,GAEfK,iBAAkB,CACdV,UAAWvG,EACXwG,YAAY,EACZQ,SAAUhD,GACV+C,gBAAgB,EAChBH,WAAW,GAEfM,mBAAoB,CAChBP,YAAa7G,EACb8G,WAAW,IAINO,GAA+D,CACxEb,gBAAiB,CACbC,UAAWvG,EACXwG,YAAY,EACZC,aAAa,GAEjBC,mBAAoB,CAChBC,YAAa7G,EACb8G,WAAW,EACXQ,aAAa,GAEjBP,mBAAoB,CAChBF,YAAa7G,EACb8G,WAAW,EACXQ,aAAa,GAEjBN,kBAAmB,CACfP,UAAWvG,EACXwG,YAAY,EACZO,gBAAgB,EAChBH,WAAW,EACXS,UAAWnD,GACXoD,UAAWpD,IAEf+C,iBAAkB,CACdV,UAAWvG,EACXwG,YAAY,EACZO,gBAAgB,EAChBH,WAAW,EACXS,UAAWrD,GACXsD,UAAWtD,IAEfkD,mBAAoB,CAChBP,YAAa7G,EACb8G,WAAW,EACXQ,aAAa,ICjGN,SAASG,GAAQC,EAAoBC,GAChD,MAAgB,OAAbA,EACQD,EAASE,WAETF,EAASG,YCqBjB,SAASC,GAAwBC,EAA+BrJ,EAAYiJ,GAC/E,IAAMD,EAAWK,EAAaC,MAAK,SAAAN,GAAQ,OAAIA,EAAShJ,KAAOA,KAE/D,OAAGgJ,EACQD,GAAQC,EAAUC,IAEzBM,QAAQC,MAAM,kDAAmDxJ,GAC1D,M,YCsBFyJ,GAA8BC,wBAAyC,MAE/DC,G,4MACjBC,4BAA8B,SAACC,GAC3B,EAAKC,UAAS,SAAAC,GAAS,MAAK,CACxBC,gBAAgB,2BACTD,EAAUC,iBADF,IAEXC,cAAc,2BAAKF,EAAUC,gBAAgBC,eAAhC,IAA+CC,sBAAuBL,W,EAK/FM,uBAAyB,SAACC,GACtB,EAAKN,UAAS,SAAAC,GAAS,MAAK,CACxBC,gBAAgB,2BACTD,EAAUC,iBADF,IAEXC,cAAc,2BAAKF,EAAUC,gBAAgBC,eAAhC,IAA+CG,YAAaA,W,EAKrFC,6BAA+B,SAACC,GAC5B,EAAKR,UAAS,SAAAC,GAAS,MAAK,CACxBC,gBAAgB,2BACTD,EAAUC,iBADF,IAEXC,cAAc,2BAAKF,EAAUC,gBAAgBC,eAAhC,IAA+CM,iBAAkBD,W,EAK1FE,uBAAyB,SAACC,GACtB,IAAMC,EAAWlK,OAAOmK,OAAO,EAAKC,MAAMZ,gBAAgBC,cAAcY,mBACxEH,EAASI,KAAKL,GACd,EAAKX,UAAS,SAAAC,GAAS,MAAK,CACxBC,gBAAgB,2BACTD,EAAUC,iBADF,IAEXC,cAAc,2BAAKF,EAAUC,gBAAgBC,eAAhC,IAA+CY,kBAAmBH,W,EAK3FK,4BAA8B,SAACC,GAC3B,IAAMN,EAAW,EAAKE,MAAMZ,gBAAgBC,cAAcY,kBAAkBI,QACxE,SAAAC,GAAgB,OAAIA,EAAiBT,SAASzK,KAAOgL,KAGrDG,EAAW,EACXC,EAAe,EAAKR,MAAMZ,gBAAgBC,cAAcC,sBAExDQ,EAASW,OAAS,IAEdF,EADAC,EAAeV,EAASW,OACbD,EAEAV,EAASW,OAAS,GAIrC,EAAKvB,UAAS,SAAAC,GAAS,MAAK,CACxBC,gBAAgB,2BACTD,EAAUC,iBADF,IAEXC,cAAc,2BACPF,EAAUC,gBAAgBC,eADpB,IAETY,kBAAmBH,EACnBR,sBAAuBiB,W,EAMvCG,gCAAkC,WAC9B,EAAKxB,UAAS,SAAAC,GAAS,MAAK,CACxBC,gBAAgB,2BACTD,EAAUC,iBADF,IAEXC,cAAc,2BACPF,EAAUC,gBAAgBC,eADpB,IAETY,kBAAmB,GACnBX,sBAAuB,W,EAMvCqB,uBAAyB,SAACrK,EAA4BsK,GAClD,IACMC,EADoB,EAAKb,MAAMZ,gBAAgBC,cAAcY,kBAC5BhL,KAAI,SAAAqL,GACvC,IAAMQ,EAAWR,EAAiBT,SAASkB,OACrCvC,GAAwBlI,EAAWgK,EAAiBT,SAASkB,OAAQH,GACrE,aAIN,OAHIE,IACAR,EAAgB,2BAAOA,GAAP,IAAyBU,IAAKF,KAE3CR,KAGX,EAAKpB,UAAS,SAAAC,GAAS,MAAK,CACxBC,gBAAgB,2BACTD,EAAUC,iBADF,IAEXC,cAAc,2BACPF,EAAUC,gBAAgBC,eADpB,IAETY,kBAAmBY,W,EAMnCI,+BAAiC,SAACC,GAC9B,EAAKhC,UAAS,SAAAC,GAAS,MAAK,CACxBC,gBAAgB,2BACTD,EAAUC,iBADF,IAEXC,cAAc,2BACPF,EAAUC,gBAAgBC,eADpB,IAET8B,gBAAiBD,W,EAOjCE,8BAAgC,SAACC,EAAqCC,GAClE,EAAKpC,UAAS,SAAAC,GAAS,MAAK,CACxBC,gBAAgB,2BACTD,EAAUC,iBADF,IAEXmC,uBAAuB,2BAChBpC,EAAUC,gBAAgBmC,wBADX,IAElBF,kBAAmBA,EACnBC,kBAAmBA,W,EAMnCE,iCAAmC,SAAC9B,GAChC,EAAKR,UAAS,SAAAC,GAAS,MAAK,CACxBC,gBAAgB,2BACTD,EAAUC,iBADF,IAEXmC,uBAAuB,2BAChBpC,EAAUC,gBAAgBmC,wBADX,IAElB5B,iBAAkBD,W,EAMlC+B,+BAAiC,SAACP,GAC9B,EAAKhC,UAAS,SAAAC,GAAS,MAAK,CACxBC,gBAAgB,2BACTD,EAAUC,iBADF,IAEXmC,uBAAuB,2BAChB,EAAKvB,MAAMZ,gBAAgBmC,wBADZ,IAElBG,yBAA0BR,W,EAM1CS,YAAc,SAACC,GACX,EAAK1C,UAAS,iBAAO,CACjB0C,SAAS,eACFA,Q,EAKfC,mBAAqB,SAACC,GAClB,EAAK5C,UAAS,SAAAC,GAAS,MAAK,CACxBC,gBAAgB,2BACTD,EAAUC,iBADF,IACmB2C,gBAAiBD,S,EAK3DE,sBAAwB,SAACC,EAA4CC,EAA2BC,GAC5F,EAAKjD,UAAS,SAAAC,GAAS,MAAK,CACpBC,gBAAgB,2BACTD,EAAUC,iBADF,IACmBgD,aAAa,2BACpCjD,EAAUC,gBAAgBgD,cADS,IAEtCH,iBAAkBA,EAClBC,iBAAkBA,EAClBC,cAAeA,W,EAOnCE,oBAAsB,SAACC,GACnB,EAAKpD,UAAS,SAAAC,GAAS,MAAK,CACpBC,gBAAgB,2BACTD,EAAUC,iBADF,IACmBkD,iBAAkBA,S,EAMhEtC,MAAgC,CAC5BuC,eAAgB,CACZtM,WAAY,GACZE,WAAY,GACZC,aAAc,GACdC,QAAS,GACTC,UAAW,GACXC,YAAa,GACbC,UAAW,GACXC,oBAAqB,MAEzB2I,gBAAiB,CACbC,cAAe,CACXY,kBAAmB,GACnBN,iBAAkB7D,GAClB0D,YAAa7E,GACb2E,sBAAuB,EACvB6B,gBAAiBlE,IAErBsE,uBAAwB,CACpBF,kBAAmB,KACnBC,kBAAmB,KACnB3B,iBAAkB7D,GAClB4F,yBAA0B3D,IAE9BuE,iBAAkB,CACdE,qBAAsB,KACtBC,cAAe,KACfC,gBAAiB,KACjBC,YAAY,EACZC,yBAAyB,GAE7BR,aAAc,CACVH,iBAAkB,KAClBC,kBAAkB,EAClBC,eAAe,GAEnBJ,gBAAiBnG,IAErBgG,SAAU,CACNiB,IH7QsB,GG8QtBC,KAAMlG,GACNmG,OH7QyB,GG8QzBC,IAAKnG,GACLoG,SAAUnG,GACVoG,cAAenG,GACfoG,SH7Q2B,IG8Q3BC,cAAepG,GACfqG,eAAe,GAEnBC,OAAO,EACPC,OAAO,EACPC,YAAa,M,+DAGjB,WACI,IAAMjB,EAAiBkB,IACvBC,KAAKxE,SAAS,CACVqD,eAAgBA,EAChBgB,OAAO,M,oBAIf,WAAwB,IAAD,OACbI,EAAQ,CACVvE,gBAAiBsE,KAAK1D,MAAMZ,gBAC5BmD,eAAgBmB,KAAK1D,MAAMuC,eAC3BX,SAAU8B,KAAK1D,MAAM4B,SACrB0B,MAAOI,KAAK1D,MAAMsD,MAClBC,MAAOG,KAAK1D,MAAMuD,MAClBC,YAAaE,KAAK1D,MAAMwD,YACxB7B,YAAa+B,KAAK/B,YAClBE,mBAAoB6B,KAAK7B,mBACzB+B,eAAgB,SAACC,GACb,EAAK3E,SAAL,2BAAkB,EAAKc,OAAvB,IAA8BwD,YAAaK,MAE/CC,qBAAsB,CAClBC,mBAAoBL,KAAK1E,4BACzBgF,oBAAqBN,KAAKjE,6BAC1BF,uBAAwBmE,KAAKnE,uBAC7BK,uBAAwB8D,KAAK9D,uBAC7BO,4BAA6BuD,KAAKvD,4BAClCO,gCAAiCgD,KAAKhD,gCACtCC,uBAAwB+C,KAAK/C,uBAC7BM,+BAAgCyC,KAAKzC,gCAEzCgD,qBAAsB,CAClBxC,+BAAgCiC,KAAKjC,+BACrCD,iCAAkCkC,KAAKlC,iCACvCJ,8BAA+BsC,KAAKtC,+BAExCY,sBAAuB0B,KAAK1B,sBAC5BK,oBAAqBqB,KAAKrB,qBAG9B,OACI,eAACxD,GAA4BqF,SAA7B,CAAsCP,MAAOA,EAA7C,SACKD,KAAKS,MAAMC,e,GAjSgCC,a,QClD/CC,GAAkBxF,wBAAqC,CAChET,SAAU,KACVkG,mBAAoB,SAACC,GAAsB,MAAO,QAG/C,SAASC,GAAT,GAAyC,IAAbL,EAAY,EAAZA,SACzBM,EAAeC,UAAUtG,SACzBuG,EAAqC,OAAjBF,GAA0C,UAAjBA,EAA2BlJ,GAAcC,GAC5F,EAAgCoJ,mBAASD,GAAzC,oBAAOvG,EAAP,KAAiByG,EAAjB,KAOMC,EAAkC,CACpC1G,WACAkG,mBAPuB,SAACS,GAExBF,EADoBE,GAAwCvJ,MAShE,OACI,eAAC6I,GAAgBJ,SAAjB,CAA0BP,MAAOoB,EAAjC,SACKX,I,gCC9BAa,GAAqB,CAC9BC,WAAY,CACRC,GAAI,gBACJC,GAAI,OAERC,cAAe,CACXF,GAAI,YACJC,GAAI,UAERE,4BAA6B,CACzBH,GAAI,8BACJC,GAAI,yBAERG,aAAc,CACVJ,GAAI,eACJC,GAAI,SAERI,oBAAqB,CACjBL,GAAI,wCACJC,GAAI,2BAERK,oBAAqB,CACjBN,GAAI,wCACJC,GAAI,gCAERM,oBAAqB,CACjBP,GAAI,wCACJC,GAAI,qCAERO,oBAAqB,CACjBR,GAAI,qCACJC,GAAI,kCAERQ,UAAW,CACPT,GAAI,OACJC,GAAI,MAERS,cAAe,CACXV,GAAI,eACJC,GAAI,QAERU,YAAa,CACTX,GAAI,WACJC,GAAI,QAERW,YAAa,CACTZ,GAAI,SACJC,GAAI,QAERY,cAAe,CACXb,GAAI,gBACJC,GAAI,UAERa,cAAe,CACXd,GAAI,gBACJC,GAAI,UAERc,WAAY,CACRf,GAAI,KACJC,GAAI,OAERe,oCAAqC,CACjChB,GAAI,kBACJC,GAAI,mBAERgB,gCAAiC,CAC7BjB,GAAI,mBACJC,GAAI,eAERiB,iCAAkC,CAC9BlB,GAAI,mBACJC,GAAI,gBAERkB,iBAAkB,CACdnB,GAAI,WACJC,GAAI,WAERmB,mBAAoB,CAChBpB,GAAI,KACJC,GAAI,MAERoB,oBAAqB,CACjBrB,GAAI,sBACJC,GAAI,mBAERqB,gBAAiB,CACbtB,GAAI,UACJC,GAAI,UAERsB,kBAAmB,CACfvB,GAAI,KACJC,GAAI,MAERuB,qBAAsB,CAClBxB,GAAI,kBACJC,GAAI,eAERwB,uBAAwB,CACpBzB,GAAI,6DACJC,GAAI,+BAERyB,sBAAuB,CACnB1B,GAAI,+OACJC,GAAI,iMAER0B,0BAA2B,CACvB3B,GAAI,4CACJC,GAAI,uCAER2B,oBAAqB,CACjB5B,GAAI,oGACJC,GAAI,2FAER4B,gBAAiB,CACb7B,GAAI,yDACJC,GAAI,mDAER6B,gBAAiB,CACb9B,GAAI,8DACJC,GAAI,mDAER8B,gBAAiB,CACb/B,GAAI,oDACJC,GAAI,iCAER+B,gBAAiB,CACbhC,GAAI,+DACJC,GAAI,yDAERgC,gBAAiB,CACbjC,GAAI,+CACJC,GAAI,kCAERiC,gBAAiB,CACblC,GAAI,2CACJC,GAAI,uBAERkC,gBAAiB,CACbnC,GAAI,+CACJC,GAAI,6CAERmC,YAAa,CACTpC,GAAI,8YACJC,GAAI,gVAERoC,YAAa,CACTrC,GAAI,spBACJC,GAAI,6gBAERqC,YAAa,CACTtC,GAAI,0dACJC,GAAI,uVAERsC,aAAc,CACVvC,GAAI,gBACJC,GAAI,iBAERuC,mBAAoB,CAChBxC,GAAI,QACJC,GAAI,QAERwC,eAAgB,CACZzC,GAAI,YACJC,GAAI,YAERyC,gBAAiB,CACb1C,GAAI,cACJC,GAAI,cAER0C,oBAAqB,CACjB3C,GAAI,iBACJC,GAAI,aAER2C,oBAAqB,CACjB5C,GAAI,iBACJC,GAAI,aAER4C,2BAA4B,CACxB7C,GAAI,mBACJC,GAAI,cAER6C,6BAA8B,CAC1B9C,GAAI,cACJC,GAAI,iBAER8C,uBAAwB,CACpB/C,GAAI,yCACJC,GAAI,8BAER+C,4BAA6B,CACzBhD,GAAI,mBACJC,GAAI,cAERgD,kCAAmC,CAC/BjD,GAAI,0CACJC,GAAI,sCAERiD,6BAA8B,CAC1BlD,GAAI,cACJC,GAAI,cAERkD,mCAAoC,CAChCnD,GAAI,oDACJC,GAAI,0CAERmD,yBAA0B,CACtBpD,GAAI,qCACJC,GAAI,4CAERoD,yBAA0B,CACtBrD,GAAI,qCACJC,GAAI,6CAERqD,yBAA0B,CACtBtD,GAAI,qCACJC,GAAI,4CAERsD,gBAAiB,CACbvD,GAAI,cACJC,GAAI,8BAERuD,8BAA+B,CAC3BxD,GAAI,eACJC,GAAI,sBAERwD,qBAAsB,CAClBzD,GAAI,WACJC,GAAI,YAERyD,gCAAiC,CAC7B1D,GAAI,8BACJC,GAAI,wBAER0D,6BAA8B,CAC1B3D,GAAI,wBACJC,GAAI,qBAER2D,eAAgB,CACZ5D,GAAI,WACJC,GAAI,aAER4D,WAAY,CACR7D,GAAI,eACJC,GAAI,QAER6D,gBAAiB,CACb9D,GAAI,eACJC,GAAI,cAER8D,eAAgB,CACZ/D,GAAI,MACJC,GAAI,aAER+D,mBAAoB,CAChBhE,GAAI,sBACJC,GAAI,iBAERgE,6BAA8B,CAC1BjE,GAAI,uCACJC,GAAI,6BAERiE,YAAa,CACTlE,GAAI,SACJC,GAAI,SAERkE,iBAAkB,CAChBnE,GAAI,oBACJC,GAAI,kBAENmE,WAAY,CACRpE,GAAI,OACJC,GAAI,QAERoE,oBAAqB,CACjBrE,GAAI,YACJC,GAAI,YAERqE,qBAAsB,CAClBtE,GAAI,sBACJC,GAAI,cAERsE,kBAAmB,CACfvE,GAAI,kBACJC,GAAI,WAERuE,oBAAqB,CACjBxE,GAAI,eACJC,GAAI,QAERwE,mBAAoB,CAChBzE,GAAI,gBACJC,GAAI,gBAERyE,uBAAwB,CACpB1E,GAAI,cACJC,GAAI,gBAER0E,uBAAwB,CACpB3E,GAAI,kBACJC,GAAI,oBAER2E,kBAAmB,CACf5E,GAAI,SACJC,GAAI,UAER4E,eAAgB,CACZ7E,GAAI,WACJC,GAAI,aAER6E,gBAAiB,CACf9E,GAAI,OACJC,GAAI,QAEN8E,mBAAoB,CAChB/E,GAAI,eACJC,GAAI,gBAER+E,mBAAoB,CAChBhF,GAAI,iBACJC,GAAI,gBAERgF,2BAA4B,CACxBjF,GAAI,gCACJC,GAAI,wBAERiF,oBAAqB,CACjBlF,GAAI,wBACJC,GAAI,oBAERkF,sBAAuB,CACnBnF,GAAI,+CACJC,GAAI,8BAERmF,6BAA8B,CAC1BpF,GAAI,oDACJC,GAAI,sCAERoF,2BAA4B,CACxBrF,GAAI,sCACJC,GAAI,6BAERqF,kCAAmC,CAC/BtF,GAAI,yCACJC,GAAI,sCAERsF,8BAA+B,CAC3BvF,GAAI,kDACJC,GAAI,2CAERuF,aAAc,CACVxF,GAAI,wBACJC,GAAI,qBAERwF,uBAAwB,CACpBzF,GAAI,UACJC,GAAI,WAERyF,mBAAoB,CAChB1F,GAAI,aACJC,GAAI,OAER0F,6BAA8B,CAC1B3F,GAAI,gBACJC,GAAI,iBAER2F,mCAAoC,CAChC5F,GAAI,aACJC,GAAI,SAER4F,sCAAuC,CACnC7F,GAAI,WACJC,GAAI,YAER6F,uCAAwC,CACpC9F,GAAI,YACJC,GAAI,aAER8F,qCAAsC,CAClC/F,GAAI,0BACJC,GAAI,WAER+F,qCAAsC,CAClChG,GAAI,UACJC,GAAI,WAERgG,qCAAsC,CAClCjG,GAAI,UACJC,GAAI,WAERiG,oCAAqC,CACjClG,GAAI,YACJC,GAAI,UAERkG,qCAAsC,CAClCnG,GAAI,UACJC,GAAI,WAERmG,6BAA8B,CAC1BpG,GAAI,gBACJC,GAAI,kBAERoG,mCAAoC,CAChCrG,GAAI,aACJC,GAAI,gBAERqG,sBAAuB,CACnBtG,GAAI,UACJC,GAAI,UAERsG,sBAAuB,CACnBvG,GAAI,OACJC,GAAI,QAERuG,2BAA4B,CACxBxG,GAAI,gBACJC,GAAI,eAERwG,gCAAiC,CAC7BzG,GAAI,8BACJC,GAAI,yBAERyG,sCAAuC,CACnC1G,GAAI,eACJC,GAAI,aAER0G,kCAAmC,CAC/B3G,GAAI,gCACJC,GAAI,2BAER2G,uCAAwC,CACpC5G,GAAI,wCACJC,GAAI,gCAER4G,6CAA8C,CAC1C7G,GAAI,yBACJC,GAAI,oBAER6G,uCAAwC,CACpC9G,GAAI,yCACJC,GAAI,gCAER8G,6CAA8C,CAC1C/G,GAAI,kBACJC,GAAI,oBAER+G,sCAAuC,CACnChH,GAAI,qBACJC,GAAI,oBAERgH,6BAA8B,CAC1BjH,GAAI,wBACJC,GAAI,uBAERiH,6BAA8B,CAC1BlH,GAAI,wBACJC,GAAI,uBAERkH,kCAAmC,CAC/BnH,GAAI,cACJC,GAAI,eAERmH,mBAAoB,CAChBpH,GAAI,gBACJC,GAAI,YAERoH,2BAA4B,CACxBrH,GAAI,UACJC,GAAI,WAERqH,0BAA2B,CACvBtH,GAAI,SACJC,GAAI,UAERsH,wBAAyB,CACrBvH,GAAI,QACJC,GAAI,QAERuH,6BAA8B,CAC1BxH,GAAI,YACJC,GAAI,aAERwH,6BAA8B,CAC1BzH,GAAI,SACJC,GAAI,aAERyH,8BAA+B,CAC3B1H,GAAI,WACJC,GAAI,cAER0H,8BAA+B,CAC3B3H,GAAI,SACJC,GAAI,cAER2H,4BAA6B,CACzB5H,GAAI,QACJC,GAAI,YAER4H,0BAA2B,CACvB7H,GAAI,UACJC,GAAI,UAER6H,wBAAyB,CACrB9H,GAAI,OACJC,GAAI,QAER8H,sBAAuB,CACnB/H,GAAI,wBACJC,GAAI,uBAER+H,sBAAuB,CACnBhI,GAAI,wBACJC,GAAI,uBAERgI,wBAAyB,CACrBjI,GAAI,YACJC,GAAI,YAERiI,gCAAiC,CAC7BlI,GAAI,SACJC,GAAI,WAERkI,iCAAkC,CAC9BnI,GAAI,UACJC,GAAI,YAERmI,qCAAsC,CAClCpI,GAAI,oBACJC,GAAI,iBAERoI,gCAAiC,CAC7BrI,GAAI,UACJC,GAAI,YAERqI,gCAAiC,CAC7BtI,GAAI,SACJC,GAAI,WAERsI,qCAAsC,CAClCvI,GAAI,WACJC,GAAI,iBAERuI,kCAAmC,CAC/BxI,GAAI,WACJC,GAAI,aAERwI,mCAAoC,CAChCzI,GAAI,aACJC,GAAI,cAERyI,gCAAiC,CAC7B1I,GAAI,SACJC,GAAI,WAER0I,+BAAgC,CAC5B3I,GAAI,QACJC,GAAI,UAER2I,mCAAoC,CAChC5I,GAAI,YACJC,GAAI,cAER4I,sCAAuC,CACnC7I,GAAI,eACJC,GAAI,iBAER6I,gCAAiC,CAC7B9I,GAAI,SACJC,GAAI,WAER8I,+BAAgC,CAC5B/I,GAAI,QACJC,GAAI,UAER+I,kCAAmC,CAC/BhJ,GAAI,WACJC,GAAI,aAERgJ,mCAAoC,CAChCjJ,GAAI,aACJC,GAAI,cAERiJ,iCAAkC,CAC9BlJ,GAAI,UACJC,GAAI,YAERkJ,+BAAgC,CAC5BnJ,GAAI,QACJC,GAAI,UAERmJ,yBAA0B,CACtBpJ,GAAI,OACJC,GAAI,aAERoJ,qBAAsB,CAClBrJ,GAAI,SACJC,GAAI,SAERqJ,mBAAoB,CAChBtJ,GAAI,WACJC,GAAI,YAERsJ,qBAAsB,CAClBvJ,GAAI,oCACJC,GAAI,qCAERuJ,sBAAuB,CACnBxJ,GAAI,wBACJC,GAAI,yBAERwJ,sBAAuB,CACnBzJ,GAAI,0BACJC,GAAI,2BAERyJ,sBAAuB,CACnB1J,GAAI,sBACJC,GAAI,uBAER0J,sBAAuB,CACnB3J,GAAI,iCACJC,GAAI,iCAER2J,sBAAuB,CACnB5J,GAAI,aACJC,GAAI,cAER4J,sBAAuB,CACnB7J,GAAI,2BACJC,GAAI,uBAER6J,uBAAwB,CACpB9J,GAAI,cACJC,GAAI,eAER8J,qBAAsB,CAClB/J,GAAI,YACJC,GAAI,aAER+J,qBAAsB,CAClBhK,GAAI,YACJC,GAAI,aAERgK,qBAAsB,CAClBjK,GAAI,YACJC,GAAI,aAERiK,qBAAsB,CAClBlK,GAAI,YACJC,GAAI,aAERkK,iCAAkC,CAC9BnK,GAAI,WACJC,GAAI,YAERmK,iCAAkC,CAC9BpK,GAAI,aACJC,GAAI,cAERoK,iCAAkC,CAC9BrK,GAAI,SACJC,GAAI,UAERqK,iCAAkC,CAC9BtK,GAAI,oBACJC,GAAI,oBAERsK,iCAAkC,CAC9BvK,GAAI,cACJC,GAAI,UAERuK,kCAAmC,CAC/BxK,GAAI,YACJC,GAAI,cAERwK,gCAAiC,CAC7BzK,GAAI,mBACJC,GAAI,iBAERyK,gCAAiC,CAC7B1K,GAAI,YACJC,GAAI,aAER0K,gCAAiC,CAC7B3K,GAAI,aACJC,GAAI,cAER2K,gCAAiC,CAC7B5K,GAAI,YACJC,GAAI,aAER4K,qBAAsB,CAClB7K,GAAI,SACJC,GAAI,SAER6K,eAAgB,CACZ9K,GAAI,eACJC,GAAI,YAER8K,cAAe,CACX/K,GAAI,UACJC,GAAI,WAER+K,oBAAqB,CACjBhL,GAAI,QACJC,GAAI,UAERgL,gBAAiB,CACbjL,GAAI,QACJC,GAAI,aAERiL,uBAAwB,CACpBlL,GAAI,yBACJC,GAAI,yBAERkL,kCAAmC,CAC/BnL,GAAI,oBACJC,GAAI,6BAERmL,aAAc,CACVpL,GAAI,cACJC,GAAI,eAERoL,wBAAyB,CACrBrL,GAAI,sCACJC,GAAI,8BAERqL,gCAAiC,CAC7BtL,GAAI,uGACJC,GAAI,+FAERsL,qBAAsB,CAClBvL,GAAI,2BACJC,GAAI,wBAERuL,6BAA8B,CAC1BxL,GAAI,yEACJC,GAAI,0EAERwL,cAAe,CACXzL,GAAI,YACJC,GAAI,WAERyL,qBAAsB,CAClB1L,GAAI,sCACJC,GAAI,8CAER0L,uBAAwB,CACpB3L,GAAI,QACJC,GAAI,OAER2L,iCAAkC,CAC9B5L,GAAI,WACJC,GAAI,kBAER4L,iCAAkC,CAC9B7L,GAAI,gBACJC,GAAI,kBAER6L,yCAA0C,CACtC9L,GAAI,8LACJC,GAAI,iKAER8L,4BAA6B,CACzB/L,GAAI,YACJC,GAAI,aAER+L,4BAA6B,CACzBhM,GAAI,YACJC,GAAI,YAERgM,uBAAwB,CACpBjM,GAAI,cACJC,GAAI,QAERiM,4BAA6B,CACzBlM,GAAI,cACJC,GAAI,QAERkM,8BAA+B,CAC3BnM,GAAI,WACJC,GAAI,UAERmM,wBAAyB,CACrBpM,GAAI,uBACJC,GAAI,QAERoM,0BAA2B,CACvBrM,GAAI,UACJC,GAAI,UAERqM,YAAa,CACTtM,GAAI,OACJC,GAAI,SAERsM,qBAAsB,CAClBvM,GAAI,2BACJC,GAAI,iBAERuM,uBAAwB,CACpBxM,GAAI,cACJC,GAAI,WAERwM,oBAAqB,CACjBzM,GAAI,kBACJC,GAAI,qBAERyM,sBAAuB,CACnB1M,GAAI,cACJC,GAAI,WAER0M,UAAW,CACP3M,GAAI,OACJC,GAAI,QAER2M,gBAAiB,CACb5M,GAAI,aACJC,GAAI,cAER4M,aAAc,CACV7M,GAAI,UACJC,GAAI,gBAER6M,cAAe,CACX9M,GAAI,qBACJC,GAAI,iBAER8M,gBAAiB,CACb/M,GAAI,WACJC,GAAI,YAER+M,aAAc,CACVhN,GAAI,UACJC,GAAI,WAERgN,qBAAsB,CAClBjN,GAAI,UACJC,GAAI,WAERiN,sBAAuB,CACnBlN,GAAI,YACJC,GAAI,YAERkN,uBAAwB,CACpBnN,GAAI,YACJC,GAAI,aAERmN,sBAAuB,CACnBpN,GAAI,kCACJC,GAAI,+BAERoN,oBAAqB,CACjBrN,GAAI,oDACJC,GAAI,uCAERqN,+BAAgC,CAC5BtN,GAAI,4HACJC,GAAI,2FAERsN,8BAA+B,CAC3BvN,GAAI,mDACJC,GAAI,2BAERuN,8BAA+B,CAC3BxN,GAAI,6DACJC,GAAI,4DAERwN,yBAA0B,CACtBzN,GAAI,oCACJC,GAAI,kBAERyN,6BAA8B,CAC1B1N,GAAI,sBACJC,GAAI,iBAER0N,2BAA4B,CACxB3N,GAAI,4DACJC,GAAI,iDAER2N,4BAA6B,CACzB5N,GAAI,wEACJC,GAAI,qDAER4N,8BAA+B,CAC3B7N,GAAI,0DACJC,GAAI,qDAER6N,cAAe,CACX9N,GAAI,+BACJC,GAAI,6BAER8N,cAAe,CACX/N,GAAI,qCACJC,GAAI,8BAER+N,cAAe,CACXhO,GAAI,6BACJC,GAAI,uBAERgO,cAAe,CACXjO,GAAI,mHACJC,GAAI,mGAERiO,cAAe,CACXlO,GAAI,wBACJC,GAAI,kBAERkO,cAAe,CACXnO,GAAI,iOACJC,GAAI,8JAERmO,cAAe,CACXpO,GAAI,4BACJC,GAAI,qBAERoO,cAAe,CACXrO,GAAI,oGACJC,GAAI,gFAERqO,cAAe,CACXtO,GAAI,oBACJC,GAAI,iBAERsO,cAAe,CACXvO,GAAI,+EACJC,GAAI,sEAERuO,cAAe,CACXxO,GAAI,yBACJC,GAAI,sBAERwO,cAAe,CACXzO,GAAI,qGACJC,GAAI,uFAERyO,cAAe,CACX1O,GAAI,2BACJC,GAAI,2BAER0O,cAAe,CACX3O,GAAI,mCACJC,GAAI,kCAER2O,aAAc,CACV5O,GAAI,YACJC,GAAI,YAER4O,mBAAoB,CAChB7O,GAAI,cACJC,GAAI,cAER6O,yBAA0B,CACtB9O,GAAI,2BACJC,GAAI,wBAER8O,yBAA0B,CACtB/O,GAAI,wTACJC,GAAI,4TAER+O,yBAA0B,CACtBhP,GAAI,wIACJC,GAAI,4GAERgP,kBAAmB,CACfjP,GAAI,8FACJC,GAAI,2FAERiP,qBAAsB,CAClBlP,GAAI,WACJC,GAAI,YAERkP,qBAAsB,CAClBnP,GAAI,qBACJC,GAAI,kBAERmP,qBAAsB,CAClBpP,GAAI,yDACJC,GAAI,2DAERoP,qBAAsB,CAClBrP,GAAI,sCACJC,GAAI,+BAERqP,yBAA0B,CACtBtP,GAAI,qSACJC,GAAI,8NAERsP,sBAAuB,CACnBvP,GAAI,yMACJC,GAAI,uKAERuP,sBAAuB,CACnBxP,GAAI,4BACJC,GAAI,kCAERwP,aAAc,CACVzP,GAAI,0OACJC,GAAI,qMAERyP,oBAAqB,CACjB1P,GAAI,iHACJC,GAAI,sFAER0P,oBAAqB,CACjB3P,GAAI,6GACJC,GAAI,oGAER2P,oBAAqB,CACjB5P,GAAI,qEACJC,GAAI,uDAER4P,oBAAqB,CACjB7P,GAAI,iBACJC,GAAI,cAER6P,mBAAoB,CAChB9P,GAAI,mBACJC,GAAI,aAER8P,yBAA0B,CACtB/P,GAAI,6BACJC,GAAI,iBAER+P,8BAA+B,CAC3BhQ,GAAI,uEACJC,GAAI,sDAERgQ,uBAAwB,CACpBjQ,GAAI,yBACJC,GAAI,uBAERiQ,mBAAoB,CAChBlQ,GAAI,iBACJC,GAAI,cAERkQ,eAAgB,CACZnQ,GAAI,sBACJC,GAAI,kB,UCngCG,SAASmQ,KACpB,IAAMC,EAAqBC,qBAAW5W,IAC/BR,EAAYoX,qBAAWnR,IAAvBjG,SAEDqX,EAAkB,SAACC,GAClBA,EACCC,OAAOC,SAASC,KAAOrZ,GAEL,OAAlB+Y,QAAkB,IAAlBA,KAAoB5R,eAAe+R,IA2B3C,OAAO,+BACkC,QAAlB,OAAlBH,QAAkB,IAAlBA,OAAA,EAAAA,EAAoBhS,cAAwBuS,aAC7C,+BAxBO,uBAAKC,UAAW,wBAAhB,UACH,sBAAKC,MAAO,CAACC,OAAQ,QAArB,SACKjR,GAAmB4B,sBAAsBxI,KAE9C,sBAAK2X,UAAW,gCAAiCC,MAAO,CAACC,OAAQ,QAAjE,SACKjR,GAAmB6B,0BAA0BzI,KAElD,uBAAK2X,UAAW,gCAAhB,UACI,eAACG,GAAA,EAAD,CAAQF,MAAO,CAACG,SAAU,OAAQC,YAAa,QACvCC,QAAS,kBAAMZ,GAAgB,IADvC,SAEKzQ,GAAmBiB,WAAW7H,KAEnC,eAAC8X,GAAA,EAAD,CACIF,MAAO,CAACG,SAAU,QAClBJ,UAAU,mBACVM,QAAS,kBAAMZ,GAAgB,IAHnC,SAIKzQ,GAAmBW,UAAUvH,eCrCnC,gxYCAA,4pV,kBCSR,SAASkY,KACZ,MAAO,CACHC,MAAOZ,OAAOa,WACdC,OAAQd,OAAOe,aAIhB,SAASC,KACZ,MAA8C/R,mBAAS0R,MAAvD,oBAAOM,EAAP,KAAwBC,EAAxB,KAOA,OALAC,qBAAU,WAEN,OADAnB,OAAOoB,iBAAiB,UAAU,kBAAMF,EAAmBP,OACpD,kBAAMX,OAAOqB,oBAAoB,UAAU,kBAAMH,EAAmBP,UAC5E,IAEIM,EAIJ,SAASK,GAAcL,GAC1B,OAAOA,EAAgBL,MAAQ7Z,IAA8Bka,EAAgBH,OAAS/Z,GAGnF,SAASwa,GAAeN,GAC3B,OAAOA,EAAgBL,MAAQ7Z,GAG5B,SAASya,KACZ,OAAOrB,YCXI,SAASsB,KACpB,IAAM7B,EAAqBC,qBAAW5W,IACtC,EAAuC4W,qBAAWnR,IAA3CjG,EAAP,EAAOA,SAAUkG,EAAjB,EAAiBA,mBACXsR,EAAWyB,eAEjB,GAA2B,OAAvB9B,EACA,OAAO,yBAGX,IAAM+B,EAA4B,SAACC,GAC/BjT,EAAmBiT,EAAMC,OAAO9T,OAChC6R,EAAmB1R,qBAAqBnD,uBAAuB6U,EAAmBjT,eAAejM,UAAWkhB,EAAMC,OAAO9T,QAGvH+T,EAA0B,SAACF,GAC7BhC,EAAmB3T,mBAAmB2V,EAAMC,OAAO9T,QAGnDgU,EAAa9B,EAAS+B,UAAkC,MAAtB/B,EAAS+B,SAAmB/B,EAAS+B,SAAWzc,GAClFwc,EAAWE,SAAS,MAAQF,EAAWlX,OAAS,IAChDkX,EAAaA,EAAWG,UAAU,EAAGH,EAAWlX,OAAS,IAGzD+U,EAAmBlS,OACnB3E,QAAQoZ,IAAI,QAASJ,GAGzB,IAAMK,EAAc,WAChB,IAAMC,EAAkBb,KAAmBnS,GAAmB0M,uBAAuBtT,GAAY4G,GAAmByM,qBAAqBrT,GACnI6Z,EAAwBd,KAAmBnS,GAAmB4M,sBAAsBxT,GAAY4G,GAAmB2M,oBAAoBvT,GACvI8Z,EAAmBf,KAAmBnS,GAAmBiN,gBAAgB7T,GAAY4G,GAAmBgN,cAAc5T,GAE5H,OACI,uBAAK2X,UAAU,2BAA2BoC,KAAK,QAA/C,UACI,sBAAKpC,UAAU,cAAf,SACI,eAAC,KAAD,CAAMqC,GAAIld,GAAV,SACI,eAACgb,GAAA,EAAD,CAAQH,UAAU,oBACVrS,MAAOxI,GACPmd,QAAS,OACTC,OAAQZ,IAAexc,IAAawc,IAAe1c,GAH3D,SAIKgK,GAAmB6M,UAAUzT,SAI1C,sBAAK2X,UAAU,cAAf,SACI,eAAC,KAAD,CAAMqC,GAAInd,GAAV,SACI,eAACib,GAAA,EAAD,CAAQH,UAAU,oBACVrS,MAAOzI,GACPod,QAAS,OACTC,OAAQZ,IAAezc,GAH/B,SAIK+c,QAIb,sBAAKjC,UAAU,cAAf,SACI,eAAC,KAAD,CAAMqC,GAAIrd,GAAV,SACI,eAACmb,GAAA,EAAD,CAAQH,UAAU,oBACVrS,MAAO3I,GACPsd,QAAS,OACTC,OAAQZ,IAAe3c,GAH/B,SAIKkd,QAIb,sBAAKlC,UAAU,cAAf,SACI,eAAC,KAAD,CAAMqC,GAAI9c,GAAV,SACI,eAAC4a,GAAA,EAAD,CAAQH,UAAU,oBACVrS,MAAOpI,GACP+c,QAAS,OACTC,OAAQZ,IAAepc,GAH/B,SAIK0J,GAAmB+M,aAAa3T,UAI3C+Y,MACF,sBAAKpB,UAAU,cAAf,SACI,eAAC,KAAD,CAAMqC,GAAIhd,GAAV,SACI,eAAC8a,GAAA,EAAD,CAAQH,UAAU,oBACVrS,MAAOtI,GACPid,QAAS,OACTC,OAAQZ,IAAetc,GAH/B,SAIK4J,GAAmB8M,gBAAgB1T,SAKhD,sBAAK2X,UAAU,cAAf,SACI,eAAC,KAAD,CAAMqC,GAAI/c,GAAV,SACI,eAAC6a,GAAA,EAAD,CAAQH,UAAU,mBACVrS,MAAOrI,GACPgd,QAAS,OACTC,OAAQZ,IAAerc,GAH/B,SAIK6c,QAIb,sBAAKnC,UAAU,cAAf,SACI,eAAC,KAAD,CAAMqC,GAAIjd,GAAV,SACI,eAAC+a,GAAA,EAAD,CAAQH,UAAU,mBACVsC,QAAS,OACT3U,MAAOvI,GACPmd,OAAQZ,IAAevc,GAH/B,SAIK6J,GAAmBkN,aAAa9T,aAQnDma,EAAcpB,KAAmBnS,GAAmBsB,mBAAmBlI,GAAY4G,GAAmBqB,iBAAiBjI,GACvHoa,EAAcrB,KAAmBnS,GAAmByB,kBAAkBrI,GAAY4G,GAAmBwB,gBAAgBpI,GAErHqa,EAAwB,WAC1B,OACI,sBAAK1C,UAAU,2BAAf,SACI,wBAAMA,UAAU,aAAhB,UACI,wBAAOA,UAAU,gBAAjB,SACI,6BAAI/Q,GAAmB+E,eAAe3L,OAE1C,yBAAO2X,UAAU,gBAAjB,UACI,wBAAOA,UAAU,mBACV2C,KAAM,gBACNC,KAAK,QACLjV,MAAOlI,GACPod,eAAgBxa,IAAa5C,GAC7B6a,QAASiB,IAEfiB,KAEL,yBAAOxC,UAAU,2BAAjB,UACI,wBAAOA,UAAU,mBACV2C,KAAM,gBACNC,KAAK,QACLjV,MAAOnI,GACPqd,eAAgBxa,IAAa7C,GAC7B8a,QAASiB,IAEfkB,WAQfK,EAAsB,WACxB,IAAM/W,EAAkByT,EAAmBpW,gBAAgB2C,gBAE3D,OACI,sBAAKiU,UAAU,2BAA2BC,MAAO,CAAC8C,YAAa,QAA/D,SACI,wBAAM/C,UAAU,aAAhB,UACI,wBAAOA,UAAU,gBAAjB,SACI,6BAAI/Q,GAAmBoL,uBAAuBhS,OAElD,yBAAO2X,UAAU,gBAAjB,UACI,wBAAOA,UAAU,mBACV4C,KAAK,QACLjV,MAAO/H,GACPod,QAASjX,IAAoBnG,GAC7Bqd,SAAUvB,IALrB,eASA,yBAAO1B,UAAU,2BAAjB,UACI,wBAAOA,UAAU,mBACV4C,KAAK,QACLjV,MAAO9H,GACPmd,QAAUjX,IAAoBlG,GAC9Bod,SAAUvB,IALrB,0BAoEhB,OAAON,KAzBC,uBAAKpB,UAAU,4BAA4BC,MAAO,CAACiD,UAAW,UAA9D,UACI,uBAAKlD,UAAW,0CAAhB,UACI,uBAAKA,UAAW,kBAAhB,UACI,sBAAKC,MAAO,CAACkD,WAAY,MAAOJ,YAAa,MAAO3C,SAAU,OAAQgD,SAAU,QAAhF,SACI,sBAAKC,IAAKC,GAAM9C,MAAO,OAAQ+C,IAAK,iCAExC,sBAAKtD,MAAO,CAACkD,WAAY,OAAzB,SACI,sBAAKE,IAAKG,GAAMhD,MAAO,OAAQ+C,IAAK,yCAG5C,+BACI,sBAAKvD,UAAU,6DAAf,SACI,sBAAKA,UAAU,sCAAsCC,MAAO,CAACkD,WAAY,OAAzE,SACKT,aAKjB,sBAAK1C,UAAU,WAAWC,MAAO,CAACwD,UAAW,OAA7C,SACKzB,SA9CT,uBAAKhC,UAAU,yBAAf,UACI,sBAAKC,MAAO,CAACkD,WAAY,MAAOJ,YAAa,MAAO3C,SAAU,OAAQgD,SAAU,QAAhF,SACI,sBAAKC,IAAKC,GAAMC,IAAK,wBAEzB,uBAAKvD,UAAW,2BAAhB,UACI,uBAAKA,UAAU,6DAAf,UACI,sBAAKC,MAAO,CAACkD,WAAY,OAAzB,SACI,sBAAKE,IAAKG,GAAMD,IAAK,6BAEzB,uBAAKvD,UAAU,sCAAsCC,MAAO,CAACkD,WAAY,OAAzE,UACKT,IACAI,UAGT,sBAAK9C,UAAU,kBAAkBC,MAAO,CAACwD,UAAW,OAApD,SACI,sBAAKzD,UAAU,uBAAf,SACKgC,c,8DC7MvB0B,GAASC,OAQR,SAASC,KACenE,qBAAW5W,IAAtC,IACMgb,EAAkBpE,qBAAWnR,IACnC,EAA4CO,mBAAiB,GAA7D,oBAAOiV,EAAP,KAAuBC,EAAvB,KAEMC,EAAe,SAACC,GAClBF,EAAkBE,IAwGhBC,EAAiB,SAACC,GACpB,OAAOA,EAAallB,KAAI,SAACmlB,EAAaC,GAAd,OAAwBC,EAAkBF,EAAaC,OAG7EC,EAAoB,SAACF,EAA8BC,GACrD,IAAMb,EAAOK,EAAgBxb,WAAa7C,GAAc4e,EAAYjV,GAAKiV,EAAYhV,GAErF,OAAQgV,EAAYxB,MAChB,IAAK,YACD,OAAO,6BAA8BY,GAA9B,mBAAoBa,IAC/B,IAAK,aACD,OACI,iCACI,wBACA,8BACKb,IAEL,0BALJ,mBAAsBa,IAQ9B,IAAK,+BACD,OAAO,6BAA6B,6BAAIb,KAAjC,mBAAoBa,IAC/B,IAAK,aACD,OACI,iCACI,uBAAMpE,MAAO,CAAC8C,YAAa,OAAQwB,aAAc,QAAjD,SACI,eAAC,KAAD,MAEHf,IAJL,mBAAsBa,IAO9B,QACI,OAAO,6BAAIb,MAIjBgB,EAAcpD,KAAmB,SAAW,QAElD,OACI,+BACI,sBAAKpB,UAAU,iBAAiBC,MAAO,CAACC,OAAQ,UAAhD,SACI,uBAAKF,UAAW,kBAAhB,UACI,uBAAKA,UAAU,MAAf,UACI,uBAAKA,UAAWwE,EAAhB,UACKN,EAAeO,IAChB,sBAAKxE,MAAO,CAACkD,WAAY,OAAQuB,cAAe,QAAhD,SA1FhB,uBAAKzE,MAAO,CAACkD,WAAY,QAAzB,UACI,6BAAIlU,GAAmBqE,iBAAiBuQ,EAAgBxb,YACxD,uBAAK2X,UAAW,cAAhB,UACI,sBAAKC,MAAO,CAACkD,WAAY,QAAzB,SACI,eAAC,KAAD,CAAMd,GAAInd,mBAAV,SACI,yBAAQ0d,KAAK,SACL5C,UAAU,gBACVC,MAAO,CAACO,MAAO,MAAOmE,gBAAiB,WAF/C,SAGK1V,GAAmBO,oBAAoBqU,EAAgBxb,gBAIpE,sBAAK4X,MAAO,CAACkD,WAAY,QAAzB,SACI,eAAC,KAAD,CAAMd,GAAInd,yBAAV,SACI,yBAAQ0d,KAAK,SACL5C,UAAU,gBACVC,MAAO,CAACO,MAAO,MAAOmE,gBAAiB,WAF/C,SAGK1V,GAAmBQ,oBAAoBoU,EAAgBxb,gBAIpE,sBAAK4X,MAAO,CAACkD,WAAY,QAAzB,SACI,eAAC,KAAD,CAAMd,GAAIrd,GAAV,SACI,yBAAQ4d,KAAK,SACL5C,UAAU,gBACVC,MAAO,CAACO,MAAO,MAAOmE,gBAAiB,WAF/C,SAGK1V,GAAmBS,oBAAoBmU,EAAgBxb,gBAIpE,sBAAK4X,MAAO,CAACkD,WAAY,QAAzB,SACI,eAAC,KAAD,CAAMd,GAAI9c,GAAV,SACI,yBAAQqd,KAAK,SACL5C,UAAU,gBACVC,MAAO,CAACO,MAAO,MAAOmE,gBAAiB,WAF/C,SAGK1V,GAAmBU,oBAAoBkU,EAAgBxb,4BA2D9D+Y,MACF,sBAAKpB,UAAW,QAASC,MAAO,CAAC8C,YAAa,QAA9C,SAvJG,WACnB,IAAI6B,EAAUf,EAAgBxb,SAExBwc,EAAOnB,GAAO,SAAD,OAAUkB,EAAV,WAA2BE,QACxCC,EAAOrB,GAAO,SAAD,OAAUkB,EAAV,WAA2BE,QACxCE,EAAOtB,GAAO,SAAD,OAAUkB,EAAV,WAA2BE,QACxCG,EAAOvB,GAAO,SAAD,OAAUkB,EAAV,WAA2BE,QACxCI,EAAOxB,GAAO,SAAD,OAAUkB,EAAV,WAA2BE,QACxCK,EAAOzB,GAAO,SAAD,OAAUkB,EAAV,WAA2BE,QACxCM,EAAO1B,GAAO,SAAD,OAAUkB,EAAV,WAA2BE,QAExCO,EAAgB,wBAAoBvB,GACpCwB,EAAerW,GAAmBoW,GAAkBxB,EAAgBxb,UAE1E,OACI,uBAAK4X,MAAO,CAACyE,cAAe,QAA5B,UACI,gBAAC,YAAD,CAAUa,YAAY,EACZC,cAAc,EAAMC,UAAU,EAC9BC,SAAU,IACVC,eAAgB,IAChBC,aAAc9B,EACd+B,YAAY,EACZC,YAAY,EACZ7C,SAAUe,EAPpB,UAQI,+BACI,sBAAKX,IAAKwB,EAAMtB,IAAK,wBAEzB,+BACI,sBAAKF,IAAK0B,EAAMxB,IAAK,wBAEzB,+BACI,sBAAKF,IAAK2B,EAAMzB,IAAK,wBAEzB,+BACI,sBAAKF,IAAK4B,EAAM1B,IAAK,wBAEzB,+BACI,sBAAKF,IAAK6B,EAAM3B,IAAK,wBAEzB,+BACI,sBAAKF,IAAK8B,EAAM5B,IAAK,wBAEzB,+BACI,sBAAKF,IAAK+B,EAAM7B,IAAK,2BAG7B,sBAAKtD,MAAO,CAAC8F,UAAW,SAAUC,UAAW,WAA7C,SACKV,OAyGQW,QAIT,wBACA,sBAAKjG,UAAU,cACVC,MAAO,CAACmD,SAAU,SAAUsB,cAAe,OAAQwB,aAAc,QADtE,SAEKhC,EAAeiC,a,yCC7LjC,SAASC,GAAsBnmB,EAA6BoI,GAC/D,OVDG,SAAmCge,EAA+Bhe,EAAkBie,GACvF,IAAMC,EAAuB,GAE1BF,GAAgBA,EAAa5b,OAAS,GACrC4b,EAAaG,SAAQ,SAAApe,GAAQ,OAAIme,EAAMrc,KAAK/B,GAAQC,EAAUC,OAG/Die,GACCC,EAAMD,OAGV,IAAMG,EAA+C,GAQrD,OAPAF,EAAMC,SAAQ,SAAC7D,EAAM0B,GACjBoC,EAAmBvc,KAAK,CACpByD,MAAO0W,EACPqC,MAAO/D,OAIR8D,EUlBAE,CAA0B1mB,EAAYoI,GCA1C,SAASue,GAAuBrmB,EAA+BsmB,EAAkBvmB,EAA4B+H,GAChH,IAAMye,EA0BV,SAAkCvmB,EAA+BsmB,GAC7D,OAAOtmB,EAAY8J,QAAO,SAAA0c,GACtB,OAAgB,IAAbF,GAEOE,EAAUF,WAAaA,EADtBE,EAIA,QAjCaC,CAAyBzmB,EAAasmB,GAElE,IAAIC,GAAsD,IAA/BA,EAAoBrc,OAC3C,MAAO,GAGX,IAAMgc,EAAwD,GAgB9D,OAfAK,EAAoBN,SAAQ,SAAAO,GACxB,IAAMhc,EAASgc,EAAUE,QACzB,GAAGlc,EAASzK,EAAUmK,OAClB9B,QAAQC,MAAR,uDAA8Dme,EAAU3nB,SAD5E,CAIA,IACM0L,EAAW3C,GADA7H,EAAUyK,EAAO,GACC1C,GACnCoe,EAAmBvc,KAAK,CACpByD,MAAOoZ,EACPL,MAAO5b,QAIf2b,EAAmBH,MAAK,SAACY,EAAMC,GAAP,OAAgBD,EAAKR,MAAMU,cAAcD,EAAKT,UAC/DD,ECdJ,SAASY,GAAuB7mB,EAA4BumB,EAAmBzmB,EAA4BH,EAA6BkI,GAC3I,IAAMif,EA6BV,SAAiC9mB,EAA4B+mB,GACzD,OAAO/mB,EAAU6J,QAAO,SAAAR,GACpB,OAAGA,EAASkd,YAAcQ,EACf1d,EAEA,QAlCW2d,CAAwBhnB,EAAWumB,GACvDN,EAAuD,GAyB7D,OAvBGa,GAAqBA,EAAkB7c,OAAS,GAC/C6c,EAAkBd,SAAQ,SAAA3c,GACtB,IAAMkB,EAASlB,EAASkB,OACxB,GAAGA,EAASzK,EAAUmK,OAClB9B,QAAQC,MAAR,sDAA6DiB,EAASzK,SAD1E,CAIA,IACI0L,EAAW3C,GADE7H,EAAUyK,EAAO,GACD1C,GAC3Bof,EAAYtnB,EAAWuI,MAAK,SAAA+e,GAAS,OAAIA,EAAUroB,KAAOyK,EAAS6d,eACnEC,EAAeF,EAAYtf,GAAQsf,EAAWpf,GAAY,KAE7Dsf,IACC7c,EAAQ,UAAMA,EAAN,aAAmB6c,EAAnB,MAGZlB,EAAmBvc,KAAK,CACpByD,MAAO9D,EACP6c,MAAO5b,QAKZ2b,ECjCJ,SAASmB,GAA0BC,EAAiCznB,EAA+BiI,GACtG,IAAMoe,EAAsD,GAwB5D,OAvBAoB,EAAYrB,SAAQ,SAAAsB,GAChB,IAAMC,EAAmB3nB,EAAa4nB,WAAU,SAAAzgB,GAC3C,OAAOA,EAAYnI,KAAO0oB,EAAevgB,eAIxC0gB,EAAc9f,GADA/H,EAAa2nB,GACQ1f,GACzCoe,EAAmBvc,KAAK,CACpByD,MAAOma,EACPpB,MAAOuB,OAIfxB,EAAmBvc,KAAK,CACpByD,MAAO,CAACua,OAAQ,IAAK3gB,YhBuEE,GgBtEvBmf,MAAOzX,GAAmB8O,aAAa1V,KAG3Coe,EAAmBvc,KAAK,CACpByD,MAAO,CAACua,OAAQ,EAAG3gB,YhBiEW,GgBhE9Bmf,MAAOzX,GAAmB+O,mBAAmB3V,KAG1Coe,EAIJ,SAAS0B,GAAsBte,EAAoBue,GACtD,IAAIC,EAAsBD,EAAgBJ,WAAU,SAAAH,GAChD,OAAOA,EAAYla,MAAMpG,cAAgBsC,EAASye,oBAOtD,OAJID,EAAsB,GAAKA,GAAuBD,EAAgB3d,UAClE4d,EAAsB,GAGnBD,EAAgBC,GC3CpB,SAASE,GAAcC,GAC1B,OAAQA,GACJ,KAAK,EACD,MAAO,YACX,KAAK,EACD,MAAO,QACX,QACI,MAAO,WAIZ,SAASC,GAAgBne,GAC5B,OAAOoe,GAA2Bpe,EAAiBT,SAAUS,EAAiBqe,eAC1Ere,EAAiBse,eAAgBte,EAAiBue,aAGnD,SAASH,GAA2B7e,EAAoBif,EAAsBF,EAC1CC,GACvC,GAAoB,OAAhBC,QAAwCC,IAAhBD,GAAkE,IAArCjf,EAASmf,iBAAiBve,OAC/E,OAAOZ,EAASmf,iBAAiB,GAEjC,IAAMC,EAAepf,EAASmf,iBAAiBtgB,MAAK,SAAAwgB,GAAkB,OAAIA,EAAmBpd,OAAO1M,KAAO0pB,KAC3G,GAAIG,EAAc,CACd,GAAGL,GAAkBC,EAAa,CAC9B,IAAMM,EAAatf,EAASmf,iBAAiBtgB,MAAK,SAAAwgB,GAAkB,OAAIA,EAAmBpd,OAAO1M,KAAO0pB,KACzG,GAAGK,EAAY,CACX,GAAGP,IAAmBC,EAClB,OAejB,SAAgCO,EAAoCC,GACvE,IAAMC,EAAuBC,GAAmBH,EAAqBI,SAAUH,EAAwBG,UACjGC,EAA0BF,GAAmBH,EAAqBM,YAAaL,EAAwBK,aACvGC,EAA0BJ,GAAmBH,EAAqBQ,YAAaP,EAAwBO,aACvGC,EAAwBN,GAAmBH,EAAqBU,iBAAkBT,EAAwBS,kBAC1GC,EAA0BR,GAAmBH,EAAqBY,YAAaX,EAAwBW,aAEvGC,EAAwBV,GAAmBH,EAAqBc,UAAUC,UAAWd,EAAwBa,UAAUC,WACzHC,EAAwBb,GAAmBH,EAAqBc,UAAWb,EAAwBa,WAGvG,OAFAE,EAAsBD,UAAYF,EAE3B,CACHne,OAAQsd,EAAqBtd,OAC7Bue,aAAcjB,EAAqBiB,aACnCb,SAAUF,EACVI,YAAaD,EACbG,YAAaD,EACbG,iBAAkBD,EAClBG,YAAaD,EACbG,UAAWE,GAlCYE,CAAuBrB,EAAcE,GAEhD,GAAGN,EACC,OAwDjB,SAA6BO,EAAoCC,GACpE,IAAMkB,EAAmBC,GAAgBpB,EAAqBI,SAAUH,EAAwBG,UAC1FiB,EAAsBD,GAAgBpB,EAAqBM,YAAaL,EAAwBK,aAChGgB,EAAsBF,GAAgBpB,EAAqBQ,YAAaP,EAAwBO,aAChGe,EAAoBH,GAAgBpB,EAAqBU,iBAAkBT,EAAwBS,kBACnGc,EAAsBJ,GAAgBpB,EAAqBY,YAAaX,EAAwBW,aAEhGa,EAAoBL,GAAgBpB,EAAqBc,UAAUC,UAAWd,EAAwBa,UAAUC,WAClHW,EAAoBN,GAAgBpB,EAAqBc,UAAWb,EAAwBa,WAGhG,OAFAY,EAAkBX,UAAYU,EAEvB,CACH/e,OAAQsd,EAAqBtd,OAC7Bue,aAAcjB,EAAqBiB,aACnCb,SAAUe,EACVb,YAAae,EACbb,YAAac,EACbZ,iBAAkBa,EAClBX,YAAaY,EACbV,UAAWY,GA3EYC,CAAoB9B,EAAcE,IAIrD,OAAOF,EAEP,OAAOpf,EAASmf,iBAAiB,GA8B7C,SAASO,GAAmByB,EAAwBC,GAChD,OAAIA,GAImBrrB,OAAOD,KAAKsrB,GACpBzE,SAAQ,SAAA0E,GACnB,GAA8B,OAA3BF,EAAkBE,GAAe,CAChC,IAAMC,EAAoBF,EAAkBC,IAAQtrB,OAAOD,KAAKsrB,EAAkBC,IAAMzgB,OAAS,EAEnE,OAA3BwgB,EAAkBC,IAAkBC,IACnCH,EAAkBE,GAAOD,EAAkBC,QAKhDF,GAdIA,EA0Cf,SAASR,GAAgBQ,EAAwBC,GAC7C,IAAID,GAAqBC,EACrB,OAAOA,EACJ,GAAGD,IAAsBC,EAC5B,OAAOD,EACJ,IAAIA,IAAsBC,EAC7B,OAAO,KAGX,IAAMG,EAAuBxrB,OAAOD,KAAKqrB,GACnCK,EAAuBzrB,OAAOD,KAAKsrB,GAGnCK,EAAO,aAAO,IAAIC,IAAJ,uBAAoBH,GAApB,aAA8BC,MAC9CG,EAAc,GA0BlB,OAxBAF,EAAQ9E,SAAQ,SAAA0E,GACZ,IAQIO,EAREC,EAAoC,OAA3BV,EAAkBE,GAC3BF,EAAkBE,GAClB,KAEAS,EAAoC,OAA3BV,EAAkBC,GAC3BD,EAAkBC,GAClB,KAKFO,EADU,OAAXC,GAA8B,OAAXC,EACLD,EACI,OAAXA,GAA8B,OAAXC,EACZA,EACI,OAAXD,GAA8B,OAAXC,EACZ,KAEoB,IAAnBD,EAASC,GAG3BH,EAAYN,GAAOO,KAGhBD,E,cCtHI,SAASI,GAAazd,GACjC,IAAMqR,EAAqBC,qBAAW5W,IAC/BR,EAAYoX,qBAAWnR,IAAvBjG,SAEDwjB,GAAoC,OAAlBrM,QAAkB,IAAlBA,OAAA,EAAAA,EAAoBpW,gBAAgBgD,aAAaH,kBACnEuT,EAAmBpW,gBAAgBgD,aAAaH,iBAChD,KAEA6f,GAA2C,OAAlBtM,QAAkB,IAAlBA,OAAA,EAAAA,EAAoBpW,gBAAgBgD,aAAaF,oBAAoB,EAC9F6f,GAAwC,OAAlBvM,QAAkB,IAAlBA,OAAA,EAAAA,EAAoBpW,gBAAgBgD,aAAaD,iBAAiB,EAE9F,EAAgD0C,mBAAmCgd,GAAnF,oBAAO5f,EAAP,KAAyB+f,EAAzB,KACA,EAAiDnd,mBAA4C,MAA7F,oBAAOod,EAAP,KAAyBC,EAAzB,KACA,EAAgDrd,mBAA2C,MAA3F,oBAAOvE,EAAP,KAAyB6hB,EAAzB,KACA,EAA8Ctd,mBAA0C,MAAxF,oBAAOud,EAAP,KAAwBC,EAAxB,KACA,EAA0Cxd,mBAAiB,GAA3D,oBAAOyd,EAAP,KAAsBC,EAAtB,KACA,EAA4C1d,mBAAmC,MAA/E,oBAAO8Z,EAAP,KAAuB6D,EAAvB,KACA,EAA4C3d,mBAAkBid,GAA9D,oBAAOlD,EAAP,KAAuB6D,EAAvB,KACA,EAAsC5d,mBAAkBkd,GAAxD,oBAAOlD,EAAP,KAAoB6D,EAApB,KACA,EAAsC7d,oBAAkB,GAAxD,oBAAO8d,EAAP,KAAoBC,EAApB,KAEA,EAA4C/d,mBAAmC,IAA/E,oBAAOge,EAAP,KAAuBC,EAAvB,KACA,EAA8Cje,mBAA4C,IAA1F,oBAAOke,EAAP,KAAwBC,EAAxB,KACA,EAA0Cne,mBAA2C,IAArF,oBAAOoe,EAAP,KAAsBC,GAAtB,KACA,GAAwCre,mBAA0C,IAAlF,sBAAOse,GAAP,MAAqBC,GAArB,MACA,GAAsCve,mBAAmC,IAAzE,sBAAOwe,GAAP,MAAoBC,GAApB,MAEMC,GAAa3M,KA4EnB,GA1EAG,qBAAU,WACF,GAAIvB,EAAoB,CACpB,IAAMgO,EAAyBhO,EAAmBpW,gBAAgBgD,aAC9DH,IAAqBuhB,EAAuBvhB,kBAAoB2c,IAAmB4E,EAAuBthB,kBACvG2c,IAAgB2E,EAAuBrhB,eAC1CqT,EAAmBxT,sBAAsBC,EAAkB2c,EAAgBC,GAInF,IAAM4E,EAAmBtf,EAAMuf,sBAAwBvf,EAAMuf,sBAAwB,EAErF,GAAIlO,GAAsBA,EAAmBjT,gBAA4C,IAA1BsgB,EAAepiB,OAAc,CACxF,IAAM8B,EAAiBiT,EAAmBjT,eAE1C,GAAIA,EAAetM,WAAY,CAC3B,IAAM0tB,EAAgBvH,GAAsB7Z,EAAetM,WAAYoI,GACvEykB,EAAkBa,GAGtB,GAAIphB,EAAehM,YAAa,CAC5B,IAAMsmB,EAAW5a,EAAmBA,EAAiB0B,MAAQ,EACvDpN,EAAcqmB,GAAuBra,EAAehM,YAAasmB,EAAUrH,EAAmBjT,eAAejM,UAAW+H,GAC9H2kB,EAAmBzsB,GACnB,IAAMwmB,EAAYxmB,EAAYktB,GAG9B,GAFAvB,EAAqBnF,GAEjBxa,EAAe/L,WAAaD,EAAa,CACzC,IAAMqtB,EAAuBvG,GAAuB9a,EAAe/L,UAAWD,EAAYktB,GAAkB9f,MAAMvO,GAAImN,EAAejM,UACjIiM,EAAepM,WAAYkI,GAE/B6kB,GAAiBU,GACjBzB,EAAoByB,EAAqB,IACzC,IAAM/jB,EAAW+jB,EAAqB,GAAGjgB,MAEzC,GAAI9D,GAAYA,EAASge,YAAa,CAClC,IAAMO,EAAkBR,GAA0B/d,EAASge,YAAatb,EAAenM,aAAciI,GACrG+kB,GAAgBhF,GAEhByF,GAAkBhkB,GAElB,IAAMikB,EAAiB3F,GAAsBte,EAAUue,GACvDiE,EAAmByB,GACnBvB,EAAiBuB,EAAengB,MAAMua,QAEjC/Z,EAAM7D,kBACPyjB,GAA2BlkB,EAAUkd,EAAUpZ,MAAOmgB,EAAengB,eAOrF,GAAGrD,GAAoB2hB,GAAoBG,EAAiB,CACxD,IAAM4B,EAAcD,GAA2BzjB,EAAiBqD,MAAOse,EAAiBte,MAAOye,EAAgBze,OAC5GqgB,GACC7f,EAAM8f,uBAAuBD,QAE9B,GAAG7f,EAAM7D,iBAAkB,CAC9B,MAAuC6D,EAAM7D,iBAAtCT,EAAP,EAAOA,SAAUkd,EAAjB,EAAiBA,UAAWmH,EAA5B,EAA4BA,QAC5BH,GAA2BlkB,EAAUkd,EAAWmH,MAIzD,CAAC5jB,EACA8hB,EACAH,EACAhgB,EACA0c,EACA2D,EACA1D,EACAC,KAIHrJ,EACD,OAAO,yBAGX,IAqBM2O,GAAqB,SAACriB,GACxB0gB,EAAkB1gB,IAgBhBsiB,GAAoB,SAACvH,GACvB,IAAMtmB,EAAcif,EAAmBjT,eAAehM,YAEtD,GAAIA,EAAa,CACb,IAAM8tB,EAAiBzH,GAAuBrmB,EAAasmB,EAASlZ,MAAO6R,EAAmBjT,eAAejM,UAAW+H,GACxH2kB,EAAmBqB,GACnBnC,EAAqBmC,EAAe,IACpCC,GAAeD,EAAe,MAIhCC,GAAiB,SAACvH,GACpB,MAA2CvH,EAAmBjT,eAAvD/L,EAAP,EAAOA,UAAWF,EAAlB,EAAkBA,UAAWH,EAA7B,EAA6BA,WAE7B,GAAIK,EAAW,CACX,IAAM6tB,EAAiBhH,GAAuB7mB,EAAWumB,EAAUpZ,MAAMvO,GAAIkB,EAAWH,EAAYkI,GACpG6kB,GAAiBmB,GACjBlC,EAAoBkC,EAAe,IAEnC,IAAMxkB,EAAWwkB,EAAe,GAAG1gB,MAC/B9D,IACA0kB,GAAmB1kB,GACnBgkB,GAAkBhkB,MAKxB0kB,GAAqB,SAAC1kB,GACxB,IAAMue,EAAkBR,GAA0B/d,EAASge,YAAerI,EAAmBjT,eAAenM,aAAciI,GAC1H+kB,GAAgBhF,GAChB,IAAM0F,EAAiB3F,GAAsBte,EAAUue,GACvDiE,EAAmByB,GACnBvB,EAAiBuB,EAAengB,MAAMua,SAIpC2F,GAAoB,SAAChkB,GACvB,IAAM2kB,EAAcC,GAAe5kB,GAGnC,GAFAyjB,GAAekB,GAEY,IAAvBA,EAAY/jB,OACZ+hB,EAAkBgC,EAAY,QAC3B,CACH,IAAMziB,EAAkByT,EAAmBpW,gBAAgB2C,gBACrD2iB,EAAiBF,EAAY9lB,MAAK,SAAAimB,GACpC,OAA2B,IAAvBA,EAAahhB,OAAe5B,IAAoBnG,IAElB,IAAvB+oB,EAAahhB,OAAe5B,IAAoBlG,GADhD8oB,EAIA,QAIXnC,EADAkC,GAGkBF,EAAY,MAMpCC,GAAiB,SAAC5kB,GACpB,OAAOA,EAASmf,iBAAiB/pB,KAAI,SAAAiqB,GAEjC,MAAO,CAACxC,MADW6B,GAAcW,EAAmBpd,OAAO1M,IAChCuO,MAAOub,EAAmBpd,OAAO1M,QAK9D2uB,GAA6B,SAAClkB,EAAgCkd,EAAkCmH,GAClG,OAAKrkB,GAAakd,GAAcmH,GAIJ,IAAxBA,EAAQ3mB,cACR2mB,EAAQhG,OAASoE,GAGd,CACHziB,SAAUA,EACVkd,UAAWA,EACXmH,QAASA,EACTvF,eAAgBA,EAAiBA,EAAehb,MAAQ9D,EAASmf,iBAAiB,GAAGld,OAAO1M,GAC5FwpB,eAAgBA,EAChBC,YAAaA,IAbN,MAuET+F,GAA4B,WAC9BnC,GAAmB7D,IAGjBiG,GAAyB,WAC3BnC,GAAgB7D,IAGhB1a,EAAM7D,mBAAqBqiB,GA9DD,WAC1B,GAAKI,GAA8C,IAA3BA,EAAgBtiB,QAInC0D,EAAM7D,kBAAqB6D,EAAM7D,iBAAiByc,UAAvD,CAIA,IAAM+H,EAAuB3gB,EAAM7D,iBAG7BykB,EAAkBhC,EAAgBrkB,MAAK,SAAAqe,GAAS,OAAIA,EAAUpZ,MAAMvO,KAAO0vB,EAAqB/H,UAAU3nB,MAChH,EAAyDogB,EAAmBjT,eAArE/L,EAAP,EAAOA,UAAWF,EAAlB,EAAkBA,UAAWH,EAA7B,EAA6BA,WAAYC,EAAzC,EAAyCA,aAEzC,GAAI2uB,EAAiB,CACjB7C,EAAqB6C,GACrB,IAAMV,EAAiBhH,GAAuB7mB,EAAWuuB,EAAgBphB,MAAMvO,GAAIkB,EAAWH,EAAYkI,GAE1G,GAAIgmB,EAAgB,CAChBnB,GAAiBmB,GACjB,IAAMxkB,EAAWwkB,EAAe3lB,MAAK,SAAAmB,GAAQ,OAAIA,EAAS8D,MAAMvO,KAAO0vB,EAAqBjlB,SAASzK,MAErG,GAAIyK,GAAYA,EAAS8D,OAAS9D,EAAS8D,MAAMka,YAAa,CAC1DsE,EAAoBtiB,GAEpB,IAAM2kB,EAAcC,GAAe5kB,EAAS8D,OAC5C2f,GAAekB,GACf,IAAMQ,EAAWR,EAAY9lB,MAAK,SAAAumB,GAAa,aAAIA,EAActhB,SAAd,UAAwBQ,EAAM7D,wBAA9B,aAAwB,EAAwBqe,mBAC/FqG,GACAxC,EAAkBwC,GAGtB,IAAM5G,EAAkBR,GAA0B/d,EAAS8D,MAAMka,YAAaznB,EAAciI,GAC5F+kB,GAAgBhF,GAEhB,IAAM7gB,EAAcunB,EAAqBZ,QAAQ3mB,YAC3C2nB,EAAgB9G,EAAgB1f,MAAK,SAAAwlB,GAAO,OAAIA,EAAQvgB,MAAMpG,cAAgBA,KACpF,GAAI2nB,EAAe,CACf7C,EAAmB6C,GAGnB,IAAMhH,EAAS4G,EAAqBZ,QAAQhG,OAC5CqE,EAAiBrE,MAQjC0E,GAAe,IAYfuC,GAGJ,IA4DMC,GAAejhB,EAAMkhB,aAAN,UACZpgB,GAAmB0C,mBAAmBtJ,GAD1B,eAEZ4G,GAAmByC,aAAarJ,GAFpB,KAGfolB,GAAmBtf,EAAMuf,sBAAwBvf,EAAMuf,sBAAwB,EAE/E4B,GAAcpO,GAAcqM,IAAc,kBAAoB,GAC9DgC,GAAarO,GAAcqM,IAAc,wCAA0C,qBAEzF,OAAO,+BACH,uBAAKvN,UAAU,YAAf,WACgC,IAA3B7R,EAAMqhB,kBACP,uBAAKxP,UAAU,kCAAf,UACI,wBAAMA,UAAW,aAAjB,UAAgC/Q,GAAmB2C,eAAevJ,GAAlE,OACA,eAAC,KAAD,CAAQ2X,UAAWsP,GACXG,QAAS5C,EACTlf,MAAO1B,GAAsC4gB,EAAe,GAC5D5J,SAAU,SAACtV,GAAD,OA5Q1Bqe,EAD0BnF,EA6QgClZ,QA3Q1DygB,GAAkBvH,GAFO,IAACA,QAiRtB,uBAAK7G,UAAU,kCAAf,UACI,wBAAMA,UAAW,aAAjB,UAAgC/Q,GAAmBgE,gBAAgB5K,GAAnE,OACA,eAAC,KAAD,CAAQ2X,UAAWsP,GACXG,QAAS1C,EACTpf,MAAOse,GAAsCc,EAAgBU,IAC7DxK,SAAU,SAACtV,GAAD,OAhR1Bue,EAD2BnF,EAiRgCpZ,QA/Q3D2gB,GAAevH,GAFW,IAACA,QAoRvB,uBAAK/G,UAAU,kCAAf,UACI,wBAAMA,UAAW,aAAjB,UAAgC/Q,GAAmBiE,eAAe7K,GAAlE,OACA,eAAC,KAAD,CAAQ2X,UAAWsP,GACXG,QAASxC,EACTtf,MAAOrD,GAAsC2iB,EAAc,GAC3DhK,SApRS,SAACpZ,GAC1BsiB,EAAoBtiB,GACpB0kB,GAAmB1kB,EAAS8D,OAC5BkgB,GAAkBhkB,EAAS8D,aAoRvB,sBAAKqS,UAAU,kCAAf,SACI,uBAAKA,UAAW,MAAhB,UACI,uBAAKA,UAAW,oBAAhB,UACI,wBACIA,UAAW,aADf,UAC8B/Q,GAAmBiL,cAAc7R,GAD/D,OAEA,eAAC,KAAD,CAAQ2X,UAAWsP,GACXG,QAAStC,GACTxf,MAAOye,GAAoCe,GAAa,GACxDlK,SAAU,SAACtV,GAAD,OAxRlC0e,EADyB6B,EAyRwCvgB,QAvRjE4e,EAAiB2B,EAAQvgB,MAAMua,QAFP,IAACgG,QA2Rb,uBAAKlO,UAAW,oBAAhB,UACI,uBACIA,UAAW,aADf,SAC8BoP,KAC9B,wBAAOpP,UAAWuP,GACXG,SAAiD,KAAxB,OAAftD,QAAe,IAAfA,OAAA,EAAAA,EAAiBze,MAAMpG,aACjCoG,MAAO2e,EACPrJ,SAxRO,SAACzjB,GAC/B,GAAKA,EAAEiiB,OAAO9T,MAAd,CAKA,IAAMua,EAASyH,SAASnwB,EAAEiiB,OAAO9T,OAE5BiiB,MAAM1H,IACPqE,EAAiBrE,QAPjBqE,EAAiB,cAsKA,WACrB,IAAMsD,EACF,eAAC,KAAD,CAAQ7P,UAAWsP,GACXG,QAASpC,GACTyC,WAAYzC,GAAY5iB,QAAU,GAAKoe,EACvClb,MAAOgb,GAAkC0E,GAAY,GACrDpK,SAAUkL,KAIhB4B,EACF,iCACI,yBAAO/P,UAAU,gBACVgQ,WAAU/gB,GAAmBwL,gCAAgCpS,GADpE,UAEI,eAAC,KAAD,IACA,eAAC4nB,GAAA,EAAKC,MAAN,CAAYC,QAAM,EAACnQ,UAAU,mBACjB0G,MAAOzX,GAAmBuL,wBAAwBnS,GAClD2a,QAAS4F,EACT8G,SAAUrC,GAAY5iB,QAAU,EAChC6V,QAASsO,QAGzB,yBAAO5O,UAAU,gBACVgQ,WAAU/gB,GAAmB0L,6BAA6BtS,GADjE,UAEI,eAAC,KAAD,IACA,eAAC4nB,GAAA,EAAKC,MAAN,CAAYC,QAAM,EAACnQ,UAAU,mBACjB0G,MAAOzX,GAAmByL,qBAAqBrS,GAC/C2a,QAAS6F,EACT6G,SAAUrC,GAAY5iB,QAAU,EAChC6V,QAASuO,WAMjC,OAAO,iCACH,wBAAM7O,UAAW,aAAjB,UAAgC/Q,GAAmBsL,aAAalS,GAAhE,OACE8F,EAAMkhB,aAUJ,iCACI,+BACKQ,IAEL,sBAAK5P,MAAO,CAAC8C,YAAa,OAAQI,WAAY,OAA9C,SACK4M,OAdT,uBAAK/P,UAAW,MAAhB,UACI,sBAAKA,UAAU,wCAAf,SACK6P,IAEL,sBAAK7P,UAAW,QAAhB,SACK+P,UA0EZK,QCvbN,SAASC,GAAkBliB,GAC9B,IAAM0V,EAAkBpE,qBAAWnR,IAC7BkR,EAAqBC,qBAAW5W,IAMhCynB,EAAa,SAAChmB,EAAoC+Z,GACpD,GAAG7E,EAAoB,CACnB,IAAMmD,EAAOna,GAAwBgX,EAAmBjT,eAAejM,UAAWgK,EAAiBT,SAASkB,OAAU8Y,EAAgBxb,UAEtI,OAAO,uBAAK2X,UAAW,MAEXC,MAAO,CAACsQ,aAAc,oBAAqBpN,WAAY,OAF5D,UAGH,sBAAKnD,UAAW,QAAhB,SACI,+BAAIqE,EAAM,EAAV,SAEJ,uBAAKrE,UAAW,QAAhB,UACK2C,EACD,wBACCrY,EAAiB4jB,QAAQhG,OAH9B,QAKA,sBAAKlI,UAAW,QAAhB,SACI,eAACG,GAAA,EAAD,CAAQG,QAAS,kBApBZ,SAAC+D,GAClBlW,EAAMqiB,WAAWnM,GAmBkBoM,CAAapM,IAApC,SACI,eAAC,KAAD,UAbL,8BACiCA,IAkB5C,OAAO,0BAGX,OAAO,sBAAKrE,UAAW,YAAaC,MAAO,CAACyQ,UAAW,QAASC,UAAW,QAApE,SACFxiB,EAAMlE,kBAAkBhL,KAAI,SAACqL,EAAkB+Z,GAAnB,OAA6BiM,EAAWhmB,EAAkB+Z,QCpChF,SAASuM,GAAiBC,EAAwC9kB,GAC7E,IAAI+kB,EAAc,EAElBD,EAAcrK,SAAQ,SAAAlc,GAClBwmB,GAAexmB,EAAiB4jB,QAAQhG,UAG5C,IAAMc,EA0BV,SAAyC6H,EAAwCC,EAAqB/kB,GAClG,IAAMyd,EAmSV,SAA6BqH,EAAwCC,EAAqB/kB,GACtF,IAAIglB,EAAS,EACTC,EAAgB,EAChBC,EAAS,EACTC,EAAW,EACXC,EAAQ,EACRC,EAAgB,EAChBC,EAAU,EACVC,EAAM,EAiBV,OAfAT,EAAcrK,SAAQ,SAAAlc,GAClB,IAAMkf,EAAWf,GAAgBne,GAAkBkf,SAE7C+H,EADiBjnB,EAAiB4jB,QAAQhG,OACT,IAEvC6I,IAAWvH,EAASuH,OAASvH,EAASuH,OAAS,GAAKQ,EACpDP,GAAiBxH,EAASwH,cAAgBO,EAC1CN,GAAUzH,EAASyH,OAASM,EAC5BL,GAAY1H,EAAS0H,SAAWK,EAChCJ,GAAS3H,EAAS2H,MAAQI,EAC1BH,IAAkB5H,EAAS4H,cAAgB5H,EAAS4H,cAAgB,GAAKG,EACzEF,IAAY7H,EAAS6H,QAAU7H,EAAS6H,QAAU,GAAKE,EACvDD,IAAQ9H,EAAS8H,IAAM9H,EAAS8H,IAAM,GAAKC,KAGxC,CACHR,OAAQS,GAAiBT,EAAQD,GACjCE,cAAeQ,GAAiBR,EAAeF,GAC/CG,OAAQO,GAAiBP,EAAQH,GACjCI,SAAUM,GAAiBN,EAAUJ,GACrCK,MAAOK,GAAiBL,EAAOL,GAC/BM,cAAeI,GAAiBJ,EAAeN,GAC/CO,QAASA,EACTC,IAAKA,GApUQG,CAAoBZ,EAAeC,GAC9CpH,EAyUV,SAAgCmH,EAAwCC,EAAqB/kB,GACzF,IAAI2lB,EAAI,EACJC,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAK,EACLC,EAAM,EACNC,EAAI,EACJC,EAAI,EACJ5yB,EAAI,EACJ6yB,EAAI,EAsBR,OApBAxB,EAAcrK,SAAQ,SAAAlc,GAClB,IAAMof,EAAcjB,GAAgBne,GAAkBof,YAEhD6H,EADiBjnB,EAAiB4jB,QAAQhG,OACT,IAEvCwJ,IAAMhI,EAAYgI,EAAIhI,EAAYgI,EAAI,GAAKH,EAC3CI,IAAOjI,EAAYiI,GAAKjI,EAAYiI,GAAK,GAAKJ,EAC9CK,IAAOlI,EAAYkI,GAAKlI,EAAYkI,GAAK,GAAKL,EAC9CM,IAAOnI,EAAYmI,GAAKnI,EAAYmI,GAAK,GAAKN,EAC9CO,IAAOpI,EAAYoI,GAAKpI,EAAYoI,GAAK,GAAKP,EAC9CQ,IAAOrI,EAAYqI,GAAKrI,EAAYqI,GAAK,GAAKR,EAC9CS,IAAOtI,EAAYsI,GAAKtI,EAAYsI,GAAK,GAAKT,EAC9CU,IAAOvI,EAAYuI,GAAKvI,EAAYuI,GAAK,GAAKV,EAC9CW,IAAQxI,EAAYwI,IAAMxI,EAAYwI,IAAM,GAAKX,EACjDY,IAAMzI,EAAYyI,EAAIzI,EAAYyI,EAAI,GAAKZ,EAC3Ca,IAAM1I,EAAY0I,EAAI1I,EAAY0I,EAAI,GAAKb,EAC3C/xB,IAAMkqB,EAAYlqB,EAAIkqB,EAAYlqB,EAAI,GAAK+xB,EAC3Cc,IAAM3I,EAAY2I,EAAI3I,EAAY2I,EAAI,GAAKd,KAGxC,CACHG,EAAGF,GAAiBE,EAAGZ,GACvBa,GAAIH,GAAiBG,EAAIb,GACzBc,GAAIJ,GAAiBI,EAAId,GACzBe,GAAIL,GAAiBK,EAAIf,GACzBgB,GAAIN,GAAiBM,EAAIhB,GACzBiB,GAAIP,GAAiBO,EAAIjB,GACzBkB,GAAIR,GAAiBQ,EAAIlB,GACzBmB,GAAIT,GAAiBS,EAAInB,GACzBoB,IAAKV,GAAiBU,EAAKpB,GAC3BqB,EAAGX,GAAiBW,EAAGrB,GACvBsB,EAAGZ,GAAiBY,EAAGtB,GACvBtxB,EAAGgyB,GAAiBhyB,EAAGsxB,GACvBuB,EAAGb,GAAiBa,EAAGvB,IAzXPwB,CAAuBzB,EAAeC,GACpDlH,EA6XV,SAAgCiH,EAAwCC,EAAqB/kB,GACzF,IAAIwmB,EAAU,EACVC,EAAO,EACPC,EAAY,EACZC,EAAa,EACbC,EAAY,EACZC,EAAS,EACTC,EAAO,EACPC,EAAS,EACTC,EAAY,EACZC,EAAW,EAmBf,OAjBAnC,EAAcrK,SAAQ,SAAAlc,GAClB,IAAMsf,EAAcnB,GAAgBne,GAAkBsf,YAEhD2H,EADiBjnB,EAAiB4jB,QAAQhG,OACT,IAEvCqK,IAAY3I,EAAY2I,QAAU3I,EAAY2I,QAAU,GAAKhB,EAC7DiB,IAAS5I,EAAY4I,KAAO5I,EAAY4I,KAAO,GAAKjB,EACpDkB,GAAc7I,EAAY6I,UAAY7I,EAAY6I,UAAY,EAC9DC,GAAe9I,EAAY8I,WAAa9I,EAAY8I,WAAa,EACjEC,GAAc/I,EAAY+I,UAAY/I,EAAY+I,UAAY,EAC9DC,GAAWhJ,EAAYgJ,OAAShJ,EAAYgJ,OAAS,EACrDC,GAASjJ,EAAYiJ,KAAOjJ,EAAYiJ,KAAO,EAC/CC,GAAWlJ,EAAYkJ,OAASlJ,EAAYkJ,OAAS,EACrDC,GAAcnJ,EAAYmJ,UAAYnJ,EAAYmJ,UAAY,EAC9DC,GAAapJ,EAAYoJ,SAAWpJ,EAAYoJ,SAAW,KAGxD,CACHT,QAASf,GAAiBe,EAASzB,GACnC0B,KAAMhB,GAAiBgB,EAAM1B,GAC7B2B,UAAWjB,GAAiBiB,EAAW3B,GACvC4B,WAAYlB,GAAiBkB,EAAY5B,GACzC6B,UAAWnB,GAAiBmB,EAAW7B,GACvC8B,OAAQpB,GAAiBoB,EAAQ9B,GACjC+B,KAAMrB,GAAiBqB,EAAM/B,GAC7BgC,OAAQtB,GAAiBsB,EAAQhC,GACjCiC,UAAWvB,GAAiBuB,EAAWjC,GACvCkC,SAAUxB,GAAiBwB,EAAUlC,IAparBmC,CAAuBpC,EAAeC,GACpDhH,EAwaV,SAA+B+G,EAAwCC,EAAqB/kB,GACxF,IAAImnB,EAAU,EACVC,EAAW,EACXC,EAAY,EACZC,EAAU,EACVC,EAAU,EACVC,EAAU,EACVC,EAAS,EACTC,EAAQ,EAiBZ,OAfA5C,EAAcrK,SAAQ,SAAAlc,GAClB,IAAMwf,EAAmBrB,GAAgBne,GAAkBwf,iBAErDyH,EADiBjnB,EAAiB4jB,QAAQhG,OACT,IAEvCgL,IAAYpJ,EAAiBoJ,QAAUpJ,EAAiBoJ,QAAU,GAAK3B,EACvE4B,IAAarJ,EAAiBqJ,SAAWrJ,EAAiBqJ,SAAW,GAAK5B,EAC1E6B,IAActJ,EAAiBsJ,UAAYtJ,EAAiBsJ,UAAY,GAAK7B,EAC7E8B,IAAYvJ,EAAiBuJ,QAAUvJ,EAAiBuJ,QAAU,GAAK9B,EACvE+B,IAAYxJ,EAAiBwJ,QAAUxJ,EAAiBwJ,QAAU,GAAK/B,EACvEgC,IAAYzJ,EAAiByJ,QAAUzJ,EAAiByJ,QAAU,GAAKhC,EACvEiC,IAAW1J,EAAiB0J,OAAS1J,EAAiB0J,OAAS,GAAKjC,EACpEkC,IAAU3J,EAAiB2J,MAAQ3J,EAAiB2J,MAAQ,GAAKlC,KAG9D,CACH2B,QAAS1B,GAAiB0B,EAASpC,GACnCqC,SAAU3B,GAAiB2B,EAAUrC,GACrCsC,UAAW5B,GAAiB4B,EAAWtC,GACvCuC,QAAS7B,GAAiB6B,EAASvC,GACnCwC,QAAS9B,GAAiB8B,EAASxC,GACnCyC,QAAS/B,GAAiB+B,EAASzC,GACnC0C,OAAQhC,GAAiBgC,EAAQ1C,GACjC2C,MAAOjC,GAAiBiC,EAAO3C,IAzcV4C,CAAsB7C,EAAeC,GACxD5G,EAkhBV,SAAwB2G,EAAwCC,EAAqB/kB,GACjF,IAAI4nB,EAAkB,EAClBC,EAAkB,EAClBC,EAAY,EACZC,EAAS,EACTC,EAAS,EACTC,EAAiB,EACjBC,EAAc,EACdC,EAAkB,EAEtBrD,EAAcrK,SAAQ,SAAAlc,GAAqB,IAAD,MAChC4f,EAAYzB,GAAgBne,GAAkB4f,UAE9CqH,EADiBjnB,EAAiB4jB,QAAQhG,OACT,IAEvCyL,IAAoBzJ,EAAUyJ,gBAAkBzJ,EAAUyJ,gBAAkB,GAAKpC,EACjFqC,IAAoB1J,EAAU0J,gBAAkB1J,EAAU0J,gBAAkB,GAAKrC,EACjFsC,IAAc3J,EAAU2J,UAAY3J,EAAU2J,UAAY,GAAKtC,EAC/DuC,KAAW,UAAA5J,EAAUC,iBAAV,eAAqB2J,QAAS5J,EAAUC,UAAU2J,OAAS,GAAKvC,EAC3EwC,KAAW,UAAA7J,EAAUC,iBAAV,eAAqB4J,QAAS7J,EAAUC,UAAU4J,OAAS,GAAKxC,EAC3EyC,KAAmB,UAAA9J,EAAUC,iBAAV,eAAqBgK,WAAYjK,EAAUC,UAAUgK,UAAY,GAAK5C,EACzF0C,IAAgB/J,EAAU+J,YAAc/J,EAAU+J,YAAc,GAAK1C,EACrE2C,IAAoBhK,EAAUgK,gBAAkBhK,EAAUgK,gBAAkB,GAAK3C,KAGrF,IAAM6C,GAAcN,EAASC,IAAWD,EAASC,EAASC,GAE1D,MAAO,CACHL,gBAAiBnC,GAAiBmC,EAAiB7C,GACnD8C,gBAAiBpC,GAAiBoC,EAAiB9C,GACnD+C,UAAWrC,GAAiBqC,EAAW/C,GACvC3G,UAAW,CACP2J,OAAQtC,GAAiBsC,EAAQhD,GACjCiD,OAAQvC,GAAiBuC,EAAQjD,GACjCqD,UAAW3C,GAAiBwC,EAAgBlD,GAC5CuD,eAAgBD,GAEpBH,YAAazC,GAAiByC,EAAanD,GAC3CoD,gBAAiB1C,GAAiB0C,EAAiBpD,IAxjBrCwD,CAAezD,EAAeC,GAC1C9G,EA4cV,SAA0B6G,EAAwCC,EAAqB/kB,GACnF,IAAIwoB,EAAa,EACbC,EAAY,EACZC,EAAa,EACbC,EAAU,EACVC,EAAS,EACTC,EAAa,EACbC,EAAU,EACVC,EAAgB,EAChBC,EAAW,EACXC,EAAS,EACTC,EAAW,EACXC,EAAY,EACZC,EAAU,EACVC,EAAe,EACfC,EAAe,EACfC,EAAU,EACVC,EAAU,EACVC,EAAS,EA2Bb,OAzBA3E,EAAcrK,SAAQ,SAAAlc,GAClB,IAAM0f,EAAcvB,GAAgBne,GAAkB0f,YAEhDuH,EADiBjnB,EAAiB4jB,QAAQhG,OACT,IAEvCqM,IAAevK,EAAYuK,WAAavK,EAAYuK,WAAa,GAAKhD,EACtEiD,IAAcxK,EAAYwK,UAAYxK,EAAYwK,UAAY,GAAKjD,EACnEkD,IAAezK,EAAYyK,WAAazK,EAAYyK,WAAa,GAAKlD,EACtEmD,IAAY1K,EAAY0K,QAAU1K,EAAY0K,QAAU,GAAKnD,EAC7DoD,IAAW3K,EAAY2K,OAAS3K,EAAY2K,OAAS,GAAKpD,EAC1DqD,IAAe5K,EAAY4K,WAAa5K,EAAY4K,WAAa,GAAKrD,EACtEsD,IAAY7K,EAAY6K,QAAU7K,EAAY6K,QAAU,GAAKtD,EAC7DuD,IAAkB9K,EAAY8K,cAAgB9K,EAAY8K,cAAgB,GAAKvD,EAC/EwD,IAAa/K,EAAY+K,SAAW/K,EAAY+K,SAAW,GAAKxD,EAChEyD,IAAWhL,EAAYgL,OAAShL,EAAYgL,OAAS,GAAKzD,EAC1D0D,IAAajL,EAAYiL,SAAWjL,EAAYiL,SAAW,GAAK1D,EAChE2D,IAAclL,EAAYkL,UAAYlL,EAAYkL,UAAY,GAAK3D,EACnE4D,IAAYnL,EAAYmL,QAAUnL,EAAYmL,QAAU,GAAK5D,EAC7D6D,IAAiBpL,EAAYoL,aAAepL,EAAYoL,aAAe,GAAK7D,EAC5E8D,IAAiBrL,EAAYqL,aAAerL,EAAYqL,aAAe,GAAK9D,EAC5E+D,IAAYtL,EAAYsL,QAAUtL,EAAYsL,QAAU,GAAK/D,EAC7DgE,IAAYvL,EAAYuL,QAAUvL,EAAYuL,QAAU,GAAKhE,EAC7DiE,IAAWxL,EAAYwL,OAASxL,EAAYwL,OAAS,GAAKjE,KAGvD,CACHgD,WAAY/C,GAAiB+C,EAAYzD,GACzC0D,UAAWhD,GAAiBgD,EAAW1D,GACvC2D,WAAYjD,GAAiBiD,EAAY3D,GACzC4D,QAASlD,GAAiBkD,EAAS5D,GACnC6D,OAAQnD,GAAiBmD,EAAQ7D,GACjC8D,WAAYpD,GAAiBoD,EAAY9D,GACzC+D,QAASrD,GAAiBqD,EAAS/D,GACnCgE,cAAetD,GAAiBsD,EAAehE,GAC/CiE,SAAUvD,GAAiBuD,EAAUjE,GACrCkE,OAAQxD,GAAiBwD,EAAQlE,GACjCmE,SAAUzD,GAAiByD,EAAUnE,GACrCoE,UAAW1D,GAAiB0D,EAAWpE,GACvCqE,QAAS3D,GAAiB2D,EAASrE,GACnCsE,aAAc5D,GAAiB4D,EAActE,GAC7CuE,aAAc7D,GAAiB6D,EAAcvE,GAC7CwE,QAAS9D,GAAiB8D,EAASxE,GACnCyE,QAAS/D,GAAiB+D,EAASzE,GACnC0E,OAAQhE,GAAiBgE,EAAQ1E,IA3gBjB2E,CAAiB5E,EAAeC,GAEhD4E,EAA+B,CAC/BrL,aAAc,IACdve,OAAQ,CAAC1M,GAAI,EAAGu2B,IAAK,GAAIhT,KAAM,IAC/B6G,SAAUA,EACVE,YAAaA,EACbE,YAAaA,EACbE,iBAAkBA,EAClBI,UAAWA,EACXF,YAAaA,GAGjB0L,EAcJ,SAA6CA,EAA8B7E,EAAwC9kB,GAC/G,IAAK8kB,EACD,OAAO6E,EAGX,IAAK,IAAIE,EAAI,EAAGA,EAAI/E,EAAcpmB,OAAQmrB,IAAK,CAC3C,IACM3M,EAAeR,GADEoI,EAAc+E,IAE/BC,EAAY,GAGd5M,EAAaO,SAASwH,eAAiB6E,GACI,MAAvC5M,EAAaO,SAAS4H,gBACtBsE,EAAelM,SAAS4H,cAAgB,MAM5CnI,EAAaO,SAASyH,QAAU4E,IAC3B5M,EAAaiB,WAAiD,MAApCjB,EAAaiB,UAAU2J,YAClD6B,EAAexL,UAAU2J,UAAY,MAGpC5K,EAAaiB,WAAuD,MAA1CjB,EAAaiB,UAAUyJ,kBAClD+B,EAAexL,UAAUyJ,gBAAkB,MAG1C1K,EAAaiB,WAAuD,MAA1CjB,EAAaiB,UAAU0J,kBAClD8B,EAAexL,UAAU0J,gBAAkB,MAG1C3K,EAAaiB,WAAuD,MAA1CjB,EAAaiB,UAAUgK,kBAClDwB,EAAexL,UAAUgK,gBAAkB,MAG1CjL,EAAaiB,WAAmD,MAAtCjB,EAAaiB,UAAU+J,cAClDyB,EAAexL,UAAU+J,YAAc,OAGtChL,EAAaiB,UAAUC,WACvBlB,EAAaiB,WAAajB,EAAaiB,UAAU0J,iBAAmB3K,EAAaiB,UAAU0J,gBAAkBiC,IAC9GH,EAAexL,UAAUC,UAAY,OAMzClB,EAAaO,SAASwH,eAAiB6E,IAClC5M,EAAaa,kBAA2D,MAAvCb,EAAaa,iBAAiB2J,QAChEiC,EAAe5L,iBAAiB2J,MAAQ,MAGvCxK,EAAaa,kBAA6D,MAAzCb,EAAaa,iBAAiBoJ,UAChEwC,EAAe5L,iBAAiBoJ,QAAU,MAGzCjK,EAAaa,kBAA8D,MAA1Cb,EAAaa,iBAAiBqJ,WAChEuC,EAAe5L,iBAAiBqJ,SAAW,MAG1ClK,EAAaa,kBAA+D,MAA3Cb,EAAaa,iBAAiBsJ,YAChEsC,EAAe5L,iBAAiBsJ,UAAY,MAG3CnK,EAAaa,kBAA6D,MAAzCb,EAAaa,iBAAiBuJ,UAChEqC,EAAe5L,iBAAiBuJ,QAAU,MAGzCpK,EAAaa,kBAA6D,MAAzCb,EAAaa,iBAAiByJ,UAChEmC,EAAe5L,iBAAiByJ,QAAU,MAGzCtK,EAAaa,kBAA6D,MAAzCb,EAAaa,iBAAiBwJ,UAChEoC,EAAe5L,iBAAiBwJ,QAAU,MAGzCrK,EAAaa,kBAA4D,MAAxCb,EAAaa,iBAAiB0J,SAChEkC,EAAe5L,iBAAiB0J,OAAS,OAMrB,OAA/BvK,EAAaS,YAAYgI,IAC3BgE,EAAehM,YAAYgI,EAAI,MAGG,OAAhCzI,EAAaS,YAAYiI,KAC3B+D,EAAehM,YAAYiI,GAAK,MAGE,OAAhC1I,EAAaS,YAAYkI,KAC3B8D,EAAehM,YAAYkI,GAAK,MAGE,OAAhC3I,EAAaS,YAAYmI,KAC3B6D,EAAehM,YAAYmI,GAAK,MAGE,OAAhC5I,EAAaS,YAAYoI,KAC3B4D,EAAehM,YAAYoI,GAAK,MAGE,OAAhC7I,EAAaS,YAAYqI,KAC3B2D,EAAehM,YAAYqI,GAAK,MAGE,OAAhC9I,EAAaS,YAAYsI,KAC3B0D,EAAehM,YAAYsI,GAAK,MAGE,OAAhC/I,EAAaS,YAAYuI,KAC3ByD,EAAehM,YAAYuI,GAAK,MAGG,OAAjChJ,EAAaS,YAAYwI,MAC3BwD,EAAehM,YAAYwI,IAAM,MAGA,OAA/BjJ,EAAaS,YAAYyI,IAC3BuD,EAAehM,YAAYyI,EAAI,MAGE,OAA/BlJ,EAAaS,YAAY0I,IAC3BsD,EAAehM,YAAY0I,EAAI,MAGE,OAA/BnJ,EAAaS,YAAYlqB,IAC3Bk2B,EAAehM,YAAYlqB,EAAI,MAGE,OAA/BypB,EAAaS,YAAY2I,IAC3BqD,EAAehM,YAAY2I,EAAI,MAKQ,OAArCpJ,EAAaW,YAAY2I,UAC3BmD,EAAe9L,YAAY2I,QAAU,MAGC,OAApCtJ,EAAaW,YAAYkJ,SAC3B4C,EAAe9L,YAAYkJ,OAAS,MAGA,OAAlC7J,EAAaW,YAAY4I,OAC3BkD,EAAe9L,YAAY4I,KAAO,MAGO,OAAvCvJ,EAAaW,YAAY6I,YAC3BiD,EAAe9L,YAAY6I,UAAY,MAGE,OAAvCxJ,EAAaW,YAAYmJ,YAC3B2C,EAAe9L,YAAYmJ,UAAY,MAGG,OAAxC9J,EAAaW,YAAY8I,aAC3BgD,EAAe9L,YAAY8I,WAAa,MAGC,OAAvCzJ,EAAaW,YAAY+I,YAC3B+C,EAAe9L,YAAY+I,UAAY,MAGC,OAAtC1J,EAAaW,YAAYoJ,WAC3B0C,EAAe9L,YAAYoJ,SAAW,MAGA,OAApC/J,EAAaW,YAAYgJ,SAC3B8C,EAAe9L,YAAYgJ,OAAS,MAGA,OAAlC3J,EAAaW,YAAYiJ,OAC3B6C,EAAe9L,YAAYiJ,KAAO,MAMK,OAArC5J,EAAae,YAAYmL,UAC3BO,EAAe1L,YAAYmL,QAAU,MAGG,OAAtClM,EAAae,YAAYiL,WAC3BS,EAAe1L,YAAYiL,SAAW,MAGM,OAA1ChM,EAAae,YAAYoL,eAC3BM,EAAe1L,YAAYoL,aAAe,MAGH,OAArCnM,EAAae,YAAY6K,UAC3Ba,EAAe1L,YAAY6K,QAAU,MAGO,OAA1C5L,EAAae,YAAYqL,eAC3BK,EAAe1L,YAAYqL,aAAe,MAGH,OAArCpM,EAAae,YAAYsL,UAC3BI,EAAe1L,YAAYsL,QAAU,MAGI,OAAvCrM,EAAae,YAAYkL,YAC3BQ,EAAe1L,YAAYkL,UAAY,MAGG,OAAxCjM,EAAae,YAAYyK,aAC3BiB,EAAe1L,YAAYyK,WAAa,MAGD,OAArCxL,EAAae,YAAY0K,UAC3BgB,EAAe1L,YAAY0K,QAAU,MAGC,OAApCzL,EAAae,YAAY2K,SAC3Be,EAAe1L,YAAY2K,OAAS,MAGM,OAAxC1L,EAAae,YAAY4K,aAC3Bc,EAAe1L,YAAY4K,WAAa,MAGK,OAA3C3L,EAAae,YAAY8K,gBAC3BY,EAAe1L,YAAY8K,cAAgB,MAGJ,OAArC7L,EAAae,YAAYuL,UAC3BG,EAAe1L,YAAYuL,QAAU,MAGC,OAApCtM,EAAae,YAAYwL,SAC3BE,EAAe1L,YAAYwL,OAAS,MAGK,OAAvCvM,EAAae,YAAYwK,YAC3BkB,EAAe1L,YAAYwK,UAAY,MAGG,OAAxCvL,EAAae,YAAYuK,aAC3BmB,EAAe1L,YAAYuK,WAAa,MAGA,OAAtCtL,EAAae,YAAY+K,WAC3BW,EAAe1L,YAAY+K,SAAW,MAGA,OAApC9L,EAAae,YAAYgL,SAC3BU,EAAe1L,YAAYgL,OAAS,MAKnC,OAAOU,EA7QUI,CAAoCJ,EAAgB7E,GAErE,IAAM7H,EAAwC,GAG9C,OAFAA,EAAiB9e,KAAKwrB,GAEf1M,EAlDkB+M,CAAgClF,EAAeC,GAClE1xB,GAAK,IAAI42B,MAAOC,UAqBtB,MAbyC,CACrC72B,GAAIA,EACJyK,SARgC,CAChCzK,GAAIA,EACJ4pB,iBAAkBA,EAClBkN,YAAY,GAMZhI,QAAS,CACL3mB,YAAa,IACb2gB,OAAQ4I,GAEZqF,qBAAsBtF,EACtBlI,gBAAiB,EACjBC,gBAAgB,EAChBC,aAAa,GAykBrB,SAAS2I,GAAiB7jB,EAAOyoB,GAC7B,OAAQzoB,EAAQyoB,EAAsB,ICtmBnC,SAASC,GAAUloB,GACtB,IAAM0V,EAAkBpE,qBAAWnR,IAEnC,OAAKH,EAAMmoB,SAMP,sBAAKtW,UAAU,QAAQC,MAAO,CAACsW,QAAS,SAAUnU,KAAK,SAAvD,SACI,sBAAKpC,UAAU,eAAeoC,KAAK,WAAnC,SACI,uBAAKpC,UAAU,gBAAf,UACI,uBAAKA,UAAU,eAAf,UACI,qBAAIA,UAAU,cAAd,SAA6B7R,EAAMmoB,SAASE,QAC5C,yBAAQ5T,KAAK,SACL5C,UAAU,YACVyW,eAAa,QACbC,aAAW,QACXpW,QAASnS,EAAMwoB,oBAG3B,sBAAK3W,UAAU,aAAf,SACI,uBAAM4W,wBAAyB,CAACC,OAAQ1oB,EAAMmoB,SAASQ,aAE3D,sBAAK9W,UAAU,eAAf,SACI,yBAAQ4C,KAAK,SACL5C,UAAU,kBACVM,QAASnS,EAAMwoB,eAFvB,SAGK1nB,GAAmBM,aAAasU,EAAgBxb,qBAxB7D,sDCPT,SAAS0uB,GAAYC,EAAqBC,GAC7C,IACMC,EADWvT,EAAQ,KACFwT,QAAQzuB,MAAM,SAACwuB,GAAD,OAAWA,EAAM93B,KAAO43B,KAE7D,GAAGE,EAAO,CAMN,IALA,IAAME,EAAkBH,IAAexxB,GAAcyxB,EAAM9nB,GAAK8nB,EAAM/nB,GAChEqnB,EAAQY,EAAgBZ,MACxBa,EAAeD,EAAgBN,QAEjCA,EAAU,GACNlB,EAAE,EAAGA,EAAIyB,EAAa5sB,OAAQmrB,IAClCkB,GAAWO,EAAazB,GACrBA,EAAKyB,EAAa5sB,OAAO,IACxBqsB,GAAW,UAInB,MAAO,CACHN,MAAOA,EACPM,QAASA,GAIjB,OAAO,KCJX,IAsJeQ,GAtJ6C,SAACnpB,GACzD,IAAMqR,EAAqBC,qBAAW5W,IAC/BR,EAAYoX,qBAAWnR,IAAvBjG,SAEP,EAAgDwG,mBAAkC,MAAlF,oBAAOvE,EAAP,KAAyB6hB,EAAzB,KACA,EAA0Ctd,mBAAkC,IAA5E,oBAAOgiB,EAAP,KAAsB0G,EAAtB,KACA,EAA0C1oB,oBAAkB,GAA5D,oBAAO2oB,EAAP,KAAsBC,EAAtB,KAEA,IAAKjY,EACD,OAAO,yBAGX,IAAMyO,EAAyB,SAAC3jB,GAC5B6hB,EAAoB7hB,IAsBlBotB,EAAW,WACTvpB,EAAMwpB,kBACNC,IAEAC,KAIFA,EAAqB,WACvB,IAAMztB,EAAaE,EAAmBA,EAAiBT,SAASzK,GAAK,KACrE,GAAIgL,IACwB,OAAGoV,QAAH,IAAGA,OAAH,EAAGA,EAAoBpW,gBAAgBC,cAAcY,kBAAkBvB,MAAK,SAAAmB,GAAQ,OAAIA,EAASzK,KAAOgL,MAI5H,YADA0tB,sBAAoBlvB,MAAMqG,GAAmBwN,+BAA+BpU,IAK/EiC,GAAqBA,EAAiBT,UAAaS,EAAiByc,WAAczc,EAAiB4jB,QAE7F5jB,EAAiB4jB,QAAQhG,OAAS,GAAK5d,EAAiB4jB,QAAQhG,OtBrEjD,IsBsEtB4P,sBAAoBlvB,MAAMqG,GAAmB0N,8BAA8BtU,KAE3E8F,EAAM4pB,yBAAyBztB,GAC/B6D,EAAM6pB,UALNF,sBAAoBlvB,MAAMqG,GAAmByN,8BAA8BrU,KAS7EuvB,EAAoB,WACEpY,EAAmBpW,gBAAgB2C,gBAA3D,IACIksB,EAA6BrH,GAAiBC,GAE7CoH,IAILA,EAA0B,2BAAOA,GAAP,IAAmC/B,YAAY,IACzE/nB,EAAM4pB,yBAAyBE,GAC/B9pB,EAAM6pB,WAWJxB,EAAQroB,EAAMwpB,kBAAoB1oB,GAAmBmE,6BAA6B/K,GAAY4G,GAAmBkE,mBAAmB9K,GACpIiuB,EAAWnoB,EAAMwpB,kBAAoBZ,GAAY,GAAI1uB,GAAY0uB,GAAY,EAAG1uB,GAEtF,OACI,gBAAC6vB,GAAA,EAAD,CAAOprB,KAAM,KAAMqrB,MAAM,EAAMH,OAAQ7pB,EAAM6pB,OAA7C,UACI,eAACE,GAAA,EAAM7W,OAAP,UACI,6BAAImV,MAER,gBAAC0B,GAAA,EAAME,KAAP,WACKZ,GAA8B,OAAblB,GAClB,eAACD,GAAD,CAAWC,SAAUA,EAAUK,eAAgB,kBAAMc,GAAiB,MAEtE,+BACMtpB,EAAMwpB,kBAGJ,sBAAK3X,UAAW,YAAhB,SACI,uBAAKA,UAAW,MAAhB,UACI,sBAAKA,UAAW,QAAhB,SACI,eAAC4L,GAAD,CAAcqC,uBAAwBA,EACxBoB,cAAc,MAEhC,sBAAKrP,UAAW,QAAhB,SACI,eAACqQ,GAAD,CAAmBpmB,kBAAmB4mB,EACnBL,WAhFpB,SAACnM,GAC5B,IAAMgU,EAAgC,aAAOxH,GAC7CwH,EAAQC,OAAOjU,EAAO,GACtBkT,EAAiBc,aAmED,eAACzM,GAAD,CAAcqC,uBAAwBA,EAAwBoB,cAAc,SAiBxF,gBAAC6I,GAAA,EAAMK,OAAP,CAAcvY,UAAW,0BAAzB,UACI,+BACI,eAACG,GAAA,EAAD,CAAQH,UAAW,oBAAqBM,QArChC,WACpBmX,GAAiB,IAoCL,SACI,eAAC,KAAD,QAGR,uBAAKzX,UAAW,mCAAhB,UACI,eAACG,GAAA,EAAD,CAAQH,UAAW,4BAA6BM,QA9C/C,WACbnS,EAAM6pB,UA6CM,SACK/oB,GAAmBI,cAAchH,KAErC8F,EAAMwpB,kBACH,eAACxX,GAAA,EAAD,CAAQH,UAAW,cACXM,QAASoX,EACThI,UAAWmB,GAAiBA,EAAcpmB,OAAS,EAF3D,SAGKwE,GAAmBa,YAAYzH,KAGpC,eAAC8X,GAAA,EAAD,CAAQH,UAAW,cAAeM,QAASoX,EAA3C,SACKzoB,GAAmBY,cAAcxH,KAIzC8F,EAAMwpB,mBACP,eAACxX,GAAA,EAAD,CAAQH,UAAW,cAAeM,QA3HtB,WACxB,GAAyB,OAArBhW,EAA2B,CAC3B,GAAIA,EAAiB4jB,QAAQhG,OAAS,GAAK5d,EAAiB4jB,QAAQhG,OtB/B9C,IsBiClB,YADA4P,sBAAoBlvB,MAAMqG,GAAmB0N,8BAA8BtU,IAI/E,IAAMgwB,EAAgC,aAAOxH,GAC7CwH,EAAQnuB,KAAKI,GACbitB,EAAiBc,KAkHT,SACKppB,GAAmBC,WAAW7G,e,UCtJjDmwB,G,4JAEF,WACI,MAQI9qB,KAAKS,MAPLsqB,EADJ,EACIA,QACAC,EAFJ,EAEIA,YACAlC,EAHJ,EAGIA,MACAmC,EAJJ,EAIIA,aACAR,EALJ,EAKIA,KACAS,EANJ,EAMIA,QANJ,IAOIC,oBAPJ,SAUA,OACI,gBAACX,GAAA,EAAD,CACIC,KAAMA,EACNH,OAAQ,kBAAMY,GAAQ,IACtBE,WAAUD,GAAsB,SAChCE,SAAUF,EACVG,YAAY,EALhB,UAMI,eAACd,GAAA,EAAM7W,OAAP,UACI,eAAC6W,GAAA,EAAMe,MAAP,UAAczC,MAElB,eAAC0B,GAAA,EAAME,KAAP,UAAaO,IACb,gBAACT,GAAA,EAAMK,OAAP,WACI,eAACpY,GAAA,EAAD,CAAQF,MAAO,CAACG,SAAU,QAClBE,QAAS,kBAAMsY,GAAQ,IAD/B,SAEKF,IAEL,eAACvY,GAAA,EAAD,CACIF,MAAO,CAACG,SAAU,QAClBJ,UAAU,mBACVM,QAAS,kBAAMsY,GAAQ,IAH3B,SAIKH,c,GAjCQS,IAAM7qB,WA2ChC,SAAS8qB,GACZR,EACAF,EACAC,GAGD,IAFCjJ,EAEF,uDAFY,GACV2J,EACF,uCACE,OAAOC,8BAAmBC,uBAAYd,IAA/Ba,CAAA,yBACHV,eACAF,UACAC,eACGjJ,GAJA,IAKH2J,WCvED,IAAMG,GAAe,2BACfC,GAAc,2BAGdC,GAAY,2BAIZC,GAAkB,oBAGlBC,GAAa,2BAKbC,GAAsB,sBACtBC,GAAsB,sBAKtBC,GAAuB,qBAEvBC,GAA4B,sBAC5BC,GAA4B,oBAI5BC,GAAmBN,GAMnBO,GAAuB,IAWvBC,GAzCa,2BA0CbC,GAAeb,GACfc,GAAcb,GACdc,GA9CoB,2BA+CpBC,GAzCoB,sBA2CpBC,GAA2BT,GAC3BU,GAA4BT,GAC5BU,GA5B4B,qBA8B5BC,GAAyBb,GACzBc,GApCuB,sBAqCvBC,GAvCuB,qBAyCvBC,GAhCqB,qBAkCrBC,GAAgBrB,GAEhBsB,GAAiBvB,GAEjBwB,GAAyBnB,GACzBoB,GAAgCnB,GAChCoB,GAAgCnB,GAEhCoB,GAvDsB,oBAwDtBC,GAnDuB,qBAqDvBC,GAAoB3B,GAEpB4B,GAAY5B,GAEZ6B,GAAwB,UACxBC,GAAwB,U,SCrE9B,SAASC,GAAmBlF,EAAemF,EAAcC,GAC5D,IAAIC,EAAa,CACbrF,MAAO,CACHD,SAAS,EACT/S,KAAMmY,IAUd,OANGC,IACCC,EAAK,2BAAOA,GAAP,IAAcC,IAAK,EAAGC,IAAKH,KAK7BI,GAAWxF,EAAOmF,EAFJ,CAACM,EAAGJ,IAMtB,SAASK,GAA6B1F,EAAemF,GAExD,OAAOK,GAAWxF,EAAOmF,EA0C7B,SAAkCA,GAC9B,IAAIQ,EAAyB,KAEzBR,IACAQ,EAAa,CACT5F,SAAS,EACT6F,YAAaT,IAIrB,IAAIU,EAAU,GACVF,IACAE,EAAO,WAAiBF,GAiB5B,MAZe,CACXG,MAHU,CAACD,GAIXE,MAAO,CAAC,CACJC,MAAO,CACHC,UAAU,EACVC,SAAU,SAAU/uB,EAAO0W,EAAOsY,GAC9B,OvBnDb,SAAqBha,EAAMia,GAC9B,GAAGja,EAAKlY,QAAUmyB,EACd,OAAOja,EAGX,GAAGA,EAAKka,SAAS,KAAM,CACnB,IAAMC,EAAena,EAAKoa,QAAQ,KAClC,GAAGD,GAAgBF,EAAU,EACzB,OAAOja,EAAKb,UAAU,EAAGgb,EAAa,GAAGE,OAAS,MAI1D,OAAOra,EAAKb,UAAU,EAAG8a,EAAU,GAAGI,OAAS,MuBuCxBC,CAAYtvB,EAAO,SAlE3BuvB,CAAyBvB,IAKrC,SAASwB,GAAmB3G,EAAemF,GAC9C,OAAOK,GAAWxF,EAAOmF,GAI7B,SAASK,GAAWxF,EAAemF,EAAcyB,GAC7C,IAEI3N,EAAe,CACf4N,qBAAqB,EACrBC,YAAY,EACZC,QAAS,CACL/G,MANSA,EAAQ,CAACD,SAAS,EAAM/S,KAAMgT,EAAOgH,SAAU,IAAM,KAO9DC,QAASC,GAAY/B,GACrBgC,OAAQ,CACJpH,SAAS,KASrB,YAJqBxN,IAAjBqU,IACA3N,EAAO,2BAAOA,GAAP,IAAgBmO,OAAQR,KAG5B3N,EAGX,SAASiO,GAAY/B,GACjB,MAAO,CACHkC,SAAS,EACTR,qBAAqB,EACrBS,UAAW,CACPpX,MAAO,SAAAqX,GAAW,gBAAOA,EAAYrX,MAAnB,aAA6BqX,EAAYC,eAAzC,YAA2DrC,MC1DlF,SAASsC,GAA0B9vB,GACtC,IAAM0V,EAAkBpE,qBAAWnR,IAEnC,OACI,sBAAK0R,UAAU,sBAAf,SACI,sBAAKA,UAAU,MAAf,SACI,wBAAMA,UAAU,yBAAhB,UACI,eAACiQ,GAAA,EAAKiO,MAAN,CAAYle,UAAU,gBAAtB,SACI,+BAAI/Q,GAAmB4C,gBAAgBgS,EAAgBxb,UAAvD,SAEJ,eAAC4nB,GAAA,EAAKC,MAAN,CAAYC,QAAQ,EACRzJ,MAAOzX,GAAmB6C,oBAAoB+R,EAAgBxb,UAC9Dua,KAAK,QACLjV,MAAO/M,EACPoiB,QAAS7U,EAAMhH,YAAcvG,EAC7BqiB,SAAU9U,EAAMgwB,yBAE5B,eAAClO,GAAA,EAAKC,MAAN,CAAYC,QAAQ,EACRlQ,MAAO,CAACsE,aAAc,QACtBmC,MAAOzX,GAAmB8C,oBAAoB8R,EAAgBxb,UAC9Dua,KAAK,QACLjV,MAAO9M,EACPmiB,QAAS7U,EAAMhH,YAActG,EAC7BoiB,SAAU9U,EAAMgwB,yBAE5B,eAAClO,GAAA,EAAKC,MAAN,CAAYC,QAAQ,EACRzJ,MAAOzX,GAAmBmB,gCAAgCyT,EAAgBxb,UAC1Ewa,eAAgB1U,EAAM/G,WACtBsoB,SAAUvhB,EAAMhH,YAActG,EAC9Byf,QAASnS,EAAMiwB,4BAE1BjwB,EAAMkwB,0BACP,eAACpO,GAAA,EAAKC,MAAN,CAAYC,QAAQ,EACRzJ,MAAOzX,GAAmBoB,iCAAiCwT,EAAgBxb,UAC3Ewa,eAAgB1U,EAAM9G,YACtBiZ,QAASnS,EAAMmwB,oCCpCxC,SAASC,GAAapwB,GAyBzB,OACI,sBAAK6R,UAAW,YAAaC,MAAO,CAACue,WAAY,oBAAqBzb,YAAa,OAAnF,SACI,sBAAK9C,MAAO,CAACkD,WAAY,OAAzB,SAzBa,WAGjB,IAFA,IAAIwa,EAA8B,GAEzB/H,EAAI,EAAGA,EAAIznB,EAAMswB,WAAWh0B,OAAQmrB,IAAK,CAC9C,IAAM8I,EAAUvwB,EAAMswB,WAAW7I,GAC3B+I,EAASD,EAAQC,OAAS,EAAI,OAAS,MACvCC,EAAgBF,EAAQG,oBAAsB,OAAS,MACvDz/B,EAAE,oBAAgBw2B,GAExB+H,EAAOzzB,KACH,sBAAc8V,UAAU,MAAMC,MAAO,CAAC6e,WAAYH,EAAQzY,aAAc0Y,GAAxE,SACI,uBAAK3e,MAAO,CAACsW,QAAS,QAAtB,UACI,sBAAKvW,UAAU,aAAaC,MAAO,CAAC8e,WAAYL,EAAQM,SACxD,oBAAG/e,MAAO,CAACwD,UAAW,QAAtB,SAAgCib,EAAQO,WAHtC7/B,IASlB,OAAOu+B,EAOEuB,OC9BV,SAASC,GAAqBC,EAAmCC,EAAyBC,GAC7F,OAAyB,IAAlBD,EACDD,EAAiB1e,OAAS,EAC1B4e,IAAax5B,GJyBgB,IIvBzBo0B,GAGP,SAASqF,GAA8BH,EAAmCC,GAC7E,OAAyB,IAAlBA,EACDF,GAAqBC,EAAkBC,GAAiB,GACxDF,GAAqBC,EAAkBC,GAAiB,GCW3D,SAASG,GAAU7xB,GAiBtB,OAAO8xB,GAAM9xB,EAdVA,GAAS,IACM,EACRA,EAAQ,KAAOA,GAAS,GAChB,EACRA,EAAQ,IAAMA,GAAS,EACf,EACRA,EAAQ,GAAKA,GAAS,GACd,EACRA,EAAQ,IAAOA,GAAS,IAChB,EAEA,GASf,SAAS8xB,GAAM9xB,EAAO+xB,GACzB,IAAMC,EAAcC,KAAKC,IAAI,GAAIH,GACjC,OAAQE,KAAKH,MAAM9xB,EAAQgyB,GAAgBA,EAGxC,SAASG,GAAiBC,GAE7B,IASIC,EA8CJ,OA5CIA,EADAD,EAAgB,GACL,GACJA,EAAgB,GACZ,GACJA,EAAgB,EACZ,GACJA,EAAgB,EACZ,EACJA,EAAgB,EACZ,EACJA,EAAgB,GACZ,EACJA,EAAgB,GACZ,GACJA,EAAgB,GACZ,GACJA,EAAgB,IACZ,GACJA,EAAgB,IACZ,IACJA,EAAgB,IACZ,IACJA,EAAgB,IACZ,IACJA,EAAgB,IACZ,IACJA,EAAgB,IACZ,IACJA,EAAgB,IACZ,IACJA,EAAgB,IACZ,IACJA,EAAgB,IACZ,IACJA,EAAgB,IACZ,IACJA,EAAgB,IACZ,IAEA,IAMRN,GAvDS,SAAC9xB,EAAeqyB,GAC5B,IAAMC,EAAYtyB,EAAQqyB,EAC1B,OAAkB,IAAdC,EACOtyB,EAEAA,EAAQqyB,EAAWC,EAkDrBC,CAFbH,GAAgC,KAEIC,GAAU,GAO3C,SAASG,GAAuBC,EAAgBV,GAEtD,IADA,IAAIW,EAAY,UAAMD,GAChBC,EAAa51B,OAASi1B,GAC3BW,EAAY,WAAOA,GAEpB,OAAOA,EAID,SAASC,GAAsB3yB,GACrC,OAAiB,IAAVA,EAAiB,EAAI,EAGtB,SAAS4yB,GAAuB5yB,GACtC,MAAiB,MAAVA,ECrBD,SAAS6yB,GAAuBC,EAAcp5B,GACjD,IAAMo3B,EAA2B,CAC7B,CACIQ,KAAMhwB,GAAmB+K,qBAAqBymB,GAC9CzB,MAAO0B,GACP7B,qBAAqB,GAEzB,CACII,KAAMhwB,GAAmByG,sBAAsB+qB,GAC/CzB,MAAO0B,IAEX,CACIzB,KAAMhwB,GAAmBmI,wBAAwBqpB,GACjDzB,MAAO0B,IAEX,CACIzB,KAAMhwB,GAAmB8F,mCAAmC0rB,GAC5DzB,MAAO0B,IAEX,CACIzB,KAAMhwB,GAAmB2F,uBAAuB6rB,GAChDzB,MAAO0B,KA0Bf,OAtBIr5B,GACAo3B,EAAWv0B,KACP,CACI+0B,KAAMhwB,GAAmBuJ,qBAAqBioB,GAC9CzB,MAAO0B,GACP/B,OAAQ,GAEZ,CACIM,KAAMhwB,GAAmBsG,6BAA6BkrB,GACtDzB,MAAO0B,GACP/B,OAAQ,EACRE,qBAAqB,IAMjCJ,EAAWv0B,KAAK,CACZ+0B,KAAMhwB,GAAmB4F,mBAAmB4rB,GAC5CzB,MAAO0B,KAGJjC,EC5II,SAASkC,GAAcxyB,GAClC,IAAMqR,EAAqBC,qBAAW5W,IAEhC43B,EADkBhhB,qBAAWnR,IACNjG,SACvBklB,EAAa3M,KAEb1V,EAAciD,EAAMyyB,oBACpBzyB,EAAMyyB,oBACNphB,EACIA,EAAmBpW,gBAAgBC,cAAc8B,gBAAgBjE,gBACjED,GAAuBC,gBAE3B25B,EAAkB31B,EAAY7D,YAC9B6D,EAAY7D,YACZmY,EACIA,EAAmBpW,gBAAgBC,cAAc8B,gBAAgBjE,gBAAgBG,YACjFJ,GAAuBC,gBAAgBG,YAEjD,EAAkCwH,mBAAiB3D,EAAY/D,WAA/D,oBAAOA,EAAP,KAAkB25B,EAAlB,KACA,EAAoCjyB,mBAAkB3D,EAAY9D,YAAlE,oBAAOA,EAAP,KAAmB25B,EAAnB,KACA,EAAsClyB,mBAAkBgyB,GAAxD,oBAAOx5B,EAAP,KAAoB25B,EAApB,KACA,EAAsCnyB,mBAAiBswB,GAAqB5R,EAAYpf,EAAM8yB,iBAAkBn7B,KAAhH,oBAAOo7B,EAAP,KAAoBC,EAApB,KAEApgB,qBAAU,WACF5S,EAAMyyB,sBACNE,EAAa51B,EAAY/D,WACzB45B,EAAc71B,EAAY9D,YAC1B45B,EAAeH,IAGnBM,EAAehC,GAAqB5R,EAAYpf,EAAM8yB,iBAAkBn7B,KACxEs7B,MACD,CAACj6B,EAAWE,EAAaD,EAAY85B,EAAa/yB,IAErD,IAAMizB,EAAoB,WACtB,GAAI5hB,IAAuBrR,EAAMyyB,oBAAqB,CAClD,IAAMS,EAAgB7hB,EAAmBpW,gBAAgBC,cAAc8B,gBACvE,GAAIhE,IAAck6B,EAAcn6B,gBAAgBC,WACzCE,IAAgBg6B,EAAcn6B,gBAAgBG,aAC9CD,IAAei6B,EAAcn6B,gBAAgBE,WAAY,CAC5D,IAAMk6B,EAAc,2BACbD,GADa,IAEhBn6B,gBAAiB,CACbC,UAAWA,EACXE,YAAaA,EACbD,WAAYA,KAGpBoY,EAAmB1R,qBAAqB7C,+BAA+Bq2B,MAmD7EC,EAAgBn6B,GAAcD,IAAcvG,EAE5Co7B,EAAa,SAACxF,GAChB,OAAOrvB,IAActG,EAAiB66B,GAAmBlF,EAAO,KAAO2G,GAAmB3G,EAAO,MAI/FgL,EAAiB,SAAChL,EAAeiL,GACnC,OAAKA,EAKD,iCACKt6B,IAAcvG,GACf,eAAC,KAAD,CACI8gC,KAAMD,EAEN/gB,OAAQwgB,EACR1gB,MPxGmB,IOyGnBiP,QAASuM,EAAWxF,IAHf,SAAW0K,GAKnB/5B,IAActG,GACf,eAAC,KAAD,CACI6gC,KAAMD,EAEN/gB,OAAQwgB,EACR1gB,MP/GmB,IOgHnBiP,QAASuM,EAAWxF,IAHf,SAAW0K,MAhBjB,0BAyBTS,EAhFuB,WACzB,IAAMC,EDlEP,SAA2B3Y,EAA4B5gB,GAC1D,IAAMw5B,EAAqD,OAAlC5Y,EAAaO,SAAS6H,QACzCmO,GAAUvW,EAAaO,SAAS6H,SAChC,KAEAqQ,EAAO,CAAClC,GAAUvW,EAAaO,SAAS2H,OAC1CqO,GAAUvW,EAAaO,SAASwH,eAChCwO,GAAUvW,EAAaO,SAASyH,QAChCuO,GAAUvW,EAAaO,SAAS0H,UAChCsO,GAAUvW,EAAaO,SAAS8H,MAG9BwQ,EAAmB,CAAC7yB,GAAmB+K,qBAAqB3R,GAC9D4G,GAAmB8F,mCAAmC1M,GACtD4G,GAAmByG,sBAAsBrN,GACzC4G,GAAmBmI,wBAAwB/O,GAC3C4G,GAAmB4F,mBAAmBxM,IAEpC05B,EAAS,CACXrB,GACAA,GACAA,GACAA,GACAA,IASJ,OANwB,OAArBmB,IACCH,EAAKx3B,KAAK23B,GACVC,EAAO53B,KAAK+E,GAAmB2F,uBAAuBvM,IACtD05B,EAAO73B,KAAKw2B,KAGT,CACHoB,OAAQA,EACRnF,OAAQ+E,EACRK,OAAQA,GC+BmCC,CAAkBvZ,GAAgBta,EAAM7D,kBAAmBm2B,GAEtG,MAAO,CACHqB,OAAQF,EAAiBE,OACzBG,SAAU,CAAC,CACPvb,MAAOzX,GAAmB6D,6BAA6B2tB,GACvDiB,KAAME,EAAiBjF,OACvBhY,gBAAiBid,EAAiBG,OAClCG,YAAa,EACbC,YAAa,UAsEFC,GACjBC,EAlE0B,WAC5B,IAAMT,EDzCP,SAA8B3Y,EAA4B5gB,EAAkBhB,GAAyC,IAAD,EACjHi7B,EAAarZ,EAAaO,SAASwH,cAAgB/H,EAAaO,SAASyH,OAAShI,EAAaO,SAAS0H,SAExGuC,GAAQ,UAAAxK,EAAaa,wBAAb,eAA+B2J,OAAQxK,EAAaa,iBAAiB2J,MAAQ,EACrFrC,EAAgBnI,EAAaO,SAAS4H,cAAgBnI,EAAaO,SAAS4H,cAAgB,EAE9FmR,EAAYl7B,EAAe4hB,EAAaO,SAASwH,cAAgByC,EAAQrC,EACvEnI,EAAaO,SAASwH,cAExBuR,EAAY,IACZA,EAAY,GAGhB,IAAMC,EAAgBhD,GAAU+C,EAAYD,EAAa,KACnDG,EAAiBjD,GAAU/L,EAAQ6O,EAAa,KAChDI,EAAoBlD,GAAUpO,EAAgBkR,EAAa,KAC3DK,EAAiBnD,GAAUvW,EAAaO,SAASyH,OAASqR,EAAa,KACvEM,EAAoBpD,GAAUvW,EAAaO,SAAS0H,SAAWoR,EAAa,KAC5ET,EAAqD,OAAlC5Y,EAAaO,SAAS6H,QACzCmO,GAAUvW,EAAaO,SAAS6H,QAAUiR,EAAa,KACvD,KAEAR,EAAS,CAAC7yB,GAAmByG,sBAAsBrN,GACrD4G,GAAmBmI,wBAAwB/O,GAC3C4G,GAAmB8F,mCAAmC1M,IAEjC,OAArBw5B,GACAC,EAAO53B,KAAK+E,GAAmB2F,uBAAuBvM,IAG1D,IAAMs0B,EAAS,CAACgG,EAAgBC,EAAmBJ,GAC1B,OAArBX,GACAlF,EAAOzyB,KAAK23B,GAGhB,IAAME,EAAS,CACXrB,GACAA,GACAA,IAoBJ,OAjByB,OAArBmB,GACAE,EAAO73B,KAAKw2B,IAGZr5B,IACIo7B,EAAiB,IACjBX,EAAO53B,KAAK+E,GAAmBuJ,qBAAqBnQ,IACpDs0B,EAAOzyB,KAAKu4B,GACZV,EAAO73B,KAAKw2B,KAEZgC,EAAoB,IACpBZ,EAAO53B,KAAK+E,GAAmBuG,mCAAmCnN,IAClEs0B,EAAOzyB,KAAKw4B,GACZX,EAAO73B,KAAKw2B,MAIb,CACHoB,OAAQA,EACRnF,OAAQA,EACRoF,OAAQA,GCpBmCc,CAAqBpa,GAAgBta,EAAM7D,kBAAmBm2B,EAAMp5B,GAE/G,MAAO,CACHy6B,OAAQF,EAAiBE,OACzBG,SAAU,CAAC,CACPvb,MAAOzX,GAAmB4D,gCAAgC4tB,GAC1DiB,KAAME,EAAiBjF,OACvBhY,gBAAiBid,EAAiBG,OAClCG,YAAa,EACbC,YAAa,UAwDCW,GAEpBC,EAAsB9zB,GAAmB6D,6BAA6B2tB,GACtEuC,EAAyB/zB,GAAmB4D,gCAAgC4tB,GAE5EwC,EAAkB1D,GAA8BhS,EAAYpf,EAAM8yB,kBAClEiC,EAAiB/0B,EAAM8yB,iBAAmB,SAAW,OAE3D,OACI,uBAAKjhB,UAAU,kBAAf,UACI,uBAAKA,UAAU,2BAA2BC,MAAO,CAACijB,eAAgBA,GAAlE,UACI,sBAAKljB,UAAU,iBAAf,SACI,uBAAKA,UAAU,MAAMC,MAAO,CAACS,OAAQuiB,GAArC,UAEI,sBAAKjjB,UAAU,QAAf,SACI,+BAAMwhB,EAAeuB,EAAqBpB,OAE9C,sBAAK3hB,UAAU,QAAf,SACI,+BAAMwhB,EAAewB,EAAwBX,SAL3C,wBAA0BY,KASvC1B,GACD,sBAAKvhB,UAAU,6BAAf,SACI,eAACue,GAAD,CAAcE,WAAY+B,GAAuBC,EAAMp5B,WAI7D8G,EAAM8yB,kBACR,sBAAKjhB,UAAU,oBAAf,SACI,eAACie,GAAD,CAA2B92B,UAAWA,EACXC,WAAYA,EACZC,YAAaA,EACbg3B,0BAA0B,EAC1BF,uBApFR,SAAC3c,GAC5Bsf,EAAatf,EAAMC,OAAO9T,OAC1ByzB,KAmFmChD,0BAhFL,WAC9B2C,GAAe35B,GACfg6B,KA+EmC9C,2BA5EJ,WAC/B0C,GAAgB35B,GAChB+5B,YClHD,IAAM+B,GAAiB,IACjBC,GAAiB,IACjBC,GAAiB,IACjBC,GAAiB,IACjBC,GAAiB,IACjBC,GAAiB,IACjBC,GAAiB,ICsBvB,SAASC,GAAe/1B,GAC3B,OAAOA,GACH,KAAKg2B,GACD,OAAO,EACX,KAAKA,GACD,OAAO,EACX,KAAKA,GACD,OAAO,EACX,KAAKA,GACD,OAAO,EACX,KAAKA,GACD,OAAO,EACX,KAAKA,GACD,OAAO,EACX,KAAKA,GACD,OAAO,EACX,QACI,OAAO,GA2BnB,SAASC,GAAsBv7B,EAAUwe,GACrC,IAAMgd,EAAa,sBAAkBhd,GAC/BlE,EAAO1T,GAAmB40B,GAAex7B,GAEzCy7B,EAAW,uBAAmBjd,GAC9BlZ,EAAQg2B,EAAgBG,GAC9B,MAAM,GAAN,OAAUnhB,EAAV,aAAmBhV,EAAnB,KC/DW,SAASo2B,GAAgB51B,GACpC,IAAMqR,EAAqBC,qBAAW5W,IAChCgb,EAAkBpE,qBAAWnR,IAC7BmyB,EAAO5c,EAAgBxb,SACvBklB,EAAa3M,KAGbojB,EADevb,GAAgBta,EAAM7D,kBACXkf,SAASuH,OACzC,EAAsCliB,mBAAiBswB,GAAqB5R,EAAYpf,EAAM8yB,mBAA9F,oBAAOC,EAAP,KAAoBC,EAApB,KAMA,GAJApgB,qBAAU,WACNogB,EAAehC,GAAqB5R,EAAYpf,EAAM8yB,qBACvD,CAACC,KAEC1hB,IAAuBwkB,EACxB,OAAO,4CAGX,IAwFMtC,EAxFyB,WAC3B,IAAMuC,EAAiB91B,EAAM7D,iBAAiB4jB,QAAQhG,OAChDgc,EAAgBtE,KAAKH,MAAMuE,EAAa,IAAMC,GAEpD,MAAO,CACHnC,OAAQ,CAAC,QAAS,WAClBG,SAAU,CAAC,CACPP,KAAM,CAACsC,EACHE,GAEJvf,gBAAiB,CACb+b,GACAA,IAEJwB,YAAa,EACbC,YAAa,UAyEZgC,GACb,IAAKzC,EACD,OAAO,sBAAKzhB,MAAO,CAACS,OAAQwZ,IAArB,SAA6CjrB,GAAmB0F,aAAa8rB,KAGxF,IAAMwC,EAAkB1D,GAA8BhS,EAAapf,EAAM8yB,kBAEzE,OACI,uBAAKjhB,UAAU,kBAAf,UACI,uBAAKA,UAAU,OAAOC,MAAO,CAACS,OAAQuiB,GAAtC,UACI,sBAAKjjB,UAAU,QAAf,SACI,+BACI,eAAC,KAAD,CACI0hB,KAAMA,EAENhhB,OAAQwgB,EACRzR,QAlEL,WACf,MAA0DjQ,EAAmB5T,SAAtEiB,EAAP,EAAOA,IAAKC,EAAZ,EAAYA,KAAMC,EAAlB,EAAkBA,OAAQC,EAA1B,EAA0BA,IAAKG,EAA/B,EAA+BA,SAAUC,EAAzC,EAAyCA,cACnCg3B,EDYP,SAAsBv3B,EAAaC,EAAcC,EAAgBC,GACpE,GAAGA,IAAQtH,GAAU,CACjB,IAAM0+B,EAAM,IAAMr3B,EAAS,KAAOD,EAAO,IAAMD,EAAM,IACrD,OAAO+yB,KAAKH,MAAM2E,GAElB,IAAMA,EAAM,IAAMr3B,EAAS,EAAMD,EAAO,IAAMD,EAAM,GACpD,OAAO+yB,KAAKH,MAAM2E,GClBNC,CAAax3B,EAAKC,EAAMC,EAAQC,GACtCs3B,ED4BP,SAAyCF,EAAaj3B,EAAkBC,GAK3E,OAJGA,IACCD,GAAY,IAGTi3B,EAAMj3B,ECjCWo3B,CAAgCH,EAAKj3B,EAAUC,GAE7Do3B,EAAa,CACfC,YAAa,CACTC,MAAO,CACHC,SAAU,oBACV/hB,KAAM,OACNgiB,KAAM,aACNC,QAAS,WACTC,KAAMV,EACNW,KAAMX,EACNjC,YVxEU,2BUyEVD,YAAa,EACbxb,MAAO,CACHmX,SAAS,EACT/G,QAAS7nB,GAAmByD,gBAAgB+tB,KAGpDuE,MACI,CACIL,SAAU,oBACV/hB,KAAM,OACNgiB,KAAM,aACNC,QAAS,WACTC,KAAMR,EACNS,KAAMT,EACNnC,YVxFO,yBUyFPD,YAAa,EACbxb,MAAO,CACHmX,SAAS,EACT/G,QAAS7nB,GAAmB0D,8BAA8B8tB,OAM1EhR,EAAeiM,GAAmBzsB,GAAmBiD,uBAAuB2R,EAAgBxb,UAAW,QAQ3G,OAPAonB,EAAO,2BACAA,GADA,IACS8N,QAAQ,2BACb9N,EAAQ8N,SADI,IAEfiH,WAAYA,MAuBSxI,IAFJ,SAAWkF,OAM5B,sBAAKlhB,UAAU,QAAf,SApFJ,sBAAKC,MAAO,CAAC8C,YAAa,OAAQI,WAAY,QAA9C,SACK3D,EAAmB5T,SAASyB,cACxB,iCACG,6BAAI4B,GAAmB4P,oBAAoB4hB,KAC3C,6BAAIxxB,GAAmB6P,oBAAoB2hB,QAG/C,6BAAIxxB,GAAmB8P,oBAAoB0hB,WAkEU,oBAAsBwC,GAenF,sBAAKhjB,MAAO,CAACS,OAAQ,aC1I1B,SAASukB,GAA0B92B,GACtC,IACMsyB,EADkBhhB,qBAAWnR,IACNjG,SAEvB6R,EAAgB/L,EAAM7D,iBAAN,UACd2E,GAAmBiL,cAAcumB,GADnB,aAC6BtyB,EAAM7D,iBAAiB4jB,QAAQhG,OAD5D,OAEhBjZ,GAAmBiL,cAAcumB,GAEvC,OACI,sBAAKzgB,UAAU,4BAAf,SACI,sBAAKA,UAAU,yBAAf,SACI,wBAAMA,UAAU,yBAAhB,UACI,eAACiQ,GAAA,EAAKiO,MAAN,CAAYle,UAAW,gBAAvB,SACI,+BAAI/Q,GAAmBmL,gBAAgBqmB,GAAvC,SAEJ,eAACxQ,GAAA,EAAKC,MAAN,CAAYtN,KAAK,QACLuN,QAAQ,EACRzJ,MAAO,OACP/Y,MAAOhN,EACPqiB,QAAU7U,EAAM5G,cAAgB5G,EAChCsiB,SAAU9U,EAAMgwB,yBAE5B,eAAClO,GAAA,EAAKC,MAAN,CAAYtN,KAAK,QACLuN,QAAQ,EACRlQ,MAAO,CAACsE,aAAc,QACtBmC,MAAOxM,EACPvM,MAAOjN,EACPsiB,QAAS7U,EAAM5G,cAAgB7G,EAC/BuiB,SAAU9U,EAAMgwB,yBAE5B,eAAClO,GAAA,EAAKC,MAAN,CAAYlQ,UAAU,mBACVmQ,QAAQ,EACRzJ,MAAOzX,GAAmBuB,oBAAoBiwB,GAC9Czd,QAAS7U,EAAM3G,UACfyb,SAAU9U,EAAM+2B,iCAECnc,IAA5B5a,EAAMg3B,wBAAyDpc,IAAtB5a,EAAMnG,aAChD,eAAEioB,GAAA,EAAKC,MAAP,CAAalQ,UAAU,mBACnBmQ,QAAQ,EACRzJ,MAAOzX,GAAmB0B,qBAAqB8vB,GAC/Czd,QAAS7U,EAAMnG,YACfib,SAAU9U,EAAMg3B,2BClCjC,SAASC,GAA0BC,EAAyCz5B,GAC/E,IAAI05B,EA6BJ,OA1BIA,EADA15B,EAASiB,KAAO,GACOw4B,EAAuBE,OACvC35B,EAASiB,KAAO,GACAw4B,EAAuBG,UACvC55B,EAASiB,KAAO,GACAw4B,EAAuBI,aACvC75B,EAASiB,KAAO,GACAw4B,EAAuBK,YACvC95B,EAASiB,IACOw4B,EAAuBM,OAM9C/5B,EAASoB,MAAQtH,GACT4/B,EAAqBM,KAEzBh6B,EAASqB,SACDq4B,EAAqBO,eAAiBP,EAAqBO,eAAiBP,EAAqBQ,OAClGl6B,EAASsB,eACRo4B,EAAqBS,oBAAsBT,EAAqBS,oBAEhET,EAAqBQ,OAiBlC,SAASE,GAA8BX,EAAyCY,EAAsBnV,EAAqBllB,GAC9H,IAAMs6B,EAAmBd,GAA0BC,EAAwBz5B,GAC3E,OAAoB,MAAhBklB,EACO8O,KAAKH,MAAMwG,EAAeC,EAAmB,KAAQ,GAErDtG,KAAKH,MAAMwG,EAAeC,GAAkC,GAAdpV,IAAqB,GAe3E,SAASqV,GAAiCC,EAAqBH,EAAsBnV,EAAqBllB,GAC7G,IAAMs6B,EAAoBE,EAAcx6B,EAASmB,OAAU,IAE3D,OAAoB,MAAhB+jB,EACO8O,KAAKH,MAAMwG,EAAeC,EAAmB,KAAQ,GAErDtG,KAAKH,MAAMwG,EAAeC,GAAkC,GAAdpV,IAAqB,GAK3E,SAASuV,GAAuCC,EAAuCrH,EAAc/W,EAAgBtc,GACxH,IAAIy5B,EA0FJ,GAxFIpG,IAASsH,IACTlB,EAAyBiB,EAAkBE,uBAAuB9U,GAGlEuN,IAASsH,IACTlB,EAAyBiB,EAAkBE,uBAAuB7U,IAGlEsN,IAASsH,IACTlB,EAAyBiB,EAAkBE,uBAAuB5U,IAGlEqN,IAASsH,IACTlB,EAAyBiB,EAAkBE,uBAAuB3U,IAGlEoN,IAASsH,IACTlB,EAAyBiB,EAAkBE,uBAAuB1U,IAGlEmN,IAASsH,IACTlB,EAAyBiB,EAAkBE,uBAAuBzU,IAGlEkN,IAASsH,IACTlB,EAAyBiB,EAAkBE,uBAAuBvU,IAGlEgN,IAASsH,IACTlB,EAAyBiB,EAAkBE,uBAAuBtU,KAGlE+M,IAASsH,IACTlB,EAAyBiB,EAAkBE,uBAAuBrU,GAGlE8M,IAASsH,IACTlB,EAAyBiB,EAAkBE,uBAAuBpU,GAGlE6M,IAASsH,IACTlB,EAAyBiB,EAAkBE,uBAAuBhnC,GAGlEy/B,IAASsH,IACTlB,EAAyBiB,EAAkBE,uBAAuBnU,GAGlE4M,IAASsH,IACTlB,EAAyBiB,EAAkBG,uBAAuBlU,SAGlE0M,IAASsH,IACTlB,EAAyBiB,EAAkBG,uBAAuB3T,QAGlEmM,IAASsH,IACTlB,EAAyBiB,EAAkBG,uBAAuBjU,MAGlEyM,IAASsH,IACTlB,EAAyBiB,EAAkBG,uBAAuBhU,WAGlEwM,IAASsH,IACTlB,EAAyBiB,EAAkBG,uBAAuB1T,WAGlEkM,IAASsH,IACTlB,EAAyBiB,EAAkBG,uBAAuB/T,YAGlEuM,IAASsH,IACTlB,EAAyBiB,EAAkBG,uBAAuB9T,WAGlEsM,IAASsH,IACTlB,EAAyBiB,EAAkBG,uBAAuBzT,UAGlEiM,IAASsH,IACTlB,EAAyBiB,EAAkBG,uBAAuB7T,QAGlEqM,IAASsH,IACTlB,EAAyBiB,EAAkBG,uBAAuB5T,OAGjEwS,EAED,OADA18B,QAAQC,MAAM,yCACP,EAGX,IAAMs9B,EAAmBd,GAA0BC,EAAwBz5B,GAC3E,OAAOg0B,KAAKH,MAAMvX,EAASge,EAAmB,KAAQ,GCzK3C,SAASQ,GAAoBv4B,GACxC,IAAMqR,EAAqBC,qBAAW5W,IAEhC43B,EADkBhhB,qBAAWnR,IACNjG,SACvBklB,EAAa3M,KAEb+lB,EAAsBx4B,EAAMyyB,oBAC5BzyB,EAAMyyB,oBACNphB,EACIA,EAAmBpW,gBAAgBC,cAAc8B,gBAAgB7D,mBACjEL,GAAuBK,mBAE3Bs/B,EAAsBz4B,EAAMyyB,oBAC5BzyB,EAAMyyB,oBACNphB,EACIA,EAAmBpW,gBAAgBC,cAAc8B,gBAAgB1D,mBACjER,GAAuBQ,mBAEjC,EAAwDoH,mBAAiB83B,EAAoBp/B,aAA7F,oBAAOs/B,EAAP,KAA6BC,EAA7B,KACA,EAAoDj4B,mBAAkB83B,EAAoBn/B,WAA1F,oBAAOu/B,EAAP,KAA2BC,EAA3B,KACA,EAAoDn4B,mBAAiB+3B,EAAoBr/B,aAAzF,oBAAO0/B,EAAP,KAA2BC,EAA3B,KACA,EAAoDr4B,mBAAkB+3B,EAAoBp/B,WAA1F,oBAAO2/B,EAAP,KAA2BC,EAA3B,KACA,EAAsCv4B,mBAAiBswB,GAAqB5R,EAAYpf,EAAM8yB,mBAA9F,oBAAOC,EAAP,KAAoBC,EAApB,KAeA,GAbApgB,qBAAU,WACF5S,EAAMyyB,sBACNkG,EAAwBH,EAAoBp/B,aAC5Cy/B,EAAsBL,EAAoBn/B,WAC1C0/B,EAAsBN,EAAoBr/B,aAC1C6/B,EAAsBR,EAAoBp/B,YAG9C25B,EAAehC,GAAqB5R,EAAYpf,EAAM8yB,mBACtDG,MACD,CAACyF,EAAsBI,EAAoBF,EAAoBI,EAAoBjG,EAAa/yB,KAG9FqR,GAAgF,OAA1DA,EAAmBjT,eAAe9L,oBACzD,OAAO,yBAGX,IAYM2gC,EAAoB,WACtB,IAAKjzB,EAAMyyB,qBAbS,WACpB,IAAMyG,EAASl5B,EAAMm5B,mBAAqBxmC,EACpC0e,EAAmBpW,gBAAgBC,cAAc8B,gBAAgB7D,mBACjEkY,EAAmBpW,gBAAgBC,cAAc8B,gBAAgB1D,mBAEvE,OAAI0G,EAAMm5B,mBAAqBxmC,EACpB+lC,IAAyBQ,EAAO9/B,aAAew/B,IAAuBM,EAAO7/B,UAE7Ey/B,IAAuBI,EAAO9/B,aAAe4/B,IAAuBE,EAAO7/B,UAKpD+/B,IAC1B/nB,EAAoB,CACpB,IAAM8hB,EAAc,2BACb9hB,EAAmBpW,gBAAgBC,cAAc8B,iBADpC,IAEhB7D,mBAAoB,CAChBC,YAAas/B,EACbr/B,UAAWu/B,GAEft/B,mBAAoB,CAChBF,YAAa0/B,EACbz/B,UAAW2/B,KAInB3nB,EAAmB1R,qBAAqB7C,+BAA+Bq2B,KA8D7EnD,EAAyB,SAAC3c,GACxBrT,EAAMm5B,mBAAqBxmC,EAC3BgmC,EAAwBtlB,EAAMC,OAAO9T,OAC9BQ,EAAMm5B,mBAAqBvmC,GAClCmmC,EAAsB1lB,EAAMC,OAAO9T,QAIrC65B,EAAuB,WACrBr5B,EAAMm5B,mBAAqBxmC,EAC3BkmC,GAAuBD,GAChB54B,EAAMm5B,mBAAqBvmC,GAClCqmC,GAAuBD,IAmFzBzF,EAAOvzB,EAAMm5B,mBAAqBxmC,EAvJT,WAAO,IAAD,EAC3B4oB,EAAcjB,GAAgBta,EAAM7D,kBAAkBof,YACtD+d,EAAe,UAAGjoB,EAAmBjT,eAAe9L,2BAArC,aAAG,EAAuD+lC,uBACzE56B,EAAW4T,EAAmB5T,SAC9B0gB,EAAgBua,IAAyBlmC,EAAO,IAAMwN,EAAM7D,iBAAiB4jB,QAAQhG,OAE3F,IAAKwB,IAAgB+d,EACjB,OAAO,KAGX,IAAM7F,EC7FP,SAA6BlY,EAA0B+d,EAAyC77B,EACnE0gB,GAChC,IAAMwV,EAAwB,GACxBnF,EAAwB,GA8D9B,OA5DsB,OAAlBjT,EAAYgI,IACZoQ,EAAO53B,KAAK,KACZyyB,EAAOzyB,KAAK87B,GAA8ByB,EAAgB/V,EAAGhI,EAAYgI,EAAGpF,EAAe1gB,KAGxE,OAAnB8d,EAAYiI,KACZmQ,EAAO53B,KAAK,MACZyyB,EAAOzyB,KAAK87B,GAA8ByB,EAAgB9V,GAAIjI,EAAYiI,GAAIrF,EAAe1gB,KAG1E,OAAnB8d,EAAYkI,KACZkQ,EAAO53B,KAAK,MACZyyB,EAAOzyB,KAAK87B,GAA8ByB,EAAgB7V,GAAIlI,EAAYkI,GAAItF,EAAe1gB,KAG1E,OAAnB8d,EAAYmI,KACZiQ,EAAO53B,KAAK,MACZyyB,EAAOzyB,KAAK87B,GAA8ByB,EAAgB5V,GAAInI,EAAYmI,GAAIvF,EAAe1gB,KAG1E,OAAnB8d,EAAYoI,KACZgQ,EAAO53B,KAAK,MACZyyB,EAAOzyB,KAAK87B,GAA8ByB,EAAgB3V,GAAIpI,EAAYoI,GAAIxF,EAAe1gB,KAG1E,OAAnB8d,EAAYqI,KACZ+P,EAAO53B,KAAK,MACZyyB,EAAOzyB,KAAK87B,GAA8ByB,EAAgB1V,GAAIrI,EAAYqI,GAAIzF,EAAe1gB,KAG1E,OAAnB8d,EAAYuI,KACZ6P,EAAO53B,KAAK,MACZyyB,EAAOzyB,KAAK87B,GAA8ByB,EAAgBxV,GAAIvI,EAAYuI,GAAI3F,EAAe1gB,KAGzE,OAApB8d,EAAYwI,MACZ4P,EAAO53B,KAAK,OACZyyB,EAAOzyB,KAAK87B,GAA8ByB,EAAgBvV,IAAKxI,EAAYwI,IAAK5F,EAAe1gB,KAG7E,OAAlB8d,EAAYyI,IACZ2P,EAAO53B,KAAK,KACZyyB,EAAOzyB,KAAK87B,GAA8ByB,EAAgBtV,EAAGzI,EAAYyI,EAAG7F,EAAe1gB,KAGzE,OAAlB8d,EAAY0I,IACZ0P,EAAO53B,KAAK,KACZyyB,EAAOzyB,KAAK87B,GAA8ByB,EAAgBrV,EAAG1I,EAAY0I,EAAG9F,EAAe1gB,KAGzE,OAAlB8d,EAAYlqB,IACZsiC,EAAO53B,KAAK,KACZyyB,EAAOzyB,KAAK87B,GAA8ByB,EAAgBjoC,EAAGkqB,EAAYlqB,EAAG8sB,EAAe1gB,KAGzE,OAAlB8d,EAAY2I,IACZyP,EAAO53B,KAAK,KACZyyB,EAAOzyB,KAAK87B,GAA8ByB,EAAgBpV,EAAG3I,EAAY2I,EAAG/F,EAAe1gB,KAGxF,CACHk2B,OAAQA,EACRnF,OAAQA,GD0BiB+K,CAAoBhe,EAAa+d,EAAiB77B,EAAU0gB,GAE/Eqb,EAAax5B,EAAMyyB,qBAAuBzyB,EAAMyyB,oBAAoBgH,cACpEz5B,EAAMyyB,oBAAoBgH,cAC1BlH,GAEN,MAAO,CACHoB,OAAQF,EAAiBE,OACzBG,SAAU,CAAC,CACPvb,MAAOzX,GAAmBwD,yBAAyBguB,GACnDiB,KAAME,EAAiBjF,OACvBhY,gBAAiBgjB,EACjBzF,YAAa,EACbC,YAAa,UAgIgC0F,GA3H1B,WAAO,IAAD,EAC3Bje,EAAcnB,GAAgBta,EAAM7D,kBAAkBsf,YACtD6d,EAAe,UAAGjoB,EAAmBjT,eAAe9L,2BAArC,aAAG,EAAuDgmC,uBACzE76B,EAAW4T,EAAmB5T,SAC9B0gB,EAAgBua,IAAyBlmC,EAAO,IAAMwN,EAAM7D,iBAAiB4jB,QAAQhG,OAE3F,IAAK0B,IAAgB6d,EACjB,OAAO,KAGX,IAAM7F,ECjDP,SAA8BhY,EAA0B6d,EAAyC77B,EACnE0gB,EAAuBjkB,GACxD,IAAMy5B,EAAwB,GACxBnF,EAAwB,GAoD9B,OAlD4B,OAAxB/S,EAAY2I,UACZuP,EAAO53B,KAAK+E,GAAmBuH,2BAA2BnO,IAC1Ds0B,EAAOzyB,KAAK87B,GAA8ByB,EAAgBlV,QAAS3I,EAAY2I,QAASjG,EAAe1gB,KAGlF,OAArBge,EAAY4I,OACZsP,EAAO53B,KAAK+E,GAAmByH,wBAAwBrO,IACvDs0B,EAAOzyB,KAAK87B,GAA8ByB,EAAgBjV,KAAM5I,EAAY4I,KAAMlG,EAAe1gB,KAGvE,OAA1Bge,EAAY6I,YACZqP,EAAO53B,KAAK+E,GAAmB0H,6BAA6BtO,IAC5Ds0B,EAAOzyB,KAAK87B,GAA8ByB,EAAgBhV,UAAW7I,EAAY6I,UAAWnG,EAAe1gB,KAGhF,OAA3Bge,EAAY8I,aACZoP,EAAO53B,KAAK+E,GAAmB4H,8BAA8BxO,IAC7Ds0B,EAAOzyB,KAAK87B,GAA8ByB,EAAgB/U,WAAY9I,EAAY8I,WAAYpG,EAAe1gB,KAGnF,OAA1Bge,EAAY+I,YACZmP,EAAO53B,KAAK+E,GAAmB6H,8BAA8BzO,IAC7Ds0B,EAAOzyB,KAAK87B,GAA8ByB,EAAgB9U,UAAW/I,EAAY+I,UAAWrG,EAAe1gB,KAGpF,OAAvBge,EAAYgJ,SACZkP,EAAO53B,KAAK+E,GAAmB+H,0BAA0B3O,IACzDs0B,EAAOzyB,KAAK87B,GAA8ByB,EAAgB7U,OAAQhJ,EAAYgJ,OAAQtG,EAAe1gB,KAGhF,OAArBge,EAAYiJ,OACZiP,EAAO53B,KAAK+E,GAAmBgI,wBAAwB5O,IACvDs0B,EAAOzyB,KAAK87B,GAA8ByB,EAAgB5U,KAAMjJ,EAAYiJ,KAAMvG,EAAe1gB,KAG1E,OAAvBge,EAAYkJ,SACZgP,EAAO53B,KAAK+E,GAAmBwH,0BAA0BpO,IACzDs0B,EAAOzyB,KAAK87B,GAA8ByB,EAAgB3U,OAAQlJ,EAAYkJ,OAAQxG,EAAe1gB,KAG3E,OAA1Bge,EAAYmJ,YACZ+O,EAAO53B,KAAK+E,GAAmB2H,6BAA6BvO,IAC5Ds0B,EAAOzyB,KAAK87B,GAA8ByB,EAAgB1U,UAAWnJ,EAAYmJ,UAAWzG,EAAe1gB,KAGlF,OAAzBge,EAAYoJ,WACZ8O,EAAO53B,KAAK+E,GAAmB8H,4BAA4B1O,IAC3Ds0B,EAAOzyB,KAAK87B,GAA8ByB,EAAgBzU,SAAUpJ,EAAYoJ,SAAU1G,EAAe1gB,KAGtG,CACHk2B,OAAQA,EACRnF,OAAQA,GDRiBmL,CAAqBle,EAAa6d,EAAiB77B,EAAU0gB,EAAemU,GAE/FkH,EAAax5B,EAAMyyB,qBAAuBzyB,EAAMyyB,oBAAoBgH,cACpEz5B,EAAMyyB,oBAAoBgH,cb7HZ,2BagIpB,MAAO,CACH9F,OAAQF,EAAiBE,OACzBG,SAAU,CAAC,CACPvb,MAAOzX,GAAmBsD,yBAAyBkuB,GACnDiB,KAAME,EAAiBjF,OACvBhY,gBAAiBgjB,EACjBzF,YAAa,EACbC,YAAa,UAoG2D4F,GACpF,IAAKrG,EACD,OAAO,yBAGX,IAAMsG,EAAYtG,GAAQA,EAAKO,UAAYP,EAAKO,SAASx3B,OAAS,EAAKm1B,KAAK7D,IAAL,MAAA6D,KAAI,aAAQ8B,EAAKO,SAAS,GAAGP,OAAQ,EAKtGjS,EAzFa,SAAC+G,EAAOwR,GACvB,IAKIpM,EALEp0B,EAAY2G,EAAMm5B,mBAAqBxmC,EAAiBimC,EAAqBI,EAC7Ec,EAAkB95B,EAAMyyB,qBAAuBzyB,EAAMyyB,oBAAoBoH,SACzE75B,EAAMyyB,oBAAoBoH,SAC1BA,EAGD75B,EAAMyyB,qBAKHzyB,EAAMyyB,oBAAoBoH,WAC1BpM,EAAYztB,EAAMyyB,oBAAoBoH,UAEtCxgC,SACkBuhB,IAAd6S,EACIqM,EAAkB,MAClBrM,EAAY,KAETA,EAAY,MACnBA,EAAY,OAbhBp0B,GAAaygC,EAAkB,MAC/BrM,EAAY,KAiBpB,IASIsM,EAAkBxM,GAAmBlF,EAAO,IAAKoF,GAwBrD,OAtBIztB,EAAMm5B,mBAAqBxmC,IAC3BonC,EAAe,2BACRA,GADQ,IACS3K,QAAQ,2BACrB2K,EAAgB3K,SADI,IACKE,QAAQ,2BAC7ByK,EAAgB3K,QAAQE,SADI,IACKK,UAAU,2BACvCoK,EAAgB3K,QAAQE,QAAQK,WADM,IAEzCtH,MAAO,SAAU2R,GACb,GAAIA,GAAWA,EAAQ19B,OAAS,EAAG,CAC/B,IAAM29B,EAnBD,SAACC,GAC9B,IAAMC,EAAY,iCAAmCD,EAAQE,cAC7D,OAAGt5B,GAAmBq5B,GACXr5B,GAAmBq5B,GAAW7H,GAE9B,KAcoC+H,CAAyBL,EAAQ,GAAGzhB,OACvD8P,EAAK,kBAAc2R,EAAQ,GAAGzhB,OAIlC,OAHG0hB,IACC5R,EAAK,UAAMA,EAAN,cAAiB4R,EAAjB,MAEF5R,aAS5B0R,EA8BKlM,CAHF7tB,EAAMm5B,mBAAqBxmC,EAAiBmO,GAAmBwD,yBAAyBguB,GAClGxxB,GAAmBsD,yBAAyBkuB,GAEduH,GAC5B/E,EAAkB1D,GAA8BhS,EAAYpf,EAAM8yB,kBAExE,OACI,uBAAKjhB,UAAU,kBAAf,UACI,sBAAKA,UAAU,MAAMC,MAAO,CAACS,OAAQuiB,GAArC,SACI,sBAAKjjB,UAAW,SAAhB,SACI,eAAC,KAAD,CACI0hB,KAAMA,EAENhhB,OAAQwgB,EACRzR,QAASA,GAFJ,SAAWyR,MAJgC,wBAA0B+B,IAU1D,IAA3B90B,EAAM8yB,kBACP,sBAAKjhB,UAAU,oBAAf,SA1C6B,WACjC,IAAMzY,EAAc4G,EAAMm5B,mBAAqBxmC,EAAiB+lC,EAAuBI,EACjFz/B,EAAY2G,EAAMm5B,mBAAqBxmC,EAAiBimC,EAAqBI,EAE7EsB,EAAgB,CAClBn+B,iBAAkB6D,EAAM7D,iBACxB/C,YAAaA,EACbC,UAAWA,EACX22B,uBAAwBA,EACxB+G,0BAA2BsC,GAG/B,OAAO,eAACvC,GAAD,eAA+BwD,IA+B7BC,QEpKV,SAASC,GAA0BtgC,GACtC,MAAO,CACH,CACI42B,KAAMhwB,GAAmBiI,sBAAsB7O,GAC/C22B,MAAO0B,IAEX,CACIzB,KAAMhwB,GAAmBkI,sBAAsB9O,GAC/C22B,MAAO0B,IAEX,CACIzB,KAAMhwB,GAAmB2L,cAAcvS,GACvC22B,MAAO0B,KC1FJ,SAASkI,GAAgBz6B,GACpC,IAAMqR,EAAqBC,qBAAW5W,IAChCgb,EAAkBpE,qBAAWnR,IAC7BmyB,EAAO5c,EAAgBxb,SACvBklB,EAAa3M,KAEb1V,EAAciD,EAAMyyB,oBACpBzyB,EAAMyyB,oBACNphB,EACIA,EAAmBpW,gBAAgBC,cAAc8B,gBAAgBzD,kBACjET,GAAuBS,kBAE3BmhC,EAAoB16B,EAAMyyB,oBAAN,OACpBphB,QADoB,IACpBA,OADoB,EACpBA,EAAoBpW,gBAAgBmC,uBAAuBG,yBAAyBhE,kBAAkBF,UACtG0D,EAAY1D,UAEZshC,EAAyB36B,EAAMyyB,oBAAN,OACzBphB,QADyB,IACzBA,OADyB,EACzBA,EAAoBpW,gBAAgBmC,uBAAuBG,yBAAyBhE,kBAAkBC,eACtGuD,EAAYvD,eAElB,EAAkCkH,mBAAiB3D,EAAY/D,WAA/D,oBAAOA,EAAP,KAAkB25B,EAAlB,KACA,EAAoCjyB,mBAAkB3D,EAAY9D,YAAlE,oBAAOA,EAAP,KAAmB25B,EAAnB,KACA,EAAgDlyB,mBAAkBi6B,IAAgD,GAAlH,oBAAOnhC,EAAP,KAAuBohC,EAAvB,KACA,EAAkCl6B,mBAAkBg6B,IAAsC,GAA1F,oBAAOrhC,EAAP,KAAkBwhC,EAAlB,KACA,EAAgCn6B,mBAAiB3D,EAAYtD,SAAWsD,EAAYtD,SAAW9C,IAA/F,oBAAO8C,EAAP,KAAiBqhC,EAAjB,KACA,EAAsCp6B,mBAAiBswB,GAAqB5R,EAAYpf,EAAM8yB,mBAA9F,oBAAOC,EAAP,KAAoBC,EAApB,KAEApgB,qBAAU,WACF5S,EAAMyyB,sBACNE,EAAa51B,EAAY/D,WACzB45B,EAAc71B,EAAY9D,YAC1B6hC,EAAY/9B,EAAYtD,SAAWsD,EAAYtD,SAAW9C,KAG9Dq8B,EAAehC,GAAqB5R,EAAYpf,EAAM8yB,mBACtDG,MACD,CAACj6B,EAAWC,EAAYO,EAAgBH,EAAWI,EAAUs5B,EAAa3T,EAAYpf,IAEzF,IAAMizB,EAAoB,WACtB,GAAI5hB,IAAuBrR,EAAMyyB,oBAAqB,CAClD,IAAMS,EAAgB7hB,EAAmBpW,gBAAgBC,cAAc8B,gBAAgBzD,kBACvF,GAAIP,IAAck6B,EAAcl6B,WACzBQ,IAAmB05B,EAAc15B,gBACjCH,IAAc65B,EAAc75B,WAC5BI,IAAay5B,EAAcz5B,UAC3BR,IAAei6B,EAAcj6B,WAAY,CAC5C,IAAMk6B,EAAc,2BACb9hB,EAAmBpW,gBAAgBC,cAAc8B,iBADpC,IAEhBzD,kBAAmB,CACfP,UAAWA,EACXC,WAAYA,EACZQ,SAAUA,EACVD,eAAgBA,EAChBH,UAAWA,KAGnBgY,EAAmB1R,qBAAqB7C,+BAA+Bq2B,SAExE,GAAG9hB,EAAoB,CAC1B,IAAM6hB,EAAgB7hB,EAAmBpW,gBAAgBmC,uBAAuBG,yBAAyBhE,kBACrGC,IAAmB05B,EAAc15B,gBAC9BH,IAAc65B,EAAc75B,YAC/BgY,EAAmBpW,gBAAgBmC,uBAAuBG,yBAAyBhE,kBAAkBF,UAAYA,EACjHgY,EAAmBpW,gBAAgBmC,uBAAuBG,yBAAyBhE,kBAAkBC,eAAiBA,KAK5HuhC,EAAoBzgB,GAAgBta,EAAM7D,kBAAkBkf,SAASyH,OAErEkY,EAA6B,SAAC3nB,GAC5BrT,EAAMyyB,qBAAuBzyB,EAAMyyB,oBAAoBwI,qBACvDj7B,EAAMyyB,oBAAoBwI,qBAAqB5nB,GAE/CynB,EAAYznB,EAAMC,OAAO9T,QAI3B07B,EAAwB,WAC1BL,GAAcxhC,IAGZ8hC,EAA+B,WACjCP,GAAuBphC,IAGrBy6B,EAAuB,SAACmH,GAC1B,IAAM3H,ED3GP,SAAiC4H,EAAuB7hC,EAAyB2kB,EAC7CjkB,GACvC,IAAOwrB,EAA+C2V,EAA/C3V,UAAWF,EAAoC6V,EAApC7V,gBAAiBC,EAAmB4V,EAAnB5V,gBAE7B6V,EAAiBjK,GAAU3L,EAAcvH,EAAgB,KACzDod,EAAuBlK,GAAU7L,EAAoBrH,EAAgB,KACrEqd,EAAuBnK,GAAU5L,EAAoBtH,EAAgB,KAEvEsd,EAAiBtd,GAAiBuH,EAAcF,EAAoBC,IACxEgW,EAAiBpK,GAAUoK,EAAiBtd,EAAgB,MAEvC,IACjB3jB,QAAQC,MAAM,iCACdghC,EAAiB,GAGrB,IAAM9H,EAAmB,CAAC7yB,GAAmB4G,sCAAsCxN,GAC/E4G,GAAmB+G,6CAA6C3N,GAChE4G,GAAmBiH,6CAA6C7N,IAE9D05B,EAAmB,CACrBrB,GACAA,GACAA,IAEE/D,EAAmB,CAAC8M,EACtBC,EACAC,GAQJ,OANIhiC,IACAm6B,EAAO53B,KAAK+E,GAAmBsJ,yBAAyBlQ,IACxD05B,EAAO73B,KAAKw2B,IACZ/D,EAAOzyB,KAAK0/B,IAGT,CACH9H,OAAQA,EACRnF,OAAQA,EACRoF,OAAQA,GCqEkB8H,CAAwB3f,EAAWviB,EAAgB4hC,EAAa9I,GAE1F,MAAO,CACHqB,OAAQF,EAAiBE,OACzBG,SAAU,CAAC,CACPP,KAAME,EAAiBjF,OACvBhY,gBAAiBid,EAAiBG,OAClCG,YAAa,EACbC,YAAa,WAMnB2H,EAAuB,SAACP,EAAqBpf,GAC/C,IAAMyX,ED/EP,SAA2BzX,EAAsBxiB,EAAyB4hC,EAAqB9I,GAClG,GAAkB,OAAdtW,GAA2C,OAArBA,EAAU2J,QAAwC,OAArB3J,EAAU4J,QAA2C,OAAxB5J,EAAUgK,UAC1F,OAAO,KAGX,IAAM4V,EAAcvK,GAAUrV,EAAU2J,OAASyV,EAAc,KACzDS,EAAcxK,GAAUrV,EAAU4J,OAASwV,EAAc,KACzDU,EAAiBzK,GAAUrV,EAAUgK,UAAYoV,EAAc,KAE/DzH,EAAmB,CAAC7yB,GAAmBiI,sBAAsBupB,GAC/DxxB,GAAmBkI,sBAAsBspB,IAEvC9D,EAAmB,CAACoN,EACtBC,GAEEjI,EAAmB,CACrBrB,GACAA,IASJ,OANI/4B,IACAm6B,EAAO53B,KAAK+E,GAAmB2L,cAAc6lB,IAC7CsB,EAAO73B,KAAKw2B,IACZ/D,EAAOzyB,KAAK+/B,IAGT,CACHnI,OAAQA,EACRnF,OAAQA,EACRoF,OAAQA,GCkDiBmI,CAAkB/f,EAAWxiB,EAAgB4hC,EAAa9I,GACnF,OAAImB,EAIG,CACHE,OAAQF,EAAiBE,OACzBG,SAAU,CAAC,CACPP,KAAME,EAAiBjF,OACvBhY,gBAAiBid,EAAiBG,OAClCG,YAAa,EACbC,YAAa,UATV,MAuBTjY,EAAYzB,GAAgBta,EAAM7D,kBAAkB4f,UAEtDigB,GAAoB,EACpBjgB,EAAUC,WAAaD,EAAUC,UAAUkK,gBAAkBnK,EAAUC,UAAUkK,gBxChJxD,KwCiJzB8V,GAAoB,GAGxB,ID7EqC9hC,EC6E/B+hC,EAAejjC,IAAcvG,EAAiB,QAAU,QAExDo7B,EAAa,WACf,IAAIxF,EAQJ,OANI5uB,IAAa2+B,GACb/P,EAAQvnB,GAAmBmD,kCAAkCquB,GACtD74B,IAAa2+B,KACpB/P,EAAQvnB,GAAmBqD,mCAAmCmuB,IAG9Dt5B,IAActG,EACP2G,EAAYk0B,GAAmBlF,EAAO,IAAK,KAAOkF,GAAmBlF,EAAO,KAE5E2G,GAAmB3G,EAAO,MA+CnC6T,EAAc,SAACC,GACjB,IAEI5I,EAFG7N,EAA0D3J,EAA1D2J,UAAWF,EAA+CzJ,EAA/CyJ,gBAAiBC,EAA8B1J,EAA9B0J,gBAAiBzJ,EAAaD,EAAbC,UAGpD,GAAImgB,IAAe/D,GAA4B,CAC3C,IAAK1S,IAAcF,IAAoBC,EACnC,OAAO,sBAAK3T,MAAO,CAACS,OAAQwZ,IAArB,SAA6CjrB,GAAmB0F,aAAa8rB,KAExFiB,EAAOU,EAAqB8G,QACzB,GAAIoB,IAAe/D,KAClBpc,IACAuX,EAAOoI,EAAqBZ,EAAmB/e,KAG9CA,GACD,OAAO,sBAAKlK,MAAO,CAACS,OAAQwZ,IAArB,SAA6CjrB,GAAmB0F,aAAa8rB,KAI5F,OAAKiB,EAKD,iCACKv6B,IAAcvG,GACf,eAAC,KAAD,CAAK8gC,KAAMA,EAENhhB,OAAQwgB,EACRzR,QAASuM,KAFJ,SAAWkF,GAKpB/5B,IAActG,GACf,eAAC,KAAD,CAAK6gC,KAAMA,EAENhhB,OAAQwgB,EACRzR,QAASuM,KAFJ,SAAWkF,MAdlB,sBAAKjhB,MAAO,CAACS,OAAQwZ,IAArB,SAA6CjrB,GAAmB0F,aAAa8rB,MAyBtFwC,EAAkB1D,GAA8BhS,EAAYpf,EAAM8yB,kBAExE,OACI,uBAAKjhB,UAAU,kBAAf,UACI,uBAAKA,UAAU,MAAMC,MAAO,CAACS,OAAQuiB,GAArC,UACI,sBAAKjjB,UAAU,0BAAf,SA3FJ,iCACI,gBAACiQ,GAAA,EAAD,WACI,eAACA,GAAA,EAAKiO,MAAN,UACI,+BAAIjvB,GAAmB8D,eAAe8Q,EAAgBxb,UAAtD,SAEJ,eAAC4nB,GAAA,EAAKC,MAAN,CAAYC,QAAQ,EACRzJ,MAAOzX,GAAmBkD,4BAA4BsuB,GACtD7d,KAAK,QACLjV,MAAO44B,GACPvjB,QAASpb,IAAa2+B,GACtBtjB,SAAUkmB,IAEtB,eAAClZ,GAAA,EAAKC,MAAN,CAAYC,QAAQ,EACRzJ,MAAOzX,GAAmBoD,6BAA6BouB,GACvD7d,KAAK,QACLjV,MAAO44B,GACPvjB,QAASpb,IAAa2+B,GACtBtjB,SAAUkmB,OAG1B,wBACA,gBAAClZ,GAAA,EAAD,WACI,eAACA,GAAA,EAAKC,MAAN,CAAYC,QAAQ,EACRzJ,MAAOzX,GAAmBuB,oBAAoBiwB,GAC9C7d,KAAK,WACL8M,SAAUvoB,IAAco/B,EACxBvjB,QAASxb,EACTyb,SAAUomB,IAEtB,eAACpZ,GAAA,EAAKC,MAAN,CAAYC,QAAQ,EACRzJ,MAAOzX,GAAmBkB,oCAAoCswB,GAC9D7d,KAAK,WACL8M,SAAU9nB,IAAa2+B,GACvBvjB,QAASrb,EACTsb,SAAUqmB,YA4D1B,uBAAKtpB,UAAWoqB,EAAhB,UACKxiC,IAAa2+B,IACd8D,EAAY9D,IAEX4D,GAAqBviC,IAAa2+B,IACnC8D,EAAY9D,KAEV4D,GAAqBviC,IAAa2+B,IACpC,sBAAKtmB,MAAO,CAACS,OAAQwZ,IAArB,SAA6CjrB,GAAmB0F,aAAa8rB,QAIhFr5B,GAAcD,IAAcvG,GAC7B,uBAAKof,UAAU,QAAf,UACKpY,IAAa2+B,IACd,eAAChI,GAAD,CAAcE,YD9MOp2B,EC8M8Bo4B,ED7M5D,CACH,CACIxB,KAAMhwB,GAAmB2G,gCAAgCvN,GACzD22B,MAAO0B,IAEX,CACIzB,KAAMhwB,GAAmB8G,uCAAuC1N,GAChE22B,MAAO0B,IAEX,CACIzB,KAAMhwB,GAAmBgH,uCAAuC5N,GAChE22B,MAAO0B,IAEX,CACIzB,KAAMhwB,GAAmBsJ,yBAAyBlQ,GAClD22B,MAAO0B,QCgME94B,IAAa2+B,IACd,eAAChI,GAAD,CAAcE,WAAYkK,GAA0BlI,UAtBA,oBAAsBwC,IA2BhF90B,EAAMyyB,qBACR,sBAAK5gB,UAAU,oBAAf,SACI,eAACie,GAAD,CAC2B92B,UAAWA,EACXC,WAAYA,EACZ+2B,uBA7JR,SAAC3c,GAC5Bsf,EAAatf,EAAMC,OAAO9T,QA6JSywB,0BA1JV,WACzB2C,GAAe35B,KAqJyB,4BC3RjC,SAASmjC,GAAiBp8B,GACrC,IAAMqR,EAAqBC,qBAAW5W,IAEhC43B,EADkBhhB,qBAAWnR,IACNjG,SACvBklB,EAAa3M,KAEb1V,EAAciD,EAAMyyB,oBACpBzyB,EAAMyyB,oBACNphB,EACIA,EAAmBpW,gBAAgBC,cAAc8B,gBAAgBrD,mBACjEb,GAAuBa,mBAEjC,EAAsC+G,mBAAiB3D,EAAY3D,aAAnE,oBAAOA,EAAP,KAAoBijC,EAApB,KACA,EAAkC37B,mBAAkB3D,EAAY1D,WAAhE,oBAAOA,EAAP,KAAkBwhC,EAAlB,KACA,EAAsCn6B,mBAAiBswB,GAAqB5R,EAAYpf,EAAM8yB,mBAA9F,oBAAOC,EAAP,KAAoBC,EAApB,KAEApgB,qBAAU,WACF5S,EAAMyyB,sBACNoI,EAAa99B,EAAY1D,WACzBgjC,EAAet/B,EAAY3D,cAG/B45B,EAAehC,GAAqB5R,EAAYpf,EAAM8yB,mBACtDG,MACD,CAAC75B,EAAaC,EAAW05B,EAAa/yB,IAEzC,IAAMizB,EAAoB,WACtB,GAAI5hB,IAAuBrR,EAAMyyB,oBAAqB,CAClD,IAAM6J,EAAiBjrB,EAAmBpW,gBAAgBC,cAAc8B,gBAAgBrD,mBACxF,GAAIN,IAAcijC,EAAejjC,WAAaD,IAAgBkjC,EAAeljC,YAAa,CACtF,IAAM+5B,EAAc,2BACb9hB,EAAmBpW,gBAAgBC,cAAc8B,iBADpC,IAEhBrD,mBAAoB,CAChBP,YAAaA,EACbC,UAAWA,KAGnBgY,EAAmB1R,qBAAqB7C,+BAA+Bq2B,MAsC7EnD,EAAyB,SAAC3c,GAC5BgpB,EAAehpB,EAAMC,OAAO9T,QAG1B65B,EAAuB,WACzBwB,GAAcxhC,IA2CZk6B,EAhFyB,WAAO,IAAD,EAC3B1X,EAAcvB,GAAgBta,EAAM7D,kBAAkB0f,YAC5D,IAAKA,IAAgBxK,EACjB,OAAO,KAGX,IAAMioB,EAAe,UAAGjoB,EAAmBjT,eAAe9L,2BAArC,aAAG,EAAuDiqC,uBAC/E,IAAKjD,EACD,OAAO,KAGX,IAEM7F,ECjEP,SAA6B5X,EAA0Byd,EAC1B77B,EAAoB0gB,EAAuBmU,GAC3E,IAAMqB,EAAwB,GACxBnF,EAAwB,GAwE9B,OAtE8B,OAA1B3S,EAAYkL,YACZ4M,EAAO53B,KAAK+E,GAAmB0I,kCAAkC8oB,IACjE9D,EAAOzyB,KAAKi8B,GACRsB,EAAgBvS,UAAWlL,EAAYkL,UAAW5I,EAAe1gB,KAI1C,OAA3Boe,EAAYyK,aACZqN,EAAO53B,KAAK+E,GAAmB2I,mCAAmC6oB,IAClE9D,EAAOzyB,KAAKi8B,GACRsB,EAAgBhT,WAAYzK,EAAYyK,WAAYnI,EAAe1gB,KAI/C,OAAxBoe,EAAY0K,UACZoN,EAAO53B,KAAK+E,GAAmB4I,gCAAgC4oB,IAC/D9D,EAAOzyB,KAAKi8B,GACRsB,EAAgB/S,QAAS1K,EAAY0K,QAASpI,EAAe1gB,KAI1C,OAAvBoe,EAAY2K,SACZmN,EAAO53B,KAAK+E,GAAmB6I,+BAA+B2oB,IAC9D9D,EAAOzyB,KAAKi8B,GACRsB,EAAgB9S,OAAQ3K,EAAY2K,OAAQrI,EAAe1gB,KAIpC,OAA3Boe,EAAY4K,aACZkN,EAAO53B,KAAK+E,GAAmB8I,mCAAmC0oB,IAClE9D,EAAOzyB,KAAKi8B,GACRsB,EAAgB7S,WAAY5K,EAAY4K,WAAYtI,EAAe1gB,KAIzC,OAA9Boe,EAAY8K,gBACZgN,EAAO53B,KAAK+E,GAAmB+I,sCAAsCyoB,IACrE9D,EAAOzyB,KAAKi8B,GACRsB,EAAgB3S,cAAe9K,EAAY8K,cAAexI,EAAe1gB,KAInD,OAA1Boe,EAAYwK,YACZsN,EAAO53B,KAAK+E,GAAmBkJ,kCAAkCsoB,IACjE9D,EAAOzyB,KAAKi8B,GACRsB,EAAgBjT,UAAWxK,EAAYwK,UAAWlI,EAAe1gB,KAI1C,OAA3Boe,EAAYuK,aACZuN,EAAO53B,KAAK+E,GAAmBmJ,mCAAmCqoB,IAClE9D,EAAOzyB,KAAKi8B,GACRsB,EAAgBlT,WAAYvK,EAAYuK,WAAYjI,EAAe1gB,KAIhD,OAAvBoe,EAAYgL,SACZ8M,EAAO53B,KAAK+E,GAAmBqJ,+BAA+BmoB,IAC9D9D,EAAOzyB,KAAKi8B,GACRsB,EAAgBzS,OAAQhL,EAAYgL,OAAQ1I,EAAe1gB,KAIvC,OAAxBoe,EAAY6K,UACZiN,EAAO53B,KAAK+E,GAAmBuI,gCAAgCipB,IAC/D9D,EAAOzyB,KAAKi8B,GACRsB,EAAgB5S,QAAS7K,EAAY6K,QAASvI,EAAe1gB,KAI9D,CACHk2B,OAAQA,EACRnF,OAAQA,GDZiBgO,CAAoB3gB,EAAayd,EAFzCjoB,EAAmB5T,SACdrE,IAAgB7G,EAAiByN,EAAM7D,iBAAiB4jB,QAAQhG,OAAS,IACKuY,GAE9FkH,EAAax5B,EAAMyyB,qBAAuBzyB,EAAMyyB,oBAAoBgH,cACpEz5B,EAAMyyB,oBAAoBgH,cAC1BlH,GAEN,MAAO,CACHoB,OAAQF,EAAiBE,OACzBG,SAAU,CAAC,CACPvb,MAAOzX,GAAmBuD,yBAAyBiuB,GACnDiB,KAAME,EAAiBjF,OACvBhY,gBAAiBgjB,EACjBzF,YAAa,EACbC,YAAa,UAsDZyI,GACb,IAAKlJ,EACD,OAAO,yBAGX,IAAMsG,EAAYtG,GAAQA,EAAKO,UAAYP,EAAKO,SAASx3B,OAAS,EAAKm1B,KAAK7D,IAAL,MAAA6D,KAAI,aAAQ8B,EAAKO,SAAS,GAAGP,OAAQ,EACtGjS,EA9Ca,SAAC+G,EAAOwR,GACvB,IAIIpM,EAJEqM,EAAkB95B,EAAMyyB,qBAAuBzyB,EAAMyyB,oBAAoBoH,SACzE75B,EAAMyyB,oBAAoBoH,SAC1BA,EAsBN,OAnBK75B,EAAMyyB,qBAKHzyB,EAAMyyB,oBAAoBoH,WAC1BpM,EAAYztB,EAAMyyB,oBAAoBoH,UAEtCxgC,SACkBuhB,IAAd6S,EACIqM,EAAkB,MAClBrM,EAAY,KAETA,EAAY,MACnBA,EAAY,OAbhBp0B,GAAaygC,EAAkB,MAC/BrM,EAAY,KAiBbF,GAAmBlF,EAAO,IAAKoF,GAqB1BI,CAAW/sB,GAAmBuD,yBAAyBiuB,GAAOuH,GACxE6C,EAAanJ,EAAKO,UAAYP,EAAKO,SAAS,GAAGP,MAAQA,EAAKO,SAAS,GAAGP,KAAKj3B,OAAS,EAEtFw4B,EAAkB1D,GAA8BhS,EAAapf,EAAM8yB,kBAEzE,OACI,uBAAKjhB,UAAU,kBAAf,UACI,sBAAKA,UAAU,MAAMC,MAAO,CAACS,OAAQuiB,GAArC,SACI,uBAAKjjB,UAAU,SAAf,UACK6qB,GACD,eAAC,KAAD,CACInJ,KAAMA,EAENhhB,OAAQwgB,EACRzR,QAASA,GAFJ,SAAWyR,IAKlB2J,GACF,oBAAG7qB,UAAU,cAAcC,MAAO,CAACS,OAAQggB,IAA3C,SACKzxB,GAAmB0F,aAAa8rB,SAZe,wBAA0BwC,IAiB1D,IAA3B90B,EAAM8yB,kBACP,sBAAKjhB,UAAU,oBAAf,SA3C6B,WACjC,IAAMyoB,EAAgB,CAClBn+B,iBAAkB6D,EAAM7D,iBACxB/C,YAAaA,EACbC,UAAWA,EACX22B,uBAAwBA,EACxB+G,0BAA2BsC,GAG/B,OAAO,eAACvC,GAAD,eAA+BwD,IAmC7BC,QExBV,SAASoC,GAAmBhJ,EAAkBz5B,GACjD,IAAMo2B,EAAyB,GAuB/B,OArBIqD,EAAOjF,SAAS5tB,GAAmBuJ,qBAAqBnQ,KACxDo2B,EAAWv0B,KAAK,CACZ+0B,KAAMhwB,GAAmBuJ,qBAAqBnQ,GAC9C22B,MAAO0B,KAIXoB,EAAOjF,SAAS5tB,GAAmBsG,6BAA6BlN,KAChEo2B,EAAWv0B,KAAK,CACZ+0B,KAAMhwB,GAAmBsG,6BAA6BlN,GACtD22B,MAAO0B,KAIXoB,EAAOjF,SAAS5tB,GAAmBsJ,yBAAyBlQ,KAC5Do2B,EAAWv0B,KAAK,CACZ+0B,KAAMhwB,GAAmBsJ,yBAAyBlQ,GAClD22B,MAAO0B,KAIRjC,EAIJ,SAASsM,GAAsBjJ,EAAkBz5B,GACpD,IAAMo2B,EAAyB,GAiE/B,OA/DIqD,EAAOjF,SAAS5tB,GAAmBiG,qCAAqC7M,KACxEo2B,EAAWv0B,KAAK,CACZ+0B,KAAMhwB,GAAmBiG,qCAAqC7M,GAC9D22B,MAAO0B,KAIXoB,EAAOjF,SAAS5tB,GAAmB+F,sCAAsC3M,KACzEo2B,EAAWv0B,KAAK,CACZ+0B,KAAMhwB,GAAmB+F,sCAAsC3M,GAC/D22B,MAAO0B,KAIXoB,EAAOjF,SAAS5tB,GAAmBgG,uCAAuC5M,KAC1Eo2B,EAAWv0B,KAAK,CACZ+0B,KAAMhwB,GAAmBgG,uCAAuC5M,GAChE22B,MAAO0B,KAIXoB,EAAOjF,SAAS5tB,GAAmBqG,qCAAqCjN,KACxEo2B,EAAWv0B,KAAK,CACZ+0B,KAAMhwB,GAAmBqG,qCAAqCjN,GAC9D22B,MAAO0B,KAIXoB,EAAOjF,SAAS5tB,GAAmBkG,qCAAqC9M,KACxEo2B,EAAWv0B,KAAK,CACZ+0B,KAAMhwB,GAAmBkG,qCAAqC9M,GAC9D22B,MAAO0B,KAIXoB,EAAOjF,SAAS5tB,GAAmBmG,qCAAqC/M,KACxEo2B,EAAWv0B,KAAK,CACZ+0B,KAAMhwB,GAAmBmG,qCAAqC/M,GAC9D22B,MAAO0B,KAIXoB,EAAOjF,SAAS5tB,GAAmBoG,oCAAoChN,KACvEo2B,EAAWv0B,KAAK,CACZ+0B,KAAMhwB,GAAmBoG,oCAAoChN,GAC7D22B,MAAO0B,KAIXoB,EAAOjF,SAAS5tB,GAAmBsG,6BAA6BlN,KAChEo2B,EAAWv0B,KAAK,CACZ+0B,KAAMhwB,GAAmBsG,6BAA6BlN,GACtD22B,MAAO0B,KAIXoB,EAAOjF,SAAS5tB,GAAmBsJ,yBAAyBlQ,KAC5Do2B,EAAWv0B,KAAK,CACZ+0B,KAAMhwB,GAAmBsJ,yBAAyBlQ,GAClD22B,MAAO0B,KAIRjC,ECvNI,SAASuM,GAAe78B,GACnC,IAAMqR,EAAqBC,qBAAW5W,IAEhC43B,EADkBhhB,qBAAWnR,IACNjG,SACvBklB,EAAa3M,KAEf1V,EAAciD,EAAMyyB,oBAClBzyB,EAAMyyB,oBACNphB,EACIA,EAAmBpW,gBAAgBC,cAAc8B,gBAAgBtD,iBACjEZ,GAAuBY,iBAE3BghC,EAAoB16B,EAAMyyB,oBAAN,OACpBphB,QADoB,IACpBA,OADoB,EACpBA,EAAoBpW,gBAAgBmC,uBAAuBG,yBAAyB7D,iBAAiBL,UACrG0D,EAAY1D,UAEZshC,EAAyB36B,EAAMyyB,oBAAN,OACzBphB,QADyB,IACzBA,OADyB,EACzBA,EAAoBpW,gBAAgBmC,uBAAuBG,yBAAyB7D,iBAAiBF,eACrGuD,EAAYvD,eAElB,EAAkCkH,mBAAiB3D,EAAY/D,WAA/D,oBAAOA,EAAP,KAAkB25B,EAAlB,KACA,EAAoCjyB,mBAAkB3D,EAAY9D,YAAlE,oBAAOA,EAAP,KAAmB25B,EAAnB,KACA,EAAgDlyB,mBAAkBi6B,IAAgD,GAAlH,oBAAOnhC,EAAP,KAAuBohC,EAAvB,KACA,EAAkCl6B,mBAAkBg6B,IAAsC,GAA1F,oBAAOrhC,EAAP,KAAkBwhC,EAAlB,KACA,EAAgCn6B,mBAAiB3D,EAAYtD,SAAWsD,EAAYtD,SAAWhD,IAA/F,oBAAOgD,EAAP,KAAiBqhC,EAAjB,KACA,EAAsCp6B,mBAAiBswB,GAAqB5R,EAAYpf,EAAM8yB,mBAA9F,oBAAOC,EAAP,KAAoBC,EAApB,KAEApgB,qBAAU,WACF5S,EAAMyyB,sBACNE,EAAa51B,EAAY/D,WACzB45B,EAAc71B,EAAY9D,YAC1B6hC,EAAY/9B,EAAYtD,SAAWsD,EAAYtD,SAAWhD,KAG9Du8B,EAAehC,GAAqB5R,EAAYpf,EAAM8yB,mBACtDG,MACD,CAACj6B,EAAWC,EAAYO,EAAgBH,EAAWI,EAAUs5B,EAAa/yB,IAE7E,IAAMizB,EAAoB,WACtB,GAAI5hB,IAAuBrR,EAAMyyB,oBAAqB,CAClD,IAAMS,EAAgB7hB,EAAmBpW,gBAAgBC,cAAc8B,gBAAgBtD,iBACvF,GAAIV,IAAck6B,EAAcl6B,WACzBS,IAAay5B,EAAcz5B,UAC3BD,IAAmB05B,EAAc15B,gBACjCH,IAAc65B,EAAc75B,WAC5BJ,IAAei6B,EAAcj6B,WAAY,CAC5C,IAAMk6B,EAAc,2BACb9hB,EAAmBpW,gBAAgBC,cAAc8B,iBADpC,IAEhBtD,iBAAkB,CACdV,UAAWA,EACXC,WAAYA,EACZO,eAAgBA,EAChBH,UAAWA,EACXI,SAAUA,KAGlB4X,EAAmB1R,qBAAqB7C,+BAA+Bq2B,SAExE,GAAG9hB,EAAoB,CAC1B,IAAM6hB,EAAgB7hB,EAAmBpW,gBAAgBmC,uBAAuBG,yBAAyB7D,iBACrGF,IAAmB05B,EAAc15B,gBAC9BH,IAAc65B,EAAc75B,YAC/BgY,EAAmBpW,gBAAgBmC,uBAAuBG,yBAAyB7D,iBAAiBL,UAAYA,EAChHgY,EAAmBpW,gBAAgBmC,uBAAuBG,yBAAyB7D,iBAAiBF,eAAiBA,KAK3H0hC,EAAwB,WAC1BL,GAAcxhC,IAGZ8hC,EAA+B,WACjCP,GAAuBphC,IAKrBwhC,GAFmB1gB,GAAgBta,EAAM7D,kBAAkBwf,iBAE9B,SAACtI,GAChC,GAAIhC,GAAsBrR,EAAMyyB,oBAAqB,CACjD,IAAMqK,EAAkBzrB,EAAmBpW,gBAAgBmC,uBAAuBG,yBAE5E7D,EAA0G,IAAzCsG,EAAMyyB,oBAAoBsK,WAC3F,CACE/jC,UAAWA,EACXC,WAAYA,EACZO,gBAAgB,EAChBH,WAAW,EACXS,UAAWuZ,EAAMC,OAAO9T,MACxBzF,UAAW+iC,EAAgBpjC,iBAAiBK,WAE9C,CACEf,UAAWA,EACXC,WAAYA,EACZO,gBAAgB,EAChBH,WAAW,EACXS,UAAWgjC,EAAgBpjC,iBAAiBI,UAC5CC,UAAWsZ,EAAMC,OAAO9T,OAG1B2zB,EAAc,2BACb2J,GADa,IAEhBpjC,iBAAkBA,IAEtB2X,EAAmBvR,qBAAqBxC,+BAA+B61B,QAEvE2H,EAAYznB,EAAMC,OAAO9T,SAuD3BquB,EAAa,WACf,IAAIxF,EAQJ,OANI5uB,IAAa2+B,GACb/P,EAAQvnB,GAAmB+C,2BAA2ByuB,GAC/C74B,IAAa2+B,KACpB/P,EAAQvnB,GAAmBgD,6BAA6BwuB,IAGxDt5B,IAActG,EACP2G,EAAYk0B,GAAmBlF,EAAO,IAAK,KAAOkF,GAAmBlF,EAAO,KAE5E2G,GAAmB3G,EAAO,MA+CnC6T,EAAc,SAAC3I,GACjB,OAAKA,EASD,iCACKv6B,IAAcvG,GACf,eAAC,KAAD,CAAK8gC,KAAMA,EAENhhB,OAAQwgB,EACRzR,QAASuM,KAFJ,SAAWkF,GAKpB/5B,IAActG,GACf,eAAC,KAAD,CAAK6gC,KAAMA,EAENhhB,OAAQwgB,EACRzR,QAASuM,KAFJ,SAAWkF,MAjBrB,sBAAKjhB,MAAO,CAACS,OAAQggB,IAArB,SACKzxB,GAAmB0F,aAAa8rB,MA0B3C2J,EAAejjC,IAAcvG,EAAiB,QAAU,QACxDuqC,EAxHwB,WAC1B,MAAqC1iB,GAAgBta,EAAM7D,kBACrD2e,GADN,EAAOa,iBAAP,EAAyBN,SACJf,GAAgBta,EAAM7D,mBACrCi/B,EAAc9gB,GAAgBta,EAAM7D,kBAAkBkf,SAASwH,cAC/D4Q,ED1GP,SAAiC3Y,EAA4BthB,EAAyB4hC,EACrDlhC,GACpC,IAAOyhB,EAA8Bb,EAA9Ba,iBAAkBN,EAAYP,EAAZO,SAEnB4hB,EAA4C,OAA7BthB,EAAiBoJ,QAAmBsM,GAAU1V,EAAiBoJ,QAAUqW,EAAc,KAAO,KAC7G8B,EAA8C,OAA9BvhB,EAAiBqJ,SAAoBqM,GAAU1V,EAAiBqJ,SAAWoW,EAAc,KAAO,KAChH+B,EAAgD,OAA/BxhB,EAAiBsJ,UAAqBoM,GAAU1V,EAAiBsJ,UAAYmW,EAAc,KAAO,KACnHgC,EAA4C,OAA7BzhB,EAAiBuJ,QAAmBmM,GAAU1V,EAAiBuJ,QAAUkW,EAAc,KAAO,KAC7GiC,EAA4C,OAA7B1hB,EAAiByJ,QAAmBiM,GAAU1V,EAAiByJ,QAAUgW,EAAc,KAAO,KAC7GkC,EAA4C,OAA7B3hB,EAAiBwJ,QAAmBkM,GAAU1V,EAAiBwJ,QAAUiW,EAAc,KAAO,KAC7GmC,EAA0C,OAA5B5hB,EAAiB0J,OAAkBgM,GAAU1V,EAAiB0J,OAAS+V,EAAc,KAAO,KAE1GoC,EAAgD,OAA3BniB,EAAS4H,cAAyBoO,GAAUhW,EAAS4H,cAAgBmY,EAAc,KAAO,KAErH,IAAKkC,IAAiBF,IAAiBC,IAAiBJ,IAAiBC,IAAkBC,EACvF,OAAO,KAGX,IAAIM,EAAY,IACV9J,EAAmB,GACnBJ,EAAiB,GACjBK,EAAmB,GA+DzB,OA7DIqJ,IACAQ,GAAaR,EACbtJ,EAAO53B,KAAK+E,GAAmBiG,qCAAqC7M,IACpEq5B,EAAKx3B,KAAKkhC,GACVrJ,EAAO73B,KAAKw2B,KAEZ2K,IACAO,GAAaP,EACbvJ,EAAO53B,KAAK+E,GAAmB+F,sCAAsC3M,IACrEq5B,EAAKx3B,KAAKmhC,GACVtJ,EAAO73B,KAAKw2B,KAEZ4K,IACAM,GAAaN,EACbxJ,EAAO53B,KAAK+E,GAAmBgG,uCAAuC5M,IACtEq5B,EAAKx3B,KAAKohC,GACVvJ,EAAO73B,KAAKw2B,KAEZ6K,IACAK,GAAaL,EACbzJ,EAAO53B,KAAK+E,GAAmBqG,qCAAqCjN,IACpEq5B,EAAKx3B,KAAKqhC,GACVxJ,EAAO73B,KAAKw2B,KAEZ8K,IACAI,GAAaJ,EACb1J,EAAO53B,KAAK+E,GAAmBkG,qCAAqC9M,IACpEq5B,EAAKx3B,KAAKshC,GACVzJ,EAAO73B,KAAKw2B,KAEZ+K,IACAG,GAAaH,EACb3J,EAAO53B,KAAK+E,GAAmBmG,qCAAqC/M,IACpEq5B,EAAKx3B,KAAKuhC,GACV1J,EAAO73B,KAAKw2B,KAEZgL,IACAE,GAAaF,EACb5J,EAAO53B,KAAK+E,GAAmBoG,oCAAoChN,IACnEq5B,EAAKx3B,KAAKwhC,GACV3J,EAAO73B,KAAKw2B,KAGZiL,IACAC,GAAaD,EACb7J,EAAO53B,KAAK+E,GAAmBsG,6BAA6BlN,IAC5Dq5B,EAAKx3B,KAAKyhC,GACV5J,EAAO73B,KAAKw2B,MAGhBkL,EAAYpM,GAAUoM,IACN,IACZA,EAAY,GAGZjkC,IACAm6B,EAAO53B,KAAK+E,GAAmBsJ,yBAAyBlQ,IACxDq5B,EAAKx3B,KAAK0hC,GACV7J,EAAO73B,KAAKw2B,KAGT,CACHoB,OAAQA,EACRnF,OAAQ+E,EACRK,OAAQA,GCmBiB8J,CAAwB5iB,EAActhB,EAAgB4hC,EAAa9I,GAE5F,GAAImB,EAIJ,MAAO,CACHE,OAAQF,EAAiBE,OACzBG,SAAU,CAAC,CACPP,KAAME,EAAiBjF,OACvBhY,gBAAiBid,EAAiBG,OAClCG,YAAa,EACbC,YAAa,UAwGD2J,GAClBC,EA9IuB,WACzB,IAAM9iB,EAAeR,GAAgBta,EAAM7D,kBAErCs3B,GADcnZ,GAAgBta,EAAM7D,kBAAkBkf,SAASwH,cDpItE,SAA8B/H,EAA4BthB,EAAyB4hC,EACrDlhC,GACjC,IAAM2jC,EAAmB/iB,EAAaO,SAASwH,cACzCI,EAAgBnI,EAAaO,SAAS4H,cACtCqC,EAAQxK,EAAaa,iBAAiB2J,MAE5C,IAAKA,IAAUrC,EACX,OAAO,KAGX,IAAM6a,EAAazM,GAAU/L,EAAQuY,EAAmB,KAClDL,EAAqBnM,GAAUpO,EAAgB4a,EAAmB,KAExE,GAAyB,IAArBA,EACA,OAAO,KAGX,IAAIJ,EAAYI,GAAoBvY,EAAQrC,IAC5Cwa,EAAYpM,GAAUoM,EAAYI,EAAmB,MAErC,IACZJ,EAAY,GAGhB,IAAM9J,EAAS,CAAC7yB,GAAmBuJ,qBAAqBnQ,GACpD4G,GAAmBsG,6BAA6BlN,IAG9Cq5B,EAAO,CAACuK,EACVN,GAEE5J,EAAS,CACXrB,GACAA,IASJ,OANI/4B,IACAm6B,EAAO53B,KAAK+E,GAAmBsJ,yBAAyBlQ,IACxD05B,EAAO73B,KAAKw2B,IACZgB,EAAKx3B,KAAK0hC,IAGP,CACH9J,OAAQA,EACRnF,OAAQ+E,EACRK,OAAQA,GCwFiBmK,CAAqBjjB,EAActhB,EAAgB4hC,EAAa9I,IAEzF,GAAImB,EAIJ,MAAO,CACHE,OAAQF,EAAiBE,OACzBG,SAAU,CAAC,CACPP,KAAME,EAAiBjF,OACvBhY,gBAAiBid,EAAiBG,OAClCG,YAAa,EACbC,YAAa,UA+HFgK,GAEjBlJ,EAAkB1D,GAA8BhS,EAAapf,EAAM8yB,kBAEzE,OACI,uBAAKjhB,UAAU,kBAAf,UACI,uBAAKA,UAAU,MAAMC,MAAO,CAACS,OAAQuiB,GAArC,UACI,sBAAKjjB,UAAU,QAAQC,MAAO,CAACsW,QAAS,SAAxC,SA/EJ,gBAACtG,GAAA,EAAD,WACI,eAACA,GAAA,EAAKiO,MAAN,UACI,+BAAIjvB,GAAmB8D,eAAe0tB,GAAtC,SAEJ,eAACxQ,GAAA,EAAKC,MAAN,CAAYC,QAAQ,EACRzJ,MAAOzX,GAAmB+C,2BAA2ByuB,GACrD7d,KAAK,QACLjV,MAAO44B,GACPvjB,QAASpb,IAAa2+B,GACtBtjB,SAAUkmB,IAEtB,eAAClZ,GAAA,EAAKC,MAAN,CAAYC,QAAQ,EACRzJ,MAAOzX,GAAmBgD,6BAA6BwuB,GACvD7d,KAAK,QACLjV,MAAO44B,GACPvjB,QAASpb,IAAa2+B,GACtBtjB,SAAUkmB,IAEtB,wBACA,gBAAClZ,GAAA,EAAD,WACI,eAACA,GAAA,EAAKC,MAAN,CAAYC,QAAQ,EACRzJ,MAAOzX,GAAmBuB,oBAAoBiwB,GAC9C7d,KAAK,WACL8M,SAAUvoB,IAAco/B,EACxBvjB,QAASxb,EACTyb,SAAUomB,IAEtB,eAACpZ,GAAA,EAAKC,MAAN,CAAYC,QAAQ,EACRzJ,MAAOzX,GAAmBkB,oCAAoCswB,GAC9D7d,KAAK,WACL8M,SAAU9nB,IAAa2+B,GACvBvjB,QAASrb,EACTsb,SAAUqmB,YAkD1B,uBAAKtpB,UAAWoqB,EAAhB,UACKxiC,IAAa2+B,IACd8D,EAAY0B,GAEXZ,GAAmBvjC,IAAa2+B,IACjC8D,EAAYc,IAEVA,GAAmBvjC,IAAa2+B,IAClC,sBAAKtmB,MAAO,CAACS,OAAQggB,IAArB,SACKzxB,GAAmB0F,aAAa8rB,QAKxCr5B,GAAcD,IAAco/B,GAC7B,uBAAKvmB,UAAU,QAAf,UACKpY,IAAa2+B,IAA6BwF,GAC3C,eAACxN,GAAD,CAAcE,WAAYqM,GAAmBiB,EAAejK,OAAQrB,KAEnE74B,IAAa2+B,IAA+B4E,GAC7C,eAAC5M,GAAD,CAAcE,WAAYsM,GAAsBI,EAAgBrJ,OAAQrB,UAxBpB,mBAAqBwC,IA6B/E90B,EAAMyyB,qBACR,sBAAK5gB,UAAU,oBAAf,SACI,eAACie,GAAD,CAA2B92B,UAAWA,EACXC,WAAYA,EACZ+2B,uBA1IR,SAAC3c,GAC5Bsf,EAAatf,EAAMC,OAAO9T,QA0ISywB,0BAvIV,WACzB2C,GAAe35B,WCnKhB,SAASglC,GAAWj+B,GACvB,IAAMqR,EAAqBC,qBAAW5W,IACtC,IAAK2W,EACD,OAAO,yBAGX,IAAM6sB,EAAkB7sB,EAAmBpW,gBAAgBC,cAAcM,iBAErE2iC,EAAQ,mDAiBZ,OAhBID,IAAoBvmC,GACpBwmC,EAAQ,eAAC3L,GAAD,CAAer2B,iBAAkB6D,EAAM7D,mBACxC+hC,IAAoBtmC,GAC3BumC,EAAQ,eAACvI,GAAD,CAAiBz5B,iBAAkB6D,EAAM7D,mBAC1C+hC,IAAoBrmC,GAC3BsmC,EAAQ,eAAC5F,GAAD,CAAqBp8B,iBAAkB6D,EAAM7D,iBAAkBg9B,iBAAkBxmC,IAClFurC,IAAoBpmC,GAC3BqmC,EAAQ,eAAC5F,GAAD,CAAqBp8B,iBAAkB6D,EAAM7D,iBAAkBg9B,iBAAkBvmC,IAClFsrC,IAAoBnmC,GAC3BomC,EAAQ,eAAC1D,GAAD,CAAiBt+B,iBAAkB6D,EAAM7D,mBAC1C+hC,IAAoBlmC,GAC3BmmC,EAAQ,eAACtB,GAAD,CAAgB1gC,iBAAkB6D,EAAM7D,mBACzC+hC,IAAoBjmC,KAC3BkmC,EAAQ,eAAC/B,GAAD,CAAkBjgC,iBAAkB6D,EAAM7D,oBAIlD,sBAAK2V,MAAO,CAACkD,WAAY,QAAzB,SACKmpB,I,oBCnCN,SAASC,GAAcp+B,GAC1B,IAAM08B,EAAa18B,EAAMq+B,WAAar+B,EAAMq+B,UAAU/hC,OAAS,EACzD+U,EAAqBC,qBAAW5W,IAChCR,EAAWoX,qBAAWnR,IAM5B,OACI,uBAAK2R,MAAO,CAACS,OAAQ,QAASR,OAAQ,OAAQyQ,UAAW,QAAzD,UACI,iCACKka,GACD,gBAAC,kBAAD,CAAgB7qB,UAAU,WAAW0hB,KAAMvzB,EAAMq+B,UAAWC,SAAO,EAACC,OAAK,EAAzE,UACI,eAAC,qBAAD,CAAmBC,OAAK,EAACC,UAAU,QAAnC,qBACA,eAAC,qBAAD,CAAmBA,UAAU,aAA7B,uBACA,eAAC,qBAAD,CAAmBA,UAAU,gBAA7B,6BAGF/B,GACF,sBAAK7qB,UAAU,cAAf,SAA8B/Q,GAAmB0F,aAAatM,EAASA,eAG3E,sBAAK4X,MAAO,CAACkD,WAAY,QAAzB,SACI,yBAAQnD,UAAW,eAAgBM,QAnBrB,WACJ,OAAlBd,QAAkB,IAAlBA,KAAoB1R,qBAAqBvE,uBAAuB5E,KAkBxD,+CCdT,SAASkoC,GAAS1+B,GACrB,IAAMqR,EAAqBC,qBAAW5W,IAEhC43B,EADkBhhB,qBAAWnR,IACNjG,SAEvBklB,EAAa3M,KACnB,EAA8C/R,mBAAiB0wB,GAA8BhS,EAAYpf,EAAMkxB,gBAA/G,oBAAO4D,EAAP,KAAwB6J,EAAxB,KAEA/rB,qBAAU,WACN+rB,EAAmBvN,GAA8BhS,EAAYpf,EAAMkxB,kBACpE,CAAC4D,IAEJ,IAAM8J,EAAY,SAAC7hB,EAAKvd,GACpB,MAAO,CACHud,IAAKA,EACLvd,MAAOA,IAgGTq/B,EAAiB,SAACtL,GACpB,OACI,+BACI,gBAAC,kBAAD,CAAgBuL,UAAU,EAAOvL,KAAMA,EAAvC,UACI,eAAC,qBAAD,CAAmB1hB,UAAU,mBAAmB4sB,UAAU,MAAMD,OAAK,EAACnsB,MAAM,UAC5E,eAAC,qBAAD,CAAmBR,UAAU,mBAAmB4sB,UAAU,gBAmBtElsB,EAASuiB,EAKb,OAJI90B,EAAMkxB,gBACN3e,GAAU,IAIV,+BACI,uBAAKT,MAAO,CAACS,OAAQA,EAAQgQ,UAAWhQ,EAAQiQ,UAAW,OAAQuc,QAAS,QAA5E,UACmD,IAA9C/+B,EAAM7D,iBAAiBT,SAASkd,WACjC,iCACI,+BACKimB,EA/HO,WACxB,IAAKxtB,EACD,MAAO,GAGX,IAAM2tB,EAAah/B,EAAM7D,iBAAiBT,SAASkB,OAC7CD,EAAWqiC,EAAa3kC,GAAwBgX,EAAmBjT,eAAejM,UAAW6sC,EAAY1M,GAAQ,GAEjH1Z,EAAY5Y,EAAM7D,iBAAiByc,UACnCqmB,EAAkBrmB,EAAYA,EAAUE,QAAU,KAElDomB,EAAa9kB,GAAcpa,EAAM7D,iBAAiBqe,gBAClD0B,EAAe5B,GAAgBta,EAAM7D,kBAAkB+f,aAGvDijB,EAAW,UAAMD,EAAN,kBAA0BhjB,GACrCkjB,EAAgBH,EAAkB5kC,GAAwBgX,EAAmBjT,eAAejM,UAAW8sC,EAAiB3M,GAAQ,KAEhI+M,EAAazmB,EAAYA,EAAUF,SAAW,KAC9CA,EAAW2mB,EAAahuB,EAAmBjT,eAAetM,WAAWyI,MAAK,SAAAme,GAAQ,OAAIA,EAASznB,KAAOouC,KAAc,KACpHC,EAAe5mB,EAAW1e,GAAQ0e,EAAU4Z,GAAQ,KAEpD/Y,EAAcvZ,EAAM7D,iBAAiBT,SAAS6d,YAC9CD,EAAYjI,EAAmBjT,eAAepM,WAAWuI,MAAK,SAAA+e,GAAS,OAAIA,EAAUroB,KAAOsoB,KAC5FC,EAAgBF,EAAYtf,GAAQsf,EAAWgZ,GAAQ,KAEvDiN,EAAsC,GAwB5C,OAtBAA,EAAiBxjC,KACb6iC,EAAU,GAAD,OAAI99B,GAAmB0E,oBAAoB8sB,GAA3C,KAAqD31B,IAElE4iC,EAAiBxjC,KACb6iC,EAAU,GAAD,OAAI99B,GAAmB6E,uBAAuB2sB,GAA9C,KAAwD9Y,IAErE+lB,EAAiBxjC,KACb6iC,EAAU,GAAD,OAAI99B,GAAmByE,kBAAkB+sB,GAAzC,KAAmDtyB,EAAM7D,iBAAiBT,SAASzK,KAEhGsuC,EAAiBxjC,KACb6iC,EAAU,GAAD,OAAI99B,GAAmBwE,qBAAqBgtB,GAA5C,KAAsD8M,IAEnEG,EAAiBxjC,KACb6iC,EAAU,GAAD,OAAI99B,GAAmBuE,oBAAoBitB,GAA3C,KAAqDgN,IAElEC,EAAiBxjC,KACb6iC,EAAU,GAAD,OAAI99B,GAAmB8E,kBAAkB0sB,GAAzC,KA9BD,mDAgCZiN,EAAiBxjC,KACb6iC,EAAU,GAAIO,IAGXI,EA6EyBC,MAEpB,uBAAK1tB,MAAO,CAACkD,WAAY,QAAzB,UACI,8BAAKlU,GAAmB2E,mBAAmB6sB,KAC1CuM,EA9EO,WACxB,IAAMY,EAAcz/B,EAAM7D,iBAAiB4jB,QACrC2f,EAAY,UAAMD,EAAY1lB,OAAlB,MAEZgH,EAAa,OAAG1P,QAAH,IAAGA,OAAH,EAAGA,EAAoBjT,eAAenM,aAAasI,MAAK,SAAAwlB,GAAO,OAAIA,EAAQ9uB,KAAOwuC,EAAYrmC,eACjH,GAAI2nB,EAAe,CACf,IAAMjH,EAA0C,IAA5B2lB,EAAYrmC,YAAoBY,GAAQ+mB,EAAeuR,GAAQxxB,GAAmB+O,mBAAmByiB,GACnHqN,EAAsC,GAU5C,OARAA,EAAiB5jC,KACb6iC,EAAU,GAAD,OAAI99B,GAAmB4E,uBAAuB4sB,GAA9C,KAAwDxY,IAGrE6lB,EAAiB5jC,KACb6iC,EAAU,GAAD,OAAI99B,GAAmBiL,cAAcumB,GAArC,KAA+CoN,IAGrDC,EAIX,MAAO,GAyDyBC,UAIuB,IAA9C5/B,EAAM7D,iBAAiBT,SAASkd,WACjC,iCACI,6CACCimB,OAAegB,MAIpB,sBAAK/tB,MAAO,CAACkD,WAAY,OAAQuB,cAAe,QAAhD,SACI,eAACvE,GAAA,EAAD,CAAQmC,QAAS,OAAQC,QAAQ,EAAMjC,QAxCnC,WAChB,IAAM+J,EAAe5B,GAAgBta,EAAM7D,kBAAkB+f,aACvD4jB,EAAQ,8DAA0D5jB,EAA1D,cAER6jB,EAAOtuB,OAAOuuB,KAAKF,EAAU,UAC/BC,EACAA,EAAKE,QAELxuB,OAAOC,SAASC,KAAOmuB,GAgCf,SACKh/B,GAAmB4L,qBAAqB4lB,YC5KlD,SAAS4N,GAAiBlgC,GACrC,IAAMqR,EAAqBC,qBAAW5W,IAEtC,IAAI2W,EACA,OAAO,yBAGX,MAAyCA,EAAmBpW,gBAAgBC,cAArEG,EAAP,EAAOA,YAAaG,EAApB,EAAoBA,iBAmBpB,OACI,uBAAKqW,UAAW,YAAaC,MAAO,CAACmD,SAAU,SAAUhD,SAAU,SAAnE,UACKzW,IAAqBtD,IACtB,eAACwmC,GAAD,CAAUviC,iBAAkB6D,EAAM7D,mBAEjCX,IAAqBtD,IApBtB,iCACKmD,IAAgB9E,IACjB,sBAAKsb,UAAU,MAAf,SACI,eAACusB,GAAD,CAAeC,UAAWr+B,EAAMq+B,cAGnChjC,IAAgB7E,IACjB,sBAAKqb,UAAU,MAAf,SACI,eAACosB,GAAD,CAAY9hC,iBAAkB6D,EAAM7D,2B,cCZjD,SAASgkC,GAAengC,GAC3B,IAAM0V,EAAkBpE,qBAAWnR,IAE7BigC,EAAwB,SAAC5gC,GAC3BQ,EAAMqgC,YAAY7gC,IAGhB2U,EAAU,OAEVmsB,EAAkB,SAACC,GACrB,IAAMC,EAAgBxgC,EAAMygC,oBAAsB,cAAgB,GAClE,OAAO,uBAAM5uB,UAAW2uB,EAAjB,SAAiCD,KAGtCG,EAAW1gC,EAAMygC,oBAAsB,SAAW,4BAExD,OACI,+BACI,gBAACE,GAAA,EAAD,CAAa9uB,UAAW6uB,EAAUE,SAAU5gC,EAAMygC,oBAAlD,UACI,eAACzuB,GAAA,EAAD,CAAQH,UAAU,mBACVM,QAAS,kBAAMiuB,EAAsBzoC,KACrCwc,QAASA,EACTC,OAAQpU,EAAMmxB,WAAax5B,GAHnC,SAIK2oC,EAAgBx/B,GAAmBgL,eAAe4J,EAAgBxb,aAEvE,eAAC8X,GAAA,EAAD,CAAQH,UAAU,mBACVM,QAAS,kBAAMiuB,EAAsBxoC,KACrCuc,QAASA,EACTC,OAAQpU,EAAMmxB,WAAav5B,GAHnC,SAIK0oC,EAAgBx/B,GAAmBwG,sBAAsBoO,EAAgBxb,aAE9E,eAAC8X,GAAA,EAAD,CAAQH,UAAU,mBACVM,QAAS,kBAAMiuB,EAAsBvoC,KACrCsc,QAASA,EACTC,OAAQpU,EAAMmxB,WAAat5B,GAHnC,SAIKyoC,EAAgBx/B,GAAmBwJ,mBAAmBoL,EAAgBxb,aAE3E,eAAC8X,GAAA,EAAD,CAAQH,UAAU,mBACVM,QAAS,kBAAMiuB,EAAsBtoC,KACrCqc,QAASA,EACTC,OAAQpU,EAAMmxB,WAAar5B,GAHnC,SAIKwoC,EAAgBx/B,GAAmBsH,mBAAmBsN,EAAgBxb,aAE3E,eAAC8X,GAAA,EAAD,CAAQH,UAAU,mBACVM,QAAS,kBAAMiuB,EAAsBroC,KACrCoc,QAASA,EACTC,OAAQpU,EAAMmxB,WAAap5B,GAHnC,SAIKuoC,EAAgBx/B,GAAmByG,sBAAsBmO,EAAgBxb,aAE9E,eAAC8X,GAAA,EAAD,CAAQH,UAAU,mBACVM,QAAS,kBAAMiuB,EAAsBpoC,KACrCmc,QAASA,EACTC,OAAQpU,EAAMmxB,WAAan5B,GAHnC,SAIKsoC,EAAgBx/B,GAAmB6F,6BAA6B+O,EAAgBxb,aAErF,eAAC8X,GAAA,EAAD,CAAQH,UAAU,mBACVM,QAAS,kBAAMiuB,EAAsBnoC,KACrCkc,QAASA,EACTC,OAAQpU,EAAMmxB,WAAal5B,GAHnC,SAIKqoC,EAAgBx/B,GAAmBmI,wBAAwByM,EAAgBxb,aAEhF,eAAC8X,GAAA,EAAD,CAAQH,UAAU,mBACVM,QAAS,kBAAMiuB,EAAsBloC,KACrCic,QAASA,EACTC,OAAQpU,EAAMmxB,WAAaj5B,GAHnC,SAIKooC,EAAgBx/B,GAAmBsE,WAAWsQ,EAAgBxb,kBC/CpE,SAAS2mC,GAAmB7gC,GACvC,IAAMqR,EAAqBC,qBAAW5W,IAChCgb,EAAkBpE,qBAAWnR,IAChC2gC,EAAUC,eAEb,EAAsCrgC,mBAAiB,GAAvD,oBAAOmoB,EAAP,KAAoBmY,EAApB,KAEA,GAA2B,OAAvB3vB,EACA,OAAO,yBAGX,IA6DI1U,EAOAskC,EApEE5lC,EAAcgW,EAAmBpW,gBAAgBC,cAAcG,YAC/D81B,EAAW9f,EAAmBpW,gBAAgBC,cAAcM,iBAE5Dw0B,EAAyB,SAACxwB,GAC5BQ,EAAMkhC,eAAe1hC,IA6CnB2hC,EAA8B,iCAC9BC,EAA+B,kCAE/BC,EAAqBhmC,IAAgB7E,GAAoB2qC,EACzDC,EAEAE,EAAsBjmC,IAAgB9E,GAAoB4qC,EAC1DC,EAEAG,EAAgBlwB,EAAmBjT,eAAejM,UAKpDwK,EADAqD,EAAM7D,iBAAiBT,SAASkB,OACrBvC,GAAwBknC,EAAevhC,EAAM7D,iBAAiBT,SAASkB,OAAQ8Y,EAAgBxb,UAE/F,aAIf,IAAMyoB,EAAc3iB,EAAM7D,iBAAiB4jB,QAAQhG,OAEnD,GAAK/Z,EAAM7D,iBAAiBT,SAASqsB,WAKjCkZ,EAAQ,UAAMtkC,EAAN,aAAmBgmB,EAAnB,WALqC,CAC7C,IAAMrJ,EAAYjI,EAAmBjT,eAAepM,WAAWuI,MAAK,SAAA+e,GAAS,OAAIA,EAAUroB,KAAO+O,EAAM7D,iBAAiBT,SAAS6d,eAC5HC,EAAgBF,EAAYtf,GAAQsf,EAAW5D,EAAgBxb,UAAY,GACjF+mC,EAAQ,UAAMtkC,EAAN,aAAmB6c,EAAnB,aAAqCmJ,EAArC,OAKZ,IAAMwF,EAA4BU,EAAc,EAAID,GAAYC,EAAanT,EAAgBxb,UAAY,KACnGsnC,EAAepnB,GAAcpa,EAAM7D,iBAAiBqe,gBACpDhf,EAAmB6V,EAAmBpW,gBAAgBC,cAAcM,iBACpEimC,EAAa,UAAM3gC,GAAmBqQ,eAAeuE,EAAgBxb,UAAxD,YAAqEsnC,GAExF,OACI,uBAAK1vB,MAAO,CAACyE,cAAe,OAA5B,UACkB,OAAb4R,GACD,eAACD,GAAD,CAAWC,SAAUA,EAAUK,eAAgB,kBAAMwY,EAAe,MAEpE,uBAAKnvB,UAAW,qBAAhB,UACI,sBAAKA,UAAU,oBAAf,SACI,sBAAKA,UAAW,OAAhB,SACI,uBAAKA,UAAU,YAAYC,MAAO,CAACsE,aAAc,QAAjD,UACI,eAAC+pB,GAAD,CAAgBM,qBAAqB,EAAMJ,YAAargC,EAAMqgC,YAAalP,SAAU31B,IACrF,sBAAKqW,UAAW,cAAeC,MAAO,CAACwD,UAAW,OAAQkB,gBAAiB,WAA3E,SACI,uBAAK3E,UAAW,cAAeC,MAAO,CAACud,SAAU,SAAUxN,WAAU4f,EAArE,UACKD,EACD,eAAC,KAAD,gBAMpB,uBAAK3vB,UAAW,MAAhB,UACI,uBAAKA,UAAU,0CAA0CC,MAAO,CAACwD,UAAW,QAA5E,UACI,sBAAKxD,MAAO,CAACkD,WAAY,MAAOJ,YAAa,QAA7C,SACI,sBAAK9C,MAAO,CAACsQ,aAAc,oBAAqBxN,YAAa,OAAQwB,aAAc,QAAnF,SACI,6BAAI6qB,QAGZ,sBAAKnvB,MAAO,CAACsE,aAAc,QAA3B,SACI,uBAAKtE,MAAO,CAACitB,QAAS,iBAAkBhtB,OAAQ,kBAAhD,UACI,uBAAKF,UAAU,YAAYoC,KAAK,QAAhC,UACI,gBAACjC,GAAA,EAAD,CAAQH,UAAWwvB,EACXlvB,QAAS,kBAAM6d,EAAuBx5B,KACtC4d,OAAQ/Y,IAAgB7E,GACxBqrB,WAAU/gB,GAAmB+P,oBAAoB6E,EAAgBxb,UAHzE,UAII,eAAC,KAAD,IACA,eAAC,KAAD,OAEJ,eAAC8X,GAAA,EAAD,CAAQH,UAAWyvB,EACXnvB,QAAS,kBAAM6d,EAAuBz5B,KACtC6d,OAAQ/Y,IAAgB9E,GACxBsrB,WAAU/gB,GAAmBoQ,mBAAmBwE,EAAgBxb,UAHxE,SAII,eAAC,KAAD,SAGR,uBAAK2X,UAAU,YAAYoC,KAAK,QAAQnC,MAAO,CAAC8C,YAAa,QAA7D,UACI,gBAAC5C,GAAA,EAAD,CAAQH,UAAW,mCACXM,QA/G3B,WACT,OAAQgf,GACJ,KAAKx5B,GAED,YADAqpC,EAAe,GAEnB,KAAKppC,GAED,YADAopC,EAAe,GAEnB,KAAKnpC,GAED,YADAmpC,EAAe,GAEnB,KAAKlpC,GAED,YADAkpC,EAAe,GAEnB,KAAKjpC,GAED,YADAipC,EAAe,GAEnB,KAAK9oC,GAED,YADA8oC,EAAe,GAEnB,KAAKhpC,GAED,YADAgpC,EAAe,GAEnB,KAAK/oC,GAED,YADA+oC,EAAe,GAEnB,QACI,SAqF4B5sB,OAAQ/Y,IAAgB7E,GAFhC,UAGI,eAAC,KAAD,IACA,eAAC,KAAD,OAEJ,gBAACwb,GAAA,EAAD,CAAQH,UAAW,kBACXM,QAhIvB,WACb,IAAMlhB,EAAM+O,EAAM7D,iBAAiBT,SAASzK,GAC5CywC,EAAiBrwB,EAAmBpW,gBAAgBC,cAAcY,kBAAkBQ,OAAS,EAE7F+U,EAAmB1R,qBAAqB3D,4BAA4B/K,GAEpD,IAAnBywC,GACFZ,EAAQ/kC,KAAK,CAAC4lC,SAAU5qC,MA0HiB8qB,WAAU/gB,GAAmBgQ,mBAAmB4E,EAAgBxb,UAFxE,UAGI,eAAC,KAAD,IACA,eAAC,KAAD,kBAMpB,eAACgmC,GAAD,CAAkB/jC,iBAAkB6D,EAAM7D,iBACxBkiC,UAAWr+B,EAAMq+B,qBC7LhD,SAASuD,GAAoBzlC,EAAoC4jB,EAAiB7lB,EAAkB0D,GACvG,IAAIygC,EAAwC,GAE5C,EAA8E/jB,GAAgBne,GAAkBkf,SAAzG2H,EAAP,EAAOA,MAAOH,EAAd,EAAcA,cAAeC,EAA7B,EAA6BA,OAAQC,EAArC,EAAqCA,SAAUE,EAA/C,EAA+CA,cAAeE,EAA9D,EAA8DA,IAAKD,EAAnE,EAAmEA,QAC5DoC,EAAUhL,GAAgBne,GAAkBwf,iBAA5C2J,MAkEP,OAhEGtC,GACCqb,EAAUtiC,KAAK8lC,GACX/gC,GAAmB+K,qBAAqB3R,GACxC8oB,EACAjD,EAAS,MAId8C,GACCwb,EAAUtiC,KAAK8lC,GACX/gC,GAAmB6F,6BAA6BzM,GAChD2oB,EACA9C,EAAS,MAIduF,GACC+Y,EAAUtiC,KAAK8lC,GAAkB,QAAD,OACpB/gC,GAAmBkL,oBAAoB9R,GADnB,YACgC4G,GAAmBuJ,qBAAqBnQ,IACpGorB,EACAvF,EAAS,MAIdkD,GACCob,EAAUtiC,KAAK8lC,GAAkB,QAAD,OACpB/gC,GAAmBkL,oBAAoB9R,GADnB,YACgC4G,GAAmBsG,6BAA6BlN,IAC5G+oB,EACAlD,EAAS,MAId+C,GACCub,EAAUtiC,KAAK8lC,GACX/gC,GAAmByG,sBAAsBrN,GACzC4oB,EACA/C,EAAS,MAIdgD,GACCsb,EAAUtiC,KAAK8lC,GACX/gC,GAAmBmI,wBAAwB/O,GAC3C6oB,EACAhD,EAAS,MAIdmD,GACCmb,EAAUtiC,KA2iBlB,SAAkCwc,EAAeupB,EAAoB/hB,EAAiByN,GAClF,IAAMuU,EAAeC,GAAqBF,EAAY/hB,GACtD,GAAoB,OAAjBgiB,EACC,MAAO,CACHxpB,MAAOA,EACPupB,WAAY,MACZG,cAAe,OAIvB,IACMC,EAAkC,MAAbJ,EAE3B,MAAO,CACHvpB,MAAOA,EACPupB,WAAW,GAAD,OAAKK,GAAsBL,GAA3B,YAA0CtU,EAA1C,kBAAwD2U,GAAsBD,GAA9E,YACVD,cAAc,GAAD,OAAKE,GAAsBJ,GAA3B,YAA4CvU,EAA5C,kBAA0D2U,GAAsBD,GAAhF,aA3jBEE,CACXthC,GAAmB2F,uBAAuBvM,GAC1CgpB,EACAnD,EAAS,MAIdoD,GACCkb,EAAUtiC,KAAK8lC,GACX/gC,GAAmB4F,mBAAmBxM,GACtCipB,EACApD,EAAS,MAIVse,EAmhBX,SAASwD,GAAkBtpB,EAAeupB,EAAoB/hB,EAAiByN,GAC3E,IAAMuU,EAAeC,GAAqBF,EAAY/hB,GACtD,MAAO,CACHxH,MAAOA,EACPupB,WAAW,GAAD,OAAKK,GAAsBL,GAA3B,YAA0CtU,GACpDyU,cAAc,GAAD,OAAKE,GAAsBJ,GAA3B,YAA4CvU,IAyBjE,SAASwU,GAAqBxiC,EAAsBmjB,GAChD,OAAa,OAAVnjB,QAA4Bob,IAAVpb,EACV,KACS,IAAVA,EACC,EAEHA,EAAQ,IAAOmjB,ECpmBZ,SAAS0f,GAAariC,GACjC,IAAMqR,EAAqBC,qBAAW5W,IAC/BR,EAAYoX,qBAAWnR,IAAvBjG,SAEDgkC,EAAkB7sB,EAClBA,EAAmBpW,gBAAgBC,cAAcM,iBACjD7D,GAEN,EAAkC+I,mBAAqC,IAAvE,oBAAO29B,EAAP,KAAkBiE,EAAlB,KAEMC,EAAa,WACf,IAAIC,EAA4C,GACzCziB,EAAW/f,EAAM7D,iBAAjB4jB,QAEiB1O,GAAqBA,EAAmBpW,gBAAgB2C,gBAE5EsgC,IAAoBvmC,GACpB6qC,EAAgBZ,GAAoB5hC,EAAM7D,iBAAkB4jB,EAAQhG,OAAQ7f,GACrEgkC,IAAoBtmC,GAC3B4qC,EDkSL,SAA2B9mC,EAA4BqkB,EAAiB7lB,EAAkB0D,GAC7F,IAAIygC,EAAyC,GAEvCvjB,EAAeR,GAAgB5e,GAC/BknB,EAA0C,OAAjC9H,EAAaO,SAASuH,OAAkB9H,EAAaO,SAASuH,OAAS,EActF,OAZAyb,EAAUtiC,KAAK8lC,GACX,OACAjf,EACA7C,EAAS,KAGbse,EAAUtiC,KAAK8lC,GACX,KACAM,GAAkB,MAAQvf,EAAQ,GAClC7C,EAAS,KAGNse,ECpTiBoE,CAAkBziC,EAAM7D,iBAAkB4jB,EAAQhG,QAC3DmkB,IAAoBrmC,GAC3B2qC,ED6BL,SAA4B9mC,EAA4BqkB,EAAiB7lB,EAAkB0D,GAC9F,IAAIygC,EAAyC,GACvCvjB,EAAeR,GAAgB5e,GAkGrC,OAhGiC,MAA9Bof,EAAaS,YAAYgI,GACxB8a,EAAUtiC,KAAK8lC,GACX/gC,GAAmByJ,qBAAqBrQ,GACxC4gB,EAAaS,YAAYgI,EACzBxD,EAAS,OAIiB,MAA/BjF,EAAaS,YAAYiI,IACxB6a,EAAUtiC,KAAK8lC,GACX/gC,GAAmB0J,sBAAsBtQ,GACzC4gB,EAAaS,YAAYiI,GACzBzD,EAAS,OAIiB,MAA/BjF,EAAaS,YAAYkI,IACxB4a,EAAUtiC,KAAK8lC,GACX/gC,GAAmB2J,sBAAsBvQ,GACzC4gB,EAAaS,YAAYkI,GACzB1D,EAAS,OAIiB,MAA/BjF,EAAaS,YAAYmI,IACxB2a,EAAUtiC,KAAK8lC,GACX/gC,GAAmB4J,sBAAsBxQ,GACzC4gB,EAAaS,YAAYmI,GACzB3D,EAAS,OAIiB,MAA/BjF,EAAaS,YAAYoI,IACxB0a,EAAUtiC,KAAK8lC,GACX/gC,GAAmB6J,sBAAsBzQ,GACzC4gB,EAAaS,YAAYoI,GACzB5D,EAAS,OAIiB,MAA/BjF,EAAaS,YAAYqI,IACxBya,EAAUtiC,KAAK8lC,GACX/gC,GAAmB8J,sBAAsB1Q,GACzC4gB,EAAaS,YAAYqI,GACzB7D,EAAS,OAIiB,MAA/BjF,EAAaS,YAAYuI,IACxBua,EAAUtiC,KAAK8lC,GACX/gC,GAAmB+J,sBAAsB3Q,GACzC4gB,EAAaS,YAAYuI,GACzB/D,EAAS,OAIkB,MAAhCjF,EAAaS,YAAYwI,KACxBsa,EAAUtiC,KAAK8lC,GACX/gC,GAAmBgK,uBAAuB5Q,GAC1C4gB,EAAaS,YAAYwI,IACzBhE,EAAS,OAIgB,MAA9BjF,EAAaS,YAAYyI,GACxBqa,EAAUtiC,KAAK8lC,GACX/gC,GAAmBiK,qBAAqB7Q,GACxC4gB,EAAaS,YAAYyI,EACzBjE,EAAS,OAIgB,MAA9BjF,EAAaS,YAAY0I,GACxBoa,EAAUtiC,KAAK8lC,GACX/gC,GAAmBkK,qBAAqB9Q,GACxC4gB,EAAaS,YAAY0I,EACzBlE,EAAS,OAIgB,MAA9BjF,EAAaS,YAAYlqB,GACxBgtC,EAAUtiC,KAAK8lC,GACX/gC,GAAmBmK,qBAAqB/Q,GACxC4gB,EAAaS,YAAYlqB,EACzB0uB,EAAS,OAIgB,MAA9BjF,EAAaS,YAAY2I,GACxBma,EAAUtiC,KAAK8lC,GACX/gC,GAAmBoK,qBAAqBhR,GACxC4gB,EAAaS,YAAY2I,EACzBnE,EAAS,OAIVse,ECjIiBqE,CAAmB1iC,EAAM7D,iBAAkB4jB,EAAQhG,OAAQ7f,GACpEgkC,IAAoBpmC,GAC3B0qC,EDmIL,SAA4B9mC,EAA4BqkB,EAAiB7lB,EAAkB0D,GAC9F,IAAIygC,EAAyC,GAEvCsE,EAAoBroB,GAAgB5e,GAkF1C,OAhF4C,MAAzCinC,EAAkBlnB,YAAY2I,SAC7Bia,EAAUtiC,KAAK8lC,GACX/gC,GAAmBuH,2BAA2BnO,GAC9CyoC,EAAkBlnB,YAAY2I,QAC9BrE,EAAS,OAIwB,MAAtC4iB,EAAkBlnB,YAAY4I,MAC7Bga,EAAUtiC,KAAK8lC,GACX/gC,GAAmByH,wBAAwBrO,GAC3CyoC,EAAkBlnB,YAAY4I,KAC9BtE,EAAS,OAI6B,MAA3C4iB,EAAkBlnB,YAAY6I,WAC7B+Z,EAAUtiC,KAAK8lC,GACX/gC,GAAmB0H,6BAA6BtO,GAChDyoC,EAAkBlnB,YAAY6I,UAC9BvE,EAAS,OAI8B,MAA5C4iB,EAAkBlnB,YAAY8I,YAC7B8Z,EAAUtiC,KAAK8lC,GACX/gC,GAAmB4H,8BAA8BxO,GACjDyoC,EAAkBlnB,YAAY8I,WAC9BxE,EAAS,OAI6B,MAA3C4iB,EAAkBlnB,YAAY+I,WAC7B6Z,EAAUtiC,KAAK8lC,GACX/gC,GAAmB6H,8BAA8BzO,GACjDyoC,EAAkBlnB,YAAY+I,UAC9BzE,EAAS,OAI0B,MAAxC4iB,EAAkBlnB,YAAYgJ,QAC7B4Z,EAAUtiC,KAAK8lC,GACX/gC,GAAmB+H,0BAA0B3O,GAC7CyoC,EAAkBlnB,YAAYgJ,OAC9B1E,EAAS,OAIwB,MAAtC4iB,EAAkBlnB,YAAYiJ,MAC7B2Z,EAAUtiC,KAAK8lC,GACX/gC,GAAmBgI,wBAAwB5O,GAC3CyoC,EAAkBlnB,YAAYiJ,KAC9B3E,EAAS,OAI0B,MAAxC4iB,EAAkBlnB,YAAYkJ,QAC7B0Z,EAAUtiC,KAAK8lC,GACX/gC,GAAmBwH,0BAA0BpO,GAC7CyoC,EAAkBlnB,YAAYkJ,OAC9B5E,EAAS,OAI6B,MAA3C4iB,EAAkBlnB,YAAYmJ,WAC7ByZ,EAAUtiC,KAAK8lC,GACX/gC,GAAmB2H,6BAA6BvO,GAChDyoC,EAAkBlnB,YAAYmJ,UAC9B7E,EAAS,OAI4B,MAA1C4iB,EAAkBlnB,YAAYoJ,UAC7BwZ,EAAUtiC,KAAK8lC,GACX/gC,GAAmB8H,4BAA4B1O,GAC/CyoC,EAAkBlnB,YAAYoJ,SAC9B9E,EAAS,OAIVse,ECxNiBuE,CAAmB5iC,EAAM7D,iBAAkB4jB,EAAQhG,OAAQ7f,GACpEgkC,IAAoBnmC,GAC3ByqC,ED0NL,SAA2B9mC,EAA4BqkB,EAAiB7lB,EAAkB0D,GAC7F,IAAIygC,EAAyC,GACvCsE,EAAoBroB,GAAgB5e,GA4D1C,OA1D4C,MAAzCinC,EAAkB5mB,UAAU2J,WAC3B2Y,EAAUtiC,KAAK8lC,GACX/gC,GAAmB2G,gCAAgCvN,GACnDyoC,EAAkB5mB,UAAU2J,UAC5B3F,EAAS,MAIiC,MAA/C4iB,EAAkB5mB,UAAUyJ,iBAC3B6Y,EAAUtiC,KAAK8lC,GACX/gC,GAAmB8G,uCAAuC1N,GAC1DyoC,EAAkB5mB,UAAUyJ,gBAC5BzF,EAAS,MAIiC,MAA/C4iB,EAAkB5mB,UAAU0J,iBAC3B4Y,EAAUtiC,KAAK8lC,GACX/gC,GAAmBgH,uCAAuC5N,GAC1DyoC,EAAkB5mB,UAAU0J,gBAC5B1F,EAAS,MAId4iB,EAAkB5mB,UAAUC,YACwB,MAAhD2mB,EAAkB5mB,UAAUC,UAAU2J,QACrC0Y,EAAUtiC,KAAK8lC,GAAkB,GAAD,OACzB/gC,GAAmBkL,oBAAoB9R,GADd,YAC2B4G,GAAmBmH,6BAA6B/N,IACvGyoC,EAAkB5mB,UAAUC,UAAU2J,OACtC5F,EAAS,MAIkC,MAAhD4iB,EAAkB5mB,UAAUC,UAAU4J,QACrCyY,EAAUtiC,KAAK8lC,GAAkB,GAAD,OACzB/gC,GAAmBkL,oBAAoB9R,GADd,YAC2B4G,GAAmBoH,6BAA6BhO,IACvGyoC,EAAkB5mB,UAAUC,UAAU4J,OACtC7F,EAAS,OAK6B,MAA/C4iB,EAAkB5mB,UAAUgK,iBAC3BsY,EAAUtiC,KAAK8lC,GACX/gC,GAAmBkH,sCAAsC9N,GACzDyoC,EAAkB5mB,UAAUgK,gBAC5BhG,EAAS,MAI6B,MAA3C4iB,EAAkB5mB,UAAU+J,aAC3BuY,EAAUtiC,KAAK8lC,GACX/gC,GAAmBqH,kCAAkCjO,GACrDyoC,EAAkB5mB,UAAU+J,YAC5B/F,EAAS,MAIVse,ECxRiBwE,CAAkB7iC,EAAM7D,iBAAkB4jB,EAAQhG,OAAQ7f,GACnEgkC,IAAoBlmC,GAC3BwqC,EDiTL,SAA0B9mC,EAA4BqkB,EAAiB7lB,EAAkB0D,GAC5F,IAAIygC,EAAyC,GAEvCsE,EAAoBroB,GAAgB5e,GAgF1C,OA9EA2iC,EAAUtiC,KAAK8lC,GACX/gC,GAAmB6F,6BAA6BzM,GAChDyoC,EAAkBtnB,SAASwH,cAC3B9C,EAAS,MAGkC,MAA5C4iB,EAAkBhnB,iBAAiB2J,OAClC+Y,EAAUtiC,KAAK8lC,GAAkB,QAAD,OACpB/gC,GAAmBkL,oBAAoB9R,GADnB,YACgC4G,GAAmBuJ,qBAAqBnQ,IACpGyoC,EAAkBhnB,iBAAiB2J,MACnCvF,EAAS,MAI8B,MAA5C4iB,EAAkBtnB,SAAS4H,eAC1Bob,EAAUtiC,KAAK8lC,GAAkB,QAAD,OACpB/gC,GAAmBkL,oBAAoB9R,GADnB,YACgC4G,GAAmBsG,6BAA6BlN,IAC5GyoC,EAAkBtnB,SAAS4H,cAC3BlD,EAAS,MAIgC,MAA9C4iB,EAAkBhnB,iBAAiBoJ,SAClCsZ,EAAUtiC,KAAK8lC,GACX/gC,GAAmBiG,qCAAqC7M,GACxDyoC,EAAkBhnB,iBAAiBoJ,QACnChF,EAAS,MAIiC,MAA/C4iB,EAAkBhnB,iBAAiBqJ,UAClCqZ,EAAUtiC,KAAK8lC,GACX/gC,GAAmB+F,sCAAsC3M,GACzDyoC,EAAkBhnB,iBAAiBqJ,SACnCjF,EAAS,MAIkC,MAAhD4iB,EAAkBhnB,iBAAiBsJ,WAClCoZ,EAAUtiC,KAAK8lC,GACX/gC,GAAmBgG,uCAAuC5M,GAC1DyoC,EAAkBhnB,iBAAiBsJ,UACnClF,EAAS,MAIgC,MAA9C4iB,EAAkBhnB,iBAAiBuJ,SAClCmZ,EAAUtiC,KAAK8lC,GACX/gC,GAAmBqG,qCAAqCjN,GACxDyoC,EAAkBhnB,iBAAiBuJ,QACnCnF,EAAS,MAIgC,MAA9C4iB,EAAkBhnB,iBAAiByJ,SAClCiZ,EAAUtiC,KAAK8lC,GACX/gC,GAAmBkG,qCAAqC9M,GACxDyoC,EAAkBhnB,iBAAiByJ,QACnCrF,EAAS,MAIgC,MAA9C4iB,EAAkBhnB,iBAAiBwJ,SAClCkZ,EAAUtiC,KAAK8lC,GACX/gC,GAAmBmG,qCAAqC/M,GACxDyoC,EAAkBhnB,iBAAiBwJ,QACnCpF,EAAS,MAI+B,MAA7C4iB,EAAkBhnB,iBAAiB0J,QAClCgZ,EAAUtiC,KAAK8lC,GACX/gC,GAAmBoG,oCAAoChN,GACvDyoC,EAAkBhnB,iBAAiB0J,OACnCtF,EAAS,MAIVse,ECpYiByE,CAAiB9iC,EAAM7D,iBAAkB4jB,EAAQhG,OAAQ7f,GAClEgkC,IAAoBjmC,KAC3BuqC,EDuYL,SAA4B9mC,EAA4BqkB,EAAiB7lB,EAAkB0D,GAC9F,IAAIygC,EAAyC,GAEvCxiB,EAAcvB,GAAgB5e,GAAUmgB,YAC9C,OAAIA,GAIyB,MAA1BA,EAAYuK,YACXiY,EAAUtiC,KAAK8lC,GACX/gC,GAAmBmJ,mCAAmC/P,GACtD2hB,EAAYuK,WACZrG,EAAS,MAIW,MAAzBlE,EAAYwK,WACXgY,EAAUtiC,KAAK8lC,GACX/gC,GAAmBkJ,kCAAkC9P,GACrD2hB,EAAYwK,UACZtG,EAAS,MAIY,MAA1BlE,EAAYyK,YACX+X,EAAUtiC,KAAK8lC,GACX/gC,GAAmB2I,mCAAmCvP,GACtD2hB,EAAYyK,WACZvG,EAAS,MAIS,MAAvBlE,EAAY0K,SACX8X,EAAUtiC,KAAK8lC,GACX/gC,GAAmB4I,gCAAgCxP,GACnD2hB,EAAY0K,QACZxG,EAAS,MAIQ,MAAtBlE,EAAY2K,QACX6X,EAAUtiC,KAAK8lC,GACX/gC,GAAmB6I,+BAA+BzP,GAClD2hB,EAAY2K,OACZzG,EAAS,MAIY,MAA1BlE,EAAY4K,YACX4X,EAAUtiC,KAAK8lC,GACX/gC,GAAmB8I,mCAAmC1P,GACtD2hB,EAAY4K,WACZ1G,EAAS,MAIS,MAAvBlE,EAAY6K,SACX2X,EAAUtiC,KAAK8lC,GACX/gC,GAAmBuI,gCAAgCnP,GACnD2hB,EAAY6K,QACZ3G,EAAS,MAIe,MAA7BlE,EAAY8K,eACX0X,EAAUtiC,KAAK8lC,GACX/gC,GAAmB+I,sCAAsC3P,GACzD2hB,EAAY8K,cACZ5G,EAAS,MAIU,MAAxBlE,EAAY+K,UACXyX,EAAUtiC,KAAK8lC,GACX/gC,GAAmBoJ,iCAAiChQ,GACpD2hB,EAAY+K,SACZ7G,EAAS,MAIQ,MAAtBlE,EAAYgL,QACXwX,EAAUtiC,KAAK8lC,GACX/gC,GAAmBqJ,+BAA+BjQ,GAClD2hB,EAAYgL,OACZ9G,EAAS,MAIU,MAAxBlE,EAAYiL,UACXuX,EAAUtiC,KAAK8lC,GACX/gC,GAAmBqI,iCAAiCjP,GACpD2hB,EAAYiL,SACZ/G,EAAS,MAIW,MAAzBlE,EAAYkL,WACXsX,EAAUtiC,KAAK8lC,GACX/gC,GAAmB0I,kCAAkCtP,GACrD2hB,EAAYkL,UACZhH,EAAS,MAIS,MAAvBlE,EAAYmL,SACXqX,EAAUtiC,KAAK8lC,GACX/gC,GAAmBoI,gCAAgChP,GACnD2hB,EAAYmL,QACZjH,EAAS,MAIc,MAA5BlE,EAAYoL,cACXoX,EAAUtiC,KAAK8lC,GACX/gC,GAAmBsI,qCAAqClP,GACxD2hB,EAAYoL,aACZlH,EAAS,MAIc,MAA5BlE,EAAYqL,cACXmX,EAAUtiC,KAAK8lC,GACX/gC,GAAmByI,qCAAqCrP,GACxD2hB,EAAYqL,aACZnH,EAAS,MAIS,MAAvBlE,EAAYsL,SACXkX,EAAUtiC,KAAK8lC,GACX/gC,GAAmBwI,gCAAgCpP,GACnD2hB,EAAYsL,QACZpH,EAAS,MAIS,MAAvBlE,EAAYuL,SACXiX,EAAUtiC,KAAK8lC,GACX/gC,GAAmBgJ,gCAAgC5P,GACnD2hB,EAAYuL,QACZrH,EAAS,MAIQ,MAAtBlE,EAAYwL,QACXgX,EAAUtiC,KAAK8lC,GACX/gC,GAAmBiJ,+BAA+B7P,GAClD2hB,EAAYwL,OACZtH,EAAS,MAIVse,GAnJIA,EC5Ya0E,CAAmB/iC,EAAM7D,iBAAkB4jB,EAAQhG,OAAQ7f,IAG/EooC,EAAaE,IAYjB,GATA5vB,qBAAU,WACF2vB,MACD,CAACviC,EAAM7D,iBAAP,OACCkV,QADD,IACCA,OADD,EACCA,EAAoBpW,gBAAgB2C,gBADrC,OAECyT,QAFD,IAECA,OAFD,EAECA,EAAoBpW,gBAAgBC,cAAcM,iBAFnD,OAGC6V,QAHD,IAGCA,OAHD,EAGCA,EAAoBpW,gBAAgBC,cAAcG,YAHnD,OAICgW,QAJD,IAICA,OAJD,EAICA,EAAoB5T,YAGvB4T,EACD,OAAO,yBAiBX,OAJIA,EAAmBlS,OACnB3E,QAAQoZ,IAAI,qCAAsCyqB,GAG/C,+BACH,eAACwC,GAAD,CAAoBK,eAVI,SAAC8B,GACzB3xB,EAAmB1R,qBAAqBvE,uBAAuB4nC,GAC/DT,KASoBlC,YAhBF,SAAC4C,GACnB5xB,EAAmB1R,qBAAqBE,oBAAoBojC,GAC5DV,KAeoBpmC,iBAAkB6D,EAAM7D,iBACxBkiC,UAAWA,MCrFhC,SAAS6E,GAA2B/mC,EAAoColC,EAC7ErnC,GACE,IAAIyC,EAOJ,OAAiB,QALbA,EADDR,EAAiBT,SAASkB,OACdvC,GAAwBknC,EAAeplC,EAAiBT,SAASkB,OAAQ1C,GAEzE,eAIXM,QAAQC,MAAM,2BACP,OAGX0B,EAAiBgnC,UAAY,eAACd,GAAD,CAA4DlmC,iBAAkBA,GAA9E,yBAAqCA,EAAiBlL,KACnFkL,EAAiBU,IAAMF,EACvBR,EAAiBlL,GAAKkL,EAAiBT,SAASzK,GAEzCkL,GCRI,SAASinC,GAAsBpjC,GAC1C,IAAMqR,EAAqBC,qBAAW5W,IAChCgb,EAAkBpE,qBAAWnR,IAChC2gC,EAAUC,eAEPsC,GAA2D,IAA5BrjC,EAAMsjC,kBACrCC,GAA6E,IAArCvjC,EAAMwjC,2BAEpD,EAAgD9iC,mBAAkB2iC,GAAlE,oBAAOI,EAAP,KAAyBC,EAAzB,KACA,EAAwEhjC,mBAAkB6iC,GAA1F,oBAAOI,EAAP,KAAuCC,EAAvC,KAEIxkB,EAAa3M,KAQjB,GANAG,qBAAU,WACNixB,KAAaC,aAGjBD,KAAaC,WAETzyB,EACA,OAAO,yBAGX,IAAMwY,EAAS,WACX6Z,GAAoB,GACpBE,GAA8B,IAG5BG,EAAyB,SAAC5nC,GAC5B,GAA2B,OAAvBkV,EAAJ,CAIA,IAAM2yB,EAAgCd,GAClC/mC,EAAkBkV,EAAmBjT,eAAejM,UAAWujB,EAAgBxb,UAE9C,OAAlC8pC,GACC3yB,EAAmB1R,qBAAqBlE,uBAAuBuoC,IAGnE,OAAI3yB,QAAJ,IAAIA,OAAJ,EAAIA,EAAoBlS,QACpB3E,QAAQoZ,IAAI,sFAAuFowB,GAGvGhkC,EAAMikC,0BAGJC,EAAc,uCAAG,sBAAA3gB,EAAA,sEACTyH,GACNlqB,GAAmB2B,uBAAuBiT,EAAgBxb,UAC1D4G,GAAmBiB,WAAW2T,EAAgBxb,UAC9C4G,GAAmBW,UAAUiU,EAAgBxb,UAC7C,IALe,kCAOf4mC,EAAQ/kC,KAAKhF,IACK,OAAlBsa,QAAkB,IAAlBA,KAAoB1R,qBAAqBpD,kCAR1B,2CAAH,sDAYpB,OAAI8U,QAAJ,IAAIA,OAAJ,EAAIA,EAAoBlS,QACpB3E,QAAQoZ,IAAI,iCAGhB,IAAM9X,EAAiB,OAAGuV,QAAH,IAAGA,OAAH,EAAGA,EAAoBpW,gBAAgBC,cAAcY,kBACtEqoC,EAAoBroC,GAAqBA,EAAkBQ,OAAS,EAC1EunC,KAAaC,UAEbtpC,QAAQoZ,IAAI,eAAgBwL,GAE5B,IAAMglB,EAAiBpxB,GAAeoM,GAAc,6CAA+C,yCAC7FilB,EAAiBrxB,GAAeoM,GAAc,CAACpK,WAAY,OAAQ2b,WAAY,QAAU,CAACA,WAAY,OAAQze,YAAa,OAAQ8C,WAAY,QAC/IsvB,EAActxB,GAAeoM,GAAc,WAAa,MACxDmlB,EAAcvxB,GAAeoM,GAAc,CAAClN,YAAa,QAAU,CAACA,YAAa,QAEvF,OACI,+BACI,iCACKuxB,GACD,eAAC,GAAD,CAAmB5Z,OAAQA,EAAQD,yBAA0Bma,EAAwBva,mBAAmB,IAEtGma,GACF,eAAC,GAAD,CAAmB9Z,OAAQA,EAAQD,yBAA0Bma,EAAwBva,mBAAmB,IAExG,uBAAK3X,UAAWuyB,EAAgBtyB,MAAOuyB,EAAvC,UACI,eAACryB,GAAA,EAAD,CAAQG,QAAS,kBAAMuxB,GAAqBD,IACpC5xB,UAAWyyB,EACXxyB,MAASyyB,EACT1iB,WAAU/gB,GAAmBiQ,yBAAyB2E,EAAgBxb,UAH9E,SAII,eAAC,KAAD,MAEJ,eAAC8X,GAAA,EAAD,CAAQG,QAAS,kBAAMyxB,GAA+BD,IAC9C9xB,UAAWyyB,EACXxyB,MAASyyB,EACT1iB,WAAU/gB,GAAmBkQ,8BAA8B0E,EAAgBxb,UAHnF,SAII,eAAC,KAAD,MAEJ,eAAC8X,GAAA,EAAD,CAAQG,QAAS,kBAAM+xB,KACf3iB,UAAgC,IAAtB4iB,EACVtyB,UAAWyyB,EACXxyB,MAASyyB,EACT1iB,WAAU/gB,GAAmBmQ,uBAAuByE,EAAgBxb,UAJ5E,SAKI,eAAC,KAAD,SAGR,eAAC,KAAD,S,cCpHD,SAASsqC,GAAaxkC,GACjC,IAAM/E,EAAkBqW,qBAAW5W,IAoBnC,OAJA,OAAGO,QAAH,IAAGA,OAAH,EAAGA,EAAiBkE,QAChB3E,QAAQoZ,IAAI,2CAA4C3Y,EAAgBA,gBAAgBC,cAAcY,mBAGrGb,GAAoBA,EAAgBA,gBAAgBC,cAAcY,kBAKnE,+BACI,eAAC,KAAD,CACIy3B,KAAMt4B,EAAgBA,gBAAgBC,cAAcY,kBACpD2oC,cAAc,YACdC,gBAAgB,wBAChB5yB,MA5BE,CACV6yB,UAAW,CACPC,OAAQ,0BACRhU,WAAY,OACZxI,QAAS,cACTyc,cAAe,SACfC,UAAW,OACXC,WAAY,SACZC,OAAQ,UACR1vB,UAAW,QACX8M,aAAc,0BAmBV6iB,WAAY,SAACh0C,GAAD,OAAQ+O,EAAMklC,YAAYj0C,IACtCk0C,YAAalqC,EAAgBA,gBAAgBC,cAAcC,0BAX5D,yBCzBR,SAASiqC,GAAyBpoC,EAAiExB,GACzG,IAAI6pC,EACJ,OAAO7pC,GACN,KAAK7D,GACJ0tC,EAAcroC,EAAgBjE,gBAC9B,MACD,KAAKhB,GACJstC,EAAcroC,EAAgBzD,kBAC9B,MACD,KAAKvB,GACJqtC,EAAcroC,EAAgBtD,iBAC9B,MACD,KAAK7B,GACJwtC,EAAcroC,EAAgB7D,mBAC9B,MACD,KAAKrB,GACJutC,EAAcroC,EAAgB1D,mBAC9B,MACD,KAAKrB,GACJotC,EAAcroC,EAAgBrD,mBAC9B,MACD,QACC0rC,EAAc,GAIhB,OAuMM,SAA+CA,GACrD,IAAOrsC,EAAgGqsC,EAAhGrsC,UAAWK,EAAqFgsC,EAArFhsC,UAAWH,EAA0EmsC,EAA1EnsC,YAAaD,EAA6DosC,EAA7DpsC,WAAYG,EAAiDisC,EAAjDjsC,YAAaK,EAAoC4rC,EAApC5rC,SAAUM,EAA0BsrC,EAA1BtrC,UAAWF,EAAewrC,EAAfxrC,YAElFyrC,OAA6B1qB,IAAd5hB,GAAyC,OAAdA,EAAqB,EAAIA,IAAcvG,EAAiB,EAAI,EACtG8yC,OAAiC3qB,IAAhBxhB,GAA6C,OAAhBA,EAAuB,EAAIA,IAAgB7G,EAAiB,EAAI,EAE9GizC,EAAensC,EAAY84B,GAAsB94B,GAAa,EAC9DosC,EAAgBxsC,EAAak5B,GAAsBl5B,GAAc,EACjEysC,EAAiBxsC,EAAci5B,GAAsBj5B,GAAe,EAEpEysC,EAAclsC,EAAWmsC,GAAensC,GAAY,EACpDosC,EAAe9rC,EAAY6rC,GAAe7rC,GAAa,EACvD+rC,EAAiBjsC,EAAcs4B,GAAsBt4B,GAAe,EAE1E,MAAM,GAAN,OAAUyrC,GAAV,OAAyBC,GAAzB,OAA0CC,GAA1C,OAAyDC,GAAzD,OAAyEC,GAAzE,OAA0FC,GAA1F,OAAwGE,GAAxG,OAAuHC,GArNhHC,CAiKD,SAAoCV,GAC1C,IAAMW,EAAiD,GACpDX,EAAYrsC,YACdgtC,EAAuBhtC,UAAYqsC,EAAYrsC,WAG7CqsC,EAAYhsC,YACd2sC,EAAuB3sC,UAAYgsC,EAAYhsC,WAG7CgsC,EAAYnsC,cACd8sC,EAAuB9sC,YAAcmsC,EAAYnsC,aAG/CmsC,EAAYpsC,aACd+sC,EAAuB/sC,WAAaosC,EAAYpsC,YAG9CosC,EAAYjsC,cACd4sC,EAAuB5sC,YAAcisC,EAAYjsC,aAG/CisC,EAAY5rC,WACdusC,EAAuBvsC,SAAW4rC,EAAY5rC,UAG5C4rC,EAAYtrC,YACdisC,EAAuBjsC,UAAYsrC,EAAYtrC,WAG7CsrC,EAAYxrC,cACdmsC,EAAuBnsC,YAAcwrC,EAAYxrC,aAGlD,OAAOmsC,EApMwBC,CAA2BZ,IAUpD,SAASa,GAAsBlpC,EAAkCmpC,EAA8B3qC,GACrG,IAAM4qC,EAAqBC,GAA4CF,GAChEntC,EAAwEotC,EAAxEptC,UAAWK,EAA6D+sC,EAA7D/sC,UAAWH,EAAkDktC,EAAlDltC,YAAaD,EAAqCmtC,EAArCntC,WAAYG,EAAyBgtC,EAAzBhtC,YAAaK,EAAY2sC,EAAZ3sC,SAEnE,GAAG+B,IAAqB7D,GACvB,OAAIqB,QAA4B4hB,IAAf3hB,QAA4C2hB,IAAhB1hB,EAItC,2BAAI8D,GAAX,IAA4BjE,gBAAiB,CAC3CC,UAAWA,EACXC,WAAYA,EACZC,YAAaA,KANP8D,EAWT,GAAGxB,IAAqBzD,GACvB,OAAIiB,QAA4B4hB,IAAf3hB,QAAyC2hB,IAAbnhB,EAItC,2BAAIuD,GAAX,IAA4BzD,kBAAkB,2BACzCyD,EAAgBzD,mBADwB,IAE3CP,UAAWA,EACXC,WAAYA,EACZQ,SAAUA,MAPJuD,EAYT,GAAGxB,IAAqBxD,GACvB,OAAIgB,QAA4B4hB,IAAf3hB,QAAyC2hB,IAAbnhB,EAItC,2BAAIuD,GAAX,IAA4BtD,iBAAiB,2BACxCsD,EAAgBtD,kBADuB,IAE1CV,UAAWA,EACXC,WAAYA,EACZQ,SAAUA,MAPJuD,EAYT,GAAGxB,IAAqB3D,IAAoB2D,IAAqB1D,IAAoB0D,IAAqBvD,GAAmB,CAC5H,QAAmB2iB,IAAhBxhB,QAA2CwhB,IAAdvhB,EAC/B,OAAO2D,EAGR,IAAMspC,EAAiB,CACrBltC,YAAaA,EACbC,UAAWA,GAGb,GAAGmC,IAAqB3D,GACvB,OAAO,2BAAImF,GAAX,IAA4B7D,mBAAoBmtC,IAGjD,GAAG9qC,IAAqB1D,GACvB,OAAO,2BAAIkF,GAAX,IAA4B1D,mBAAoBgtC,IAGjD,GAAG9qC,IAAqBvD,GACvB,OAAO,2BAAI+E,GAAX,IAA4BrD,mBAAoB2sC,IAKlD,OAAOtpC,EA2ID,SAASqpC,GAA4CE,GAC3D,IAAIA,EACH,MAAO,GAGR,IAAMC,EAAgBD,EAAU1X,OAChC,GAA4B,IAAzB2X,EAAclqC,OAChB,MAAO,GAGR,IAAMgpC,EAAekB,EAAc7yB,UAAU,EAAG,GAC1C4xB,EAAiBiB,EAAc7yB,UAAU,EAAG,GAC5C6xB,EAAegB,EAAc7yB,UAAU,EAAG,GAC1C8xB,EAAgBe,EAAc7yB,UAAU,EAAG,GAC3C+xB,EAAiBc,EAAc7yB,UAAU,EAAG,GAC5CgyB,EAAca,EAAc7yB,UAAU,EAAG,GACzCkyB,EAAeW,EAAc7yB,UAAU,EAAG,GAC1CmyB,EAAiBU,EAAc7yB,UAAU,EAAG,GAE5C8yB,EAAkBjlB,SAAS8jB,GAC3BoB,EAAoBllB,SAAS+jB,GAC7BoB,EAAiBnlB,SAASmkB,GAC1BiB,EAAkBplB,SAASqkB,GAE3B7sC,EAAgC,IAApBytC,GAAyBhlB,MAAMglB,QAC1C7rB,EACoB,IAApB6rB,EAAwBh0C,EAAiBC,EAE1C0G,EAAoC,IAAtBstC,GAA2BjlB,MAAMilB,QAC9C9rB,EACsB,IAAtB8rB,EAA0Bn0C,EAAiBC,EAE5CiH,EAA8B,IAAnBktC,GAAwBllB,MAAMklB,QAAkB/rB,EAAYisB,GAAmBF,GAC1F5sC,EAAgC,IAApB6sC,GAAyBnlB,MAAMmlB,QAAmBhsB,EAAYisB,GAAmBD,GAEnG,MAAO,CACN5tC,UAAWA,EACXI,YAAaA,EACbC,UAAW+4B,GAAuBoT,GAClCvsC,WAAYm5B,GAAuBqT,GACnCvsC,YAAak5B,GAAuBsT,GACpCjsC,SAAUA,QAAsBmhB,EAChC7gB,UAAWA,QAAwB6gB,EACnC/gB,YAAau4B,GAAuB0T,IAM/B,SAASF,GAAensC,GAC9B,OAAOA,GACN,KAAKhD,GACJ,OAAO,EACR,KAAKC,GACJ,OAAO,EACR,KAAKC,GACJ,OAAO,EACR,KAAKC,GACJ,OAAO,EACR,QACC,OAAO,GAIH,SAASiwC,GAAmB9pB,GAClC,OAAOA,GACN,KAAK,EACJ,OAAOtmB,GACR,KAAK,EACJ,OAAOC,GACR,KAAK,EACJ,OAAOC,GACR,KAAK,EACJ,OAAOC,GACR,QACC,OAAO,MCnTH,SAASkwC,GAAuBC,GACrC,IA2G+CrtB,EA3GzCstB,GA2GyCttB,EA3GQqtB,EAAartB,YA4G/D,GAAN,OAAUA,EAAYtgB,YAAtB,YAAqCsgB,EAAYK,SA3G1CktB,EAAkB9U,GAAsB4U,EAAatsB,gBACrDysB,EAAe/U,GAAsB4U,EAAarsB,aAExD,MAAM,GAAN,OAAUqsB,EAAa9qC,WAAvB,YAAqC8qC,EAAappC,OAAlD,YAA4DqpC,EAA5D,YAA6EC,GAA7E,OAA+FC,GAmC1F,SAASC,GAAmBC,GAClC,IAAMnrC,EAAaulB,SAAS4lB,EAAU,IAChCzpC,EAAS6jB,SAAS4lB,EAAU,IAC5B1tB,EAqEA,SAA0C2tB,GAChD,IAAMD,EAAYC,EAAkBC,MAAM,KAC1C,GAAwB,IAArBF,EAAU9qC,OACZ,OAAO,KAER,MAAO,CACNlD,YAAaooB,SAAS4lB,EAAU,IAChCrtB,OAAQyH,SAAS4lB,EAAU,KA5ERG,CAAiCH,EAAU,IACzDI,EAAcJ,EAAU,GAExB3sB,EAAiB2X,GAAuBoV,EAAY7zB,UAAU,EAAE,IAChE+G,EAAc0X,GAAuBoV,EAAY7zB,UAAU,EAAE,IAEnE,OAAI+F,GAAe8tB,EAAYlrC,OAAS,EAChC,KAGD,CACNL,WAAYA,EACZ0B,OAAQA,EACR+b,YAAaA,EACbe,eAAgBA,EAChBC,YAAaA,GAIR,SAAS+sB,GAA8BhqC,GAC7C,IAAMmB,EAASozB,GAAuBv0B,EAASmB,OAAQ,GACjDF,EAAMszB,GAAuBv0B,EAASiB,IAAK,GAC3CC,EAAOqzB,GAAuBv0B,EAASkB,KAAM,GAE7CK,EAAWgzB,GAAwBuD,GAAe93B,EAASuB,UAAW,GACtEH,EAAMpB,EAASoB,MAAQtH,GAAW,EAAI,EAEtCuH,EAAWqzB,GAAsB10B,EAASqB,UAC1CC,EAAgBozB,GAAsB10B,EAASsB,eAC/CE,EAAgBkzB,GAAsB10B,EAASwB,eAErD,MAAM,GAAN,OAAUL,GAAV,OAAmBF,GAAnB,OAAyBC,GAAzB,OAAgCK,GAAhC,OAA2CH,GAA3C,OAAiDC,GAAjD,OAA4DC,GAA5D,OAA4EE,GAItE,SAASyoC,GAA8BC,GAC7C,GAAGA,EAAerrC,OAAS,GAC1B,OAAO,KAGR,IAAMsC,EAAS+oC,EAAeh0B,UAAU,EAAE,GACpCjV,EAAMipC,EAAeh0B,UAAU,EAAE,GACjChV,EAAOgpC,EAAeh0B,UAAU,EAAE,GAClCi0B,EAAcD,EAAeh0B,UAAU,EAAE,IACzC9U,EAAM8oC,EAAeh0B,UAAU,GAAG,IAClC7U,EAAW6oC,EAAeh0B,UAAU,GAAG,IACvC5U,EAAgB4oC,EAAeh0B,UAAU,GAAG,IAC5C1U,EAAgB0oC,EAAeh0B,UAAU,GAAG,IAE5C3U,ExB5DA,SAAqB6oC,GAC3B,OAAOA,GACA,KAAK,EACD,OAAOrS,GACX,KAAK,EACD,OAAOA,GACX,KAAK,EACD,OAAOA,GACX,KAAK,EACD,OAAOA,GACX,KAAK,EACD,OAAOA,GACX,KAAK,EACD,OAAOA,GACX,KAAK,EACD,OAAOA,GACX,QACI,OAAOA,IwB2CDsS,CAAYtmB,SAASomB,IAEtC,MAAO,CACNhpC,OAAQ4iB,SAAS5iB,GACjBF,IAAK8iB,SAAS9iB,GACdC,KAAM6iB,SAAS7iB,GACfK,SAAUA,EACVH,IAAa,MAARA,EAActH,GAAWC,GAC9BsH,SAAUszB,GAAuBtzB,GACjCC,cAAeqzB,GAAuBrzB,GACtCE,cAAemzB,GAAuBnzB,GACtCC,eAAe,GAqBV,SAAS6oC,GAAqBC,GAEpC,OAAOA,EAAIC,QAAQ,OAAQ,KC/H5B,IAAMC,GAAY,KAwGZC,GAAyC,CAtGA,CAC9C,CAACprB,IAAK,mBAAoBqrB,MAAO,OACjC,CAACrrB,IAAK,WAAYqrB,MAAO,OACzB,CAACrrB,IAAK,eAAgBqrB,MAAO,OAC7B,CAACrrB,IAAK,SAAUqrB,MAAO,OACvB,CAACrrB,IAAK,MAAOqrB,MAAO,OACpB,CAACrrB,IAAK,OAAQqrB,MAAO,OACrB,CAACrrB,IAAK,KAAMqrB,MAAO,QAGmC,CACtD,CAACrrB,IAAK,WAAYqrB,MAAO,OACzB,CAACrrB,IAAK,mBAAoBqrB,MAAO,OACjC,CAACrrB,IAAK,cAAeqrB,MAAO,OAC5B,CAACrrB,IAAK,cAAeqrB,MAAO,OAC5B,CAACrrB,IAAK,YAAaqrB,MAAO,OAC1B,CAACrrB,IAAK,cAAeqrB,MAAO,QAGmB,CAC/C,CAACrrB,IAAK,SAAUqrB,MAAO,OACvB,CAACrrB,IAAK,QAASqrB,MAAO,OACtB,CAACrrB,IAAK,gBAAiBqrB,MAAO,OAC9B,CAACrrB,IAAK,SAAUqrB,MAAO,OACvB,CAACrrB,IAAK,WAAYqrB,MAAO,OACzB,CAACrrB,IAAK,gBAAiBqrB,MAAO,OAC9B,CAACrrB,IAAK,MAAOqrB,MAAO,OACpB,CAACrrB,IAAK,UAAWqrB,MAAO,QAGwB,CAChD,CAACrrB,IAAK,QAASqrB,MAAO,OACtB,CAACrrB,IAAK,UAAWqrB,MAAO,OACxB,CAACrrB,IAAK,UAAWqrB,MAAO,OACxB,CAACrrB,IAAK,UAAWqrB,MAAO,OACxB,CAACrrB,IAAK,WAAYqrB,MAAO,OACzB,CAACrrB,IAAK,YAAaqrB,MAAO,OAC1B,CAACrrB,IAAK,UAAWqrB,MAAO,OACxB,CAACrrB,IAAK,SAAUqrB,MAAO,QAG0B,CACjD,CAACrrB,IAAK,YAAaqrB,MAAO,OAC1B,CAACrrB,IAAK,kBAAmBqrB,MAAO,OAChC,CAACrrB,IAAK,kBAAmBqrB,MAAO,OAChC,CAACrrB,IAAK,kBAAmBqrB,MAAO,OAChC,CAACrrB,IAAK,cAAeqrB,MAAO,OAC5B,CAACrrB,IAAK,YAAaqrB,MAAO,OAC1B,CAACrrB,IAAK,YAAaqrB,MAAO,OAC1B,CAACrrB,IAAK,SAAUqrB,MAAO,OACvB,CAACrrB,IAAK,SAAUqrB,MAAO,OACvB,CAACrrB,IAAK,YAAaqrB,MAAO,OAC1B,CAACrrB,IAAK,iBAAkBqrB,MAAO,QAGkB,CACjD,CAACrrB,IAAK,UAAWqrB,MAAO,OACxB,CAACrrB,IAAK,OAAQqrB,MAAO,OACrB,CAACrrB,IAAK,YAAaqrB,MAAO,OAC1B,CAACrrB,IAAK,aAAcqrB,MAAO,OAC3B,CAACrrB,IAAK,YAAaqrB,MAAO,OAC1B,CAACrrB,IAAK,SAAUqrB,MAAO,OACvB,CAACrrB,IAAK,OAAQqrB,MAAO,OACrB,CAACrrB,IAAK,WAAYqrB,MAAO,OACzB,CAACrrB,IAAK,YAAaqrB,MAAO,OAC1B,CAACrrB,IAAK,SAAUqrB,MAAO,QAG0B,CACjD,CAACrrB,IAAK,IAAKqrB,MAAO,OAClB,CAACrrB,IAAK,KAAMqrB,MAAO,OACnB,CAACrrB,IAAK,KAAMqrB,MAAO,OACnB,CAACrrB,IAAK,KAAMqrB,MAAO,OACnB,CAACrrB,IAAK,KAAMqrB,MAAO,OACnB,CAACrrB,IAAK,KAAMqrB,MAAO,OACnB,CAACrrB,IAAK,KAAMqrB,MAAO,OACnB,CAACrrB,IAAK,MAAOqrB,MAAO,OACpB,CAACrrB,IAAK,IAAKqrB,MAAO,OAClB,CAACrrB,IAAK,IAAKqrB,MAAO,OAClB,CAACrrB,IAAK,IAAKqrB,MAAO,OAClB,CAACrrB,IAAK,IAAKqrB,MAAO,QAG+B,CACjD,CAACrrB,IAAK,aAAcqrB,MAAO,OAC3B,CAACrrB,IAAK,YAAaqrB,MAAO,OAC1B,CAACrrB,IAAK,aAAcqrB,MAAO,OAC3B,CAACrrB,IAAK,UAAWqrB,MAAO,OACxB,CAACrrB,IAAK,SAAUqrB,MAAO,OACvB,CAACrrB,IAAK,aAAcqrB,MAAO,OAC3B,CAACrrB,IAAK,UAAWqrB,MAAO,OACxB,CAACrrB,IAAK,gBAAiBqrB,MAAO,OAC9B,CAACrrB,IAAK,WAAYqrB,MAAO,OACzB,CAACrrB,IAAK,WAAYqrB,MAAO,OACzB,CAACrrB,IAAK,YAAaqrB,MAAO,OAC1B,CAACrrB,IAAK,UAAWqrB,MAAO,OACxB,CAACrrB,IAAK,eAAgBqrB,MAAO,OAC7B,CAACrrB,IAAK,UAAWqrB,MAAO,OACxB,CAACrrB,IAAK,UAAWqrB,MAAO,OACxB,CAACrrB,IAAK,SAAUqrB,MAAO,SA6BjB,SAASC,GAAmCrrC,EAAkCupC,GACpF,IAAMa,EAAYb,EAAUe,MAAMY,IAClC,GAAwB,IAArBd,EAAU9qC,OACZ,OAAO,KAIR,IAAMd,EAAmB4rC,EAAU,GAC/BjrC,EAmBE,SAA4CoqC,GAClD,IAAIC,EAAgBuB,GAAqBxB,GAAW1X,OAQpD,OANA2X,GADAA,EAAgBA,EAAcyB,QAAQ,OAAQ,MAChBA,QAAQ,OAAQ,KAE9CE,GAAa9vB,SAAQ,SAAAiwB,GACpBA,EAAiBjwB,SAAQ,SAAAkwB,GAAW,OAAI/B,EAAgBA,EAAcyB,QAAQM,EAAYH,MAAlC,WAA6CG,EAAYxrB,IAAzD,YAGlDyrB,KAAKC,MAAMjC,GA5BuBkC,CAAoCtB,EAAU,IACvFjrC,EAAgB,2BAAOA,GAAP,IAAyB4rB,YAAY,IAErD,IAAMtqB,EAA4BiqC,GAA8BN,EAAU,IACpEuB,EAAsCzC,GAAsBlpC,EAAiBoqC,EAAU,GAAI5rC,GAEjG,OAAIiC,EAIG,CACNjC,iBAAkBA,EAClBW,iBAAkBA,EAClBsB,SAAUA,EACVT,gBAAiB2rC,GAPV,KChKF,IAAMC,GAAqB,qBACrBC,GAAwB,wBACxBC,GAAsB,sBACtBC,GAAc,cAEpB,SAASC,GAAsBvrC,GACrC,IAAOiB,EAAqBjB,EAArBiB,IAAKC,EAAgBlB,EAAhBkB,KAAMC,EAAUnB,EAAVmB,OAElB,OAAW,MAAPF,IAAgBA,EAAM,IAAMA,EAAM,KAAO+iB,MAAM/iB,IAC3CkqC,GACc,MAARjqC,IAAiBA,EAAO,IAAMA,EAAO,KAAO8iB,MAAM9iB,IACxDmqC,GACa,MAAVlqC,IAAmBA,EAAS,IAAMA,EAAS,KAAO6iB,MAAM7iB,IAC3DiqC,GAGEE,GCKI,SAASE,KACpB,IAAM53B,EAAqBC,qBAAW5W,IAChCgb,EAAkBpE,qBAAWnR,IAC7B2gC,EAAUC,eAEVmI,EAAcz3B,OAAOC,SAASy3B,OAAOx1B,UAAU,GAC/Cy1B,EAAgBF,EAAYta,QAAQ,KACpC7R,EAAMmsB,EAAYv1B,UAAU,EAAGy1B,GAC/B5pC,EAAQ0pC,EAAYv1B,UAAUy1B,EAAgB,GAE9C9F,E7DkF4B,Q6DlFRvmB,GAA4C,MAAVvd,EACtDgkC,E7DkFsC,c6DlFTzmB,GAAsD,MAAVvd,EAE/EoT,qBAAU,WACNy2B,MACD,QAACh4B,QAAD,IAACA,OAAD,EAACA,EAAoBpW,gBAAgBC,cAAcC,sBAAnD,OACCkW,QADD,IACCA,OADD,EACCA,EAAoBpW,gBAAgBC,cAAcY,kBADnD,OAECuV,QAFD,IAECA,OAFD,EAECA,EAAoBpW,gBAAgBC,cAAcM,iBAFnD,OAGC6V,QAHD,IAGCA,OAHD,EAGCA,EAAoBpW,gBAAgBC,cAAcG,YAHnD,OAICgW,QAJD,IAICA,OAJD,EAICA,EAAoBpW,gBAAgBC,cAAc8B,gBAJnD,OAKCqU,QALD,IAKCA,OALD,EAKCA,EAAoB5T,WAExB,IAAM4rC,EAA4B,WAC9B,GAAKh4B,EAAL,CAIA,MAAmDA,EAAmBpW,gBAAgBC,cAA/EC,EAAP,EAAOA,sBAAuBW,EAA9B,EAA8BA,kBAEA,OAA1BX,GAAmCW,GAAkD,IAA7BA,EAAkBQ,OAG1EgtC,EAAenuC,GAFfouC,MAMR,IAAKl4B,IAAuBA,EAAmBjS,MAC3C,OAAO,yBAGX,IAAMpC,EAAkBqU,EAAmBpW,gBAAgBC,cAAc8B,gBAEnEssC,EAAiB,SAACnuC,GACpB,IAAMgB,EAAmBL,EAAkBX,GACrCsC,EAAW4T,EAAmB5T,SACpC,EAAyD4T,EAAmBpW,gBAAgBC,cAArFM,EAAP,EAAOA,iBAAkBH,EAAzB,EAAyBA,YAAa2B,EAAtC,EAAsCA,gBAGtC,GAAIb,EAAiB4rB,WAAY,CAC7B,IAOMyhB,EFsDX,SAA8CC,GACpD,IAAMC,EAA+B,2BAAOD,EAAQttC,kBAAf,IAAiC6rB,0BAAsBpN,EAAWuoB,eAAWvoB,EAAWhC,eAAWgC,IACpI+uB,EAAyBnB,KAAKoB,UAAUF,GAE5CvB,GAAa9vB,SAAQ,SAAAiwB,GACpBA,EAAiBjwB,SAAQ,SAAAkwB,GAAW,OAAIoB,EAAyBA,EAAuB1B,QAAvB,WAAmCM,EAAYxrB,IAA/C,KAAuDwrB,EAAYH,aAGrI,IAAMT,EAAiBF,GAA8BgC,EAAQhsC,UACvDosC,EAAoBzE,GAAyBqE,EAAQzsC,gBAAiBysC,EAAQjuC,kBAEpF,MAAM,GAAN,OAAUiuC,EAAQjuC,kBAAlB,OAAqC0sC,IAArC,OAAiDyB,GAAjD,OAA0EzB,IAA1E,OAAsFP,GAAtF,OAAuGO,IAAvG,OAAmH2B,GEjE1FC,CAPmC,CAC7C3tC,iBAAiB,2BAAKA,GAAN,IAAwBgnC,eAAWvoB,IACnDpf,iBAAkBA,EAClBiC,SAAUA,EACVT,gBAAiBA,IAKrB8jC,EAAQ/kC,KAAK,CACT4lC,SAAU5qC,GACVoyC,OAAO,GAAD,OAAK9wC,GAAL,YAAsCmxC,SAE7C,CACH,IAAOzpB,EAAwD5jB,EAAxD4jB,QAASvF,EAA+Cre,EAA/Cqe,eAAgBC,EAA+Bte,EAA/Bse,eAAgBC,EAAeve,EAAfue,YAQ1C8uB,EHpFX,SAAqCzC,EAC1CtpC,EAAoBjC,EAA0BuuC,EAA6B/sC,GAC5E,IAAMgtC,EAAqBlD,GAAuBC,GAC5CY,EAAiBF,GAA8BhqC,GAC/CosC,EAAoBzE,GAAyBpoC,EAAiBxB,GACpE,MAAM,GAAN,OAAUwuC,EAAV,YAAgCxuC,EAAhC,YAAoDuuC,EAApD,YAA2EpC,EAA3E,YAA6FkC,GG+EpEI,CAPwB,CAClChuC,WAAYE,EAAiBT,SAASzK,GACtCyoB,YAAaqG,EACbpiB,OAAQ6c,EACRC,eAAgBA,EAChBC,YAAaA,GAEuCjd,EAAUjC,EAAkBH,EAAa2B,GAEjG8jC,EAAQ/kC,KAAK,CACT4lC,SAAU5qC,GACVoyC,OAAO,GAAD,OAAKhxC,GAAL,YAAgCqxC,OAK5CD,EAAyB,WAC3B,MAIIl4B,EAAmB1R,qBAHnBlE,EADJ,EACIA,uBACAoE,EAFJ,EAEIA,oBACAzE,EAHJ,EAGIA,uBAIJ,GAAI2hB,IAAQ1kB,IAAiCmH,EAAMlD,OAAS,EACxD,IACI,IAAM4tC,EAAkD7B,GAAmCrrC,EAAiBwC,GAC5G,IAAK0qC,EACD,OAGJ,GAAIlB,GAAsBkB,EAAczsC,YAAcsrC,GAClD,OAGJ13B,EAAmB1R,qBAAqB7C,+BAA+BotC,EAAcltC,iBACrF6C,EAAoBqqC,EAAc1uC,kBAClC6V,EAAmB7T,YAAY0sC,EAAczsC,UAE7C,IAAMumC,EAAgCd,GAA2BgH,EAAc/tC,iBAC3EkV,EAAmBjT,eAAejM,UAAWujB,EAAgBxb,UAE7D8pC,GACAvoC,EAAuBuoC,GAE7B,MAAO3yC,GACLmJ,QAAQoZ,IAAIviB,GAKpB,GAAI0rB,IAAQ5kB,IAA2BqH,EAAMlD,OAAS,EAAG,CACrD,IAAM4tC,EHjHX,SAAsClC,EAAahrC,GACzD,IAAMoqC,EAAYW,GAAqBC,GAAKV,MAAM,KAClD,GAAwB,IAArBF,EAAU9qC,OACZ,OAAO,KAGR,IAAMd,EAAmB4rC,EAAU,GAC7B/rC,EAAc+rC,EAAU,GACxB3pC,EAAWiqC,GAA8BN,EAAU,IACnDyC,EAAoBzC,EAAU,GAC9B+C,EAAkBhD,GAAmBC,GAE3C,OAAI3pC,GAAa0sC,EAMV,CACNhuC,iBAAkBguC,EAClB3uC,iBAAkBA,EAClBH,YAAaA,EACboC,SAAUA,EACVT,gBAP0BkpC,GAAsBlpC,EAAiB6sC,EAAmBruC,IAH7E,KGoGyB4uC,CAA6B5qC,EAAOxC,GAC1D,GAAIktC,EAAe,CACf,IAAMxuC,EAAW2V,EAAmBjT,eAAe/L,UAAUkI,MACzD,SAAAmB,GAAQ,OAAIA,EAASzK,KAAOi5C,EAAc/tC,iBAAiBF,cAG/D,IAAKP,EACD,OAGJ,GAAIstC,GAAsBkB,EAAczsC,YAAcsrC,GAClD,OAGJ13B,EAAmB7T,YAAY0sC,EAAczsC,UAC7C,IAAMmb,EAAYvH,EAAmBjT,eAAehM,YAAYmI,MAAK,SAAAqe,GAAS,OAAIA,EAAU3nB,KAAOyK,EAASkd,aAEtGzc,EAAqC,CACvClL,GAAI,EACJyK,SAAUA,EACVkd,UAAWA,EACXmH,QAASmqB,EAAc/tC,iBAAiBud,YACxCc,eAAgB0vB,EAAc/tC,iBAAiBwB,OAC/C+c,YAAawvB,EAAc/tC,iBAAiBue,YAC5CD,eAAgByvB,EAAc/tC,iBAAiBse,gBAGnD5a,EAAoBqqC,EAAc1uC,kBAClCJ,EAAuB8uC,EAAc7uC,aAErC,IAAM2oC,EAAgCd,GAA2B/mC,EAC7DkV,EAAmBjT,eAAejM,UAAWujB,EAAgBxb,UAE7D8pC,GACAvoC,EAAuBuoC,GAG3B3yB,EAAmB1R,qBAAqB7C,+BAA+BotC,EAAcltC,oBAM3FlB,EAAoBuV,EAAmBpW,gBAAgBC,cAAcY,kBAiBrEuuC,EAAmBh5B,EAAmBpW,gBAAgBC,cAAcC,sBAE1E,KAAMkvC,GAAoB,GACtB,OAAO,yBAGX,IAAMluC,EAAmBkV,EAAmBpW,gBAAgBC,cAAcY,kBAAkBuuC,GAM5F,OAJIh5B,EAAmBlS,OACnB3E,QAAQoZ,IAAI,wDAAyDzX,GAGlE,+BACmB,OAArBA,GACD,sBAAK0V,UAAU,mCAAmCC,MAAO,CAACkD,WAAY,QAAtE,SACI,uBAAKnD,UAAU,kBAAf,UACI,sBAAKA,UAAW,GAAhB,SACI,eAACuxB,GAAD,CAAuBa,sBAvBT,WAC1BoF,IACA,IAAMiB,EAAcj5B,EAAmBpW,gBAAgBC,cAAcY,kBAAkBQ,OAAS,EAChG+U,EAAmB1R,qBAAqBC,mBAAmB0qC,IAqBxBhH,kBAAmBA,EACnBE,2BAA4BA,MAGvD,sBAAK3xB,UAAU,gBAAgBC,MAAO,CAACmD,SAAU,SAAUK,UAAW,SAAtE,SACKxZ,GAAqBA,EAAkBQ,OAAS,EAC7C,+BACI,eAACkoC,GAAD,CAAc+F,WAAYF,EAAkBnF,YAxChD,SAACsF,GACjBnB,IACA,IAAK,IAAI5hB,EAAI,EAAGA,EAAI3rB,EAAkBQ,OAAQmrB,IACtC3rB,EAAkB2rB,GAAGx2B,KAAOu5C,GAC5Bn5B,EAAmB1R,qBAAqBC,mBAAmB6nB,QAuCnD,sBAAK3V,MAAO,CAACitB,QAAS,QAAtB,SACI,6BACKj+B,GAAmBwP,yBAAyBoF,EAAgBxb,uB,wBCxNvFuwC,GAAoB,aACpBC,GAAqB,cACrBC,GAAiB,UAEhB,SAASC,GAAsB5qC,GAClC,IAAMqR,EAAqBC,qBAAW5W,IAEhCR,EADkBoX,qBAAWnR,IACFjG,SAE3B2wC,EAAex5B,GAAsBA,EAAmBpW,gBAAgBmC,uBAAuBF,kBAC/FmU,EAAmBpW,gBAAgBmC,uBAAuBF,kBAC1D,KAEA4tC,EAAez5B,GAAsBA,EAAmBpW,gBAAgBmC,uBAAuBD,kBAC/FkU,EAAmBpW,gBAAgBmC,uBAAuBD,kBAC1D,KAEN,EAAkDuD,mBAAkCmqC,GAApF,oBAAO3tC,EAAP,KAA0B6tC,EAA1B,KACA,EAAkDrqC,mBAAkCoqC,GAApF,oBAAO3tC,EAAP,KAA0B6tC,EAA1B,KACA,EAA0CtqC,mBAAiB+pC,IAA3D,oBAAOQ,EAAP,KAAsBC,EAAtB,KAaA,GAXAt4B,qBAAU,WACN,GAAGvB,GAAsBA,EAAmBpW,gBAAgBmC,uBAAuBD,kBAAmB,CAClG,MAA+CkU,EAAmBpW,gBAAgBmC,uBAA3EF,EAAP,EAAOA,kBAAmBC,EAA1B,EAA0BA,kBACvBD,GAAqBC,IACpBguC,EAAwBjuC,GACxBkuC,EAAwBjuC,OAIjC,QAACkU,QAAD,IAACA,OAAD,EAACA,EAAoBpW,gBAAgBmC,0BAEnCiU,EACD,OAAO,yBAGX,IAAM85B,EAA0B,SAAChvC,GAC7B4uC,EAAqB,eAAI5uC,IACrB8uC,IAAkBR,IAClBS,EAAiBP,KAInBS,EAA0B,SAACjvC,GAC7B6uC,EAAqB7uC,GACjB8uC,IAAkBR,IAClBS,EAAiBP,KAanBU,EAAyB,SAACC,GAC5B,IAAMxrB,EAAgD,IAAvBwrB,EAA2BH,EAA0BC,EAC9EG,EAAoC,IAAvBD,EAA2B,CAAC90B,gBAAiB6W,IAAyB,CAAC7W,gBAAiB8W,IACrG/N,EAAwB+rB,EAAqB,EAE7CnvC,EAA0C,IAAvBmvC,EAA2BpuC,EAAoBC,EAExE,OAAO,sBAAK2U,MAAO,CAACkD,WAAY,QAAzB,SACH,gBAACw2B,GAAA,EAAD,CAAM15B,MAAOy5B,EAAb,UACI,gBAACC,GAAA,EAAKt4B,OAAN,WACKpS,GAAmB+D,WAAW3K,GADnC,IAC+CoxC,KAE/C,eAACG,GAAA,EAAD,UACI,eAAChuB,GAAD,CAAcqC,uBAAwBA,EACxBoB,cAAc,EACdG,kBAAkB,EAClB9B,sBAAuBA,EACvBpjB,iBAAkBA,YAO1CuvC,EAAaT,IAAkBR,GAAoB3pC,GAAmBa,YAAYzH,GAAY4G,GAAmBgB,cAAc5H,GAErI,OAAO,iCACFmxC,EAAuB,GACvBA,EAAuB,GACxB,sBAAKv5B,MAAO,CAACkD,WAAY,OAAQuB,cAAe,QAAhD,SACI,eAACvE,GAAA,EAAD,CAAQH,UAAW,wBACX0P,SAAU0pB,IAAkBP,GAC5Bv4B,QAzCC,WACTjV,GAAqBC,GACrB6C,EAAM2rC,wBAAwBzuC,EAAmBC,GAGrD+tC,EAAiBR,KAkCb,SAGKgB,SCnGV,SAASE,GAAgBC,EAAc9xB,EAAgBuf,EAAsB77B,EAAoBslB,GACpG,IAAI8W,EAAW,EACf,IAAK,IAAIiS,KAAcD,EACnB,GAAIvS,EAAgBwS,GAAa,CAC7B,IAAMC,GAA0B,IAAbhpB,EACbiV,GAAiCsB,EAAgBwS,GAAaD,EAAQC,GAAa/xB,EAAQtc,GAC3Fo6B,GAA8ByB,EAAgBwS,GAAaD,EAAQC,GAAa/xB,EAAQtc,GAC1FsuC,EAAalS,IACbA,EAAWkS,GAIvB,OAAOlS,EAQJ,SAASmS,GAAsBC,EAAeC,GACjD,IAAK,IAAIJ,KAAcG,EAAU,CAC7B,IAAMzsC,EAAQysC,EAASH,GACV,OAAVtsC,GAAkB0sC,EAASJ,GAC1BI,EAASJ,GAAc,KACP,OAAVtsC,GAA4C,OAAzB0sC,EAASJ,SAAiDlxB,IAAzBsxB,EAASJ,KACnEG,EAASH,GAAc,MAI/B,IAAK,IAAIA,KAAcI,EAAU,CAC7B,IAAM1sC,EAAQ0sC,EAASJ,GACV,OAAVtsC,GAAkB0sC,EAASJ,GAC1BI,EAASJ,GAAc,KACP,OAAVtsC,GAA4C,OAAzBysC,EAASH,SAAiDlxB,IAAzBqxB,EAASH,KACnEI,EAASJ,GAAc,OC1B5B,SAASK,GAAsBnsC,GAAqC,IAAD,IAChEqR,EAAqBC,qBAAW5W,IAChC0kB,EAAa3M,KAEb+lB,EAAsBnnB,EACtBA,EAAmBpW,gBAAgBmC,uBAAuBG,yBAAyBpE,mBACnFS,GAA+BT,mBAE/Bs/B,EAAsBpnB,EACtBA,EAAmBpW,gBAAgBmC,uBAAuBG,yBAAyBjE,mBACnFM,GAA+BN,mBAErC,EAAwDoH,mBAAiB83B,EAAoBp/B,aAA7F,oBAAOs/B,EAAP,KAA6BC,EAA7B,KACA,EAAwDj4B,mBAAiB+3B,EAAoBr/B,aAA7F,oBAAOgzC,EAAP,KAA6BC,EAA7B,KACA,EAAoD3rC,mBAAkB83B,EAAoBn/B,WAA1F,oBAAOu/B,EAAP,KAA2BC,EAA3B,KACA,EAAoDn4B,mBAAkB+3B,EAAoBp/B,WAA1F,oBAAO2/B,EAAP,KAA2BC,EAA3B,KACA,EAAsDv4B,mBAAkB83B,EAAoB3+B,aAA5F,oBAAOyyC,EAAP,KAA4BC,EAA5B,KACA,EAAsD7rC,mBAAkB+3B,EAAoB5+B,aAA5F,oBAAO2yC,EAAP,KAA4BC,EAA5B,KAEA,EAA8C/rC,mBAAiB0wB,GAA8BhS,GAAY,IAAzG,oBAAO0V,EAAP,KAAwB6J,EAAxB,KAeA,GAbA/rB,qBAAU,WACNqgB,IACA0L,EAAmBvN,GAA8BhS,GAAY,MAC9D,CAACgtB,EACA1T,EACA4T,EACAE,EACA5T,EACAI,EACAlE,EACA1V,EAAW7M,UAGVlB,EACD,OAAO,yBAGX,IAAM4hB,EAAoB,WACtB,GAAI5hB,EAAoB,CACpB,IAAM8hB,EAAc,2BACb9hB,EAAmBpW,gBAAgBmC,uBAAuBG,0BAD7C,IAEhBpE,mBAAoB,CAChBC,YAAas/B,EACbr/B,UAAWu/B,EACX/+B,YAAayyC,GAEjBhzC,mBAAoB,CAChBF,YAAagzC,EACb/yC,UAAW2/B,EACXn/B,YAAa2yC,KAGrBn7B,EAAmBvR,qBAAqBxC,+BAA+B61B,KAIzEmG,EAAkBt5B,EAAMm5B,mBAAqBxmC,EAA3B,UAClB0e,EAAmBjT,eAAe9L,2BADhB,aAClB,EAAuD+lC,uBADrC,UAElBhnB,EAAmBjT,eAAe9L,2BAFhB,aAElB,EAAuDgmC,uBAE7D,IAAKgB,EACD,OAAO,yBAGX,IAAMtJ,EAAyB,SAAC3c,GAC5BrT,EAAMm5B,mBAAqBxmC,EAAiBgmC,EAAwBtlB,EAAMC,OAAO9T,OAAS6sC,EAAwBh5B,EAAMC,OAAO9T,QAG7H65B,EAAuB,WACzBr5B,EAAMm5B,mBAAqBxmC,EAAiBkmC,GAAuBD,GAAsBK,GAAuBD,IAG9GhC,EAAoB,WACtBh3B,EAAMm5B,mBAAqBxmC,EAAiB45C,GAAwBD,GAAuBG,GAAwBD,IAGjHpzC,EAAc4G,EAAMm5B,mBAAqBxmC,EAAiB+lC,EAAuB0T,EAkBjFM,EAAgBpyB,GAAgBta,EAAM9C,mBACtCyvC,EAAgBryB,GAAgBta,EAAM7C,mBAEtC8uC,EAAWjsC,EAAMm5B,mBAAqBxmC,EAAiB+5C,EAAcnxB,YAAcmxB,EAAcjxB,YACjGywB,EAAWlsC,EAAMm5B,mBAAqBxmC,EAAiBg6C,EAAcpxB,YAAcoxB,EAAclxB,YAEjGmxB,EAAWxzC,IAAgB7G,EAAiByN,EAAM9C,kBAAkB6iB,QAAQhG,OAAS,IACrF8yB,EAAWzzC,IAAgB7G,EAAiByN,EAAM7C,kBAAkB4iB,QAAQhG,OAAS,IAErF+yB,EAAYlB,GAAgBK,EAAUW,EAAUtT,EAAiBjoB,EAAmB5T,UACpFsvC,EAAYnB,GAAgBM,EAAUW,EAAUvT,EAAiBjoB,EAAmB5T,UACpFo8B,EAAWpI,KAAK7D,IAAIkf,EAAWC,GAE/BlzC,GAAcmG,EAAMm5B,mBAAqBxmC,EAAiB25C,EAAsBE,EAElF3yC,IACAmyC,GAAsBC,EAAUC,GAGpC,IAAMc,GAAOnzC,GACP83B,GAAiBkI,QAAYjf,EAE7BqyB,GAAoB,CACtBpT,SAAUmT,GACV5zC,YAAas/B,EACbr/B,UAAWu/B,EACX/+B,YAAayyC,GAGXY,GAAoB,CACtBrT,SAAUmT,GACV5zC,YAAagzC,EACb/yC,UAAW2/B,EACXn/B,YAAa2yC,GAGXW,GAAYntC,EAAMm5B,mBAAqBxmC,EAAiBs6C,GAAoBC,GAE5EE,GAAkB,2BAAOD,IAAP,IAAkB1T,cAAepM,KACnDggB,GAAkB,2BAAOF,IAAP,IAAkB1T,cAAenM,KAEzD,OAAO,uBAAKzb,UAAW,uBAAhB,UACH,eAAC25B,GAAA,EAAD,UACI,uBAAK35B,UAAW,SAAUC,MAAO,CAACyQ,UAAWuS,GAA7C,UACI,sBAAKjjB,UAAW,iBAAhB,SAAmC7R,EAAM9C,kBAAkBowC,eAC3D,eAAC/U,GAAD,CAAqBY,iBAAkBn5B,EAAMm5B,iBACxBh9B,iBAAkB6D,EAAM9C,kBACxB41B,kBAAkB,EAAML,oBAAqB2a,UAI1E,eAAC5B,GAAA,EAAD,UACI,uBAAK35B,UAAW,SAAUC,MAAO,CAACyQ,UAAWuS,GAA7C,UACI,sBAAKjjB,UAAW,iBAAhB,SAAmC7R,EAAM7C,kBAAkBmwC,eAC3D,eAAC/U,GAAD,CAAqBY,iBAAkBn5B,EAAMm5B,iBACxBh9B,iBAAkB6D,EAAM7C,kBACxB21B,kBAAkB,EAAML,oBAAqB4a,UAG1E,eAAC7B,GAAA,EAAKphB,OAAN,UA3EiC,WACjC,IAAM/wB,EAAY2G,EAAMm5B,mBAAqBxmC,EAAiBimC,EAAqBI,EAC7En/B,EAAcmG,EAAMm5B,mBAAqBxmC,EAAiB25C,EAAsBE,EAEhFlS,EAAgB,CAClBlhC,YAAaA,EACbC,UAAWA,EACXQ,YAAaA,EACbm2B,uBAAwBA,EACxB+G,0BAA2BsC,EAC3BrC,kBAAmBA,GAGvB,OAAO,eAACF,GAAD,eAA+BwD,IA+DjCC,QC3IN,SAASgT,GAAWvtC,GACvB,IAGIwtC,EAHEn8B,EAAqBC,qBAAW5W,IAChC0kB,EAAa3M,KAGnB,OAAQzS,EAAMmxB,UACV,KAAKx5B,GACD61C,EAAgBn8B,GAAsBA,EAAmBpW,gBAAgBmC,uBAAuBG,yBAAyBxE,gBAAzG,OACVsY,QADU,IACVA,OADU,EACVA,EAAoBpW,gBAAgBmC,uBAAuBG,yBAAyBxE,gBACpFa,GAA+Bb,gBACrC,MACJ,KAAKhB,GACDy1C,EAAgBn8B,GAAsBA,EAAmBpW,gBAAgBmC,uBAAuBG,yBAAyBhE,kBACnH8X,EAAmBpW,gBAAgBmC,uBAAuBG,yBAAyBhE,kBACnFK,GAA+BL,kBACrC,MACJ,KAAKvB,GACDw1C,EAAgBn8B,GAAsBA,EAAmBpW,gBAAgBmC,uBAAuBG,yBAAyB7D,iBACnH2X,EAAmBpW,gBAAgBmC,uBAAuBG,yBAAyB7D,iBACnFE,GAA+BF,iBAI7C,MAAkCgH,mBAAiB8sC,EAAcx0C,WAAjE,oBAAOA,EAAP,KAAkB25B,EAAlB,KACA,EAAoCjyB,mBAAkB8sC,EAAcv0C,YAApE,oBAAOA,EAAP,KAAmB25B,EAAnB,KACA,EAAsClyB,mBAAkB8sC,EAAct0C,aAAtE,oBAAOA,EAAP,KAAoB25B,EAApB,KACA,EAAkCnyB,mBAAiB8sC,EAAc1zC,WAAjE,oBAAOA,EAAP,KAAkB2zC,EAAlB,KACA,EAAkC/sC,mBAAiB8sC,EAAczzC,WAAjE,oBAAOA,EAAP,KAAkB2zC,EAAlB,KAEA,EAA8ChtC,mBAAiB0wB,GAA8BhS,GAAY,IAAzG,oBAAO0V,EAAP,KAAwB6J,EAAxB,KA4BA,GA1BA/rB,qBAAU,WACN,IAAMsgB,EAAa,OAAG7hB,QAAH,IAAGA,OAAH,EAAGA,EAAoBpW,gBAAgBmC,uBAAuBG,yBAEjF,GAAK21B,EAAL,CAIA,GAAIlzB,EAAMmxB,WAAap5B,IAAmBiI,EAAMmxB,WAAan5B,GAAgB,CACzE,IAAM21C,EAA6D3tC,EAAMmxB,WAAap5B,GAChFm7B,EAAc35B,kBACd25B,EAAcx5B,iBAEhBV,IAAc20C,EAAa30C,WAAaC,IAAe00C,EAAa10C,YAChEa,IAAc6zC,EAAa7zC,WAAaC,IAAc4zC,EAAa5zC,WACvEk5B,SAED,GAAIjzB,EAAMmxB,WAAax5B,GAAe,CACzC,IAAMg2C,EAA8Cza,EAAcn6B,gBAC9DC,IAAc20C,EAAa30C,WAAaC,IAAe00C,EAAa10C,YAAcC,KAAW,OAAKy0C,QAAL,IAAKA,OAAL,EAAKA,EAAcz0C,cAChH+5B,IAIR0L,EAAmBvN,GAA8BhS,GAAY,OAC9D,CAACpmB,EAAWE,EAAaD,EAAYa,EAAWC,EAAW+6B,EAAiB1V,EAAW7M,UAErFlB,EACD,OAAO,yBAGX,IAAM4hB,EAAoB,WACtB,GAAI5hB,EAAoB,CACpB,IAAI8hB,EAEJ,GAAInzB,EAAMmxB,WAAax5B,GAAe,CAClC,IAAMi2C,EAAgD,CAClD50C,UAAWA,EACXC,WAAYA,EACZC,YAAaA,GAGjBi6B,EAAc,2BACP9hB,EAAmBpW,gBAAgBmC,uBAAuBG,0BADnD,IAEVxE,gBAAiB60C,SAGjB5tC,EAAMmxB,WAAap5B,GACnBo7B,EAAc,2BACP9hB,EAAmBpW,gBAAgBmC,uBAAuBG,0BADnD,IAEVhE,kBAAkB,2BACX8X,EAAmBpW,gBAAgBmC,uBAAuBG,yBAAyBhE,mBADzE,IAEbP,UAAWA,EACXC,WAAYA,EACZa,UAAWA,EACXC,UAAWA,MAGZiG,EAAMmxB,WAAan5B,KAC1Bm7B,EAAc,2BACP9hB,EAAmBpW,gBAAgBmC,uBAAuBG,0BADnD,IAEV7D,iBAAiB,2BACV2X,EAAmBpW,gBAAgBmC,uBAAuBG,yBAAyB7D,kBAD1E,IAEZV,UAAWA,EACXC,WAAYA,EACZa,UAAWA,EACXC,UAAWA,OAMvBo5B,GACA9hB,EAAmBvR,qBAAqBxC,+BAA+B61B,KAK7EnD,EAAyB,SAAC3c,GAC5Bsf,EAAatf,EAAMC,OAAO9T,QAGxBquC,EAA2B,WAC7Bjb,GAAe35B,IAGb60C,EAA4B,WAC9Bjb,GAAgB35B,IAGd60C,EAAwB,SAAC16B,GAC3Bo6B,EAAap6B,EAAMC,OAAO9T,QAGxBwuC,EAAwB,SAAC36B,GAC3Bq6B,EAAar6B,EAAMC,OAAO9T,QAQxByuC,EAAwB,WAC1B,IAAIC,EAAyC,CACzCl1C,UAAWA,EACXC,WAAYA,EACZ+2B,uBAAwBA,EACxBC,0BAA2B4d,GAY/B,OATI7tC,EAAMmxB,WAAax5B,KACnBu2C,EAAU,2BACHA,GADG,IAENhe,0BAA0B,EAC1Bh3B,YAAaA,EACbi3B,2BAA4B2d,KAI7BI,GAILC,EAAoB,SAAChyC,EAAoC+Z,GAC3D,IAAIi3B,EAAyC,CACzCn0C,UAAWA,EACXC,WAAYA,EACZC,YAAaA,GAGjB,GAAI8G,EAAMmxB,WAAax5B,GACnB,OAAO,eAAC66B,GAAD,CAAiDr2B,iBAAkBA,EACpD22B,kBAAkB,EAClBL,oBAAqB0a,GAFpC,UAAuBx1C,GAAvB,YAAwCue,IAKnD,GAAIlW,EAAMmxB,WAAap5B,GAAiB,CACpC,IAAMohC,EAAmB9nB,EACT,IAAV6E,EACI7E,EAAmBpW,gBAAgBmC,uBAAuBG,yBAAyBhE,kBAAkBO,UACjGuX,EAAmBpW,gBAAgBmC,uBAAuBG,yBAAyBhE,kBAAkBO,UACrGnD,GACJ0a,EAAmBpW,gBAAgBmC,uBAAuBG,yBAAyBhE,kBAAkBQ,UACjGsX,EAAmBpW,gBAAgBmC,uBAAuBG,yBAAyBhE,kBAAkBQ,UACrGpD,GACRA,GASN,OAPAw2C,EAAS,2BACFA,GADE,IAEL1zC,SAAU0/B,EACV8B,qBAAgC,IAAV/kB,EAAc63B,EAAwBC,EAC5DjR,WAAY7mB,IAGT,eAACukB,GAAD,CAAqDt+B,iBAAkBA,EACtD22B,kBAAkB,EAClBL,oBAAqB0a,GAFtC,UAAyBp1C,GAAzB,YAA4Cme,IAKvD,GAAIlW,EAAMmxB,WAAan5B,GAAgB,CACnC,IAAMmhC,EAAmB9nB,EACT,IAAV6E,EACI7E,EAAmBpW,gBAAgBmC,uBAAuBG,yBAAyB7D,iBAAiBI,UAChGuX,EAAmBpW,gBAAgBmC,uBAAuBG,yBAAyB7D,iBAAiBI,UACpGrD,GACJ4a,EAAmBpW,gBAAgBmC,uBAAuBG,yBAAyB7D,iBAAiBK,UAChGsX,EAAmBpW,gBAAgBmC,uBAAuBG,yBAAyB7D,iBAAiBK,UACpGtD,GACRA,GASN,OAPA02C,EAAS,2BACFA,GADE,IAEL1zC,SAAU0/B,EACV4D,WAAY7mB,EACZ+kB,qBAAgC,IAAV/kB,EAAc63B,EAAwBC,IAGzD,eAACnR,GAAD,CAAmD1gC,iBAAkBA,EACrD22B,kBAAkB,EAClBL,oBAAqB0a,GAFrC,UAAwBn1C,GAAxB,YAA0Cke,MAMzD,OAAO,uBAAKrE,UAAW,uBAAhB,UACH,eAAC25B,GAAA,EAAD,UACI,uBAAK35B,UAAW,SAAUC,MAAO,CAACyQ,UAAWuS,GAA7C,UAEI,sBAAKjjB,UAAW,iBAAhB,SAAmC7R,EAAM9C,kBAAkBowC,eAC1Da,EAAkBnuC,EAAM9C,kBAAmB,KAFtC,0BAA4B43B,KAM1C,eAAC0W,GAAA,EAAD,UACI,uBAAK35B,UAAW,SAAUC,MAAO,CAACyQ,UAAWuS,GAA7C,UAEI,sBAAKjjB,UAAW,iBAAhB,SAAmC7R,EAAM7C,kBAAkBmwC,eAC1Da,EAAkBnuC,EAAM7C,kBAAmB,KAFtC,0BAA4B23B,KAK1C,eAAC0W,GAAA,EAAKphB,OAAN,UAtGiC,WACjC,IAAM8jB,EAAaD,IACnB,OAAO,eAACne,GAAD,eAA8Eoe,GAA9E,+BAAwDluC,EAAMmxB,WAqGhEoJ,QCxPN,SAAS6T,GAAmBpuC,GAAqC,IAAD,EAC7DqR,EAAqBC,qBAAW5W,IAChC0kB,EAAa3M,KAEb1V,EAAcsU,EACdA,EAAmBpW,gBAAgBmC,uBAAuBG,yBAAyB5D,mBACnFC,GAA+BD,mBAErC,EAAsC+G,mBAAiB3D,EAAY3D,aAAnE,oBAAOA,EAAP,KAAoBijC,EAApB,KACA,EAAkC37B,mBAAkB3D,EAAY1D,WAAhE,oBAAOA,EAAP,KAAkBwhC,EAAlB,KACA,EAAsCn6B,mBAAkB3D,EAAYlD,aAApE,oBAAOA,EAAP,KAAoBw0C,EAApB,KAEA,EAA8C3tC,mBAAiB0wB,GAA8BhS,GAAY,IAAzG,oBAAO0V,EAAP,KAAwB6J,EAAxB,KAOA,GALA/rB,qBAAU,WACNqgB,IACA0L,EAAmBvN,GAA8BhS,GAAY,MAC9D,CAAChmB,EAAaC,EAAWQ,EAAai7B,EAAiB1V,EAAW7M,UAEhElB,EACD,OAAO,yBAGX,IAAM4hB,EAAoB,WACtB,GAAI5hB,EAAoB,CACpB,IAAM8hB,EAAc,2BACb9hB,EAAmBpW,gBAAgBmC,uBAAuBG,0BAD7C,IAEhB5D,mBAAoB,CAChBP,YAAaA,EACbC,UAAWA,EACXQ,YAAaA,KAGrBwX,EAAmBvR,qBAAqBxC,+BAA+B61B,KAIzEmG,EAAe,UAAGjoB,EAAmBjT,eAAe9L,2BAArC,aAAG,EAAuDiqC,uBAC/E,IAAKjD,EACD,OAAO,yBAGX,IAAMtJ,EAAyB,SAAC3c,GAC5BgpB,EAAehpB,EAAMC,OAAO9T,QAG1B65B,EAAuB,WACzBwB,GAAcxhC,IAGZ29B,EAAoB,WACtBqX,GAAgBx0C,IAgBdoyC,EAAW3xB,GAAgBta,EAAM9C,mBAAmB2e,YACpDqwB,EAAW5xB,GAAgBta,EAAM7C,mBAAmB0e,YAEpDixB,EAAYlB,GAAgBK,EAAUjsC,EAAM9C,kBAAkB6iB,QAAQhG,OAAQuf,EAAiBjoB,EAAmB5T,UAAU,GAC5HsvC,EAAYnB,GAAgBM,EAAUlsC,EAAM7C,kBAAkB4iB,QAAQhG,OAAQuf,EAAiBjoB,EAAmB5T,UAAU,GAC5Ho8B,EAAWpI,KAAK7D,IAAIkf,EAAWC,GAEjClzC,GACAmyC,GAAsBC,EAAUC,GAGpC,IAEMiB,EAAyC,CAC3CtT,SAHShgC,EAAc83B,GAAiBkI,QAAYjf,EAIpDxhB,YAAaA,EACbC,UAAWA,EACXQ,YAAaA,EACb4/B,cAAe,IAGb2T,EAAkB,2BAAOD,GAAP,IAAkB1T,cAAepM,KACnDggB,EAAkB,2BAAOF,GAAP,IAAkB1T,cAAenM,KAEzD,OAAO,uBAAKzb,UAAW,uBAAhB,UACH,eAAC25B,GAAA,EAAD,UACI,uBAAK35B,UAAW,SAAUC,MAAO,CAACyQ,UAAWuS,GAA7C,UACI,sBAAKjjB,UAAW,iBAAhB,SAAmC7R,EAAM9C,kBAAkBowC,eAC3D,eAAClR,GAAD,CAAkBjgC,iBAAkB6D,EAAM9C,kBACxB41B,kBAAkB,EAAML,oBAAqB2a,SAIvE,eAAC5B,GAAA,EAAD,UACI,uBAAK35B,UAAW,SAAUC,MAAO,CAACyQ,UAAWuS,GAA7C,UACI,sBAAKjjB,UAAW,iBAAhB,SAAmC7R,EAAM7C,kBAAkBmwC,eAC3D,eAAClR,GAAD,CAAkBjgC,iBAAkB6D,EAAM7C,kBACxB21B,kBAAkB,EAAML,oBAAqB4a,SAGvE,eAAC7B,GAAA,EAAKphB,OAAN,UArDiC,WACjC,IAAMkQ,EAAgB,CAClBlhC,YAAaA,EACbC,UAAWA,EACXQ,YAAaA,EACbm2B,uBAAwBA,EACxB+G,0BAA2BsC,EAC3BrC,kBAAmBA,GAGvB,OAAO,eAACF,GAAD,eAA+BwD,IA4CjCC,QCnHN,SAAS+T,GAActuC,GAC1B,IAAMof,EAAa3M,KACnB,EAA8C/R,mBAAiB0wB,GAA8BhS,GAAY,IAAzG,oBAAO0V,EAAP,KAAwB6J,EAAxB,KAMA,OAJA/rB,qBAAU,WACN+rB,EAAmBvN,GAA8BhS,GAAY,MAC9D,CAAC0V,EAAiB1V,EAAW7M,SAEzB,uBAAKV,UAAW,uBAAhB,UACH,eAAC25B,GAAA,EAAD,UACI,uBAAK35B,UAAW,SAAUC,MAAO,CAACyQ,UAAWuS,GAA7C,UACI,sBAAKjjB,UAAW,iBAAhB,SAAmC7R,EAAM9C,kBAAkBowC,eAC3D,eAAC1X,GAAD,CAAiBz5B,iBAAkB6D,EAAM9C,kBAAmB41B,kBAAkB,SAItF,eAAC0Y,GAAA,EAAD,UACI,uBAAK35B,UAAW,SAAUC,MAAO,CAACyQ,UAAWuS,GAA7C,UACI,sBAAKjjB,UAAW,iBAAhB,SAAmC7R,EAAM7C,kBAAkBmwC,eAC3D,eAAC1X,GAAD,CAAiBz5B,iBAAkB6D,EAAM7C,kBAAmB21B,kBAAkB,YCAvF,SAASyb,GAAuBvuC,GACnC,IAAMqR,EAAqBC,qBAAW5W,IAChCgb,EAAkBpE,qBAAWnR,IAEnC,IAAKkR,EACD,OAAO,yBAGX,IAIMlf,EAAYkf,EAAmBjT,eAAejM,UAE9Cq8C,EAAUxuC,EAAM9C,kBAAkBxB,SAASkB,OAASoD,EAAM9C,kBAAkBxB,SAASkB,OAAS,KAC9F6xC,EAAUzuC,EAAM7C,kBAAkBzB,SAASkB,OAASoD,EAAM7C,kBAAkBzB,SAASkB,OAAS,KAE9F8xC,EAAQF,EAAUn0C,GAAwBlI,EAAWq8C,EAAS94B,EAAgBxb,UAAY,GAC1Fy0C,EAAQF,EAAUp0C,GAAwBlI,EAAWs8C,EAAS/4B,EAAgBxb,UAAY,GAE1FgD,EAAmC,2BAAO8C,EAAM9C,mBAAb,IAAgCowC,aAAcoB,IACjFvxC,EAAmC,2BAAO6C,EAAM7C,mBAAb,IAAgCmwC,aAAcqB,IAEjFnzC,EAAmB6V,EAAmBpW,gBAAgBmC,uBAAuB5B,iBA0DnF,OAAO,iCACH,eAACgwC,GAAA,EAAKt4B,OAAN,UACI,eAACitB,GAAD,CAAgBhP,SAAU31B,EAAkBilC,qBAAqB,EAAOJ,YA3E5D,SAAC4C,GACjB5xB,EAAmBvR,qBAAqBzC,iCAAiC4lC,QAgBxD,WACjB,OAAQznC,GACJ,KAAK7D,GACD,OAAO,eAAC41C,GAAD,CACYrwC,kBAAmBA,EACnBC,kBAAmBA,EACnBg0B,SAAUx5B,IAHLA,IAK5B,KAAKC,GACD,OAAO,eAAC02C,GAAD,CAAepxC,kBAAmBA,EACnBC,kBAAmBA,IAG7C,KAAKtF,GACD,OAAO,eAACs0C,GAAD,CACuBjvC,kBAAmBA,EACnBC,kBAAmBA,EACnBg8B,iBAAkBxmC,GAHbkF,IAKvC,KAAKC,GACD,OAAO,eAACq0C,GAAD,CACuBjvC,kBAAmBA,EACnBC,kBAAmBA,EACnBg8B,iBAAkBvmC,GAHbkF,IAKvC,KAAKC,GACD,OAAO,eAACw1C,GAAD,CACYrwC,kBAAmBA,EACnBC,kBAAmBA,EACnBg0B,SAAUp5B,IAHLA,IAK5B,KAAKC,GACD,OAAO,eAACu1C,GAAD,CACYrwC,kBAAmBA,EACnBC,kBAAmBA,EACnBg0B,SAAUn5B,IAHLA,IAK5B,KAAKC,GACD,OAAO,eAACm2C,GAAD,CAAoBlxC,kBAAmBA,EACnBC,kBAAmBA,IAElD,KAAKjF,GACD,OAAO,iCACH,eAACszC,GAAA,EAAD,UACI,eAAC9M,GAAD,CAAUviC,iBAAkB6D,EAAM9C,kBAAmBg0B,eAAe,MAExE,eAACsa,GAAA,EAAD,UACI,eAAC9M,GAAD,CAAUviC,iBAAkB6D,EAAM7C,kBAAmB+zB,eAAe,SAMpF,OAAO,yBAON0d,MCnFT,SAASC,GAAoB1yC,GAC5B,MAAO,CACNF,WAAYE,EAAiBT,SAASzK,GACtCyoB,YAAavd,EAAiB4jB,QAC9BpiB,OAAQxB,EAAiBqe,eACzBE,YAAave,EAAiBue,YAC9BD,eAAgBte,EAAiBse,gBAK5B,SAASq0B,GAAuB9G,EAAahrC,GACnD,IAAMoqC,EAAYW,GAAqBC,GAAKV,MAAM,KAClD,GAAwB,KAArBF,EAAU9qC,OACZ,OAAO,KAGR,IAAMd,EAAmB4rC,EAAU,GAC7B3pC,EAAWiqC,GAA8BN,EAAU,IACnDyC,EAAoBzC,EAAU,IAE9B2H,EAAmB5H,GAAmBC,GAEtC4H,EAAmB7H,GADEC,EAAU6H,MAAM,IAG3C,OAAIxxC,GAAasxC,GAAqBC,EAM/B,CACN9xC,kBAAmB6xC,EACnB5xC,kBAAmB6xC,EACnBxzC,iBAAkBA,EAClBiC,SAAUA,EACVT,gBZmDK,SAA4CA,EACjDmpC,EAA8B3qC,GAC/B,IAAM4qC,EAAqBC,GAA4CF,GAChEntC,EAAgGotC,EAAhGptC,UAAWK,EAAqF+sC,EAArF/sC,UAAWH,EAA0EktC,EAA1EltC,YAAaD,EAA6DmtC,EAA7DntC,WAAYG,EAAiDgtC,EAAjDhtC,YAAaK,EAAoC2sC,EAApC3sC,SAAUM,EAA0BqsC,EAA1BrsC,UAAWF,EAAeusC,EAAfvsC,YAExF,GAAG2B,IAAqB7D,GACvB,OAAIqB,QAA4B4hB,IAAf3hB,QAA4C2hB,IAAhB1hB,EAItC,2BAAI8D,GAAX,IAA4BjE,gBAAiB,CAC3CC,UAAWA,EACXC,WAAYA,EACZC,YAAaA,KANP8D,EAWT,GAAGxB,IAAqBzD,GACvB,OAAIiB,QAA4B4hB,IAAf3hB,QAAyC2hB,IAAbnhB,QAAwCmhB,IAAd7gB,EAIhE,2BAAIiD,GAAX,IAA4BzD,kBAAkB,2BACzCyD,EAAgBzD,mBADwB,IAE3CP,UAAWA,EACXC,WAAYA,EACZa,UAAWL,EACXM,UAAWA,MARLiD,EAaT,GAAGxB,IAAqBxD,GACvB,OAAIgB,QAA4B4hB,IAAf3hB,QAAyC2hB,IAAbnhB,QAAwCmhB,IAAd7gB,EAIhE,2BAAIiD,GAAX,IAA4BtD,iBAAiB,2BACxCsD,EAAgBtD,kBADuB,IAE1CV,UAAWA,EACXC,WAAYA,EACZa,UAAWL,EACXM,UAAWA,EACXP,gBAAgB,MATVwD,EAcT,GAAGxB,IAAqB3D,IAAoB2D,IAAqB1D,IAAoB0D,IAAqBvD,GAAmB,CAC5H,QAAmB2iB,IAAhBxhB,QAA2CwhB,IAAdvhB,QAA2CuhB,IAAhB/gB,EAC1D,OAAOmD,EAGR,IAAMspC,EAAiB,CACrBltC,YAAaA,EACbC,UAAWA,EACXQ,YAAaA,GAGf,GAAG2B,IAAqB3D,GACvB,OAAO,2BAAImF,GAAX,IAA4B7D,mBAAoBmtC,IAGjD,GAAG9qC,IAAqB1D,GACvB,OAAO,2BAAIkF,GAAX,IAA4B1D,mBAAoBgtC,IAGjD,GAAG9qC,IAAqBvD,GACvB,OAAO,2BAAI+E,GAAX,IAA4BrD,mBAAoB2sC,IAKlD,OAAOtpC,EYpIoBkyC,CAAmClyC,EAAiB6sC,EAAmBruC,IAH1F,KC1CM,SAAS2zC,KACpB,IAAM99B,EAAqBC,qBAAW5W,IAChCgb,EAAkBpE,qBAAWnR,IAC7B2gC,EAAUC,eAEVqO,GAAqC,OAAlB/9B,QAAkB,IAAlBA,OAAA,EAAAA,EAAoBpW,gBAAgBmC,uBAAuBF,mBAA3D,OACnBmU,QADmB,IACnBA,OADmB,EACnBA,EAAoBpW,gBAAgBmC,uBAAuBF,kBAC3D,KAEAmyC,GAAqC,OAAlBh+B,QAAkB,IAAlBA,OAAA,EAAAA,EAAoBpW,gBAAgBmC,uBAAuBD,mBAA3D,OACnBkU,QADmB,IACnBA,OADmB,EACnBA,EAAoBpW,gBAAgBmC,uBAAuBD,kBAC3D,KAEN,EAAkDuD,mBAAkC0uC,GAApF,oBAAOlyC,EAAP,KAA0B6tC,EAA1B,KACA,EAAkDrqC,mBAAkC2uC,GAApF,oBAAOlyC,EAAP,KAA0B6tC,EAA1B,KAOA,GALHp4B,qBAAU,WACH08B,MACD,QAACj+B,QAAD,IAACA,OAAD,EAACA,EAAoBpW,gBAAgBmC,yBAGb,OAAvBiU,IAAgCA,EAAmBjS,MACnD,OAAO,yBAGd,IAAMkwC,EAA0B,WAC3Bj+B,IAIAnU,GAAsBC,EAGzBmsC,IAFAC,MAMIvsC,EAAkBqU,EAAmBpW,gBAAgBmC,uBAAuBG,yBAE5E+rC,EAAiB,WACtB,IAAM7rC,EAAW4T,EAAmB5T,SAC9BjC,EAAmB6V,EAAmBpW,gBAAgBmC,uBAAuB5B,iBAEnF,GAAG0B,GAAqBC,EAAmB,CAC1C,IAAMqsC,ED3CF,SAAkCtsC,EAAqCC,EAC5EM,EAAoBjC,EAA0BwB,GAC/C,IAAM+xC,EAAmBF,GAAoB3xC,GACvC8xC,EAAmBH,GAAoB1xC,GAEvCoyC,EAAmBzI,GAAuBiI,GAC1CS,EAAmB1I,GAAuBkI,GAE1CS,EAAchI,GAA8BhqC,GAC5CiyC,EAAiBtK,GAAyBpoC,EAAiBxB,GAEjE,MAAM,GAAN,OAAU+zC,EAAV,YAA8BC,EAA9B,YAAkDh0C,EAAlD,YAAsEi0C,EAAtE,YAAqFC,GCgCrEC,CAAyBzyC,EAAmBC,EAAmBM,EAAUjC,EACtFwB,GAED8jC,EAAQ/kC,KAAK,CACZ4lC,SAAU9qC,GACVsyC,OAAO,GAAD,OAAKhxC,GAAL,YAAgCqxC,OAKnCD,EAAyB,WAC7B,IAAML,EAAcz3B,OAAOC,SAASy3B,OAAOx1B,UAAU,GAC/Cy1B,EAAgBF,EAAYta,QAAQ,KAC3B7R,EAAMmsB,EAAYv1B,UAAU,EAAGy1B,GAC/B5pC,EAAQ0pC,EAAYv1B,UAAUy1B,EAAc,GAG3D,GAAGrsB,IAAQ5kB,IAA2BqH,EAAMlD,OAAS,EAAG,CACvD,IAAM4tC,EAAgB4E,GAAuBtvC,EAAOxC,GAEpD,GAAGktC,EAAe,CACjB,IAAM0F,EAAYv+B,EAAmBjT,eAAe/L,UAAUkI,MAC7D,SAAAmB,GAAQ,OAAIA,EAASzK,KAAOi5C,EAAchtC,kBAAkBjB,cAGvD4zC,EAAYx+B,EAAmBjT,eAAe/L,UAAUkI,MAC7D,SAAAmB,GAAQ,OAAIA,EAASzK,KAAOi5C,EAAc/sC,kBAAkBlB,cAG7D,IAAI2zC,IAAcC,EACjB,OAGD,GAAG7G,GAAsBkB,EAAczsC,YAAcsrC,GACpD,OAGD13B,EAAmB7T,YAAY0sC,EAAczsC,UAC7C4T,EAAmBvR,qBAAqBxC,+BAA+B4sC,EAAcltC,iBACrFqU,EAAmBvR,qBAAqBzC,iCAAiC6sC,EAAc1uC,kBAEvF,IAAMs0C,EAAaz+B,EAAmBjT,eAAehM,YAAYmI,MAChE,SAAAqe,GAAS,OAAIA,EAAU3nB,KAAO2+C,EAAUh3B,aAEnCm3B,EAAa1+B,EAAmBjT,eAAehM,YAAYmI,MAChE,SAAAqe,GAAS,OAAIA,EAAU3nB,KAAO4+C,EAAUj3B,aAEnC1b,EAAsC,CAC3CjM,GAAI,IACJyK,SAAUk0C,EACVh3B,UAAWk3B,EACX/vB,QAASmqB,EAAchtC,kBAAkBwc,YACzCc,eAAgB0vB,EAAchtC,kBAAkBS,OAChD+c,YAAawvB,EAAchtC,kBAAkBwd,YAC7CD,eAAgByvB,EAAchtC,kBAAkBud,gBAG3Ctd,EAAsC,CAC3ClM,GAAI,KACJyK,SAAUm0C,EACVj3B,UAAWm3B,EACXhwB,QAASmqB,EAAc/sC,kBAAkBuc,YACzCc,eAAgB0vB,EAAc/sC,kBAAkBQ,OAChD+c,YAAawvB,EAAc/sC,kBAAkBud,YAC7CD,eAAgByvB,EAAc/sC,kBAAkBsd,gBAGjDkxB,EAAwBzuC,EAAmBC,MAOtCwuC,EAA0B,SAACzuC,EAAqCC,GAClE4tC,EAAqB7tC,GACrB8tC,EAAqB7tC,GACrBkU,EAAmBvR,qBAAqB7C,8BAA8BC,EAAmBC,IAG7F,OACI,sBAAK0U,UAAW,kBAAhB,SACI,uBAAKA,UAAW,MAAhB,UACI,sBAAKA,UAAW,QAAhB,SACI,eAAC+4B,GAAD,CAAuBe,wBAAyBA,MAEpD,sBAAK95B,UAAW,QAASC,MAAO,CAACitB,QAAS,QAA1C,SAC2B,OAAtB7hC,GAAoD,OAAtBC,EAC/B,eAACoxC,GAAD,CAAwBrxC,kBAAmBA,EACnBC,kBAAmBA,IACrC,sBAAK0U,UAAW,MAAhB,SAAuB,6BAAI/Q,GAAmB8B,oBAAoB8S,EAAgBxb,qBClJ7F,WAA0B,gCCOlC,SAAS81C,KACZ,IAAMt6B,EAAkBpE,qBAAWnR,IAWnC,OAAO,sBAAK0R,UAAW,sBAAuBC,MAAO,CAACkD,WAAY,QAA3D,SACH,uBAAKnD,UAAW,MAAhB,UACI,uBAAKA,UAAW,QAAhB,UACK/Q,GAAmByP,sBAAsBmF,EAAgBxb,UAC1D,sBAAK2X,UAAU,cAAcC,MAAO,CAACkD,WAAY,QAAjD,SACI,yBAAQP,KAAK,SACL5C,UAAU,mDACVM,QAhBA,WACpB,IAAM4tB,EAAOtuB,OAAOuuB,KAAK1nC,GAAe,UACrCynC,EACCA,EAAKE,QAELxuB,OAAOC,SAASC,KAAOrZ,IAYPwZ,MAAO,CAACG,SAAU,SAH1B,SAIf,uBAAMJ,UAAW,YAAaC,MAAO,CAACm+B,WAAY,QAAlD,SACEnvC,GAAmB0P,sBAAsBkF,EAAgBxb,mBAKpD,sBAAK2X,UAAW,QAAhB,SACI,sBAAKqD,IAAKg7B,GAAS96B,IAAI,gCAAgCvD,UAAW,gC,wBCL3E,SAASs+B,KACZ,IAAM9+B,EAAqBC,qBAAW5W,IAEhC43B,EADkBhhB,qBAAWnR,IACNjG,SAE7B,EAAsBwG,mBxEdQ,IwEc9B,oBAAOhC,EAAP,KAAY0xC,EAAZ,KACA,EAAwB1vC,mBAAiBjI,IAAzC,oBAAOkG,EAAP,KAAa0xC,EAAb,KACA,EAA4B3vC,mBxEdK,IwEcjC,oBAAO9B,EAAP,KAAe0xC,EAAf,KACA,EAAsB5vC,mBAAiBhI,IAAvC,oBAAOmG,EAAP,KAAY0xC,EAAZ,KACA,EAAgC7vC,mBAAkB/H,IAAlD,oBAAOmG,EAAP,KAAiB0xC,EAAjB,KACA,EAA0C9vC,mBAAkB9H,IAA5D,oBAAOmG,EAAP,KAAsB0xC,EAAtB,KACA,EAAgC/vC,mBAAmC,MAAnE,oBAAO1B,EAAP,KAAiB0xC,EAAjB,KACA,EAAwChwC,mBAAkB7H,IAA1D,oBAAO83C,EAAP,KAAqBC,EAArB,KAEMxxB,EAAa3M,KAEnBG,qBAAU,WACHvB,IACC++B,EAAO/+B,EAAmB5T,SAASiB,KACnC2xC,EAAQh/B,EAAmB5T,SAASkB,MACpC2xC,EAAUj/B,EAAmB5T,SAASmB,QACtC2xC,EAAOl/B,EAAmB5T,SAASoB,KACnC2xC,EAAYn/B,EAAmB5T,SAASqB,UACxC2xC,EAAiBp/B,EAAmB5T,SAASsB,eAC7C6xC,EAAgBv/B,EAAmB5T,SAASwB,kBAEjD,IAEH,IAYM+wB,EAAyB,SAAC3c,GAC5B,IACMxU,EADQwU,EAAMC,OAAO9T,QACLjI,GAAWA,GAAWC,GACxCqH,IAAQtH,KACRi5C,GAAY,GACZC,GAAiB,IAErBF,EAAO1xC,IAGLgyC,EAAiB,SAACx9B,GACpBm9B,GAAa1xC,IAGXgyC,EAAsB,SAACz9B,GACzBo9B,GAAkB1xC,IAGhBgyC,EAA2B,SAAC19B,GAC9Bu9B,GAAiBD,IAiCfK,EAAqB,SAACvzC,GACxB,IAAMwzC,EAAmBjI,GAAsBvrC,GAE/C,OAAIwzC,IAAqBrI,IACrBsI,EAAYpwC,GAAmB6N,2BAA2B2jB,KACnD,GACA2e,IAAqBnI,IAC5BoI,EAAYpwC,GAAmB8N,4BAA4B0jB,KACpD,GACA2e,IAAqBpI,KAC5BqI,EAAYpwC,GAAmB+N,8BAA8ByjB,KACtD,IAMT4e,EAAc,SAACC,GACjBxnB,sBAAoBlvB,MAAM02C,IAGxBhwB,EAAcpO,GAAcqM,GAAc,kBAAoB,GAC9DgC,EAAcrO,GAAcqM,GAAc,wCAA0C,qBAEpFgyB,EAAkB,SAAC74B,EAAO/Y,EAAO+uB,GACnC,OACI,uBAAK1c,UAAU,WAAf,UACI,gBAACiQ,GAAA,EAAKiO,MAAN,CAAYle,UAAU,aAAtB,UAAoC0G,EAApC,OACA,eAAC84B,GAAA,EAAD,CACIx/B,UAAWuP,EACX3M,KAAK,OACLjV,MAAOA,EACPsV,SAAUyZ,QAyH1B,IAAKld,EACD,OAAO,yBAGX,IAAMigC,EAAoB,MAAP5yC,EAAeA,ExElQJ,GwEmQxB6yC,EAAsB,MAAR5yC,EAAgBA,EAAOlG,GACrC+4C,EAA0B,MAAV5yC,EAAkBA,ExElQP,GwEoQjC,OACI,sBAAKiT,UAAU,YAAYC,MAAO,CAACkD,WAAY,QAA/C,SACI,sBAAKnD,UAAU,uBAAf,SACI,sBAAKA,UAAU,SAAf,SACI,kCACI,gBAAC4/B,GAAA,EAAD,CAAWC,UAAU,gBAArB,UACI,uBAAK7/B,UAAU,MAAf,UACI,uBAAKA,UAAU,QAAf,UACKu/B,EAAgBtwC,GAAmB6L,uBAAuB2lB,GAAOgf,GAzOhF,SAACj+B,GACf+8B,EAAO/8B,EAAMC,OAAO9T,UAyOS4xC,EAAgBtwC,GAAmBsM,wBAAwBklB,GAAOif,GAtOhF,SAACl+B,GAChBg9B,EAAQh9B,EAAMC,OAAO9T,UAsOQ4xC,EAAgBtwC,GAAmBuM,0BAA0BilB,GAAOkf,GAnOhF,SAACn+B,GAClBi9B,EAAUj9B,EAAMC,OAAO9T,aAoOC,uBAAKqS,UAAU,QAAf,UACI,eAACiQ,GAAA,EAAKiO,MAAN,CAAYle,UAAU,aAAaC,MAAO,CAAC8C,YAAa,QAAxD,SACK9T,GAAmBmM,uBAAuBqlB,KAvIvE,uBAAKzgB,UAAU,kBAAf,UACI,eAACiQ,GAAA,EAAKiO,MAAN,CAAYle,UAAU,gBAAtB,SACI,eAACiQ,GAAA,EAAKC,MAAN,CAAYtN,KAAK,QACLuN,QAAQ,EACRzJ,MAAOzX,GAAmBoM,4BAA4BolB,GACtD9yB,MAAOjI,GACPsd,QAAUhW,IAAQtH,GAClBud,SAAUkb,MAG1B,eAAClO,GAAA,EAAKiO,MAAN,CAAYle,UAAU,2BAAtB,SACI,eAACiQ,GAAA,EAAKC,MAAN,CAAYtN,KAAK,QACLuN,QAAQ,EACRzJ,MAAOzX,GAAmBqM,8BAA8BmlB,GACxD9yB,MAAOhI,GACPqd,QAAUhW,IAAQtH,GAClBud,SAAUkb,SAS9B,uBAAKne,UAAU,OAAOC,MAAO,CAAC6e,WAAY,OAAQ5Y,aAAc,QAAhE,UACI,+BACI,eAAC+J,GAAA,EAAKC,MAAN,CAAYC,QAAM,EAACnQ,UAAU,mBACjBgD,SAAsB,IAAb/V,EACTyiB,SAAU1iB,IAAQtH,GAClBghB,MAAOzX,GAAmBkM,4BAA4BslB,GACtDngB,QAAS0+B,MAGzB,+BACI,eAAC/uB,GAAA,EAAKC,MAAN,CAAYC,QAAM,EAACnQ,UAAU,mBACjB0P,SAAU1iB,IAAQtH,GAClBghB,MAAOzX,GAAmB8L,iCAAiC0lB,GAC3DngB,QAAS2+B,eAuGb,uBAAKj/B,UAAU,MAAf,UA/FF,SAACpU,GACnB,IvCxMyBvD,EuCwMnBy3C,EvCvMY,CAClB,CAACp5B,MAAOkd,GAFiBv7B,EuCwMco4B,EvCtMC,GAAI9yB,MAAOg2B,IACnD,CAACjd,MAAOkd,GAAsBv7B,EAAU,GAAIsF,MAAOg2B,IACnD,CAACjd,MAAOkd,GAAsBv7B,EAAU,GAAIsF,MAAOg2B,IACnD,CAACjd,MAAOkd,GAAsBv7B,EAAU,GAAIsF,MAAOg2B,IACnD,CAACjd,MAAOkd,GAAsBv7B,EAAU,GAAIsF,MAAOg2B,IACnD,CAACjd,MAAOkd,GAAsBv7B,EAAU,GAAIsF,MAAOg2B,IACnD,CAACjd,MAAOkd,GAAsBv7B,EAAU,GAAIsF,MAAOg2B,KuCiMnD,IAAKmc,EACD,OAAO,yBAGX,IAAK3yC,EAAU,CACX,IAAI4yC,EAAmBD,EAAcp3C,MAAK,SAAAs3C,GAAS,OAAIA,EAAUryC,QAAU/B,EAASuB,YAC/E4yC,IACDA,EAAmBD,EAAc,IAErCjB,EAAYkB,GAGhB,IAAK5yC,EACD,OAAO,yBAGX,IAAM8yC,EAAe,sBAAkBvc,GAAev2B,EAASQ,QACzDuyC,EAAcjxC,GAAmBgxC,GAAiBxf,GAExD,OACI,uBAAKzgB,UAAU,WAAf,UACI,uBAAKC,MAAO,CAACO,MAAO,QAAS2C,WAAY,QAAzC,UACI,yBAAOnD,UAAU,aAAjB,UAA+B/Q,GAAmBiM,4BAA4BulB,GAA9E,OACA,eAAC,KAAD,CAAQzgB,UAAWsP,EACXG,QAASqwB,EACTnyC,MAAOR,EACP8V,SAAU,SAACtV,GAAD,OAhJX,SAACA,GACpBkxC,EAAYlxC,GA+I6BwyC,CAAexyC,SAGhD,oBAAGqS,UAAU,YAAb,SACKkgC,OAgEYE,CAAc5gC,EAAmB5T,UAvDtD,sBAAKoU,UAAU,kBAAkBC,MAAO,CAACwD,UAAW,SAApD,SACI,yBAAOzD,UAAU,gBACVgQ,WAAU/gB,GAAmBgM,yCAAyCwlB,GAD7E,UAEI,eAAC,KAAD,IACA,eAACxQ,GAAA,EAAKC,MAAN,CAAYC,QAAM,EAACnQ,UAAU,mBACjB0G,MAAOzX,GAAmB+L,iCAAiCylB,GAC3Dzd,QAAS87B,EACT77B,SAAUi8B,eAS9B,sBAAKl/B,UAAU,cAAf,SACI,yBAAQ4C,KAAK,SACL5C,UAAU,8BACVM,QAAS,kBA5KN,WACnB,GAAKd,EAAL,CAIA,IAAM5T,EAAqB,CACvBiB,IAAKA,EACLC,KAAMA,EACNC,OAAQA,EACRC,IAAKA,EACLC,SAAUA,EACVC,cAAeA,EACfC,SAAUA,EAAWA,EAASQ,MAAQ6R,EAAmB5T,SAASuB,SAClEC,cAAe0xC,EACfzxC,eAAe,GAGH8xC,EAAmBvzC,KAG/B4T,EAAmB7T,YAAYC,GAC/BksB,sBAAoBuoB,QAAQpxC,GAAmB2N,yBAAyB6jB,MAuJ7C6f,IAFvB,SAGKrxC,GAAmBe,cAAcywB,gB,wBC7QzC8f,GAAoB,oBACpBC,GAAkB,aAClBC,GAAuB,mBACvBC,GAAuB,kBCO9BC,GAAY,+ZAEX,SAASC,GAAkBC,GAC9B,IAqBel+B,EArBTm+B,EAAmB,GAkBzB,OAGen+B,EAnBAk+B,EAAKl+B,MAoBRlY,QAAU,GAAKkY,EAAKlY,QAAU,IAnBtCq2C,EAAO52C,KAAKq2C,IA+BwB,OA5BlBM,EAAKE,QA4BRC,MAAML,KA3BrBG,EAAO52C,KAAKw2C,IAGEG,EAAKvB,QAgBR70C,QAAU,IAfrBq2C,EAAO52C,KAAKs2C,IAkBpB,SAAqB1pB,GACjB,OAAOA,EAAQrsB,QAAU/D,GAhBpBu6C,CAAYJ,EAAKvB,UAClBwB,EAAO52C,KAAKu2C,IAGTK,E,mCCbJ,SAASI,KACZ,IAAM74C,EAAWoX,qBAAWnR,IAAiBjG,SAE7C,EAAwBwG,mBAAS,IAAjC,oBAAO8T,EAAP,KAAaw+B,EAAb,KACA,EAAqCtyC,mBAAS,IAA9C,oBAAOuyC,EAAP,KAAoBC,EAApB,KACA,EAA8BxyC,mBAAS,IAAvC,oBAAOywC,EAAP,KAAgBgC,EAAhB,KACA,EAAoCzyC,mBAAS,GAA7C,oBAAO0yC,EAAP,KAAmBC,EAAnB,KAEA,EAAwC3yC,oBAAS,GAAjD,oBAAO4yC,EAAP,KAAqBC,EAArB,KA6DMC,EAAW,SAACd,EAAgBx4C,GAC9B,IAAMonB,EAAU,CACZmyB,SAAUf,EAAKE,QACfc,UAAWhB,EAAKl+B,KAChB28B,QAASuB,EAAKvB,SAGlBwC,KAAQC,KCxFU,kBACC,mBDuFmBtyB,ECtFvB,8BDuFVuyB,MAAK,SAACC,GACHnqB,sBAAoBoqB,KAAKjzC,GAAmBsN,sBAAsBlU,IAClE84C,EAAQ,IACRG,EAAW,IACXD,EAAc,IACdG,EAAc,MACf,SAAC54C,GACAD,QAAQoZ,IAAInZ,EAAM4a,MAClBsU,sBAAoBoqB,KAAKjzC,GAAmBuN,oBAAoBnU,QAItE85C,EAAiBz7C,GAAuB66C,EACxCa,EACAnzC,GAAmBmF,2BAA2B/L,GAAU+tC,QAAQ,OAAQ+L,GAG9E,OACI,uBAAMzqB,SAlEW,SAAClW,GAGlB,GAFAA,EAAM6gC,iBAEFZ,EAAJ,CAKA,IAAMa,EAAqB,CACvB3/B,KAAMA,EAAKqa,OACX+jB,QAASK,EAAYpkB,OACrBsiB,QAASA,EAAQtiB,QAGfulB,EAAmB3B,GAAkB0B,GAC3C,GAAGC,EAAiB93C,OAAS,EAA7B,CACI,IACI+3C,EAAe,GACnB,OAFmBD,EAAiB,IAGhC,KAAKhC,GACDiC,EAAevzC,GAAmBqF,sBAAsBjM,GACxD,MACJ,KAAKq4C,GACD8B,EAAevzC,GAAmBsF,6BAA6BlM,GAC/D,MACJ,KAAKm4C,GACDgC,EAAevzC,GAAmBuF,2BAA2BnM,GAC7D,MACJ,KAAKo4C,GACD+B,EAAevzC,GAAmBwF,kCAAkCpM,GAI5EyvB,sBAAoBlvB,MAAM45C,QAI9Bb,EAASW,EAAUj6C,QAjCfyvB,sBAAoBlvB,MAAMqG,GAAmByF,8BAA8BrM,KA8D/E,SACI,uBAAK2X,UAAW,YAAhB,UACI,6BAAI/Q,GAAmBmP,kBAAkB/V,KACzC,iCACI,uBAAM2X,UAAW,aAAjB,SAAgC/Q,GAAmBgF,gBAAgB5L,KACnE,wBAAO2X,UAAW,qBACXrS,MAAOgV,EACPM,SA5FJ,SAACzB,GAChB2/B,EAAQ3/B,EAAMC,OAAO9T,aA8Fb,iCACI,uBAAMqS,UAAW,aAAjB,SAAgC/Q,GAAmBiF,mBAAmB7L,KACtE,wBAAO2X,UAAW,qBACXrS,MAAOyzC,EACPn+B,SA/FG,SAACzB,GACvB6/B,EAAc7/B,EAAMC,OAAO9T,aAiGnB,iCACI,uBAAMqS,UAAW,aAAjB,SAAgC/Q,GAAmBkF,mBAAmB9L,KACtE,2BAAU2X,UAAW,qBACXyiC,KAAM,EACN90C,MAAO2xC,EACPr8B,SAnGJ,SAACzB,GACnB8/B,EAAW9/B,EAAMC,OAAO9T,OACxB6zC,EAAchgC,EAAMC,OAAO9T,MAAMlD,cAoGzB,+BAAK,oBAAGwV,MAAO,CAACud,SAAU,SAArB,SAAgC4kB,MAErC,sBAAKniC,MAAO,CAACkD,WAAY,OAAQuB,cAAe,QAAhD,SACI,eAAC,KAAD,CACIg+B,QC3IK,2CD4ILC,OAAO,WACPC,eAvGG,SAACC,GACjBA,GACCnB,GAAgB,QAyGZ,yBAAQ1hC,UAAW,kBAAmB4C,KAAK,SAA3C,SAAqD3T,GAAmBc,YAAY1H,UEhJ7F,SAASy6C,KACZ,IAAMz6C,EAAWoX,qBAAWnR,IAAiBjG,SAE7C,OACI,uBAAK2X,UAAW,YAAhB,UACI,8BAAK/Q,GAAmBoP,qBAAqBhW,KAC7C,8BAAK4G,GAAmBqP,qBAAqBjW,KAC7C,gGAAiE,wBAAjE,6BAEA,2CACa,oBAAGyX,KAAM,4BAAT,kCAEb,8BAAK7Q,GAAmBsP,qBAAqBlW,KAC7C,gFACA,2CACa,oBAAGyX,KAAM,sBAAT,oBAEb,8BAAK7Q,GAAmBuP,qBAAqBnW,KAC7C,gHAAiF,wBAAjF,mHAEoB,wBAFpB,qFCpBL,SAAS06C,KACZ,OAAO,uBAAK/iC,UAAW,YAAhB,UACH,+CAGA,2C9EHe,W8EMf,+C9ELiB,gB8ESjB,qBAAGC,MAAO,CAACkD,WAAY,QAAvB,UACI,6DACA,gCACI,0DACA,wDACA,qFACA,yEACA,4FCrBD,WAA0B,6CCA1B,OAA0B,8CCQlC,SAAS6/B,KACZ,IAAMviB,EAAOhhB,qBAAWnR,IAAiBjG,SAEnC46C,EAAgBxiB,IAASj7B,GAAc09C,GAAeC,GAE5D,OACI,uBAAKnjC,UAAW,YAAhB,UACI,uBAAKA,UAAW,QAAhB,UACI,6BACI,6BAAI/Q,GAAmBgP,yBAAyBwiB,OAEpD,6BACI,6BACKxxB,GAAmBiP,yBAAyBuiB,OAGrD,6BACI,6BACKxxB,GAAmBkP,yBAAyBsiB,UAIzD,sBAAKxgB,MAAO,CAACkD,WAAY,QAAzB,SACI,sBAAKlD,MAAO,CAACS,OAAQ,SAArB,SACI,sBAAK2C,IAAK4/B,EAAe1/B,IAAK,gBAAiBtD,MAAO,CAACS,OAAQ,kBCvB5E,SAAS0iC,KACZ,IAAMv/B,EAAkBpE,qBAAWnR,IAOnC,EAAwCO,mBALnB,GAKrB,oBAAOw0C,EAAP,KAAqBC,EAArB,KACM5Q,EAAc,CAAClyB,MAAO,SAiB5B,OACI,iCACI,sBAAKR,UAAW,cAAeC,MAAO,CAACkD,WAAY,OAAQuB,cAAe,QAA1E,SACI,gBAAC6+B,GAAA,EAAD,CAAmBvjC,UAAW,UACX4C,KAAM,QACND,KAAM,gBACN6gC,aA7BV,EA0BT,UAII,eAACC,GAAA,EAAD,CAAcxjC,MAAOyyB,EACP/kC,MA/BT,EAgCSqV,QAhCT,IAgCkBqgC,EACTpgC,SAAU,kBAAMqgC,EAjCzB,IA8BL,SAIKr0C,GAAmBkN,aAAa0H,EAAgBxb,YAErD,eAACo7C,GAAA,EAAD,CAAcxjC,MAAOyyB,EACP/kC,MApCT,EAqCSqV,QArCT,IAqCkBqgC,EACTpgC,SAAU,kBAAMqgC,EAtCzB,IAmCL,SAIKr0C,GAAmBmN,qBAAqByH,EAAgBxb,YAE7D,eAACo7C,GAAA,EAAD,CAAcxjC,MAAOyyB,EACP/kC,MAzCR,EA0CQqV,QA1CR,IA0CiBqgC,EACTpgC,SAAU,kBAAMqgC,EA3CxB,IAwCN,SAIKr0C,GAAmBoN,sBAAsBwH,EAAgBxb,YAE9D,eAACo7C,GAAA,EAAD,CAAcxjC,MAAOyyB,EACP/kC,MA9CP,EA+COqV,QA/CP,IA+CgBqgC,EACTpgC,SAAU,kBAAMqgC,EAhDvB,IA6CP,SAIKr0C,GAAmBqN,uBAAuBuH,EAAgBxb,iBAIvE,+BAhDc,WAClB,OAAQg7C,GACJ,KAVa,EAWT,OAAO,eAACnC,GAAD,IACX,KAXa,EAYT,OAAO,eAAC4B,GAAD,IACX,KAZc,EAaV,OAAO,eAACC,GAAD,IACX,KAbe,EAcX,OAAO,eAACC,GAAD,IACX,QACI,OAAO,0BAsCNU,QC7CV,SAASC,GAAgBx1C,GAC5B,IAAMqR,EAAqBC,qBAAW5W,IAC/BR,EAAYoX,qBAAWnR,IAAvBjG,SACD4mC,EAAUC,eAEV5iC,EAAgB,OAAGkT,QAAH,IAAGA,OAAH,EAAGA,EAAoBpW,gBAAgBkD,iBAEvDs3C,KAAkBt3C,GAAoBA,EAAiBE,sBAC9BF,EAAiBG,eAAiBH,EAAiBI,iBAElF,EAAwCmC,qBAAxC,oBAAOg1C,EAAP,KAAqBC,EAArB,KACA,EAAsCj1C,mBAAkB+0C,GAAxD,oBAAOj3B,EAAP,KAAoBC,EAApB,KAuBA,GArBA7L,qBAAU,WACN,GAAIvB,EAAoB,CACpB,IAAMukC,EAAcC,EAAkBxkC,EAAmBpW,gBAAgBkD,iBAAiBG,eAC1Fq3C,EAAgBC,MAErB,QAACvkC,QAAD,IAACA,OAAD,EAACA,EAAoBpW,gBAAgBkD,iBAAiBG,gBAEzDsU,qBAAU,WACFvU,GAAwBC,GAAiBC,GAAmBigB,GAC5D8qB,IACAwM,KACQt3B,GACRu3B,MAEL,QAAC1kC,QAAD,IAACA,OAAD,EAACA,EAAoBpW,gBAAgBkD,iBAAiBE,qBAAtD,OACCgT,QADD,IACCA,OADD,EACCA,EAAoBpW,gBAAgBkD,iBAAiBI,gBADtD,OAEC8S,QAFD,IAECA,OAFD,EAECA,EAAoBpW,gBAAgBkD,iBAAiBK,WAFtD,OAGC6S,QAHD,IAGCA,OAHD,EAGCA,EAAoBpW,gBAAgBkD,iBAAiBM,wBACrDi3C,KAGCrkC,EACD,OAAO,yBAGX,MAMIA,EAAmBpW,gBAAgBkD,iBALnCE,EADJ,EACIA,qBACAC,EAFJ,EAEIA,cACAC,EAHJ,EAGIA,gBACAC,EAJJ,EAIIA,WACAC,EALJ,EAKIA,wBAGEs3C,EAA+B,WACjC,IAAM7M,EAAcz3B,OAAOC,SAASy3B,OAAOx1B,UAAU,GAC/Cy1B,EAAgBF,EAAYta,QAAQ,KACpC7R,EAAMmsB,EAAYv1B,UAAU,EAAGy1B,GAC/B5pC,EAAQ0pC,EAAYv1B,UAAUy1B,EAAgB,GAEpD,GAAIrsB,IAAQ3kB,IAA8BoH,EAAMlD,OAAS,EAAG,CACxD,IAAMmtC,EC5DX,SAAkCzB,EAAa5pC,EAAgClE,GAClF,IAAMktC,EAAYW,GAAqBC,GAAKV,MAAM,KAClD,GAAwB,IAArBF,EAAU9qC,OACT,OAAO,KAGX,GAA2B,IAAxB8qC,EAAU,GAAG9qC,OACZ,OAAO,KAGX,IAAMwB,EAAmB0jB,SAAS4lB,EAAU,IACtC9oC,EAAgBkjB,SAAS4lB,EAAU,IACnC7oC,EAAkB6oC,EAAU,GAE5B4O,EAAiB/9B,GAAsB7Z,EAAetM,WAAYoI,GAClE+7C,EAASC,GAAiBh8C,GAC1Bi8C,EAAWC,GAA0B93C,EAAepE,GAEpDm8C,EAA6BL,EAAez7C,MAAK,SAAA+7C,GAAY,OAAIA,EAAa92C,QAAU1B,KACxFy4C,EAAsBN,EAAO17C,MAAK,SAAAi8C,GAAK,OAAIA,EAAMh3C,QAAUlB,KAC3Dm4C,EAA6BN,EAAWA,EAAS57C,MAAK,SAAAg2B,GAAO,OAAIA,EAAQ/wB,QAAUjB,KAAmB,KAEtGm4C,EAA0C,MAAhCtP,EAAU,GAAGzzB,UAAU,EAAE,GACnClV,EAA0D,MAAhC2oC,EAAU,GAAGzzB,UAAU,EAAE,GAEzD,OAAG0iC,GAA8BE,GAAuBE,EAC7C,CACHp4C,qBAAsBg4C,EACtB/3C,cAAei4C,EACfh4C,gBAAiBk4C,EACjBj4C,WAAYk4C,EACZj4C,wBAAyBA,GAGtB,KD0BsCk4C,CAAyBn3C,EAAO6R,EAAmBjT,eAAgBlE,GAC5G,IAAKuvC,EACD,OAGJ,IAAOprC,EAAwDorC,EAAxDprC,qBAAsBC,EAAkCmrC,EAAlCnrC,cAAeC,EAAmBkrC,EAAnBlrC,gBAC5C,GAA6B,OAAzBF,GAAmD,OAAlBC,GAA8C,OAApBC,EAC3D,OAEA8S,EAAmBnT,oBAAoBurC,GACvCqM,IACAr3B,GAAe,KAKrB6qB,EAAiB,WACnB,IAAME,ECxFP,SAAiCrrC,GAAqC,IAAD,MAClEL,EAAgB,UAAGK,EAAiBE,4BAApB,aAAG,EAAuCmB,MAC1DlB,EAAa,UAAGH,EAAiBG,qBAApB,aAAG,EAAgCkB,MAChDjB,EAAe,UAAGJ,EAAiBI,uBAApB,aAAG,EAAkCiB,MAEpDhB,EAAaL,EAAiBK,WAAa,IAAM,IACjDo4C,EAAwBz4C,EAAiBM,wBAA0B,IAAM,IAE/E,MAAM,GAAN,OAAUX,EAAV,YAA8BQ,EAA9B,YAA+CC,EAA/C,YAAkEC,GAAlE,OAA+Eo4C,GDgF7DC,CAAwBxlC,EAAmBpW,gBAAgBkD,kBAEzE2iC,EAAQ/kC,KAAK,CACT4lC,SAAUvqC,GACV+xC,OAAO,GAAD,OAAK/wC,GAAL,YAAmCoxC,MAgC3CsN,EAA4B,WAC9B,IAAMC,EAAc,2BACb1lC,EAAmBpW,gBAAgBkD,kBADtB,IAEhBK,YAAaA,IAEjB6S,EAAmBnT,oBAAoB64C,IAGrCC,EAAoC,WACtC,IAAMD,EAAc,2BACb1lC,EAAmBpW,gBAAgBkD,kBADtB,IAEhBM,yBAA0BA,IAE9B4S,EAAmBnT,oBAAoB64C,IAWrClB,EAAoB,SAACv3C,GACvB,GAAKA,EAIL,OAAO83C,GAA0B93C,EAAckB,MAAOtF,IAGpD47C,EAAY,WACd,GAAKz3C,GAAyBC,GAAkBC,EAAhD,CAIA,IAAM04C,EAAkB34C,EAAgBA,EAAckB,MAAQ,KAExD03C,KAvJe,IAsJaD,GArJb,IAqJoDA,IACPx4C,EAElEuB,EAAM81C,UAAUz3C,EAAsBE,EAAiBC,EAAY04C,KAyCjEC,EA7DKjB,GAAiBh8C,GA+D5B,OACI,uBAAK2X,UAAU,YAAf,UACI,uBAAKA,UAAU,kCAAf,UACI,+BAAI/Q,GAAmB2C,eAAevJ,GAAtC,OACA,eAAC,KAAD,CAAQonB,QAvETrJ,GAAsB5G,EAAmBjT,eAAetM,WAAYoI,GAwE3DsF,MAAOnB,EACPyW,SAtHa,SAACsiC,GAC9B,IAAML,EAAc,2BACb1lC,EAAmBpW,gBAAgBkD,kBADtB,IAEhBE,qBAAsB+4C,IAG1B/lC,EAAmBnT,oBAAoB64C,SAmHnC,uBAAKllC,UAAU,kCAAf,UACI,+BAAI/Q,GAAmBoE,YAAYhL,GAAnC,OACA,eAAC,KAAD,CAAQonB,QAAS61B,EACT33C,MAAOlB,EACPwW,SApHM,SAACsiC,GACvB34B,GAAe,GACf,IAAMs4B,EAAc,2BACb1lC,EAAmBpW,gBAAgBkD,kBADtB,IAEhBG,cAAe84C,EACf74C,gBAAiB,OAErB8S,EAAmBnT,oBAAoB64C,GACvC/2C,EAAM81C,UAAU,KAAM,MAAM,GAAO,SA+G/B,uBAAKjkC,UAAU,kCAAf,UACI,+BAAI/Q,GAAmBwM,YAAYpT,GAAnC,OACA,eAAC,KAAD,CAAQonB,QAASo0B,EACTl2C,MAAOjB,EACPuW,SAhHM,SAACsiC,GACvB,IAAML,EAAc,2BACb1lC,EAAmBpW,gBAAgBkD,kBADtB,IAEhBI,gBAAiB64C,IAErB/lC,EAAmBnT,oBAAoB64C,SA+CjB,WACtB,IAAME,EAAkB34C,EAAgBA,EAAckB,MAAQ,KAE9D,OACI,sBAAKqS,UAAU,qBAAqBC,MAAO,CAAC8C,YAAa,OAAQI,WAAY,QAA7E,SACI,wBAAMnD,UAAU,yBAAhB,UACI,yBAAOA,UAAU,gBAAjB,UACI,wBAAOA,UAAU,mBACV4C,KAAK,QACLI,QAAUrW,EACVsW,SAAUgiC,IAJrB,WAQA,yBAAOjlC,UAAU,2BAAjB,UACI,wBAAOA,UAAU,mBACV4C,KAAK,QACLI,SAAUrW,EACVsW,SAAUgiC,IAEhBh2C,GAAmBiL,cAAc7R,OAhL7B,IAkLP+8C,GAjLO,IAiL8BA,IACvC,eAACn1B,GAAA,EAAKiO,MAAN,CAAYle,UAAU,gBAAtB,SACI,eAACiQ,GAAA,EAAKC,MAAN,CAAYC,QAAQ,EACRzJ,MAAOzX,GAAmBqL,kCAAkCjS,GAC5D2X,UAAU,mBACV6C,eAAgBjW,EAChB0T,QAAS6kC,WAmChCK,MElNN,SAASnB,GAAiBh8C,GAC7B,MAAO,CACH,CAACsF,MFZsB,EEYE+Y,MAAOzX,GAAmB4D,gCAAgCxK,IACnF,CAACsF,MFZoB,EEYE+Y,MAAOzX,GAAmBwJ,mBAAmBpQ,IACpE,CAACsF,MFZoB,EEYE+Y,MAAOzX,GAAmBsH,mBAAmBlO,IACpE,CAACsF,MFZmB,EEYE+Y,MAAOzX,GAAmB0G,2BAA2BtN,IAC3E,CAACsF,MFZkB,EEYE+Y,MAAOzX,GAAmB6F,6BAA6BzM,IAC5E,CAACsF,MFZoB,EEYE+Y,MAAOzX,GAAmB2D,qBAAqBvK,KA6JvE,SAASk8C,GAA0BkB,EAAsBp9C,GAC5D,OAAQo9C,GACJ,KFhLuB,EEiLnB,OAxJL,SAA+Bp9C,GAClC,MAAO,CACH,CAACsF,MAAO44B,EAAuB7f,MAAOzX,GAAmBwG,sBAAsBpN,IAC/E,CAACsF,MAAO44B,EAAsB7f,MAAOzX,GAAmB+K,qBAAqB3R,IAC7E,CAACsF,MAAO44B,EAAsB7f,MAAOzX,GAAmB6F,6BAA6BzM,IACrF,CAACsF,MAAO44B,EAAuB7f,MAAOzX,GAAmB0G,2BAA2BtN,IACpF,CAACsF,MAAO44B,EAAyB7f,MAAOzX,GAAmBmI,wBAAwB/O,IACnF,CAACsF,MtFxCe,QsFwCY+Y,MAAOzX,GAAmB4F,mBAAmBxM,KAiJ9Dq9C,CAAsBr9C,GACjC,KFjLqB,EEkLjB,OA3IL,SAAkCA,GACrC,MAAO,CACH,CAACsF,MAAO44B,EAA2B7f,MAAOzX,GAAmByJ,qBAAqBrQ,IAClF,CAACsF,MAAO44B,EAA4B7f,MAAOzX,GAAmB0J,sBAAsBtQ,IACpF,CAACsF,MAAO44B,EAA4B7f,MAAOzX,GAAmB2J,sBAAsBvQ,IACpF,CAACsF,MAAO44B,EAA4B7f,MAAOzX,GAAmB4J,sBAAsBxQ,IACpF,CAACsF,MAAO44B,EAA4B7f,MAAOzX,GAAmB6J,sBAAsBzQ,IACpF,CAACsF,MAAO44B,EAA4B7f,MAAOzX,GAAmB8J,sBAAsB1Q,IACpF,CAACsF,MAAO44B,EAA4B7f,MAAOzX,GAAmB+J,sBAAsB3Q,IACpF,CAACsF,MAAO44B,EAA6B7f,MAAOzX,GAAmBgK,uBAAuB5Q,IACtF,CAACsF,MAAO44B,EAA2B7f,MAAOzX,GAAmBiK,qBAAqB7Q,IAClF,CAACsF,MAAO44B,EAA2B7f,MAAOzX,GAAmBkK,qBAAqB9Q,IAClF,CAACsF,MAAO44B,EAA2B7f,MAAOzX,GAAmBmK,qBAAqB/Q,IAClF,CAACsF,MAAO44B,EAA2B7f,MAAOzX,GAAmBoK,qBAAqBhR,KA8HvEs9C,CAAyBt9C,GACpC,KFlLqB,EEmLjB,OAxHL,SAAkCA,GACrC,MAAO,CACH,CAACsF,MAAO44B,EAAgC7f,MAAOzX,GAAmBuH,2BAA2BnO,IAC7F,CAACsF,MAAO44B,EAA6B7f,MAAOzX,GAAmByH,wBAAwBrO,IACvF,CAACsF,MAAO44B,EAAkC7f,MAAOzX,GAAmB0H,6BAA6BtO,IACjG,CAACsF,MAAO44B,EAAmC7f,MAAOzX,GAAmB4H,8BAA8BxO,IACnG,CAACsF,MAAO44B,EAAkC7f,MAAOzX,GAAmB6H,8BAA8BzO,IAClG,CAACsF,MAAO44B,EAA+B7f,MAAOzX,GAAmB+H,0BAA0B3O,IAC3F,CAACsF,MAAO44B,EAA6B7f,MAAOzX,GAAmBgI,wBAAwB5O,IACvF,CAACsF,MAAO44B,EAAiC7f,MAAOzX,GAAmB8H,4BAA4B1O,IAC/F,CAACsF,MAAO44B,EAAkC7f,MAAOzX,GAAmB2H,6BAA6BvO,IACjG,CAACsF,MAAO44B,EAA+B7f,MAAOzX,GAAmBwH,0BAA0BpO,KA6GhFu9C,CAAyBv9C,GACpC,KFnLoB,EEoLhB,OAvGL,SAAgCA,GACnC,MAAO,CACH,CAACsF,MAAO44B,EAAiC7f,MAAOzX,GAAmB2G,gCAAgCvN,IACnG,CACIsF,MAAO44B,EACP7f,MAAOzX,GAAmB8G,uCAAuC1N,IAErE,CACIsF,MAAO44B,EACP7f,MAAOzX,GAAmBgH,uCAAuC5N,IAErE,CACIsF,MAAO44B,GACP7f,MAAOzX,GAAmB6G,kCAAkCzN,KA0FrDw9C,CAAuBx9C,GAClC,KFpLmB,EEqLf,OAnFL,SAAuCA,GAC1C,MAAO,CACH,CAACsF,MAAO44B,GAAqC7f,MAAOzX,GAAmBsG,6BAA6BlN,IACpG,CAACsF,MAAO44B,GAA4B7f,MAAOzX,GAAmBuJ,qBAAqBnQ,IACnF,CAACsF,MAAO44B,GAA8B7f,MAAOzX,GAAmBiG,qCAAqC7M,IACrG,CACIsF,MAAO44B,GACP7f,MAAOzX,GAAmB+F,sCAAsC3M,IAEpE,CACIsF,MAAO44B,GACP7f,MAAOzX,GAAmBgG,uCAAuC5M,IAErE,CAACsF,MAAO44B,GAA8B7f,MAAOzX,GAAmBqG,qCAAqCjN,IACrG,CAACsF,MAAO44B,GAA8B7f,MAAOzX,GAAmBkG,qCAAqC9M,IACrG,CAACsF,MAAO44B,GAA8B7f,MAAOzX,GAAmBmG,qCAAqC/M,IACrG,CAACsF,MAAO44B,GAA6B7f,MAAOzX,GAAmBoG,oCAAoChN,KAmExFy9C,CAA8Bz9C,GACzC,KFrLqB,EEsLjB,OA7DL,SAAkCA,GACrC,MAAO,CACH,CAACsF,MAAO44B,GAAgC7f,MAAOzX,GAAmBoI,gCAAgChP,IAClG,CAACsF,MAAO44B,GAAiC7f,MAAOzX,GAAmBqI,iCAAiCjP,IACpG,CACIsF,MAAO44B,GACP7f,MAAOzX,GAAmBsI,qCAAqClP,IAEnE,CAACsF,MAAO44B,GAAgC7f,MAAOzX,GAAmBuI,gCAAgCnP,IAClG,CACIsF,MAAO44B,GACP7f,MAAOzX,GAAmByI,qCAAqCrP,IAEnE,CAACsF,MAAO44B,GAAgC7f,MAAOzX,GAAmBwI,gCAAgCpP,IAClG,CACIsF,MAAO44B,GACP7f,MAAOzX,GAAmB0I,kCAAkCtP,IAEhE,CACIsF,MAAO44B,GACP7f,MAAOzX,GAAmB2I,mCAAmCvP,IAEjE,CAACsF,MAAO44B,GAAgC7f,MAAOzX,GAAmB4I,gCAAgCxP,IAClG,CAACsF,MAAO44B,GAA+B7f,MAAOzX,GAAmB6I,+BAA+BzP,IAChG,CACIsF,MAAO44B,GACP7f,MAAOzX,GAAmB8I,mCAAmC1P,IAEjE,CACIsF,MAAO44B,GACP7f,MAAOzX,GAAmB+I,sCAAsC3P,IAEpE,CAACsF,MAAO44B,GAAgC7f,MAAOzX,GAAmBgJ,gCAAgC5P,IAClG,CAACsF,MAAO44B,GAA+B7f,MAAOzX,GAAmBiJ,+BAA+B7P,IAChG,CACIsF,MAAO44B,GACP7f,MAAOzX,GAAmBkJ,kCAAkC9P,IAEhE,CACIsF,MAAO44B,GACP7f,MAAOzX,GAAmBmJ,mCAAmC/P,IAEjE,CAACsF,MAAO44B,GAAiC7f,MAAOzX,GAAmBoJ,iCAAiChQ,IACpG,CAACsF,MAAO44B,GAA+B7f,MAAOzX,GAAmBqJ,+BAA+BjQ,KAkBrF09C,CAAyB19C,IAKrC,SAAS29C,GAAmBC,EAA2Bl5B,EAAmC9gB,EAC9Di6C,EAAoBv5C,EAAoBtE,EAAkBqnC,EAC1DvvC,GAG/B,IAFA,IAAIgmD,EAA+B,GADyB,WAGnDvwB,GACL,IAAI/rB,EAAqBo8C,EAASrwB,GAC5BrO,EAAcwF,EAAgBrkB,MAAK,SAAAqe,GAAS,OAAIA,EAAU3nB,KAAOyK,EAASkd,aAC1EF,EAAWU,EAAcA,EAAYV,SAAWU,EAEtD,GAAyB,IAArBtb,GAA2B4a,IAAa5a,EACxC,iBAGJ,IAAI0B,EAqDZ,SAA4B9D,EAAUq8C,GAClC,IAAIv4C,EAEEsb,EAAeP,GAA2B7e,EAAU,GAAG,GAEvD2f,EAAWP,EAAaO,SACxBE,EAAcT,EAAaS,YAC3BE,EAAcX,EAAaW,YAC3BM,EAAYjB,EAAaiB,UACzBk8B,EAAYn9B,EAAaa,iBACzBE,EAAcf,EAAae,YAEjC,GAAoB,OAAhBA,EACA,OAAO,EAKPk8B,IAAkB3f,IAClB54B,EAAQ6b,EAAS2H,OAGjB+0B,IAAkB3f,IAClB54B,EAAQ6b,EAAS2H,OAGjB+0B,IAAkB3f,IAClB54B,EAAQ6b,EAASwH,eAGjBk1B,IAAkB3f,IAClB54B,EAAQ6b,EAASyH,QAGjBi1B,IAAkB3f,IAClB54B,EAAQ6b,EAAS0H,UAMjBg1B,IAAkB3f,IAClB54B,EAAQ+b,EAAYgI,GAGpBw0B,IAAkB3f,IAClB54B,EAAQ+b,EAAYiI,IAGpBu0B,IAAkB3f,IAClB54B,EAAQ+b,EAAYkI,IAGpBs0B,IAAkB3f,IAClB54B,EAAQ+b,EAAYmI,IAGpBq0B,IAAkB3f,IAClB54B,EAAQ+b,EAAYoI,IAGpBo0B,IAAkB3f,IAClB54B,EAAQ+b,EAAYqI,IAGpBm0B,IAAkB3f,IAClB54B,EAAQ+b,EAAYuI,IAGpBi0B,IAAkB3f,IAClB54B,EAAQ+b,EAAYwI,KAGpBg0B,IAAkB3f,IAClB54B,EAAQ+b,EAAYyI,GAGpB+zB,IAAkB3f,IAClB54B,EAAQ+b,EAAY0I,GAGpB8zB,IAAkB3f,IAClB54B,EAAQ+b,EAAYlqB,GAGpB0mD,IAAkB3f,IAClB54B,EAAQ+b,EAAY2I,GAMpB6zB,IAAkB3f,IAClB54B,EAAQic,EAAY2I,SAGpB2zB,IAAkB3f,IAClB54B,EAAQic,EAAY4I,MAGpB0zB,IAAkB3f,IAClB54B,EAAQic,EAAY6I,WAGpByzB,IAAkB3f,IAClB54B,EAAQic,EAAY8I,YAGpBwzB,IAAkB3f,IAClB54B,EAAQic,EAAY+I,WAGpBuzB,IAAkB3f,IAClB54B,EAAQic,EAAYgJ,QAGpBszB,IAAkB3f,IAClB54B,EAAQic,EAAYiJ,MAGpBqzB,IAAkB3f,IAClB54B,EAAQic,EAAYoJ,UAGpBkzB,IAAkB3f,IAClB54B,EAAQic,EAAYkJ,QAGpBozB,IAAkB3f,IAClB54B,EAAQic,EAAYmJ,WAGpBmzB,IAAkB3f,IAClB54B,EAAQuc,EAAU2J,WAGlBqyB,IAAkB3f,IAClB54B,EAAQuc,EAAUyJ,iBAGlBuyB,IAAkB3f,IAClB54B,EAAQuc,EAAU0J,iBAGlBsyB,IAAkB3f,KAClB54B,EAAQuc,EAAUgK,iBAMlBgyB,IAAkB3f,KAClB54B,EAAQ6b,EAAS4H,eAGjB80B,IAAkB3f,KAClB54B,EAAQy4C,EAAU3yB,OAGlByyB,IAAkB3f,KAClB54B,EAAQy4C,EAAUlzB,SAGlBgzB,IAAkB3f,KAClB54B,EAAQy4C,EAAUjzB,UAGlB+yB,IAAkB3f,KAClB54B,EAAQy4C,EAAUhzB,WAGlB8yB,IAAkB3f,KAClB54B,EAAQy4C,EAAU/yB,SAGlB6yB,IAAkB3f,KAClB54B,EAAQy4C,EAAU7yB,SAGlB2yB,IAAkB3f,KAClB54B,EAAQy4C,EAAU9yB,SAGlB4yB,IAAkB3f,KAClB54B,EAAQy4C,EAAU5yB,QAMlB0yB,IAAkB3f,KAClB54B,EAAQqc,EAAYmL,SAGpB+wB,IAAkB3f,KAClB54B,EAAQqc,EAAYiL,UAGpBixB,IAAkB3f,KAClB54B,EAAQqc,EAAYoL,cAGpB8wB,IAAkB3f,KAClB54B,EAAQqc,EAAY6K,SAGpBqxB,IAAkB3f,KAClB54B,EAAQqc,EAAYqL,cAGpB6wB,IAAkB3f,KAClB54B,EAAQqc,EAAYsL,SAGpB4wB,IAAkB3f,KAClB54B,EAAQqc,EAAYkL,WAGpBgxB,IAAkB3f,KAClB54B,EAAQqc,EAAYyK,YAGpByxB,IAAkB3f,KAClB54B,EAAQqc,EAAY0K,SAGpBwxB,IAAkB3f,KAClB54B,EAAQqc,EAAY2K,QAGpBuxB,IAAkB3f,KAClB54B,EAAQqc,EAAY4K,YAGpBsxB,IAAkB3f,KAClB54B,EAAQqc,EAAY8K,eAGpBoxB,IAAkB3f,KAClB54B,EAAQqc,EAAYuL,SAGpB2wB,IAAkB3f,KAClB54B,EAAQqc,EAAYwL,QAGpB0wB,IAAkB3f,KAClB54B,EAAQqc,EAAYwK,WAGpB0xB,IAAkB3f,KAClB54B,EAAQqc,EAAYuK,YAGpB2xB,IAAkB3f,KAClB54B,EAAQqc,EAAY+K,UAGpBmxB,IAAkB3f,KAClB54B,EAAQqc,EAAYgL,QAGxB,OAAOrnB,EA3TS04C,CAAmBx8C,EAAUq8C,GACzC,GAAc,OAAVv4C,GAA4B,IAAVA,EAClB,iBAGJ,IAAI2e,OAAa,EAEjB,GAAK3f,EAMDgB,EAAQ6xB,GAAU7xB,OANL,CAAC,IAAD,EACPmgB,EAAiBjkB,EAASye,iBAC1B4G,EAAa,UAAGrlB,EAASge,mBAAZ,aAAG,EAAsBnf,MAAK,SAAAwmB,GAAa,OAAIA,EAAc3nB,cAAgBumB,KAEhGngB,EAoTZ,SAAyBA,EAAOmjB,GAE5B,OAAO0O,GADc7xB,EAAQ,IAAMmjB,GArTnBw1B,CAAgB34C,EADxB2e,EAAgB4C,EAAgBA,EAAchH,OAAS,KAM3D,IAAIvF,EAAOna,GAAwBknC,EAAe7lC,EAASkB,OAAU1C,GAErE,GAA4B,MAAzBwB,EAAS6d,YAAqB,CAC7B,IAAMD,EAAYtnB,EAAWuI,MAAK,SAAA+e,GAAS,OAAIA,EAAUroB,KAAOyK,EAAS6d,eACzE,GAAGD,EAEC9E,EAAOA,EAAO,KADQxa,GAAQsf,EAAWpf,GAK7CsE,IACAgW,EAAOA,EAAO,KAAO2J,EAAgB,OAGzC,IAAMi6B,EAAuB,CACzB5jC,KAAMA,GAAc,GACpBhV,MAAOA,GAGXw4C,EAAWj8C,KAAKq8C,IA5CX3wB,EAAI,EAAGA,EAAIqwB,EAASx7C,OAAQmrB,IAAK,EAAjCA,GA0DT,OAVAuwB,EAAaA,EAAW7/B,MAAK,SAACY,EAAMC,GAChC,OAAID,EAAKvZ,MAAQwZ,EAAKxZ,OACV,EACDuZ,EAAKvZ,MAAQwZ,EAAKxZ,MAClB,EAEA,KC9PZ,SAAS64C,GAAar4C,GACzB,IAAO9F,EAAYoX,qBAAWnR,IAAvBjG,SAuCDo5B,EArCkB,WAIpB,IAHA,IAAMK,EAAwB,GACxBJ,EAAsB,GAEnB9L,EAAI,EAAGA,EAAIznB,EAAMg4C,WAAW17C,OAAQmrB,IAAK,CAC9C,IAAM2wB,EAAYp4C,EAAMg4C,WAAWvwB,GAE7BjT,EAAO4jC,EAAU5jC,KACvBmf,EAAO53B,KAAKyY,GACZ+e,EAAKx3B,KAAKq8C,EAAU54C,OAGxB,MAAO,CACHm0B,OAAQA,EACRG,SAAU,CAAC,CACPP,KAAMA,EACN/c,gBAAiB6U,GACjB0I,YAAa,EACbC,YAAa,UAmBFskB,GACjBh3B,EAfa,WACf,IAAIA,EAAUyM,GAA6B/tB,EAAMzB,gBAAiByB,EAAMwtB,MASxE,OARAlM,EAAO,2BACAA,GADA,IACS8N,QAAQ,2BACb9N,EAAQ8N,SADI,IACK/G,MAAM,2BACnB/G,EAAQ8N,QAAQ/G,OADE,IAErBkwB,SAAU,aASV1qB,GACV2qB,EAAgBllB,EAAUQ,SAASx3B,OAAS,GAAKg3B,EAAUQ,SAAS,GAAGP,KAAKj3B,OAAS,EAErF+V,EAAQ,GAAKrS,EAAMg4C,WAAW17C,OAAS,IAE7C,OACI,+BACI,uBAAKuV,UAAU,gBAAgBC,MAAO,CAACiD,UAAW,OAAQwjC,SAAU,WAAYtjC,SAAU,UAA1F,UACKujC,GACD,sBAAK1mC,MAAO,CAACymC,SAAU,WAAYlmC,MAAM,GAAD,OAAKA,EAAL,OAAxC,SACI,eAAC,KAAD,CAAKphB,GAAG,QACHsiC,KAAMD,EACN/gB,OAAQ,IACR+O,QAASA,OAIhBk3B,GACF,gCAAO13C,GAAmB0F,aAAatM,UC7DhD,SAASu+C,KACZ,IAAMpnC,EAAqBC,qBAAW5W,IAC/BR,EAAYoX,qBAAWnR,IAAvBjG,SAEP,EAAoCwG,mBAA2B,IAA/D,oBAAOs3C,EAAP,KAAmBU,EAAnB,KACA,EAAwBh4C,mBAAiB,KAAzC,oBAAO8sB,EAAP,KAAamrB,EAAb,KACA,EAA0Cj4C,mBAAmC,MAA7E,oBAAOq3C,EAAP,KAAsBa,EAAtB,KAEA,IAAKvnC,EACD,OAAO,yBAGX,IA0CMwnC,EAAU,SAACd,EAAeb,GAC5B,OAAIa,IAAkB3f,EACX,OACA2f,IAAkB3f,GACtB2f,IAAkB3f,GAClB2f,IAAkB3f,GAClB2f,IAAkB3f,IAClB2f,IAAkB3f,GAClB2f,IAAkB3f,IAClB2f,IAAkB3f,GAClB2f,IAAkB3f,GAClB2f,IAAkB3f,GAClB2f,IAAkB3f,GACd,IACA8e,EACA,IAEA,MAkBf,OACI,sBAAKrlC,UAAU,kBAAkBC,MAAO,CAACkD,WAAY,QAArD,SACI,uBAAKnD,UAAU,MAAf,UACI,sBAAKA,UAAU,QAAf,SACI,eAAC2jC,GAAD,CAAiBM,UAjFf,SAACh4C,EAAkBi6C,EAAev5C,EAAY04C,GAC5D,GAAKa,EAAL,CAKA,IAAIr/B,EAAW,EACX5a,IACA4a,EAAW5a,EAAiB0B,OAGhCo5C,EAAiBb,GAEjB,MAAsD1mC,EAAmBjT,eAAlE/L,EAAP,EAAOA,UAAWD,EAAlB,EAAkBA,YAAaE,EAA/B,EAA+BA,oBACzBmL,EAAW4T,EAAmB5T,SAEhCq7C,EAAoBjB,GAAmBxlD,EAAWD,EAAasmB,EAC/Dq/B,EAAcv4C,MAAOhB,EAAYtE,EADK,OACKmX,QADL,IACKA,OADL,EACKA,EAAoBjT,eAAejM,UADxC,OAEtCkf,QAFsC,IAEtCA,OAFsC,EAEtCA,EAAoBjT,eAAepM,YAEvC,GAAIklD,GAAkC5kD,EAClC,IAAK,IAAIm1B,EAAI,EAAGA,EAAIqxB,EAAkBx8C,OAAQmrB,IAC1CqxB,EAAkBrxB,GAAGjoB,MAAQ04B,GACzB5lC,EACAylD,EAAcv4C,MACds5C,EAAkBrxB,GAAGjoB,MACrB/B,GAKZ,IAAM+vB,EAAOqrB,EAAQd,EAAcv4C,MAAO03C,GAEtC4B,EAAkBx8C,OvF/CW,KuFgD7Bw8C,EAAoBA,EAAkB7J,MAAM,EAAG8J,KAGnDL,EAAcI,GACdH,EAAQnrB,QApCJkrB,EAAc,SAiFTV,GAAcA,EAAW17C,OAAS,GACnC,sBAAKuV,UAAU,QAAf,SACI,eAACwmC,GAAD,CAAcL,WAAYA,EACZxqB,KAAMA,EACpBjvB,gBAAiBw5C,EAAgBA,EAAcx/B,MAAQ,QAGzDy/B,GA3BS,WACnB,IAAM7vB,EAAWrnB,GAAmB2P,aAAavW,GAEjD,OACI,sBAAK2X,UAAW,YAAhB,SACI,sBAAKA,UAAW,MAAhB,SACI,sBAAKA,UAAU,kCAAkCC,MAAO,CAACitB,QAAS,QAAlE,SACI,6BAAI5W,UAqBZ6wB,GAEChB,GAAoC,IAAtBA,EAAW17C,QAC1BwE,GAAmB0F,aAAatM,Q,uBC7FzC,SAAS++C,KACZ,IAAM5nC,EAAqBC,qBAAW5W,IAEtC,OAAK2W,GAKAO,aAA+C,OAAnCP,EAAmBhS,aAChC65C,KAAMC,SAASC,MAMf,iCACOxnC,aAA+C,OAAnCP,EAAmBhS,cAClC,+BACI,gBAAC,KAAD,WACI,eAAC6T,GAAD,IACA,gBAACmmC,GAAA,EAAD,WACI,eAAC,KAAD,CAAOC,KAAMxiD,GAAkBqsC,UAAW1tB,KAC1C,eAAC,KAAD,CAAO6jC,KAAMtiD,GAAWmsC,UAAW1tB,KACnC,eAAC,KAAD,CAAO6jC,KAAMviD,GAAqBosC,UAAW8F,KAC7C,eAAC,KAAD,CAAOqQ,KAAMziD,GAAqBssC,UAAWgM,KAC7C,eAAC,KAAD,CAAOmK,KAAMliD,GAAc+rC,UAAWsV,KACtC,eAAC,KAAD,CAAOa,KAAMpiD,GAAiBisC,UAAW6M,KACzC,eAAC,KAAD,CAAOsJ,KAAMniD,GAAmBgsC,UAAWgN,KAC3C,eAAC,KAAD,CAAOmJ,KAAMriD,GAAcksC,UAAW8R,KACtC,eAAC,KAAD,CAAOsE,OAAK,EAACD,KAAM,IAAKnW,UAAW1tB,gBAzB5C,yBCVf,IAAM+jC,GAAW,IAAIC,KblBY,gBasDlBC,OAxBf,WAOI,OANA9mC,qBAAU,WACNixB,KAAaC,aAXjB,sBAAC,sBAAAvgB,EAAA,+EAEai2B,GAASG,aAFtB,sDAIOn/C,QAAQoZ,IAAI,kCAAZ,MAJP,uDAAD,GAiBI,uBAAK/B,UAAU,MAAf,UACI,eAAC,wBAAD,IACA,eAAC,KAAD,IACA,eAACvR,GAAD,UACI,gBAAC,GAAD,WACI,eAAC8Q,GAAD,IACA,eAAC6nC,GAAD,aC/BLW,GAZS,SAACC,GACnBA,GAAeA,aAAuBC,UACxC,8BAAqBjG,MAAK,YAAkD,IAA/CkG,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCHRO,GAAcC,SAASC,eAAe,QAExCF,IAAeA,GAAYG,gBAC3BC,kBAAQ,eAAC,GAAD,IAASJ,IAEjB5F,iBACI,eAAC,GAAD,IAAS4F,IAMjBR,M","file":"static/js/main.21475c42.chunk.js","sourcesContent":["var map = {\n\t\"./Img-de-1.png\": 225,\n\t\"./Img-de-2.png\": 226,\n\t\"./Img-de-3.png\": 227,\n\t\"./Img-de-4.png\": 228,\n\t\"./Img-de-5.png\": 229,\n\t\"./Img-de-6.png\": 230,\n\t\"./Img-de-7.png\": 231,\n\t\"./Img-en-1.png\": 232,\n\t\"./Img-en-2.png\": 233,\n\t\"./Img-en-3.png\": 234,\n\t\"./Img-en-4.png\": 235,\n\t\"./Img-en-5.png\": 236,\n\t\"./Img-en-6.png\": 237,\n\t\"./Img-en-7.png\": 238\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 224;","export default __webpack_public_path__ + \"static/media/Img-de-1.fe6e2bdd.png\";","export default __webpack_public_path__ + \"static/media/Img-de-2.21ae70e3.png\";","export default __webpack_public_path__ + \"static/media/Img-de-3.9e1d1685.png\";","export default __webpack_public_path__ + \"static/media/Img-de-4.bd08575b.png\";","export default __webpack_public_path__ + \"static/media/Img-de-5.0ca87bcd.png\";","export default __webpack_public_path__ + \"static/media/Img-de-6.e2bd37af.png\";","export default __webpack_public_path__ + \"static/media/Img-de-7.eba7128a.png\";","export default __webpack_public_path__ + \"static/media/Img-en-1.5e9bd479.png\";","export default __webpack_public_path__ + \"static/media/Img-en-2.fa2f1ec7.png\";","export default __webpack_public_path__ + \"static/media/Img-en-3.ef4052ad.png\";","export default __webpack_public_path__ + \"static/media/Img-en-4.ef10584a.png\";","export default __webpack_public_path__ + \"static/media/Img-en-5.7459e0f8.png\";","export default __webpack_public_path__ + \"static/media/Img-en-6.5767bb06.png\";","export default __webpack_public_path__ + \"static/media/Img-en-7.f0e051bb.png\";","import NameType from '../types/nutrientdata/NameType'\r\nimport Source from '../types/nutrientdata/Source'\r\nimport FoodItem from '../types/nutrientdata/FoodItem'\r\nimport DietaryRequirement from '../types/nutrientdata/DietaryRequirement'\r\n\r\nimport nutrientdata from \"../static/data/nutrientdata_foodcompare.json\";\r\nimport FoodDataCorpus from \"../types/nutrientdata/FoodDataCorpus\"\r\nimport FoodClass from \"../types/nutrientdata/FoodClass\";\r\n\r\nexport function loadFoodDataCorpus(): FoodDataCorpus {\r\n\tconst categories = loadCategories()\r\n\tconst conditions = loadConditions()\r\n\tconst portionTypes = loadPortionTypes()\r\n\tconst sources = loadSources()\r\n\tconst foodNames = loadFoodNames()\r\n\tconst foodClasses = loadFoodClasses()\r\n\tconst nutrientData = loadFoodItems()\r\n\tconst dietaryRequirements = loadDietaryRequirements()\r\n\r\n\treturn {\r\n\t\tcategories: categories,\r\n\t\tconditions: conditions,\r\n\t\tportionTypes: portionTypes,\r\n\t\tsources: sources,\r\n\t\tfoodNames: foodNames,\r\n\t\tfoodClasses: foodClasses,\r\n\t\tfoodItems: nutrientData,\r\n\t\tdietaryRequirements: dietaryRequirements\r\n\t}\r\n}\r\n\r\nexport function loadConditions(): Array<NameType> {\r\n\treturn nutrientdata.conditions;\r\n}\r\n\r\nexport function loadPortionTypes(): Array<NameType> {\r\n\treturn nutrientdata.portionTypes;\r\n}\r\n\r\nexport function loadFoodNames(): Array<NameType> {\r\n\treturn nutrientdata.foodNames;\r\n}\r\n\r\nexport function loadSources(): Array<Source> {\r\n\treturn nutrientdata.sources;\r\n}\r\n\r\nexport function loadCategories(): Array<NameType> {\r\n\treturn nutrientdata.categories;\r\n}\r\n\r\nexport function loadFoodClasses(): Array<FoodClass> {\r\n\treturn nutrientdata.foodClasses;\r\n}\r\n\r\nexport function loadFoodItems(): Array<FoodItem> {\r\n\treturn nutrientdata.foodItems;\r\n}\r\n\r\nexport function loadDietaryRequirements(): DietaryRequirement {\r\n\treturn nutrientdata.dietaryRequirements;\r\n}","export const AMOUNT_PORTION = \"amount portion\"\r\nexport const GRAM = \"100 gram\"\r\n\r\nexport const CHART_TYPE_PIE = \"pie chart\"\r\nexport const CHART_TYPE_BAR = \"bar chart\"\r\n\r\nexport const CHART_VITAMINS = \"chart vitamins\"\r\nexport const CHART_MINERALS = \"chart minerals\"\r\n\r\nexport const DATA_ASH = \"d_ash\";\r\nexport const DATA_ENERGY = \"d_energy\";\r\nexport const DATA_WATER = \"d_water\";\r\nexport const DATA_CARBS = \"d_carbs\";\r\nexport const DATA_LIPIDS = \"d_lipids\";\r\nexport const DATA_PROTEINS = \"d_proteins\";\r\n\r\nexport const DATA_MINERAL_CALCIUM = \"d_calcium\";\r\nexport const DATA_MINERAL_IRON = \"d_iron\";\r\nexport const DATA_MINERAL_MAGNESIUM = \"d_magnesium\";\r\nexport const DATA_MINERAL_PHOSPHORUS = \"d_phosphorous\";\r\nexport const DATA_MINERAL_POTASSIUM = \"d_potassium\";\r\nexport const DATA_MINERAL_SODIUM = \"d_sodium\";\r\nexport const DATA_MINERAL_ZINC = \"d_zinc\";\r\nexport const DATA_MINERAL_SELENIUM = \"d_selenium\";\r\nexport const DATA_MINERAL_MANGANESE = \"d_manganese\";\r\nexport const DATA_MINERAL_COPPER = \"d_copper\";\r\n\r\nexport const DATA_VITAMINS_A = \"d_a\";\r\nexport const DATA_VITAMINS_B1 = \"d_b1\";\r\nexport const DATA_VITAMINS_B2 = \"d_b2\";\r\nexport const DATA_VITAMINS_B3 = \"d_b3\";\r\nexport const DATA_VITAMINS_B5 = \"d_b5\";\r\nexport const DATA_VITAMINS_B6 = \"d_b6\";\r\nexport const DATA_VITAMINS_B9 = \"d_b9\";\r\nexport const DATA_VITAMINS_B12 = \"d_b12\";\r\nexport const DATA_VITAMINS_C = \"d_c\";\r\nexport const DATA_VITAMINS_D = \"d_d\";\r\nexport const DATA_VITAMINS_E = \"d_e\";\r\nexport const DATA_VITAMINS_K = \"d_k\";\r\n\r\nexport const DATA_LIPIDS_SATURATED = \"d_saturated\";\r\nexport const DATA_LIPIDS_MONO_UNSATURATED = \"d_mono_unsaturated\";\r\nexport const DATA_LIPIDS_POLY_UNSATURATED = \"d_poly_unsaturate\";\r\nexport const DATA_LIPIDS_TRANSFATTY_ACIDS = \"d_transfatty_acids\";\r\n\r\nexport const DATA_CARBS_DIETARY_FIBERS = \"d_dietary fibers\";\r\nexport const DATA_CARBS_SUGAR = \"d_sugar\";\r\nexport const DATA_CARBS_GLUCOSE = \"d_glucose\";\r\nexport const DATA_CARBS_FRUCTOSE = \"d_fructose\";\r\nexport const DATA_CARBS_GALACTOSE = \"d_galactose\";\r\nexport const DATA_CARBS_SUCROSE = \"d_sucrose\";\r\nexport const DATA_CARBS_LACTOSE = \"d_lactose\";\r\nexport const DATA_CARBS_MALTOSE = \"d_maltose\";\r\nexport const DATA_CARBS_STARCH = \"d_starch\";\r\n\r\nexport const DATA_PROTEIN_TRYPTOPHAN = \"tryptophan\";\r\nexport const DATA_PROTEIN_THREONINE = \"threonine\";\r\nexport const DATA_PROTEIN_ISOLEUCINE = \"isoleucine\";\r\nexport const DATA_PROTEIN_LEUCINE = \"leucine\";\r\nexport const DATA_PROTEIN_LYSINE = \"lysine\";\r\nexport const DATA_PROTEIN_METHIONINE = \"methionine\";\r\nexport const DATA_PROTEIN_CYSTINE = \"cystine\";\r\nexport const DATA_PROTEIN_PHENYLALANINE = \"phenylalanine\";\r\nexport const DATA_PROTEIN_TYROSINE = \"tyrosine\";\r\nexport const DATA_PROTEIN_VALINE = \"valine\";\r\nexport const DATA_PROTEIN_ARGININE = \"arginine\";\r\nexport const DATA_PROTEIN_HISTIDINE = \"histidine\";\r\nexport const DATA_PROTEIN_ALANINE = \"alanine\";\r\nexport const DATA_PROTEIN_ASPARTIC_ACID = \"asparticAcid\";\r\nexport const DATA_PROTEIN_GLUTAMIC_ACID= \"glutamicAcid\";\r\nexport const DATA_PROTEIN_GLYCINE = \"glycine\";\r\nexport const DATA_PROTEIN_PROLINE = \"proline\";\r\nexport const DATA_PROTEIN_SERINE = \"serine\";\r\n\r\nexport const DISPLAYMODE_TABLE = \"dtb\"\r\nexport const DISPLAYMODE_CHART = \"dct\"\r\n\r\nexport const CARBS_DATA_BASE = \"carbs data base chart\";\r\nexport const CARBS_DATA_DETAIL = \"carbs data detail chart\"\r\n\r\nexport const LIPIDS_DATA_BASE = \"lipids data base chart\";\r\nexport const LIPIDS_DATA_OMEGA = \"lipids data omega chart\"\r\n\r\nexport const PATH_DIRECT_COMPARE = \"/directcompare\";\r\nexport const PATH_FOODCOMPARE = \"/foodcompare\"\r\nexport const PATH_FOODDATA_PANEL = \"/datapanel\";\r\nexport const PATH_HOME = \"/home\";\r\nexport const PATH_CONTACT = \"/contact\";\r\nexport const PATH_MOBILE_APP = \"/mobileapp\";\r\nexport const PATH_USERSETTINGS = \"/usersettings\";\r\n\r\n\r\nexport const PATH_RANKING = \"/ranking\";\r\n\r\nexport const PORTION_KEY_INDIVIDUAL = 0\r\nexport const PORTION_KEY_100 = 1\r\n\r\nexport const LANGUAGE_DE = \"de\";\r\nexport const LANGUAGE_EN = \"en\";\r\n\r\nexport const SEX_MALE = \"sex male\"\r\nexport const SEX_FEMALE = \"sex female\"\r\n\r\nexport const SOURCE_SRLEGACY = \"srlegacy\"\r\nexport const SOURCE_FNDDS = \"fndds\"\r\n\r\nexport const TAB_BASE_DATA = \"basedata\"\r\nexport const TAB_ENERGY_DATA = \"energydata\"\r\nexport const TAB_VITAMIN_DATA = \"vitamindata\"\r\nexport const TAB_MINERAL_DATA = \"mineraldata\"\r\nexport const TAB_LIPIDS_DATA = \"lipidsdata\"\r\nexport const TAB_CARBS_DATA = \"carbsdata\"\r\nexport const TAB_PROTEINS_DATA = \"proteinsdata\"\r\nexport const TAB_INFO = \"infodata\"\r\n\r\nexport const QUERYKEY_DATAPANEL_ADD = \"add\"\r\nexport const QUERYKEY_DATAPANEL_ADD_COMPOSITE = \"composite\"\r\nexport const QUERYKEY_DATAPANEL_ITEM = \"item\"\r\nexport const QUERYKEY_DATAPANEL_RANKING = \"ranking\"\r\nexport const QUERYKEY_DATAPANEL_AGGREGATED = \"aggregated\"\r\n\r\nexport const TAB_LIST = [TAB_BASE_DATA, TAB_ENERGY_DATA, TAB_VITAMIN_DATA, TAB_MINERAL_DATA, TAB_LIPIDS_DATA, TAB_CARBS_DATA, TAB_PROTEINS_DATA, TAB_INFO]","import {AMOUNT_PORTION, CARBS_DATA_BASE, CHART_TYPE_PIE, LIPIDS_DATA_BASE, SEX_MALE} from \"./Constants\";\r\nimport {ChartConfigData, DirectCompareChartConfigData} from \"../types/livedata/ChartConfigData\";\r\nimport {WindowDimension} from \"../service/WindowDimension\";\r\n\r\nexport const release = \"1.4.3\"\r\nexport const buildDate = \"2021-10-13\"\r\n\r\nexport const mobileAppPath = \"https://play.google.com/store/apps/details?id=com.parapps.foodcompareapp\"\r\n\r\nexport const maxMessageCharacters = 5000\r\nexport const maxElementsInRankingChart = 50\r\n\r\nexport const minimalOmegaRatio = 0.3\r\nexport const maximalPortionSize = 5000\r\nexport const defaultPanelHeight = '468px'\r\n\r\nexport const smallFormsScreenSize: WindowDimension = {\r\n    width: 1200,\r\n    height: 800\r\n}\r\n\r\nexport const initialUserDataAge = 35\r\nexport const initialUserDataSize = 175\r\nexport const initialUserDataWeight = 75\r\nexport const initialUserDataSex = SEX_MALE\r\nexport const initialUserDataPregnant = false\r\nexport const initialUserDataBreastfeeding = false\r\nexport const initialUserDataPalValue = 1.6\r\nexport const initialUserDataLeisureSports = false\r\n\r\nexport const initialChartConfigData: ChartConfigData = {\r\n    baseChartConfig: {\r\n        chartType: CHART_TYPE_PIE,\r\n        showLegend: true,\r\n        showDetails: false\r\n    },\r\n    vitaminChartConfig: {\r\n        portionType: AMOUNT_PORTION,\r\n        expand100: false\r\n    },\r\n    mineralChartConfig: {\r\n        portionType: AMOUNT_PORTION,\r\n        expand100: false\r\n    },\r\n    lipidsChartConfig: {\r\n        chartType: CHART_TYPE_PIE,\r\n        showLegend: true,\r\n        hideRemainders: false,\r\n        subChart: LIPIDS_DATA_BASE,\r\n        expand100: false\r\n    },\r\n    carbsChartConfig: {\r\n        chartType: CHART_TYPE_PIE,\r\n        showLegend: true,\r\n        subChart: CARBS_DATA_BASE,\r\n        hideRemainders: false,\r\n        expand100: false\r\n    },\r\n    proteinChartConfig: {\r\n        portionType: AMOUNT_PORTION,\r\n        expand100: false\r\n    }\r\n}\r\n\r\nexport const initialDirectCompareConfigData: DirectCompareChartConfigData = {\r\n    baseChartConfig: {\r\n        chartType: CHART_TYPE_PIE,\r\n        showLegend: false,\r\n        showDetails: false\r\n    },\r\n    vitaminChartConfig: {\r\n        portionType: AMOUNT_PORTION,\r\n        expand100: false,\r\n        synchronize: true\r\n    },\r\n    mineralChartConfig: {\r\n        portionType: AMOUNT_PORTION,\r\n        expand100: false,\r\n        synchronize: true\r\n    },\r\n    lipidsChartConfig: {\r\n        chartType: CHART_TYPE_PIE,\r\n        showLegend: false,\r\n        hideRemainders: false,\r\n        expand100: false,\r\n        subChart1: LIPIDS_DATA_BASE,\r\n        subChart2: LIPIDS_DATA_BASE\r\n    },\r\n    carbsChartConfig: {\r\n        chartType: CHART_TYPE_PIE,\r\n        showLegend: false,\r\n        hideRemainders: false,\r\n        expand100: false,\r\n        subChart1: CARBS_DATA_BASE,\r\n        subChart2: CARBS_DATA_BASE\r\n    },\r\n    proteinChartConfig: {\r\n        portionType: AMOUNT_PORTION,\r\n        expand100: false,\r\n        synchronize: true\r\n    }\r\n}","import NameType from \"../types/nutrientdata/NameType\";\r\n\r\nexport default function getName(nameType: NameType, language: string): string {\r\n    if(language === 'de') {\r\n        return nameType.germanName\r\n    } else {\r\n        return nameType.englishName\r\n    }\r\n}\r\n\r\n\r\n","import NameType from \"../../types/nutrientdata/NameType\";\r\nimport ReactSelectOption from \"../../types/ReactSelectOption\";\r\nimport getName from \"../LanguageService\";\r\n\r\nexport function getReactSelectOptionsList(nameTypeList: Array<NameType>, language: string, sort?: boolean): Array<ReactSelectOption> {\r\n    const names: Array<string> = []\r\n\r\n    if(nameTypeList && nameTypeList.length > 0) {\r\n        nameTypeList.forEach(nameType => names.push(getName(nameType, language)))\r\n    }\r\n\r\n    if(sort) {\r\n        names.sort()\r\n    }\r\n\r\n    const reactSelectOptions: Array<ReactSelectOption> = []\r\n    names.forEach((name, index) => {\r\n        reactSelectOptions.push({\r\n            value: index,\r\n            label: name\r\n        })\r\n    })\r\n\r\n    return reactSelectOptions\r\n}\r\n\r\n\r\nexport function getNameFromFoodNameList(foodNameList: Array<NameType>, id: number, language: string): string | null {\r\n    const nameType = foodNameList.find(nameType => nameType.id === id)\r\n\r\n    if(nameType) {\r\n        return getName(nameType, language)\r\n    } else {\r\n        console.error('Could not resolve name for food with name id = ', id)\r\n        return null\r\n    }\r\n}\r\n\r\n/*\r\n * General method to shorten the name of long food name.\r\n * name: The food name, e.g. \"Linen oil (at least 60 % lineul acid)\"\r\n * maxLength: The maximum length of the food name.\r\n */\r\nexport function shortenName(name, maxLength) {\r\n    if(name.length <= maxLength) {\r\n        return name;\r\n    }\r\n\r\n    if(name.includes(\"(\")) {\r\n        const indexOfBrace = name.indexOf(\"(\");\r\n        if(indexOfBrace >= maxLength-6) {\r\n            return name.substring(0, indexOfBrace-1).trim() + \"...\";\r\n        }\r\n    }\r\n\r\n    return name.substring(0, maxLength-3).trim() + \"...\";\r\n}","import {Component, createContext, ReactElement} from \"react\";\r\nimport * as NutrientDataImportService from \"../service/NutrientDataImportService\";\r\nimport FoodDataCorpus from \"../types/nutrientdata/FoodDataCorpus\";\r\nimport SelectedFoodItem from \"../types/livedata/SelectedFoodItem\";\r\nimport {ApplicationData, RankingPanelData} from \"../types/livedata/ApplicationData\";\r\nimport {DISPLAYMODE_CHART, PATH_FOODDATA_PANEL, SOURCE_SRLEGACY, TAB_BASE_DATA} from \"../config/Constants\";\r\nimport {UserData} from \"../types/livedata/UserData\";\r\nimport {\r\n    initialChartConfigData,\r\n    initialDirectCompareConfigData,\r\n    initialUserDataAge,\r\n    initialUserDataBreastfeeding,\r\n    initialUserDataLeisureSports,\r\n    initialUserDataPalValue,\r\n    initialUserDataPregnant,\r\n    initialUserDataSex,\r\n    initialUserDataSize,\r\n    initialUserDataWeight\r\n} from \"../config/ApplicationSetting\";\r\nimport {getNameFromFoodNameList} from \"../service/nutrientdata/NameTypeService\";\r\nimport NameType from \"../types/nutrientdata/NameType\";\r\nimport {ChartConfigData, DirectCompareChartConfigData} from \"../types/livedata/ChartConfigData\";\r\nimport ReactSelectOption from \"../types/ReactSelectOption\";\r\n\r\nexport interface ApplicationDataContext {\r\n    foodDataCorpus: FoodDataCorpus\r\n    applicationData: ApplicationData\r\n    userData: UserData\r\n    debug: boolean\r\n    ready: boolean\r\n    useAsMobile: Boolean | null\r\n}\r\n\r\nexport interface ApplicationContext extends ApplicationDataContext {\r\n    setUserData: (userData: UserData) => void\r\n    setPreferredSource: (string) => void\r\n    setMobileUsage: (boolean) => void\r\n    setFoodSelectorConfig: (selectedCategory: ReactSelectOption | null, sourceSupplement: boolean, sourceCombine: boolean) => void\r\n    setFoodDataPanelData: {\r\n        setSelectedFoodTab: (number) => void\r\n        setSelectedDataPage: (string) => void\r\n        setSelectedDisplayMode: (string) => void\r\n        addItemToFoodDataPanel: (selectedFoodItem: SelectedFoodItem) => void\r\n        removeItemFromFoodDataPanel: (number) => void\r\n        removeAllItemsFromFoodDataPanel: () => void\r\n        updateAllFoodItemNames: (foodNames: Array<NameType>, newLanguage: string) => void\r\n        updateFoodDataPanelChartConfig: (chartConfig: ChartConfigData) => void\r\n    }\r\n    setDirectCompareData: {\r\n        updateDirectCompareChartConfig: (chartConfig: DirectCompareChartConfigData) => void\r\n        setSelectedDirectCompareItems: (selectedFoodItem1: SelectedFoodItem, selectedFoodItem2: SelectedFoodItem) => void\r\n        setSelectedDirectCompareDataPage: (selectedPage: string) => void\r\n    }\r\n    setRankingPanelData: (RankingPanelData) => void\r\n}\r\n\r\nexport const ApplicationDataContextStore = createContext<ApplicationContext | null>(null)\r\n\r\nexport default class ApplicationDataContextProvider extends Component<any, ApplicationDataContext> {\r\n    setSelectedFoodDataPanelTab = (selectedTab: number) => {\r\n        this.setState(prevState => ({\r\n            applicationData: {\r\n                ...prevState.applicationData,\r\n                foodDataPanel: {...prevState.applicationData.foodDataPanel, selectedFoodItemIndex: selectedTab}\r\n            }\r\n        }))\r\n    }\r\n\r\n    setSelectedDisplayMode = (displayMode: string) => {\r\n        this.setState(prevState => ({\r\n            applicationData: {\r\n                ...prevState.applicationData,\r\n                foodDataPanel: {...prevState.applicationData.foodDataPanel, displayMode: displayMode}\r\n            }\r\n        }))\r\n    }\r\n\r\n    setSelectedFoodDataPanelPage = (selectedPage: string) => {\r\n        this.setState(prevState => ({\r\n            applicationData: {\r\n                ...prevState.applicationData,\r\n                foodDataPanel: {...prevState.applicationData.foodDataPanel, selectedDataPage: selectedPage}\r\n            }\r\n        }))\r\n    }\r\n\r\n    addItemToFoodDataPanel = (foodItem: SelectedFoodItem) => {\r\n        const newItems = Object.assign(this.state.applicationData.foodDataPanel.selectedFoodItems)\r\n        newItems.push(foodItem)\r\n        this.setState(prevState => ({\r\n            applicationData: {\r\n                ...prevState.applicationData,\r\n                foodDataPanel: {...prevState.applicationData.foodDataPanel, selectedFoodItems: newItems}\r\n            }\r\n        }))\r\n    }\r\n\r\n    removeItemFromFoodDataPanel = (foodItemId: number) => {\r\n        const newItems = this.state.applicationData.foodDataPanel.selectedFoodItems.filter(\r\n            selectedFoodItem => selectedFoodItem.foodItem.id !== foodItemId\r\n        )\r\n\r\n        let newIndex = 0\r\n        let currentIndex = this.state.applicationData.foodDataPanel.selectedFoodItemIndex\r\n\r\n        if (newItems.length > 0) {\r\n            if (currentIndex < newItems.length) {\r\n                newIndex = currentIndex\r\n            } else {\r\n                newIndex = newItems.length - 1\r\n            }\r\n        }\r\n\r\n        this.setState(prevState => ({\r\n            applicationData: {\r\n                ...prevState.applicationData,\r\n                foodDataPanel: {\r\n                    ...prevState.applicationData.foodDataPanel,\r\n                    selectedFoodItems: newItems,\r\n                    selectedFoodItemIndex: newIndex\r\n                }\r\n            }\r\n        }))\r\n    }\r\n\r\n    removeAllItemsFromFoodDataPanel = () => {\r\n        this.setState(prevState => ({\r\n            applicationData: {\r\n                ...prevState.applicationData,\r\n                foodDataPanel: {\r\n                    ...prevState.applicationData.foodDataPanel,\r\n                    selectedFoodItems: [],\r\n                    selectedFoodItemIndex: 0\r\n                }\r\n            }\r\n        }))\r\n    }\r\n\r\n    updateAllFoodItemNames = (foodNames: Array<NameType>, newLanguage: string) => {\r\n        const selectedFoodItems = this.state.applicationData.foodDataPanel.selectedFoodItems\r\n        const newFoodItems = selectedFoodItems.map(selectedFoodItem => {\r\n            const foodName = selectedFoodItem.foodItem.nameId\r\n                ? getNameFromFoodNameList(foodNames, selectedFoodItem.foodItem.nameId, newLanguage)\r\n                : \"Individual\"\r\n            if (foodName) {\r\n                selectedFoodItem = {...selectedFoodItem, tab: foodName}\r\n            }\r\n            return selectedFoodItem\r\n        })\r\n\r\n        this.setState(prevState => ({\r\n            applicationData: {\r\n                ...prevState.applicationData,\r\n                foodDataPanel: {\r\n                    ...prevState.applicationData.foodDataPanel,\r\n                    selectedFoodItems: newFoodItems,\r\n                }\r\n            }\r\n        }))\r\n    }\r\n\r\n    updateFoodDataPanelChartConfig = (chartConfig: ChartConfigData) => {\r\n        this.setState(prevState => ({\r\n            applicationData: {\r\n                ...prevState.applicationData,\r\n                foodDataPanel: {\r\n                    ...prevState.applicationData.foodDataPanel,\r\n                    chartConfigData: chartConfig\r\n                }\r\n            }\r\n        }))\r\n    }\r\n\r\n\r\n    setSelectedDirectCompareItems = (selectedFoodItem1: SelectedFoodItem, selectedFoodItem2: SelectedFoodItem) => {\r\n        this.setState(prevState => ({\r\n            applicationData: {\r\n                ...prevState.applicationData,\r\n                directCompareDataPanel: {\r\n                    ...prevState.applicationData.directCompareDataPanel,\r\n                    selectedFoodItem1: selectedFoodItem1,\r\n                    selectedFoodItem2: selectedFoodItem2\r\n                }\r\n            }\r\n        }))\r\n    }\r\n\r\n    setSelectedDirectCompareDataPage = (selectedPage: string) => {\r\n        this.setState(prevState => ({\r\n            applicationData: {\r\n                ...prevState.applicationData,\r\n                directCompareDataPanel: {\r\n                    ...prevState.applicationData.directCompareDataPanel,\r\n                    selectedDataPage: selectedPage\r\n                }\r\n            }\r\n        }))\r\n    }\r\n\r\n    updateDirectCompareChartConfig = (chartConfig: DirectCompareChartConfigData) => {\r\n        this.setState(prevState => ({\r\n            applicationData: {\r\n                ...prevState.applicationData,\r\n                directCompareDataPanel: {\r\n                    ...this.state.applicationData.directCompareDataPanel,\r\n                    directCompareConfigChart: chartConfig\r\n                }\r\n            }\r\n        }))\r\n    }\r\n\r\n    setUserData = (userData: UserData) => {\r\n        this.setState(() => ({\r\n            userData: {\r\n                ...userData\r\n            }\r\n        }))\r\n    }\r\n\r\n    setPreferredSource = (source: string) => {\r\n        this.setState(prevState => ({\r\n            applicationData: {\r\n                ...prevState.applicationData, preferredSource: source\r\n            }\r\n        }))\r\n    }\r\n\r\n    setFoodSelectorConfig = (selectedCategory: ReactSelectOption | null, sourceSupplement: boolean, sourceCombine: boolean) => {\r\n        this.setState(prevState => ({\r\n                applicationData: {\r\n                    ...prevState.applicationData, foodSelector: {\r\n                        ...prevState.applicationData.foodSelector,\r\n                        selectedCategory: selectedCategory,\r\n                        sourceSupplement: sourceSupplement,\r\n                        sourceCombine: sourceCombine\r\n                    }\r\n                }\r\n            }\r\n        ))\r\n    }\r\n\r\n    setRankingPanelData = (rankingPanelData: RankingPanelData): void => {\r\n        this.setState(prevState => ({\r\n                applicationData: {\r\n                    ...prevState.applicationData, rankingPanelData: rankingPanelData\r\n                }\r\n            })\r\n        )\r\n    }\r\n\r\n    state: ApplicationDataContext = {\r\n        foodDataCorpus: {\r\n            categories: [],\r\n            conditions: [],\r\n            portionTypes: [],\r\n            sources: [],\r\n            foodNames: [],\r\n            foodClasses: [],\r\n            foodItems: [],\r\n            dietaryRequirements: null,\r\n        },\r\n        applicationData: {\r\n            foodDataPanel: {\r\n                selectedFoodItems: [],\r\n                selectedDataPage: TAB_BASE_DATA,\r\n                displayMode: DISPLAYMODE_CHART,\r\n                selectedFoodItemIndex: 0,\r\n                chartConfigData: initialChartConfigData,\r\n            },\r\n            directCompareDataPanel: {\r\n                selectedFoodItem1: null,\r\n                selectedFoodItem2: null,\r\n                selectedDataPage: TAB_BASE_DATA,\r\n                directCompareConfigChart: initialDirectCompareConfigData\r\n            },\r\n            rankingPanelData: {\r\n                selectedFoodCategory: null,\r\n                selectedGroup: null,\r\n                selectedElement: null,\r\n                use100gram: true,\r\n                showDietaryRequirements: false\r\n            },\r\n            foodSelector: {\r\n                selectedCategory: null,\r\n                sourceSupplement: true,\r\n                sourceCombine: false,\r\n            },\r\n            preferredSource: SOURCE_SRLEGACY,\r\n        },\r\n        userData: {\r\n            age: initialUserDataAge,\r\n            size: initialUserDataSize,\r\n            weight: initialUserDataWeight,\r\n            sex: initialUserDataSex,\r\n            pregnant: initialUserDataPregnant,\r\n            breastFeeding: initialUserDataBreastfeeding,\r\n            palValue: initialUserDataPalValue,\r\n            leisureSports: initialUserDataLeisureSports,\r\n            initialValues: true\r\n        },\r\n        debug: false,\r\n        ready: false,\r\n        useAsMobile: null\r\n    }\r\n\r\n    UNSAFE_componentWillMount() {\r\n        const foodDataCorpus = NutrientDataImportService.loadFoodDataCorpus()\r\n        this.setState({\r\n            foodDataCorpus: foodDataCorpus,\r\n            ready: true\r\n        })\r\n    }\r\n\r\n    render(): ReactElement {\r\n        const value = {\r\n            applicationData: this.state.applicationData,\r\n            foodDataCorpus: this.state.foodDataCorpus,\r\n            userData: this.state.userData,\r\n            debug: this.state.debug,\r\n            ready: this.state.ready,\r\n            useAsMobile: this.state.useAsMobile,\r\n            setUserData: this.setUserData,\r\n            setPreferredSource: this.setPreferredSource,\r\n            setMobileUsage: (usage: boolean) => {\r\n                this.setState({...this.state, useAsMobile: usage})\r\n            },\r\n            setFoodDataPanelData: {\r\n                setSelectedFoodTab: this.setSelectedFoodDataPanelTab,\r\n                setSelectedDataPage: this.setSelectedFoodDataPanelPage,\r\n                setSelectedDisplayMode: this.setSelectedDisplayMode,\r\n                addItemToFoodDataPanel: this.addItemToFoodDataPanel,\r\n                removeItemFromFoodDataPanel: this.removeItemFromFoodDataPanel,\r\n                removeAllItemsFromFoodDataPanel: this.removeAllItemsFromFoodDataPanel,\r\n                updateAllFoodItemNames: this.updateAllFoodItemNames,\r\n                updateFoodDataPanelChartConfig: this.updateFoodDataPanelChartConfig\r\n            },\r\n            setDirectCompareData: {\r\n                updateDirectCompareChartConfig: this.updateDirectCompareChartConfig,\r\n                setSelectedDirectCompareDataPage: this.setSelectedDirectCompareDataPage,\r\n                setSelectedDirectCompareItems: this.setSelectedDirectCompareItems\r\n            },\r\n            setFoodSelectorConfig: this.setFoodSelectorConfig,\r\n            setRankingPanelData: this.setRankingPanelData\r\n        }\r\n\r\n        return (\r\n            <ApplicationDataContextStore.Provider value={value}>\r\n                {this.props.children}\r\n            </ApplicationDataContextStore.Provider>\r\n        )\r\n    }\r\n\r\n}\r\n","import {createContext, useState} from \"react\";\r\nimport {LANGUAGE_DE, LANGUAGE_EN} from \"../config/Constants\";\r\n\r\nexport interface LanguageProviderProps {\r\n    language: string\r\n    userLanguageChange: (selectedLanguage: string) => void\r\n}\r\n\r\nexport const LanguageContext = createContext<LanguageProviderProps>({\r\n    language: 'en',\r\n    userLanguageChange: (selectedLanguage) => {return 'en'}\r\n});\r\n\r\nexport function LanguageProvider({ children }) {\r\n    const userLanguage = navigator.language;\r\n    const preferredLanguage = userLanguage === 'de' || userLanguage === 'de-DE' ? LANGUAGE_DE : LANGUAGE_EN\r\n    const [language, setLanguage] = useState(preferredLanguage);\r\n\r\n    const userLanguageChange = (selectedLanaguage: string): void => {\r\n        const newLanguage = selectedLanaguage ? selectedLanaguage : LANGUAGE_EN\r\n        setLanguage(newLanguage);\r\n    }\r\n\r\n    const provider: LanguageProviderProps = {\r\n        language,\r\n        userLanguageChange\r\n    };\r\n\r\n    return (\r\n        <LanguageContext.Provider value={provider}>\r\n            {children}\r\n        </LanguageContext.Provider>\r\n    );\r\n};\r\n\r\n\r\n\r\n","export const applicationStrings = {\r\n    button_add: {\r\n        de: 'Hinzufgen',\r\n        en: 'Add'\r\n    },\r\n    button_cancel: {\r\n        de: 'Abbrechen',\r\n        en: 'Cancel'\r\n    },\r\n    button_change_to_chart_mode: {\r\n        de: 'Daten als Diagramm anzeigen',\r\n        en: 'Display data as chart'\r\n    },\r\n    button_close: {\r\n        de: 'Schlieen',\r\n        en: 'Close'\r\n    },\r\n    button_getstarted_1: {\r\n        de: 'Verschiedene Lebensmittel analysieren',\r\n        en: 'Analyze different foods'\r\n    },\r\n    button_getstarted_2: {\r\n        de: 'Komplexe Lebensmittel zusammenstellen',\r\n        en: 'Create a composite food list'\r\n    },\r\n    button_getstarted_3: {\r\n        de: 'Zwei Lebensmittel gegenberstellen',\r\n        en: 'Compare two foods with each other'\r\n    },\r\n    button_getstarted_4: {\r\n        de: 'Lebensmittel nach Werten sortieren',\r\n        en: 'Rank foods by a nutrient value'\r\n    },\r\n    button_no: {\r\n        de: 'Nein',\r\n        en: 'No'\r\n    },\r\n    button_select: {\r\n        de: 'Auswhlen',\r\n        en: 'Show'\r\n    },\r\n    button_show: {\r\n        de: 'Anzeigen',\r\n        en: 'Show'\r\n    },\r\n    button_send: {\r\n        de: \"Senden\",\r\n        en: \"Send\"\r\n    },\r\n    button_submit: {\r\n        de: 'bernehmen',\r\n        en: 'Submit'\r\n    },\r\n    button_update: {\r\n        de: \"Aktualisieren\",\r\n        en: \"Update\"\r\n    },\r\n    button_yes: {\r\n        de: 'Ja',\r\n        en: 'Yes'\r\n    },\r\n    checkbox_chartoption_hideRemainders: {\r\n        de: 'Rest ausblenden',\r\n        en: 'Hide remainders'\r\n    },\r\n    checkbox_chartoption_showLegend: {\r\n        de: 'Legende anzeigen',\r\n        en: 'Show legend'\r\n    },\r\n    checkbox_chartoption_showDetails: {\r\n        de: 'Details anzeigen',\r\n        en: 'Show details'\r\n    },\r\n    checkbox_english: {\r\n        de: 'Englisch',\r\n        en: 'English'\r\n    },\r\n    checkbox_english_m: {\r\n        de: 'EN',\r\n        en: 'EN'\r\n    },\r\n    checkbox_expand100g: {\r\n        de: 'Auf 100 % erweitern',\r\n        en: 'Expand to 100 %'\r\n    },\r\n    checkbox_german: {\r\n        de: 'Deutsch',\r\n        en: 'German'\r\n    },\r\n    checkbox_german_m: {\r\n        de: 'DE',\r\n        en: 'DE'\r\n    },\r\n    checkbox_synchronize: {\r\n        de: 'Synchronisieren',\r\n        en: 'Synchronize'\r\n    },\r\n    confirm_close_all_tabs: {\r\n        de: 'Sollen wirklich alle Lebensmittel-Tabs geschlossen werden?',\r\n        en: 'Really close all food tabs?'\r\n    },\r\n    device_detection_hint: {\r\n        de: 'Die Website Food Compare ist nicht fr Mobilgerte und sehr kleine Bildschirmgren geeignet. Stattdessen bieten wir eine App fr Android-Gerte, welche einen Groteil der Funktionalitt von Food Compare umfasst.',\r\n        en: 'This website is not designed for mobile devices and very small screen sizes. Instead, we provide an app for Android devices that comprises most of the functionality provided by the website.',\r\n    },\r\n    device_detection_question: {\r\n        de: 'Mchten Sie die Android App verwenden?',\r\n        en: 'Do you want to use the Android App?',\r\n    },\r\n    direct_compare_text: {\r\n        de: 'Whlen Sie zwei Lebensmittel aus den beiden Auswahlboxen, um diese miteinander zu vergleichen.',\r\n        en: 'Pick two food elements from the two selectors in order to compare them with each other.'\r\n    },\r\n    home_carousel_0: {\r\n        de: 'Vitamine in Lebensmitteln im Vergleich zum Tagesbedarf',\r\n        en: 'Vitamins in food compared to daily requirements'\r\n    },\r\n    home_carousel_1: {\r\n        de: 'Mineralstoffe in Lebensmitteln im Vergleich zum Tagesbedarf',\r\n        en: 'Minerals in food compared to daily requirements'\r\n    },\r\n    home_carousel_2: {\r\n        de: 'Nhrstoffzusammensetzung in einem Lebensmittel',\r\n        en: 'Food composition of nutrients'\r\n    },\r\n    home_carousel_3: {\r\n        de: 'Verteilung der Fettsuren (gesttigt / ungesttigt)',\r\n        en: 'Distribution of fatty acids (saturated / unsaturated)'\r\n    },\r\n    home_carousel_4: {\r\n        de: 'In Nahrungsmitteln enthaltene Aminosuren',\r\n        en: 'Amino acids conainted in foods'\r\n    },\r\n    home_carousel_5: {\r\n        de: 'Gegenberstellung zweier Lebensmittel',\r\n        en: 'Comparing two foods'\r\n    },\r\n    home_carousel_6: {\r\n        de: 'Nach Nhrstoffwert sortierte Lebensmittel',\r\n        en: 'Foods ranked by a specific nutrient value'\r\n    },\r\n    home_text_1: {\r\n        de: 'Food Compare ist ein Webprojekt zur grafischen Darstellung der Zusammensetzung von Lebensmitteln. Whrend klassische Quellen die enthaltenen Inhaltsstoffe meist nur in tabellarischer Form angeben, verwendet Food Compare Grafiken und Diagramme, um den Gehalt an Vitaminen und Mineralstoffen, Kohlenhydraten, Fettsuren und Eiweien (Proteinen) leichter und bersichtlich darzustellen.',\r\n        en: 'Food Compare is a web project to visually display information about food composition. While conventional resources commonly display nutrient data in tables, Food Compare provides charts and graphics to allow users a better understanding of the containing nutrients (carbohydrates, lipids, proteins) as well as vitamins and minerals.'\r\n    },\r\n    home_text_2: {\r\n        de: 'Das Hauptaugenmerk von Food Compare gilt jedoch nicht nur der Veranschaulichung einzelner Nahrungsmittel, sondern der Vergleichbarkeit von Nhrstoffen, Vitaminen und Mineralen in Lebensmittels. Dazu knnen beliebig viele Tabs geffnet und Lebensmittel damit leicht miteinander verglichen werden. So lassen sich bspw. auf einfache Weise der Vitamingehalt von einzelnen Obstsorten vergleichen, oder die Aufteilung von Kohlenhydraten, Fetten und Eiweien zwischen Grundnahrungsmitteln. Dabei erlaubt die Anwendung auch das Zusammenstellen von komplexen Mens, deren Gesamtgehalt an Nhrstoffen, Vitaminen und Mineralstoffen dann berechnet wird.',\r\n        en: 'The primary focus of Food Compare is to visually compare the composition and contents of different foods, though. Food items can be opened in different tabs so that nutrients, vitamins or minerals can be easily compare. As an example, users can compare the containing vitamins between different fruits or the nutrient composition between staple foods. In addition, the application allows to aggregate foods to more complex menus and will then calculate the overall amount of nutrients, vitamins and minerals in that menu.'\r\n    },\r\n    home_text_3: {\r\n        de: 'Um die Nhrstoffdiagramme zweier Lebensmittel auf einen Blick miteinander vergleichen zu knnen, gibt es seit der Version 1.2 nun auch einen zustzlichen Bereich, in denen die Diagramme entsprechend nebeneinander angeordnet sind. Einige Datenseiten wie Vitamine und Mineralstoffe lassen sich dabei auch synchronisieren, so dass eine einheitliche Skalierung der Diagramme stattfindet und nur die Daten angezeigt werden, welche fr beide Lebensmittel vorliegen.',\r\n        en: 'In order to compare nutrient charts of two foods at a glance, an additional page was added in version 1.2 where nutrient charts are placed next to each other. Some data pages like vitamins and minerals can also be synchronized, which means that the charts use a unique scaling and only display data that is available in both food elements.'\r\n    },\r\n    label_amount: {\r\n        de: 'Menge (Gramm)',\r\n        en: 'Amount (gram)'\r\n    },\r\n    label_amount_short: {\r\n        de: 'Gramm',\r\n        en: 'Gram'\r\n    },\r\n    label_category: {\r\n        de: 'Kategorie',\r\n        en: 'Category'\r\n    },\r\n    label_charttype: {\r\n        de: 'Diagrammart',\r\n        en: 'Chart type'\r\n    },\r\n    label_charttype_pie: {\r\n        de: 'Tortendiagramm',\r\n        en: 'Pie chart'\r\n    },\r\n    label_charttype_bar: {\r\n        de: 'Balkendiagramm',\r\n        en: 'Bar chart'\r\n    },\r\n    label_charttype_carbs_base: {\r\n        de: 'Allgemeine Werte',\r\n        en: 'Basic data'\r\n    },\r\n    label_charttype_carbs_detail: {\r\n        de: 'Detailwerte',\r\n        en: 'Detailed data'\r\n    },\r\n    label_charttype_energy: {\r\n        de: 'Grundumsatz und Gesamtumsatz (Energie)',\r\n        en: 'BMR and Energy Expenditure'\r\n    },\r\n    label_charttype_lipids_base: {\r\n        de: 'Allgemeine Werte',\r\n        en: 'Basic data'\r\n    },\r\n    label_charttype_lipids_base_title: {\r\n        de: 'Allgemeine Verteilung der Fettsuren',\r\n        en: 'Basic distributions of fatty acids'\r\n    },\r\n    label_charttype_lipids_omega: {\r\n        de: 'Omega-Werte',\r\n        en: 'Omega data'\r\n    },\r\n    label_charttype_lipids_omega_title: {\r\n        de: 'Allgemeine Verteilung der Omega-3/6-Fettsuren',\r\n        en: 'Basic distributions of Omega 3/6 acids'\r\n    },\r\n    label_charttype_minerals: {\r\n        de: 'Minerale (im Vgl. zum Tagesbedarf)',\r\n        en: 'Minerals (related to daily requirements)'\r\n    },\r\n    label_charttype_proteins: {\r\n        de: 'Proteine (im Vgl. zum Tagesbedarf)',\r\n        en: 'Proteins  (related to daily requirements)'\r\n    },\r\n    label_charttype_vitamins: {\r\n        de: 'Vitamine (im Vgl. zum Tagesbedarf)',\r\n        en: 'Vitamins (related to daily requirements)'\r\n    },\r\n    label_chart_bmr: {\r\n        de: 'Grundumsatz',\r\n        en: 'Basal Metabolic Rate (BMR)'\r\n    },\r\n    label_chart_energyExpenditure: {\r\n        de: 'Gesamtumsatz',\r\n        en: 'Energy Expenditure'\r\n    },\r\n    label_chart_proteins: {\r\n        de: 'Proteine',\r\n        en: 'Proteins'\r\n    },\r\n    label_chart_nutrientComposition: {\r\n        de: 'Nhrstoffzusammensetzung',\r\n        en: 'Nutrient Composition'\r\n    },\r\n    label_chart_totalComposition: {\r\n        de: 'Gesamtzusammensetzung',\r\n        en: 'Total Composition'\r\n    },\r\n    label_datatype: {\r\n        de: 'Datentyp',\r\n        en: 'Data type'\r\n    },\r\n    label_food: {\r\n        de: \"Lebensmittel\",\r\n        en: \"Food\"\r\n    },\r\n    label_foodclass: {\r\n        de: 'Lebensmittel',\r\n        en: 'Food Class'\r\n    },\r\n    label_fooditem: {\r\n        de: 'Typ',\r\n        en: 'Food type'\r\n    },\r\n    label_foodselector: {\r\n        de: 'Lebensmittelauswahl',\r\n        en: 'Food Selector'\r\n    },\r\n    label_foodselector_composite: {\r\n        de: 'Zusammenstellung eines Lebensmittels',\r\n        en: 'Composite food generation'\r\n    },\r\n    label_group: {\r\n        de: 'Gruppe',\r\n        en: 'Group'\r\n    },\r\n    label_getStarted: {\r\n      de: \"Jetzt beginnen...\",\r\n      en: \"Get started...\"\r\n    },\r\n    label_info: {\r\n        de: 'Info',\r\n        en: 'Info'\r\n    },\r\n    label_info_category: {\r\n        de: 'Kategorie',\r\n        en: 'Category'\r\n    },\r\n    label_info_foodClass: {\r\n        de: 'Lebensmittel-Klasse',\r\n        en: 'Food Class'\r\n    },\r\n    label_info_foodId: {\r\n        de: 'Lebensmittel ID',\r\n        en: 'Food Id'\r\n    },\r\n    label_info_foodName: {\r\n        de: 'Lebensmittel',\r\n        en: 'Food'\r\n    },\r\n    label_info_portion: {\r\n        de: 'Portionsdaten',\r\n        en: 'Portion data'\r\n    },\r\n    label_info_portionType: {\r\n        de: 'Portionstyp',\r\n        en: 'Portion type'\r\n    },\r\n    label_info_preparation: {\r\n        de: 'Zubereitungsart',\r\n        en: 'Preparation type'\r\n    },\r\n    label_info_source: {\r\n        de: 'Quelle',\r\n        en: 'Source'\r\n    },\r\n    label_language: {\r\n        de: 'Sprache:',\r\n        en: 'Language:'\r\n    },\r\n    label_mail_name: {\r\n      de: \"Name\",\r\n      en: \"Name\"\r\n    },\r\n    label_mail_address: {\r\n        de: \"Mail-Adresse\",\r\n        en: \"Mail address\"\r\n    },\r\n    label_mail_message: {\r\n        de: \"Ihre Nachricht\",\r\n        en: \"Your message\"\r\n    },\r\n    label_mail_characters_left: {\r\n        de: \"Noch /xx/ Zeichen verbleibend\",\r\n        en: \"/xx/ characters left\"\r\n    },\r\n    label_mail_too_long: {\r\n        de: \"Nachricht ist zu lang\",\r\n        en: \"Message too long\"\r\n    },\r\n    label_mail_error_name: {\r\n        de: \"Geben Sie bitte einen gltigen Namen ein.\",\r\n        en: \"Please enter a valid name.\"\r\n    },\r\n    label_mail_error_mailaddress: {\r\n        de: \"Geben Sie bitte eine gltige Mail-Adresse ein.\",\r\n        en: \"Please enter a valid mail address.\"\r\n    },\r\n    label_mail_error_nocontent: {\r\n        de: \"Geben Sie bitte eine Nachricht ein.\",\r\n        en: \"Please specify a message.\"\r\n    },\r\n    label_mail_error_content_too_long: {\r\n        de: \"Die eingegebene Nachricht ist zu lang.\",\r\n        en: \"The specified message is too long.\"\r\n    },\r\n    label_mail_error_verification: {\r\n        de: \"Bitte verifizieren, dass Sie kein Roboter sind.\",\r\n        en: \"Please verify that you are not a robot.\"\r\n    },\r\n    label_noData: {\r\n        de: 'Keine Daten vorhanden',\r\n        en: 'No data available'\r\n    },\r\n    label_nutrient_alcohol: {\r\n        de: 'Alkohol',\r\n        en: 'Alcohol'\r\n    },\r\n    label_nutrient_ash: {\r\n        de: 'Reststoffe',\r\n        en: 'Ash'\r\n    },\r\n    label_nutrient_carbohydrates: {\r\n        de: 'Kohlenhydrate',\r\n        en: 'Carbohydrates'\r\n    },\r\n    label_nutrient_carbohydrates_short: {\r\n        de: 'Kohlenhyd.',\r\n        en: 'Carbs'\r\n    },\r\n    label_nutrient_carbohydrates_fructose: {\r\n        de: 'Fruktose',\r\n        en: 'Fructose'\r\n    },\r\n    label_nutrient_carbohydrates_galactose: {\r\n        de: 'Galaktose',\r\n        en: 'Galactose'\r\n    },\r\n    label_nutrient_carbohydrates_glucose: {\r\n        de: 'Glukose (Traubenzucker)',\r\n        en: 'Glucose'\r\n    },\r\n    label_nutrient_carbohydrates_lactose: {\r\n        de: 'Laktose',\r\n        en: 'Lactose'\r\n    },\r\n    label_nutrient_carbohydrates_maltose: {\r\n        de: 'Maltose',\r\n        en: 'Maltose'\r\n    },\r\n    label_nutrient_carbohydrates_starch: {\r\n        de: 'Strke',\r\n        en: 'Starch'\r\n    },\r\n    label_nutrient_carbohydrates_sucrose: {\r\n        de: 'Sukrose',\r\n        en: 'Sucrose'\r\n    },\r\n    label_nutrient_dietaryFibers: {\r\n        de: 'Ballaststoffe',\r\n        en: 'Dietary fibers'\r\n    },\r\n    label_nutrient_dietaryFibers_short: {\r\n        de: 'Ballastst.',\r\n        en: 'Dietary fib.'\r\n    },\r\n    label_nutrient_energy: {\r\n        de: 'Energie',\r\n        en: 'Energy'\r\n    },\r\n    label_nutrient_lipids: {\r\n        de: 'Fett',\r\n        en: 'Fats'\r\n    },\r\n    label_nutrient_lipids_long: {\r\n        de: 'Fettsuren',\r\n        en: 'Fatty acids'\r\n    },\r\n    label_nutrient_lipids_saturated: {\r\n        de: 'Gesttigte Fettsuren',\r\n        en: 'Saturated fatty acids'\r\n    },\r\n    label_nutrient_lipids_saturated_short: {\r\n        de: 'Gesttigt',\r\n        en: 'Saturated'\r\n    },\r\n    label_nutrient_lipids_unsaturated: {\r\n        de: 'Ungesttigte Fettsuren',\r\n        en: 'Unsaturated fatty acids'\r\n    },\r\n    label_nutrient_lipids_unsaturated_mono: {\r\n        de: 'Einfach ungesttigte Fettsuren',\r\n        en: 'Mono-unsaturated fatty acids'\r\n    },\r\n    label_nutrient_lipids_unsaturated_mono_short: {\r\n        de: 'Einfach ungesttigt',\r\n        en: 'Mono-unsaturated'\r\n    },\r\n    label_nutrient_lipids_unsaturated_poly: {\r\n        de: 'Mehrfach ungesttigte Fettsuren',\r\n        en: 'Poly-unsaturated fatty acids'\r\n    },\r\n    label_nutrient_lipids_unsaturated_poly_short: {\r\n        de: 'Mehrfach unges.',\r\n        en: 'Poly-unsaturated'\r\n    },\r\n    label_nutrient_lipids_transfattyAcids: {\r\n        de: 'Transfettsuren',\r\n        en: 'Transfatty acids'\r\n    },\r\n    label_nutrient_lipids_omega3: {\r\n        de: 'Omega-3-Fettsuren',\r\n        en: 'Omega-3 fatty acids'\r\n    },\r\n    label_nutrient_lipids_omega6: {\r\n        de: 'Omega-6-Fettsuren',\r\n        en: 'Omega-6 fatty acids'\r\n    },\r\n    label_nutrient_lipids_cholesterol: {\r\n        de: 'Cholesterin',\r\n        en: 'Cholesterol'\r\n    },\r\n    label_nutrient_min: {\r\n        de: 'Mineralstoffe',\r\n        en: 'Minerals'\r\n    },\r\n    label_nutrient_min_calcium: {\r\n        de: 'Kalzium',\r\n        en: 'Calcium'\r\n    },\r\n    label_nutrient_min_copper: {\r\n        de: 'Kupfer',\r\n        en: 'Copper'\r\n    },\r\n    label_nutrient_min_iron: {\r\n        de: 'Eisen',\r\n        en: 'Iron'\r\n    },\r\n    label_nutrient_min_magnesium: {\r\n        de: 'Magnesium',\r\n        en: 'Magnesium'\r\n    },\r\n    label_nutrient_min_manganese: {\r\n        de: 'Mangan',\r\n        en: 'Manganese'\r\n    },\r\n    label_nutrient_min_phosphorus: {\r\n        de: 'Phosphor',\r\n        en: 'Phosphorus'\r\n    },\r\n    label_nutrient_min_potassimum: {\r\n        de: 'Kalium',\r\n        en: 'Potassimum'\r\n    },\r\n    label_nutrient_min_selenium: {\r\n        de: 'Selen',\r\n        en: 'Selenium'\r\n    },\r\n    label_nutrient_min_sodium: {\r\n        de: 'Natrium',\r\n        en: 'Sodium'\r\n    },\r\n    label_nutrient_min_zinc: {\r\n        de: 'Zink',\r\n        en: 'Zinc'\r\n    },\r\n    label_nutrient_omega3: {\r\n        de: 'Omega-3-Fettsuren',\r\n        en: 'Omega-3 Fatty acids'\r\n    },\r\n    label_nutrient_omega6: {\r\n        de: 'Omega-6-Fettsuren',\r\n        en: 'Omega-6 Fatty acids'\r\n    },\r\n    label_nutrient_proteins: {\r\n        de: 'Eiwei',\r\n        en: 'Proteins'\r\n    },\r\n    label_nutrient_proteins_alanine: {\r\n        de: 'Alanin',\r\n        en: 'Alanine'\r\n    },\r\n    label_nutrient_proteins_arginine: {\r\n        de: 'Arginin',\r\n        en: 'Arginine'\r\n    },\r\n    label_nutrient_proteins_asparticAcid: {\r\n        de: 'Asparaginsure',\r\n        en: 'Aspartic acid'\r\n    },\r\n    label_nutrient_proteins_cystine: {\r\n        de: 'Cystein',\r\n        en: 'Cysteine'\r\n    },\r\n    label_nutrient_proteins_glysine: {\r\n        de: 'Glysin',\r\n        en: 'Glysine'\r\n    },\r\n    label_nutrient_proteins_glutamicAcid: {\r\n        de: 'Glutamin',\r\n        en: 'Glutamic acid'\r\n    },\r\n    label_nutrient_proteins_histidine: {\r\n        de: 'Histidin',\r\n        en: 'Histidine'\r\n    },\r\n    label_nutrient_proteins_isoleucine: {\r\n        de: 'Isoleucine',\r\n        en: 'Isoleucine'\r\n    },\r\n    label_nutrient_proteins_leucine: {\r\n        de: 'Leucin',\r\n        en: 'Leucine'\r\n    },\r\n    label_nutrient_proteins_lysine: {\r\n        de: 'Lysin',\r\n        en: 'Lysine'\r\n    },\r\n    label_nutrient_proteins_methionine: {\r\n        de: 'Methionin',\r\n        en: 'Methionine'\r\n    },\r\n    label_nutrient_proteins_phenylalanine: {\r\n        de: 'Phenylalanin',\r\n        en: 'Phenylalanine'\r\n    },\r\n    label_nutrient_proteins_proline: {\r\n        de: 'Prolin',\r\n        en: 'Proline'\r\n    },\r\n    label_nutrient_proteins_serine: {\r\n        de: 'Serin',\r\n        en: 'Serine'\r\n    },\r\n    label_nutrient_proteins_threonine: {\r\n        de: 'Threonin',\r\n        en: 'Threonine'\r\n    },\r\n    label_nutrient_proteins_tryptophan: {\r\n        de: 'Tryptophan',\r\n        en: 'Tryptophan'\r\n    },\r\n    label_nutrient_proteins_tyrosine: {\r\n        de: 'Tyrosin',\r\n        en: 'Tyrosine'\r\n    },\r\n    label_nutrient_proteins_valine: {\r\n        de: 'Valin',\r\n        en: 'Valine'\r\n    },\r\n    label_nutrient_remainder: {\r\n        de: 'Rest',\r\n        en: 'Remainder'\r\n    },\r\n    label_nutrient_sugar: {\r\n        de: 'Zucker',\r\n        en: 'Sugar'\r\n    },\r\n    label_nutrient_vit: {\r\n        de: 'Vitamine',\r\n        en: 'Vitamins'\r\n    },\r\n    label_nutrient_vit_a: {\r\n        de: 'Vitamin A (Retinol, Retinal, ...)',\r\n        en: 'Vitamin A (Retinol, Retinal, ...)'\r\n    },\r\n    label_nutrient_vit_b1: {\r\n        de: 'Vitamin B1 (Thiamine)',\r\n        en: 'Vitamin B1 (Thiamine)'\r\n    },\r\n    label_nutrient_vit_b2: {\r\n        de: 'Vitamin B2 (Riboflavin)',\r\n        en: 'Vitamin B2 (Riboflavin)'\r\n    },\r\n    label_nutrient_vit_b3: {\r\n        de: 'Vitamin B3 (Niacin)',\r\n        en: 'Vitamin B3 (Niacin)'\r\n    },\r\n    label_nutrient_vit_b5: {\r\n        de: 'Vitamin B5 (Pantothensure)',\r\n        en: 'Vitamin B5 (Pantothenic acid)'\r\n    },\r\n    label_nutrient_vit_b6: {\r\n        de: 'Vitamin B6',\r\n        en: 'Vitamin B6'\r\n    },\r\n    label_nutrient_vit_b9: {\r\n        de: 'Vitamin B9 (Folsure)',\r\n        en: 'Vitamin B9 (Folate)'\r\n    },\r\n    label_nutrient_vit_b12: {\r\n        de: 'Vitamin B12',\r\n        en: 'Vitamin B12'\r\n    },\r\n    label_nutrient_vit_c: {\r\n        de: 'Vitamin C',\r\n        en: 'Vitamin C'\r\n    },\r\n    label_nutrient_vit_d: {\r\n        de: 'Vitamin D',\r\n        en: 'Vitamin D'\r\n    },\r\n    label_nutrient_vit_e: {\r\n        de: 'Vitamin E',\r\n        en: 'Vitamin E'\r\n    },\r\n    label_nutrient_vit_k: {\r\n        de: 'Vitamin K',\r\n        en: 'Vitamin K'\r\n    },\r\n    label_nutrient_vit_scientific_b1: {\r\n        de: 'Thiamine',\r\n        en: 'Thiamine'\r\n    },\r\n    label_nutrient_vit_scientific_b2: {\r\n        de: 'Riboflavin',\r\n        en: 'Riboflavin'\r\n    },\r\n    label_nutrient_vit_scientific_b3: {\r\n        de: 'Niacin',\r\n        en: 'Niacin'\r\n    },\r\n    label_nutrient_vit_scientific_b5: {\r\n        de: 'Pantothensure',\r\n        en: 'Pantothenic acid'\r\n    },\r\n    label_nutrient_vit_scientific_b9: {\r\n        de: 'Folsure',\r\n        en: 'Folate'\r\n    },\r\n    label_nutrient_vit_scientific_b12: {\r\n        de: 'Cobalamin',\r\n        en: 'Cobalamin '\r\n    },\r\n    label_nutrient_vit_scientific_c: {\r\n        de: 'Ascorbinsure',\r\n        en: 'Ascorbic acid'\r\n    },\r\n    label_nutrient_vit_scientific_d: {\r\n        de: 'Vitamin D',\r\n        en: 'Vitamin D'\r\n    },\r\n    label_nutrient_vit_scientific_e: {\r\n        de: 'Tocopherol',\r\n        en: 'Tocopherol'\r\n    },\r\n    label_nutrient_vit_scientific_k: {\r\n        de: 'Vitamin K',\r\n        en: 'Vitamin K'\r\n    },\r\n    label_nutrient_water: {\r\n        de: 'Wasser',\r\n        en: 'Water'\r\n    },\r\n    label_overview: {\r\n        de: 'bersicht',\r\n        en: 'Overview'\r\n    },\r\n    label_portion: {\r\n        de: 'Portion',\r\n        en: 'Portion'\r\n    },\r\n    label_prefix_hereof: {\r\n        de: 'davon',\r\n        en: 'hereof'\r\n    },\r\n    label_reference: {\r\n        de: 'Bezug',\r\n        en: 'Reference'\r\n    },\r\n    label_preferred_source: {\r\n        de: 'Bevorzugte Datenquelle',\r\n        en: 'Preferred data source'\r\n    },\r\n    label_ranking_dietaryRequirements: {\r\n        de: 'Zeige Tagesbedarf',\r\n        en: 'Show dietary requirements'\r\n    },\r\n    label_source: {\r\n        de: 'Datenquelle',\r\n        en: 'Data source'\r\n    },\r\n    label_source_supplement: {\r\n        de: \"Unvollstndige Daten ergnzen\",\r\n        en: \"Supplement incomplete data\"\r\n    },\r\n    label_source_supplement_tooltip: {\r\n        de: \"Ergnzt fehlende Daten aus einer anderen Quelle, sofern diese die entsprechenden Daten enthlt\",\r\n        en: \"Supplements missing data from another source in case that source contains the relevant data\"\r\n    },\r\n    label_source_combine: {\r\n        de: \"Datenquellen kombinieren\",\r\n        en: \"Combine data sources\"\r\n    },\r\n    label_source_combine_tooltip: {\r\n        de: \"Bildet den Daten-Mittelwert aus allen Datenquellen zu dem Lebensmittel\",\r\n        en: \"Create the average data out of all available data sources to this food\"\r\n    },\r\n    label_unknown: {\r\n        de: 'Unbekannt',\r\n        en: 'Unknown'\r\n    },\r\n    label_usda_reference: {\r\n        de: 'Daten auf Food Data Central ansehen',\r\n        en: 'See the nutrient data at Food Data Central'\r\n    },\r\n    label_userSettings_age: {\r\n        de: 'Alter',\r\n        en: 'Age'\r\n    },\r\n    label_userSettings_breastfeeding: {\r\n        de: 'stillend',\r\n        en: 'breast-feeding'\r\n    },\r\n    label_userSettings_leisureSports: {\r\n        de: 'Freizeitsport',\r\n        en: 'Leisure sports'\r\n    },\r\n    label_userSettings_leisureSports_tooltip: {\r\n        de: 'Angabe, ob Sie an dem betreffenden Tag zustzlich zu Ihrer Ttigkeit nennenswert Sport ausgebt haben, z.B. 30-45 min joggen oder 45-60 min Rad fahren (erhht PAL-Wert um 0.3)',\r\n        en: 'Specifies whether you did some notable (leisure) sports or activity that day, like 30-45 minutes jogging or 45-60 minutes biking (increases PAL-value by 0.3)'\r\n    },\r\n    label_userSettings_palValue: {\r\n        de: 'PAL-Value',\r\n        en: 'Pal Value'\r\n    },\r\n    label_userSettings_pregnant: {\r\n        de: 'schwanger',\r\n        en: 'pregnant'\r\n    },\r\n    label_userSettings_sex: {\r\n        de: 'Geschlecht:',\r\n        en: 'Sex:'\r\n    },\r\n    label_userSettings_sex_male: {\r\n        de: 'mnnlich',\r\n        en: 'male'\r\n    },\r\n    label_userSettings_sex_female: {\r\n        de: 'weiblich',\r\n        en: 'female'\r\n    },\r\n    label_userSettings_size: {\r\n        de: 'Krpergre',\r\n        en: 'Size'\r\n    },\r\n    label_userSettings_weight: {\r\n        de: 'Gewicht',\r\n        en: 'Weight'\r\n    },\r\n    label_value: {\r\n        de: 'Wert',\r\n        en: 'Value'\r\n    },\r\n    menu_food_data_panel: {\r\n        de: 'Lebensmittel analysieren',\r\n        en: 'Food analyzer'\r\n    },\r\n    menu_food_data_panel_m: {\r\n        de: 'Analysieren',\r\n        en: 'Analyze'\r\n    },\r\n    menu_direct_compare: {\r\n        de: 'Direktvergleich',\r\n        en: 'Direct comparison'\r\n    },\r\n    menu_direct_compare_m: {\r\n        de: 'Vergleichen',\r\n        en: 'Compare'\r\n    },\r\n    menu_home: {\r\n        de: 'Home',\r\n        en: 'Home'\r\n    },\r\n    menu_mobile_app: {\r\n        de: 'Mobile App',\r\n        en: 'Mobile App'\r\n    },\r\n    menu_ranking: {\r\n        de: 'Ranking',\r\n        en: 'Food ranking'\r\n    },\r\n    menu_settings: {\r\n        de: 'User Einstellungen',\r\n        en: 'User settings'\r\n    },\r\n    menu_settings_m: {\r\n        de: 'Optionen',\r\n        en: 'Settings'\r\n    },\r\n    menu_contact: {\r\n        de: 'Kontakt',\r\n        en: 'Contact'\r\n    },\r\n    menu_contact_sources: {\r\n        de: 'Quellen',\r\n        en: 'Sources'\r\n    },\r\n    menu_contact_versions: {\r\n        de: 'Versionen',\r\n        en: 'Versions'\r\n    },\r\n    menu_contact_impressum: {\r\n        de: 'Impressum',\r\n        en: 'Impressum'\r\n    },\r\n    message_email_success: {\r\n        de: 'Ihre Nachricht wurde versendet.',\r\n        en: 'Your message has been sent.'\r\n    },\r\n    message_email_error: {\r\n        de: 'Beim Versenden der Nachricht trat ein Fehler auf.',\r\n        en: 'Error while trying to send message.'\r\n    },\r\n    message_error_existing_element: {\r\n        de: 'Das ausgewhlte Element befindet sich bereits im Datenbereich. Ein Lebensmittel darf nur einmal hinzugefgt werden.',\r\n        en: 'The selected food item already exists in your list. A food item can be added only once.'\r\n    },\r\n    message_error_incomplete_form: {\r\n        de: 'Das Formular ist unvollstndig ausgefllt.',\r\n        en: 'The form is incomplete.'\r\n    },\r\n    message_error_invalid_portion: {\r\n        de: 'Geben Sie bitte eine Portion zwischen 1 und 5000 Gramm an.',\r\n        en: 'Please specify a portion amount between 1 and 5000 gram.'\r\n    },\r\n    message_userdata_success: {\r\n        de: 'nderungen wurden gespeichert.',\r\n        en: 'Saved changes.'\r\n    },\r\n    message_userdata_error_title: {\r\n        de: 'Fehlerhafte Eingabe',\r\n        en: 'Invalid input'\r\n    },\r\n    message_userdata_error_age: {\r\n        de: 'Geben Sie bitte ein Alter zwischen 15 und 100 Jahren ein.',\r\n        en: 'Please enter an age between 15 and 100 years.'\r\n    },\r\n    message_userdata_error_size: {\r\n        de: 'Geben Sie bitte eine Krpergre zwischen 80 und 225 cm ein.',\r\n        en: 'Please enter a body height between 80 and 225 cm.'\r\n    },\r\n    message_userdata_error_weight: {\r\n        de: 'Geben Sie bitte ein Gewicht zwischen 30 und 250 kg ein.',\r\n        en: 'Please enter a body weight between 30 and 250 kg.'\r\n    },\r\n    palcat_name_1: {\r\n        de: 'Extrem niedrige Aktivitt',\r\n        en: 'Extremely light activity.'\r\n    },\r\n    palcat_desc_1: {\r\n        de: 'Bspw. ans Bett gebundene Menschen.',\r\n        en: 'Such as bed-ridden people.'\r\n    },\r\n    palcat_name_2: {\r\n        de: 'Sehr nierdige Aktivitt',\r\n        en: 'Very light activity'\r\n    },\r\n    palcat_desc_2: {\r\n        de: 'Bspw. sehr einfache Broarbeit in permanent sitzender Haltung, Reisende in einem Flugzeug oder Zug (sitzend).',\r\n        en: 'Such as very light office work (permanently seated), passengers sitting in a train or airplane.'\r\n    },\r\n    palcat_name_3: {\r\n        de: 'Niedrige Aktivitt',\r\n        en: 'Light activity'\r\n    },\r\n    palcat_desc_3: {\r\n        de: 'berwiegend sitzende Ttigkeit, mit Phasen im stehenden Zustand (z.B. Berufsfahrer, rzte, Lehrer, Schler) oder dem Ausfhren zustzlicher leichter Ttigkeiten (z.B. einfache Haushaltsttigkeiten).',\r\n        en: 'Mostly seated activity, with phases of standing activity (e.g., drivers, doctors, students, teachers...) or additional tasks like simple household chores.'\r\n    },\r\n    palcat_name_4: {\r\n        de: 'Mige Aktivitt',\r\n        en: 'Mediocre Activity'\r\n    },\r\n    palcat_desc_4: {\r\n        de: 'berwiegende Stehende Ttigkeit (z.B. Handwerker, Verkufer, Kellner, Krankenschwester).',\r\n        en: 'Mostly standing activity (e.g. shop assistants, waiters, craftsmen, nurses).'\r\n    },\r\n    palcat_name_5: {\r\n        de: 'Hohe Aktivitt',\r\n        en: 'High activity'\r\n    },\r\n    palcat_desc_5: {\r\n        de: 'Krperlich schwere Arbeit, z.B. Bauarbeiter, Mbelpacker, Sportlehrer.',\r\n        en: 'Hard work, such as construction workers, movers, gym teachers etc.'\r\n    },\r\n    palcat_name_6: {\r\n        de: 'Sehr hohe Aktivitt',\r\n        en: 'Very high activity'\r\n    },\r\n    palcat_desc_6: {\r\n        de: 'Krperlich sehr schwere Arbeit, z.B. Bauarbeiter, Mbelpacker, Fitnesstrainer, Bergarbeiter.',\r\n        en: 'Very hard work, such as construction workers, movers, fitness trainers, miners etc.'\r\n    },\r\n    palcat_name_7: {\r\n        de: 'Extrem hohe Aktivitt',\r\n        en: 'Extremely high activity'\r\n    },\r\n    palcat_desc_7: {\r\n        de: 'Bspw. (Hoch-) Leistungssportler.',\r\n        en: 'Such as professional athletes.'\r\n    },\r\n    portion_100g: {\r\n        de: '100 Gramm',\r\n        en: '100 Gram'\r\n    },\r\n    portion_individual: {\r\n        de: 'Individuell',\r\n        en: 'Individual'\r\n    },\r\n    text_contact_disclaimer1: {\r\n        de: 'Alle Rechte vorbehalten.',\r\n        en: 'All rights reserved.'\r\n    },\r\n    text_contact_disclaimer2: {\r\n        de: 'Food Compare basiert auf freien Datenquellen, die im Quellen-Tab nher beschrieben sind. Die Lebensmitteldaten stammen von Food Data Central, einem Teilprojekt des United States Department of Agriculture. Im Info-Tab des Daten-Panels existiert fr jedes Lebensmittel ein Link zu den abgegriffenen Daten.',\r\n        en: 'Food Compare is based upon free data sources specified in the sources tab. Food data used in the project originates from Food Data Central as part of the United States Department of Agriculture. There is a direct link to the original source data of each food element in the info data page of the food data panel.'\r\n    },\r\n    text_contact_disclaimer3: {\r\n        de: 'Die fr die Berechnung des Tagesbedarfs verwendeten Einstellungen entstammen der Deutschen Gesellschaft fr Ernhrung (DGE).',\r\n        en: 'For the computation of daily dietary requirements, data from the German Nutrition Society (DGE) is used.'\r\n    },\r\n    text_contact_form: {\r\n        de: 'Bitte benutzen Sie das Kontaktformular, wenn Sie Frage oder Feedback zu Food Compare haben.',\r\n        en: 'Please use the contact form below if you have questions of feedback about Food Compare.'\r\n    },\r\n    text_contact_source1: {\r\n        de: 'Quellen:',\r\n        en: 'Sources:',\r\n    },\r\n    text_contact_source2: {\r\n        de: 'Nhrwert-Daten:',\r\n        en: 'Nutrient Data:',\r\n    },\r\n    text_contact_source3: {\r\n        de: 'Daten fr Tagesbedarf von Vitaminen/Mineralstoffen:',\r\n        en: 'Source for Dietary Requirement of Minerals and Vitamins',\r\n    },\r\n    text_contact_source4: {\r\n        de: 'Berechnung von Grundumsatz und PAL:',\r\n        en: 'Calculation of BMR and PAL:',\r\n    },\r\n    text_empty_fooddatapanel: {\r\n        de: 'Klicken Sie links auf den Plus-Button, um Lebensmittel zum Analysebereich hinzufgen. Es knnen beliebig viele Lebensmittel hinzugefgt werden. Klicken Sie den Stapel-Button, um ein komplexes Lebensmittel bzw. ein Men zusammenzustellen, dessen Gesamtwerte dann agezeigt werden.',\r\n        en: 'Click the plus button on the left to add food elements to the analysis panel. You can add as many food elements as you like. Click the stack button if you want to create complex meals to show their total nutrient data.'\r\n    },\r\n    text_foodcompareapp_1: {\r\n        de: 'Fr Androidgerte bieten wir eine Mobilversion von Food Compare an, welche weitgehend dieselben Funktionen wie die Website beinhaltet. Die App ist fr Gerte ab Android 5.0 verfgbar.',\r\n        en: 'For Android devices we also provide a mobile app containing the same functionality as the website. The app is available for gadgets running Android 5.0 and higher.',\r\n    },\r\n    text_foodcompareapp_2: {\r\n        de: 'App im Playstore erhalten',\r\n        en: 'Get the App from the Playstore'\r\n    },\r\n    text_ranking: {\r\n        de: \"Sie knnen in diesem Bereich Nahrungsmittel nach einem bestimmten Nhrstoff, Vitamin oder Mineralstoff sortiert anzeigen lassen. Whlen Sie dazu eine Kategorie aus, eine Gruppe und eine bestimmte Nhrstoffangabe (Wert).\",\r\n        en: \"In this section you may display food items sorted by a specific nutrient, vitamin or mineral. Please select a food category, nutrient group and value to display the corresponding ranking chart.\"\r\n    },\r\n    text_setUserdata_p1: {\r\n        de: 'Es werden aktuell Standardwerte fr einen durchschnittlichen Erwachsenen (mnnlich, 35 Jahre) angezeigt.',\r\n        en: 'You are currently seeing the reference data for an average adult (male, 35 years).'\r\n    },\r\n    text_setUserdata_p2: {\r\n        de: 'Geben Sie, bei Bedarf, in den Einstellungen Ihre eigenen Krperdaten fr ein genaueres Ergebnis ein.',\r\n        en: 'For more accurate data, if necessary, please enter your personal body data in the settings menu.'\r\n    },\r\n    text_setUserdata_p3: {\r\n        de: 'Die Referenzwerte beziehen sich auf die eingestellten Nutzerdaten.',\r\n        en: 'The reference data refer to your entered body data.'\r\n    },\r\n    tooltip_icon_charts: {\r\n        de: 'Diagramm-Modus',\r\n        en: 'Chart mode'\r\n    },\r\n    tooltip_icon_close: {\r\n        de: 'Tab schlieen',\r\n        en: 'Close tab'\r\n    },\r\n    tooltip_icon_newFoodItem: {\r\n        de: 'Lebensmittel hinzufgen',\r\n        en: 'Add food item'\r\n    },\r\n    tooltip_icon_newFoodItemStack: {\r\n        de: 'Kombinierte Liste an Lebensmitteln hinzufgen (aggregierte Daten)',\r\n        en: 'Add composite list of food items (aggregated data)'\r\n    },\r\n    tooltip_icon_removeAll: {\r\n        de: 'Alle Tabs schlieen',\r\n        en: 'Close all data tabs'\r\n    },\r\n    tooltip_icon_table: {\r\n        de: 'Tabellen-Modus',\r\n        en: 'Table mode'\r\n    },\r\n    tooltip_source: {\r\n        de: 'Verwendete Quelle: ',\r\n        en: 'Used source: '\r\n    }\r\n}","import {isMobile} from \"react-device-detect\";\r\nimport React, {useContext} from \"react\";\r\nimport {applicationStrings} from \"../static/labels\";\r\nimport {LanguageContext} from \"../contexts/LangContext\";\r\nimport {ApplicationDataContextStore} from \"../contexts/ApplicationDataContext\";\r\nimport {Button} from \"react-bootstrap\";\r\nimport {mobileAppPath} from \"../config/ApplicationSetting\";\r\n\r\nexport default function MobileDeviceCheck() {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const {language} = useContext(LanguageContext)\r\n\r\n    const setMobileStatus = (status: boolean) => {\r\n        if(status) {\r\n            window.location.href = mobileAppPath\r\n        } else {\r\n            applicationContext?.setMobileUsage(status)\r\n        }\r\n    }\r\n\r\n    const showQuestionModal = () => {\r\n        return <div className={\"mobile-device-message\"}>\r\n            <div style={{margin: \"15px\"}}>\r\n                {applicationStrings.device_detection_hint[language]}\r\n            </div>\r\n            <div className={\"d-flex justify-content-center\"} style={{margin: \"15px\"}}>\r\n                {applicationStrings.device_detection_question[language]}\r\n            </div>\r\n            <div className={\"d-flex justify-content-center\"}>\r\n                <Button style={{minWidth: \"80px\", marginRight: \"40px\"}}\r\n                        onClick={() => setMobileStatus(true)}>\r\n                    {applicationStrings.button_yes[language]}\r\n                </Button>\r\n                <Button\r\n                    style={{minWidth: \"80px\"}}\r\n                    className=\"primary button-l\"\r\n                    onClick={() => setMobileStatus(false)}>\r\n                    {applicationStrings.button_no[language]}\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    return <div>\r\n        {applicationContext?.useAsMobile === null && isMobile &&\r\n        < div>\r\n            {showQuestionModal()}\r\n        </div>\r\n        }\r\n    </div>\r\n\r\n}","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import {useEffect, useState} from \"react\";\r\nimport {smallFormsScreenSize} from \"../config/ApplicationSetting\";\r\nimport {isMobile} from \"react-device-detect\";\r\n\r\nexport interface WindowDimension {\r\n    width: number\r\n    height: number\r\n}\r\n\r\nexport function getCurrentWindowDimension() {\r\n    return {\r\n        width: window.innerWidth,\r\n        height: window.innerHeight\r\n    }\r\n}\r\n\r\nexport function useWindowDimension() {\r\n    const [windowDimension, setWindowDimension] = useState(getCurrentWindowDimension())\r\n\r\n    useEffect(() => {\r\n        window.addEventListener(\"resize\", () => setWindowDimension(getCurrentWindowDimension))\r\n        return () => window.removeEventListener(\"resize\", () => setWindowDimension(getCurrentWindowDimension))\r\n    }, [])\r\n\r\n    return windowDimension\r\n}\r\n\r\n\r\nexport function isSmallScreen(windowDimension: WindowDimension) {\r\n    return windowDimension.width < smallFormsScreenSize.width || windowDimension.height < smallFormsScreenSize.height\r\n}\r\n\r\nexport function isNarrowScreen(windowDimension: WindowDimension) {\r\n    return windowDimension.width < smallFormsScreenSize.width\r\n}\r\n\r\nexport function isMobileDevice() {\r\n    return isMobile\r\n}","import logo from '../static/image/logo.png'\r\nimport text from '../static/image/text.png'\r\nimport {Button} from \"react-bootstrap\";\r\nimport {\r\n    LANGUAGE_DE,\r\n    LANGUAGE_EN,\r\n    PATH_FOODDATA_PANEL,\r\n    PATH_HOME,\r\n    PATH_CONTACT,\r\n    PATH_USERSETTINGS,\r\n    PATH_MOBILE_APP,\r\n    PATH_DIRECT_COMPARE,\r\n    PATH_FOODCOMPARE,\r\n    SOURCE_SRLEGACY,\r\n    PATH_RANKING,\r\n    SOURCE_FNDDS\r\n} from \"../config/Constants\";\r\nimport {useContext} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../contexts/ApplicationDataContext\";\r\nimport {applicationStrings} from \"../static/labels\";\r\nimport {LanguageContext} from \"../contexts/LangContext\";\r\nimport {Link} from 'react-router-dom';\r\nimport {useLocation} from 'react-router-dom';\r\nimport {isMobileDevice} from \"../service/WindowDimension\";\r\n\r\n\r\nexport default function Header() {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const {language, userLanguageChange} = useContext(LanguageContext)\r\n    const location = useLocation();\r\n\r\n    if (applicationContext === null) {\r\n        return <div/>\r\n    }\r\n\r\n    const handleLanguageButtonClick = (event: any): void => {\r\n        userLanguageChange(event.target.value)\r\n        applicationContext.setFoodDataPanelData.updateAllFoodItemNames(applicationContext.foodDataCorpus.foodNames, event.target.value)\r\n    }\r\n\r\n    const handleSourceButtonClick = (event: any): void => {\r\n        applicationContext.setPreferredSource(event.target.value)\r\n    }\r\n\r\n    let activePath = location.pathname && location.pathname !== \"/\" ? location.pathname : PATH_HOME\r\n    if (activePath.endsWith(\"/\") && activePath.length > 1) {\r\n        activePath = activePath.substring(0, activePath.length - 1)\r\n    }\r\n\r\n    if (applicationContext.debug) {\r\n        console.log('Path:', activePath)\r\n    }\r\n\r\n    const renderMenus = () => {\r\n        const menuNameAnalyze = isMobileDevice() ? applicationStrings.menu_food_data_panel_m[language] : applicationStrings.menu_food_data_panel[language]\r\n        const menuNameDirectCompare = isMobileDevice() ? applicationStrings.menu_direct_compare_m[language] : applicationStrings.menu_direct_compare[language]\r\n        const menuNameSettings = isMobileDevice() ? applicationStrings.menu_settings_m[language] : applicationStrings.menu_settings[language]\r\n\r\n        return (\r\n            <div className=\"btn-group flex flex-wrap\" role=\"group\">\r\n                <div className=\"header-menu\">\r\n                    <Link to={PATH_HOME}>\r\n                        <Button className=\"media header-link\"\r\n                                value={PATH_HOME}\r\n                                variant={'link'}\r\n                                active={activePath === PATH_HOME || activePath === PATH_FOODCOMPARE}>\r\n                            {applicationStrings.menu_home[language]}\r\n                        </Button>\r\n                    </Link>\r\n                </div>\r\n                <div className=\"header-menu\">\r\n                    <Link to={PATH_FOODDATA_PANEL}>\r\n                        <Button className=\"media header-link\"\r\n                                value={PATH_FOODDATA_PANEL}\r\n                                variant={'link'}\r\n                                active={activePath === PATH_FOODDATA_PANEL}>\r\n                            {menuNameAnalyze}\r\n                        </Button>\r\n                    </Link>\r\n                </div>\r\n                <div className=\"header-menu\">\r\n                    <Link to={PATH_DIRECT_COMPARE}>\r\n                        <Button className=\"media header-link\"\r\n                                value={PATH_DIRECT_COMPARE}\r\n                                variant={'link'}\r\n                                active={activePath === PATH_DIRECT_COMPARE}>\r\n                            {menuNameDirectCompare}\r\n                        </Button>\r\n                    </Link>\r\n                </div>\r\n                <div className=\"header-menu\">\r\n                    <Link to={PATH_RANKING}>\r\n                        <Button className=\"media header-link\"\r\n                                value={PATH_RANKING}\r\n                                variant={'link'}\r\n                                active={activePath === PATH_RANKING}>\r\n                            {applicationStrings.menu_ranking[language]}\r\n                        </Button>\r\n                    </Link>\r\n                </div>\r\n                {!isMobileDevice() &&\r\n                <div className=\"header-menu\">\r\n                    <Link to={PATH_MOBILE_APP}>\r\n                        <Button className=\"media header-link\"\r\n                                value={PATH_MOBILE_APP}\r\n                                variant={'link'}\r\n                                active={activePath === PATH_MOBILE_APP}>\r\n                            {applicationStrings.menu_mobile_app[language]}\r\n                        </Button>\r\n                    </Link>\r\n                </div>\r\n                }\r\n                <div className=\"header-menu\">\r\n                    <Link to={PATH_USERSETTINGS}>\r\n                        <Button className=\"link header-link\"\r\n                                value={PATH_USERSETTINGS}\r\n                                variant={'link'}\r\n                                active={activePath === PATH_USERSETTINGS}>\r\n                            {menuNameSettings}\r\n                        </Button>\r\n                    </Link>\r\n                </div>\r\n                <div className=\"header-menu\">\r\n                    <Link to={PATH_CONTACT}>\r\n                        <Button className=\"link header-link\"\r\n                                variant={'link'}\r\n                                value={PATH_CONTACT}\r\n                                active={activePath === PATH_CONTACT}>\r\n                            {applicationStrings.menu_contact[language]}\r\n                        </Button>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const language_en = isMobileDevice() ? applicationStrings.checkbox_english_m[language] : applicationStrings.checkbox_english[language]\r\n    const language_de = isMobileDevice() ? applicationStrings.checkbox_german_m[language] : applicationStrings.checkbox_german[language]\r\n\r\n    const renderLanguageButtons = () => {\r\n        return (\r\n            <div className=\"form-language text-right\">\r\n                <form className=\"form-group\">\r\n                    <label className=\"form-elements\">\r\n                        <b>{applicationStrings.label_language[language]}</b>\r\n                    </label>\r\n                    <label className=\"form-elements\">\r\n                        <input className=\"form-radiobutton\"\r\n                               name={\"user language\"}\r\n                               type=\"radio\"\r\n                               value={LANGUAGE_EN}\r\n                               defaultChecked={language === LANGUAGE_EN}\r\n                               onClick={handleLanguageButtonClick}\r\n                        />\r\n                        {language_en}\r\n                    </label>\r\n                    <label className=\"form-elements-largespace\">\r\n                        <input className=\"form-radiobutton\"\r\n                               name={\"user language\"}\r\n                               type=\"radio\"\r\n                               value={LANGUAGE_DE}\r\n                               defaultChecked={language === LANGUAGE_DE}\r\n                               onClick={handleLanguageButtonClick}\r\n                        />\r\n                        {language_de}\r\n                    </label>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    const renderSourceButtons = () => {\r\n        const preferredSource = applicationContext.applicationData.preferredSource\r\n\r\n        return (\r\n            <div className=\"form-language text-right\" style={{paddingLeft: \"25px\"}}>\r\n                <form className=\"form-group\">\r\n                    <label className=\"form-elements\">\r\n                        <b>{applicationStrings.label_preferred_source[language]}</b>\r\n                    </label>\r\n                    <label className=\"form-elements\">\r\n                        <input className=\"form-radiobutton\"\r\n                               type=\"radio\"\r\n                               value={SOURCE_SRLEGACY}\r\n                               checked={preferredSource === SOURCE_SRLEGACY}\r\n                               onChange={handleSourceButtonClick}\r\n                        />\r\n                        SR Legacy\r\n                    </label>\r\n                    <label className=\"form-elements-largespace\">\r\n                        <input className=\"form-radiobutton\"\r\n                               type=\"radio\"\r\n                               value={SOURCE_FNDDS}\r\n                               checked={(preferredSource === SOURCE_FNDDS)}\r\n                               onChange={handleSourceButtonClick}\r\n                        />\r\n                        FNDDS (Survey)\r\n                    </label>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const makeHeaderDesktop = () => {\r\n        return (\r\n            <div className=\"d-flex flex-row header\">\r\n                <div style={{paddingTop: \"8px\", paddingLeft: \"8px\", minWidth: \"90px\", maxWidth: \"90px\"}}>\r\n                    <img src={logo} alt={\"Food Compare Logo\"}/>\r\n                </div>\r\n                <div className={\"d-flex flex-column w-100\"}>\r\n                    <div className=\"d-flex flex-row align-items-center justify-content-between\">\r\n                        <div style={{paddingTop: \"5px\"}}>\r\n                            <img src={text} alt={\"Food Compare Logo Text\"}/>\r\n                        </div>\r\n                        <div className=\"d-flex flex-row justify-content-end\" style={{paddingTop: \"6px\"}}>\r\n                            {renderLanguageButtons()}\r\n                            {renderSourceButtons()}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"d-flex flex-row\" style={{marginTop: \"3px\"}}>\r\n                        <div className=\"col-md-12 text-start\">\r\n                            {renderMenus()}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    const makeHeaderMobile = () => {\r\n        return (\r\n            <div className=\"d-flex flex-column header\" style={{overflowX: \"hidden\"}}>\r\n                <div className={\"d-flex flex-row justify-content-between\"}>\r\n                    <div className={\"d-flex flex-row\"}>\r\n                        <div style={{paddingTop: \"4px\", paddingLeft: \"4px\", minWidth: \"40px\", maxWidth: \"40px\"}}>\r\n                            <img src={logo} width={\"32px\"} alt={\"Food Compare Logo (mobile)\"}/>\r\n                        </div>\r\n                        <div style={{paddingTop: \"8px\"}}>\r\n                            <img src={text} width={\"67px\"} alt={\"Food Compare Logo text (mobile)\"}/>\r\n                        </div>\r\n                    </div>\r\n                    <div>\r\n                        <div className=\"d-flex flex-row align-items-center justify-content-between\">\r\n                            <div className=\"d-flex flex-row justify-content-end\" style={{paddingTop: \"6px\"}}>\r\n                                {renderLanguageButtons()}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"flex row\" style={{marginTop: \"3px\"}}>\r\n                    {renderMenus()}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return isMobileDevice() ? makeHeaderMobile() : makeHeaderDesktop()\r\n}","import {useContext, useState} from \"react\";\r\nimport {LanguageContext} from \"../contexts/LangContext\";\r\nimport {Carousel} from 'react-responsive-carousel';\r\nimport {applicationStrings} from \"../static/labels\";\r\n\r\nimport homeText1 from \"../static/hometext1.json\";\r\nimport homeText2 from \"../static/hometext2.json\";\r\n\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\r\nimport {Link} from 'react-router-dom';\r\nimport {LANGUAGE_DE, PATH_DIRECT_COMPARE, PATH_FOODDATA_PANEL, PATH_RANKING} from \"../config/Constants\";\r\nimport {FaAngleDoubleRight} from \"react-icons/fa\";\r\nimport MobileDeviceCheck from \"./MobileDeviceCheck\";\r\nimport {isMobile} from \"react-device-detect\";\r\nimport {ApplicationDataContextStore} from \"../contexts/ApplicationDataContext\";\r\nimport {isMobileDevice} from \"../service/WindowDimension\";\r\n\r\nconst images = require.context('../static/image/carousel', true);\r\n\r\ninterface HomeTextElement {\r\n    type: string\r\n    de: string\r\n    en: string\r\n}\r\n\r\nexport function Home() {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const [displayedImage, setDisplayedImage] = useState<number>(0)\r\n\r\n    const imageChanged = (image) => {\r\n        setDisplayedImage(image)\r\n    }\r\n\r\n    const renderCarousel = () => {\r\n        let langKey = languageContext.language\r\n\r\n        const pic1 = images(`./Img-${langKey}-1.png`).default;\r\n        const pic2 = images(`./Img-${langKey}-2.png`).default;\r\n        const pic3 = images(`./Img-${langKey}-3.png`).default;\r\n        const pic4 = images(`./Img-${langKey}-4.png`).default;\r\n        const pic5 = images(`./Img-${langKey}-5.png`).default;\r\n        const pic6 = images(`./Img-${langKey}-6.png`).default;\r\n        const pic7 = images(`./Img-${langKey}-7.png`).default;\r\n\r\n        const captionAttribute = `home_carousel_${displayedImage}`;\r\n        const imageCaption = applicationStrings[captionAttribute][languageContext.language];\r\n\r\n        return (\r\n            <div style={{paddingBottom: \"40px\"}}>\r\n                <Carousel showArrows={true}\r\n                          infiniteLoop={true} autoPlay={true}\r\n                          interval={6000}\r\n                          transitionTime={800}\r\n                          selectedItem={displayedImage}\r\n                          showThumbs={false}\r\n                          showStatus={false}\r\n                          onChange={imageChanged}>\r\n                    <div>\r\n                        <img src={pic1} alt={\"Caroussel image 1\"}/>\r\n                    </div>\r\n                    <div>\r\n                        <img src={pic2} alt={\"Caroussel image 2\"}/>\r\n                    </div>\r\n                    <div>\r\n                        <img src={pic3} alt={\"Caroussel image 3\"}/>\r\n                    </div>\r\n                    <div>\r\n                        <img src={pic4} alt={\"Caroussel image 4\"}/>\r\n                    </div>\r\n                    <div>\r\n                        <img src={pic5} alt={\"Caroussel image 5\"}/>\r\n                    </div>\r\n                    <div>\r\n                        <img src={pic6} alt={\"Caroussel image 6\"}/>\r\n                    </div>\r\n                    <div>\r\n                        <img src={pic7} alt={\"Caroussel image 7\"}/>\r\n                    </div>\r\n                </Carousel>\r\n                <div style={{textAlign: \"center\", fontStyle: \"oblique\"}}>\r\n                    {imageCaption}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    const renderStartButtons = () => {\r\n        return (\r\n            <div style={{paddingTop: \"16px\"}}>\r\n                <b>{applicationStrings.label_getStarted[languageContext.language]}</b>\r\n                <div className={\"text-center\"}>\r\n                    <div style={{paddingTop: \"20px\"}}>\r\n                        <Link to={PATH_FOODDATA_PANEL + \"?add=1\"}>\r\n                            <button type=\"button\"\r\n                                    className=\"btn btn-small\"\r\n                                    style={{width: \"75%\", backgroundColor: \"#f9e79f\"}}>\r\n                                {applicationStrings.button_getstarted_1[languageContext.language]}\r\n                            </button>\r\n                        </Link>\r\n                    </div>\r\n                    <div style={{paddingTop: \"20px\"}}>\r\n                        <Link to={PATH_FOODDATA_PANEL + \"?composite=1\"}>\r\n                            <button type=\"button\"\r\n                                    className=\"btn btn-small\"\r\n                                    style={{width: \"75%\", backgroundColor: \"#d5f5e3\"}}>\r\n                                {applicationStrings.button_getstarted_2[languageContext.language]}\r\n                            </button>\r\n                        </Link>\r\n                    </div>\r\n                    <div style={{paddingTop: \"20px\"}}>\r\n                        <Link to={PATH_DIRECT_COMPARE}>\r\n                            <button type=\"button\"\r\n                                    className=\"btn btn-small\"\r\n                                    style={{width: \"75%\", backgroundColor: \"#fadbd8\"}}>\r\n                                {applicationStrings.button_getstarted_3[languageContext.language]}\r\n                            </button>\r\n                        </Link>\r\n                    </div>\r\n                    <div style={{paddingTop: \"20px\"}}>\r\n                        <Link to={PATH_RANKING}>\r\n                            <button type=\"button\"\r\n                                    className=\"btn btn-small\"\r\n                                    style={{width: \"75%\", backgroundColor: \"#aed6f1\"}}>\r\n                                {applicationStrings.button_getstarted_4[languageContext.language]}\r\n                            </button>\r\n                        </Link>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    const renderHomeText = (textElements: HomeTextElement[]): any => {\r\n        return textElements.map((textElement, index) => renderTextElement(textElement, index))\r\n    }\r\n\r\n    const renderTextElement = (textElement: HomeTextElement, index: number): JSX.Element => {\r\n        const text = languageContext.language === LANGUAGE_DE ? textElement.de : textElement.en\r\n\r\n        switch (textElement.type) {\r\n            case \"paragraph\":\r\n                return <p key={`homeitem ${index}`}>{text}</p>\r\n            case \"subheading\":\r\n                return (\r\n                    <div key={`homeitem ${index}`}>\r\n                        <br/>\r\n                        <h3>\r\n                            {text}\r\n                        </h3>\r\n                        <hr/>\r\n                    </div>\r\n                )\r\n            case \"paragraph-before-itemization\":\r\n                return <p key={`homeitem ${index}`}><b>{text}</b></p>\r\n            case \"fancy-item\":\r\n                return (\r\n                    <div key={`homeitem ${index}`}>\r\n                        <span style={{paddingLeft: \"10px\", paddingRight: \"10px\"}}>\r\n                            <FaAngleDoubleRight/>\r\n                        </span>\r\n                        {text}\r\n                    </div>\r\n                )\r\n            default:\r\n                return <p>{text}</p>\r\n        }\r\n    }\r\n\r\n    const colSizeLeft = isMobileDevice() ? \"col-12\" : \"col-5\"\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"media home app\" style={{margin: \"0 auto\"}}>\r\n                <div className={\"container-fluid\"}>\r\n                    <div className=\"row\">\r\n                        <div className={colSizeLeft}>\r\n                            {renderHomeText(homeText1)}\r\n                            <div style={{paddingTop: \"20px\", paddingBottom: \"60px\"}}>\r\n                                {renderStartButtons()}\r\n                            </div>\r\n                        </div>\r\n                        {!isMobileDevice() &&\r\n                        <div className={\"col-7\"} style={{paddingLeft: \"45px\"}}>\r\n                            {renderCarousel()}\r\n                        </div>\r\n                        }\r\n                    </div>\r\n                    <hr/>\r\n                    <div className=\"card-header\"\r\n                         style={{maxWidth: \"1000px\", paddingBottom: \"20px\", marginBottom: \"50px\"}}>\r\n                        {renderHomeText(homeText2)}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}","import ReactSelectOption from \"../../types/ReactSelectOption\";\r\nimport NameType from \"../../types/nutrientdata/NameType\";\r\nimport {getReactSelectOptionsList} from \"./NameTypeService\";\r\n\r\nexport function getCategorySelectList(categories: Array<NameType>, language: string): Array<ReactSelectOption> {\r\n    return getReactSelectOptionsList(categories, language)\r\n}\r\n\r\n","import {ReactSelectFoodClassOption} from \"../../types/ReactSelectOption\";\r\nimport FoodClass from \"../../types/nutrientdata/FoodClass\";\r\nimport getName from \"../LanguageService\";\r\nimport NameType from \"../../types/nutrientdata/NameType\";\r\n\r\nexport function getFoodClassSelectList(foodClasses: Array<FoodClass>, category: number, foodNames: Array<NameType>, language: string): Array<ReactSelectFoodClassOption> {\r\n    const filteredFoodClasses = getFoodClassesOfCategory(foodClasses, category)\r\n\r\n    if(!filteredFoodClasses || filteredFoodClasses.length === 0) {\r\n        return []\r\n    }\r\n\r\n    const reactSelectOptions: Array<ReactSelectFoodClassOption> = []\r\n    filteredFoodClasses.forEach(foodClass => {\r\n        const nameId = foodClass.nameKey\r\n        if(nameId > foodNames.length) {\r\n            console.error(`Illegal food name Id in food class having ID=${foodClass.id}`)\r\n            return\r\n        }\r\n        const nameType = foodNames[nameId-1]\r\n        const foodName = getName(nameType, language)\r\n        reactSelectOptions.push({\r\n            value: foodClass,\r\n            label: foodName\r\n        })\r\n    })\r\n\r\n    reactSelectOptions.sort((obj1, obj2) => obj1.label.localeCompare(obj2.label))\r\n    return reactSelectOptions\r\n}\r\n\r\n\r\nfunction getFoodClassesOfCategory(foodClasses: Array<FoodClass>, category: number): Array<FoodClass> {\r\n    return foodClasses.filter(foodClass => {\r\n        if(category === 0) {\r\n            return foodClass\r\n        } else if(foodClass.category === category) {\r\n            return foodClass\r\n        } else {\r\n            return null\r\n        }\r\n    })\r\n}","import FoodItem from \"../../types/nutrientdata/FoodItem\";\r\nimport NameType from \"../../types/nutrientdata/NameType\";\r\nimport {ReactSelectFoodItemOption} from \"../../types/ReactSelectOption\";\r\nimport getName from \"../LanguageService\";\r\n\r\nexport function getFoodItem(foodItemId: number, foodItems: Array<FoodItem>): FoodItem | null {\r\n    const index = foodItems.findIndex(foodItem => foodItem.id === foodItemId)\r\n    if(index >= 0) {\r\n        return foodItems[index]\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n\r\nexport function getFoodItemsSelectList(foodItems: Array<FoodItem>, foodClass: number, foodNames: Array<NameType>, conditions: Array<NameType>, language: string): Array<ReactSelectFoodItemOption> {\r\n    const filteredFoodItems = getFoodItemsOfFoodclass(foodItems, foodClass)\r\n    const reactSelectOptions: Array<ReactSelectFoodItemOption> = []\r\n\r\n    if(filteredFoodItems && filteredFoodItems.length > 0) {\r\n        filteredFoodItems.forEach(foodItem => {\r\n            const nameId = foodItem.nameId!!\r\n            if(nameId > foodNames.length) {\r\n                console.error(`Illegal food name Id in food item having ID=${foodItem.id}`)\r\n                return\r\n            }\r\n            const nameType = foodNames[nameId-1]\r\n            let foodName = getName(nameType, language)\r\n            const condition = conditions.find(condition => condition.id === foodItem.conditionId)\r\n            const conditionName =condition ? getName(condition, language) : null\r\n\r\n            if(conditionName) {\r\n                foodName = `${foodName} (${conditionName})`\r\n            }\r\n\r\n            reactSelectOptions.push({\r\n                value: foodItem,\r\n                label: foodName\r\n            })\r\n        })\r\n    }\r\n\r\n    return reactSelectOptions\r\n}\r\n\r\nfunction getFoodItemsOfFoodclass(foodItems: Array<FoodItem>, foodClassId: number): Array<FoodItem> {\r\n    return foodItems.filter(foodItem => {\r\n        if(foodItem.foodClass === foodClassId) {\r\n            return foodItem\r\n        } else {\r\n            return null\r\n        }\r\n    })\r\n}","import NameType from \"../../types/nutrientdata/NameType\";\r\nimport {ReactSelectPortionOption} from \"../../types/ReactSelectOption\";\r\nimport FoodItem, {PortionData} from \"../../types/nutrientdata/FoodItem\";\r\nimport getName from \"../LanguageService\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {PORTION_KEY_100, PORTION_KEY_INDIVIDUAL} from \"../../config/Constants\";\r\n\r\n\r\nexport function getPortionReactSelectList(portionData: Array<PortionData>, portionTypes: Array<NameType>, language: string): Array<ReactSelectPortionOption> {\r\n    const reactSelectOptions: Array<ReactSelectPortionOption> = []\r\n    portionData.forEach(portionElement => {\r\n        const portionTypeIndex = portionTypes.findIndex(portionType => {\r\n             return portionType.id === portionElement.portionType\r\n        })\r\n\r\n        const portionType = portionTypes[portionTypeIndex]\r\n        const portionName = getName(portionType, language)\r\n        reactSelectOptions.push({\r\n            value: portionElement,\r\n            label: portionName\r\n        })\r\n    })\r\n\r\n    reactSelectOptions.push({\r\n        value: {amount: 100, portionType: PORTION_KEY_100},\r\n        label: applicationStrings.portion_100g[language]\r\n    })\r\n\r\n    reactSelectOptions.push({\r\n        value: {amount: 0, portionType: PORTION_KEY_INDIVIDUAL},\r\n        label: applicationStrings.portion_individual[language]\r\n    })\r\n\r\n    return reactSelectOptions\r\n}\r\n\r\n\r\nexport function getDefaultPortionData(foodItem: FoodItem, portionDataList: Array<ReactSelectPortionOption>): ReactSelectPortionOption {\r\n    let defaultPortionIndex = portionDataList.findIndex(portionData => {\r\n        return portionData.value.portionType === foodItem.defaultPortionId\r\n    })\r\n\r\n    if (defaultPortionIndex < 0 || defaultPortionIndex >= portionDataList.length) {\r\n        defaultPortionIndex = 0;\r\n    }\r\n\r\n    return portionDataList[defaultPortionIndex]\r\n}","import FoodItem, {NutrientData} from \"../../types/nutrientdata/FoodItem\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\n\r\nexport function getSourceName(sourceId: number) {\r\n    switch (sourceId) {\r\n        case 0:\r\n            return \"SR Legacy\"\r\n        case 1:\r\n            return \"FNDDS\"\r\n        default:\r\n            return \"unknown\"\r\n    }\r\n}\r\n\r\nexport function getNutrientData(selectedFoodItem: SelectedFoodItem): NutrientData {\r\n    return getNutrientDataForFoodItem(selectedFoodItem.foodItem, selectedFoodItem.selectedSource,\r\n        selectedFoodItem.supplementData, selectedFoodItem.combineData)\r\n}\r\n\r\nexport function getNutrientDataForFoodItem(foodItem: FoodItem, sourceToUse?: number, supplementData?: boolean,\r\n                                           combineData?: boolean): NutrientData {\r\n    if (sourceToUse === null || sourceToUse === undefined || foodItem.nutrientDataList.length === 1) {\r\n        return foodItem.nutrientDataList[0]\r\n    } else {\r\n        const nutrientData = foodItem.nutrientDataList.find(nutrientDataObject => nutrientDataObject.source.id === sourceToUse)\r\n        if (nutrientData) {\r\n            if(supplementData || combineData) {\r\n                const complement = foodItem.nutrientDataList.find(nutrientDataObject => nutrientDataObject.source.id !== sourceToUse)\r\n                if(complement) {\r\n                    if(supplementData && !combineData) {\r\n                        return supplementNutrientData(nutrientData, complement)\r\n                    }\r\n                    if(combineData) {\r\n                        return combineNutrientData(nutrientData, complement)\r\n                    }\r\n                }\r\n            }\r\n            return nutrientData\r\n        } else {\r\n            return foodItem.nutrientDataList[0]\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport function supplementNutrientData(selectedNutrientData: NutrientData, complementeNutrientData: NutrientData): NutrientData {\r\n    const supplementedBaseData = supplementCategory(selectedNutrientData.baseData, complementeNutrientData.baseData)\r\n    const supplementedVitaminData = supplementCategory(selectedNutrientData.vitaminData, complementeNutrientData.vitaminData)\r\n    const supplementedMineralData = supplementCategory(selectedNutrientData.mineralData, complementeNutrientData.mineralData)\r\n    const supplementedCarbsData = supplementCategory(selectedNutrientData.carbohydrateData, complementeNutrientData.carbohydrateData)\r\n    const supplementedProteinData = supplementCategory(selectedNutrientData.proteinData, complementeNutrientData.proteinData)\r\n\r\n    const supplementedOmegaData = supplementCategory(selectedNutrientData.lipidData.omegaData, complementeNutrientData.lipidData.omegaData)\r\n    let supplementedLipidData = supplementCategory(selectedNutrientData.lipidData, complementeNutrientData.lipidData)\r\n    supplementedLipidData.omegaData = supplementedOmegaData\r\n\r\n    return {\r\n        source: selectedNutrientData.source,\r\n        sourceItemId: selectedNutrientData.sourceItemId,\r\n        baseData: supplementedBaseData,\r\n        vitaminData: supplementedVitaminData,\r\n        mineralData: supplementedMineralData,\r\n        carbohydrateData: supplementedCarbsData,\r\n        proteinData: supplementedProteinData,\r\n        lipidData: supplementedLipidData\r\n    }\r\n}\r\n\r\n\r\nfunction supplementCategory(nutrientCategory1: any, nutrientCategory2: any): any {\r\n    if(!nutrientCategory2) {\r\n        return nutrientCategory1\r\n    }\r\n\r\n    const keysComplement = Object.keys(nutrientCategory2)\r\n    keysComplement.forEach(key => {\r\n        if(nutrientCategory1[key] === null) {\r\n            const objectHasChildren = nutrientCategory2[key] && Object.keys(nutrientCategory2[key]).length > 0\r\n            // Add value from source 2 to source 1 if it is not a sub-object (like Omega object on Lipids object):\r\n            if(nutrientCategory2[key] !== null && !objectHasChildren) {\r\n                nutrientCategory1[key] = nutrientCategory2[key]\r\n            }\r\n        }\r\n    })\r\n\r\n    return nutrientCategory1\r\n}\r\n\r\n\r\nexport function combineNutrientData(selectedNutrientData: NutrientData, complementeNutrientData: NutrientData): NutrientData {\r\n    const combinedBaseData = combineCategory(selectedNutrientData.baseData, complementeNutrientData.baseData)\r\n    const combinedVitaminData = combineCategory(selectedNutrientData.vitaminData, complementeNutrientData.vitaminData)\r\n    const combinedMineralData = combineCategory(selectedNutrientData.mineralData, complementeNutrientData.mineralData)\r\n    const combinedCarbsData = combineCategory(selectedNutrientData.carbohydrateData, complementeNutrientData.carbohydrateData)\r\n    const combinedProteinData = combineCategory(selectedNutrientData.proteinData, complementeNutrientData.proteinData)\r\n\r\n    const combinedOmegaData = combineCategory(selectedNutrientData.lipidData.omegaData, complementeNutrientData.lipidData.omegaData)\r\n    let combinedLipidData = combineCategory(selectedNutrientData.lipidData, complementeNutrientData.lipidData)\r\n    combinedLipidData.omegaData = combinedOmegaData\r\n\r\n    return {\r\n        source: selectedNutrientData.source,\r\n        sourceItemId: selectedNutrientData.sourceItemId,\r\n        baseData: combinedBaseData,\r\n        vitaminData: combinedVitaminData,\r\n        mineralData: combinedMineralData,\r\n        carbohydrateData: combinedCarbsData,\r\n        proteinData: combinedProteinData,\r\n        lipidData: combinedLipidData\r\n    }\r\n}\r\n\r\n\r\nfunction combineCategory(nutrientCategory1: any, nutrientCategory2: any): any {\r\n    if(!nutrientCategory1 && nutrientCategory2) {\r\n        return nutrientCategory2\r\n    } else if(nutrientCategory1 && !nutrientCategory2) {\r\n        return nutrientCategory1\r\n    } else if(!nutrientCategory1 && !nutrientCategory2) {\r\n        return null\r\n    }\r\n\r\n    const keys1: Array<string> = Object.keys(nutrientCategory1)\r\n    const keys2: Array<string> = Object.keys(nutrientCategory2)\r\n\r\n    // @ts-ignore\r\n    const allKeys = [...new Set<string>([...keys1, ...keys2])]\r\n    let finalObject = {}\r\n\r\n    allKeys.forEach(key => {\r\n        const value1 = nutrientCategory1[key] !== null\r\n            ? nutrientCategory1[key]\r\n            : null\r\n\r\n        const value2 = nutrientCategory2[key] !== null\r\n            ? nutrientCategory2[key]\r\n            : null\r\n\r\n        let finalValue\r\n\r\n        if(value1 !== null && value2 === null) {\r\n            finalValue = value1\r\n        } else if(value1 === null && value2 !== null) {\r\n            finalValue = value2\r\n        } else if(value1 === null && value2 === null) {\r\n            finalValue = null\r\n        }else {\r\n            finalValue = (value1 + value2) * 0.5\r\n        }\r\n\r\n        finalObject[key] = finalValue\r\n    })\r\n\r\n    return finalObject\r\n}\r\n","import React, {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport Select from 'react-select';\r\nimport ReactSelectOption, {\r\n    ReactSelectFoodClassOption,\r\n    ReactSelectFoodItemOption,\r\n    ReactSelectPortionOption\r\n} from \"../../types/ReactSelectOption\";\r\nimport {getCategorySelectList} from \"../../service/nutrientdata/CategoryService\";\r\nimport {getFoodClassSelectList} from \"../../service/nutrientdata/FoodClassService\";\r\nimport {getFoodItemsSelectList} from \"../../service/nutrientdata/FoodItemsService\";\r\nimport FoodItem, {PortionData} from \"../../types/nutrientdata/FoodItem\";\r\nimport {getDefaultPortionData, getPortionReactSelectList} from \"../../service/nutrientdata/PortionDataService\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport FoodClass from \"../../types/nutrientdata/FoodClass\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {isSmallScreen, useWindowDimension} from \"../../service/WindowDimension\";\r\nimport {SOURCE_FNDDS, SOURCE_SRLEGACY} from \"../../config/Constants\";\r\nimport {getSourceName} from \"../../service/nutrientdata/NutrientDataRetriever\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport {Form} from \"react-bootstrap\";\r\n\r\nexport interface FoodSelectorProps {\r\n    updateSelectedFoodItem: (selectedFoodItem: SelectedFoodItem) => void\r\n    smallVariant: boolean\r\n    noCategorySelect?: boolean\r\n    initialFoodClassToSet?: number\r\n    selectedFoodItem?: SelectedFoodItem | null\r\n}\r\n\r\n/**\r\n * Component to select a food element. The component can optionally show the category list and can be initialized\r\n * with an already existing selected food item (in case of component re-rendering).\r\n */\r\nexport default function FoodSelector(props: FoodSelectorProps): JSX.Element {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const {language} = useContext(LanguageContext)\r\n\r\n    const initialCategory = applicationContext?.applicationData.foodSelector.selectedCategory\r\n        ? applicationContext.applicationData.foodSelector.selectedCategory\r\n        : null\r\n\r\n    const initialSupplementValue = applicationContext?.applicationData.foodSelector.sourceSupplement || false\r\n    const initialCombineValue = applicationContext?.applicationData.foodSelector.sourceCombine || false\r\n\r\n    const [selectedCategory, setSelectedCategory] = useState<ReactSelectOption | null>(initialCategory)\r\n    const [selectdFoodClass, setSelectedFoodClass] = useState<ReactSelectFoodClassOption | null>(null)\r\n    const [selectedFoodItem, setSelectedFoodItem] = useState<ReactSelectFoodItemOption | null>(null)\r\n    const [selectedPortion, setSelectedPortion] = useState<ReactSelectPortionOption | null>(null)\r\n    const [portionAmount, setPortionAmount] = useState<number>(0)\r\n    const [selectedSource, setSelectedSource] = useState<ReactSelectOption | null>(null)\r\n    const [supplementData, setSupplementData] = useState<boolean>(initialSupplementValue)\r\n    const [combineData, setCombineData] = useState<boolean>(initialCombineValue)\r\n    const [initialized, setInitialized] = useState<boolean>(false)\r\n\r\n    const [categoriesList, setCategoriesList] = useState<Array<ReactSelectOption>>([])\r\n    const [foodClassesList, setFoodClassesList] = useState<Array<ReactSelectFoodClassOption>>([])\r\n    const [foodItemsList, setFoodItemsList] = useState<Array<ReactSelectFoodItemOption>>([])\r\n    const [portionsList, setPortionsList] = useState<Array<ReactSelectPortionOption>>([])\r\n    const [sourcesList, setSourcesList] = useState<Array<ReactSelectOption>>([])\r\n\r\n    const windowSize = useWindowDimension()\r\n\r\n    useEffect(() => {\r\n            if (applicationContext) {\r\n                const currentSelectorSetting = applicationContext.applicationData.foodSelector\r\n                if (selectedCategory !== currentSelectorSetting.selectedCategory || supplementData !== currentSelectorSetting.sourceSupplement\r\n                    || combineData !== currentSelectorSetting.sourceCombine) {\r\n                    applicationContext.setFoodSelectorConfig(selectedCategory, supplementData, combineData)\r\n                }\r\n            }\r\n\r\n            const initialFoodClass = props.initialFoodClassToSet ? props.initialFoodClassToSet : 0\r\n\r\n            if (applicationContext && applicationContext.foodDataCorpus && categoriesList.length === 0) {\r\n                const foodDataCorpus = applicationContext.foodDataCorpus\r\n\r\n                if (foodDataCorpus.categories) {\r\n                    const categoryItems = getCategorySelectList(foodDataCorpus.categories, language)\r\n                    setCategoriesList(categoryItems)\r\n                }\r\n\r\n                if (foodDataCorpus.foodClasses) {\r\n                    const category = selectedCategory ? selectedCategory.value : 0\r\n                    const foodClasses = getFoodClassSelectList(foodDataCorpus.foodClasses, category, applicationContext.foodDataCorpus.foodNames, language)\r\n                    setFoodClassesList(foodClasses)\r\n                    const foodClass = foodClasses[initialFoodClass]\r\n                    setSelectedFoodClass(foodClass)\r\n\r\n                    if (foodDataCorpus.foodItems && foodClasses) {\r\n                        const foodItemsOfFoodClass = getFoodItemsSelectList(foodDataCorpus.foodItems, foodClasses[initialFoodClass].value.id, foodDataCorpus.foodNames,\r\n                            foodDataCorpus.conditions, language)\r\n\r\n                        setFoodItemsList(foodItemsOfFoodClass)\r\n                        setSelectedFoodItem(foodItemsOfFoodClass[0])\r\n                        const foodItem = foodItemsOfFoodClass[0].value\r\n\r\n                        if (foodItem && foodItem.portionData) {\r\n                            const portionDataList = getPortionReactSelectList(foodItem.portionData, foodDataCorpus.portionTypes, language)\r\n                            setPortionsList(portionDataList)\r\n\r\n                            updateSourcesList(foodItem)\r\n\r\n                            const defaultPortion = getDefaultPortionData(foodItem, portionDataList)\r\n                            setSelectedPortion(defaultPortion)\r\n                            setPortionAmount(defaultPortion.value.amount)\r\n\r\n                            if (!props.selectedFoodItem) {\r\n                                makeSelectedFoodItemObject(foodItem, foodClass.value, defaultPortion.value)\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            } else {\r\n                // Update data for outer component whenever render is triggered\r\n                if(selectedFoodItem && selectdFoodClass && selectedPortion) {\r\n                    const newFoodItem = makeSelectedFoodItemObject(selectedFoodItem.value, selectdFoodClass.value, selectedPortion.value)\r\n                    if(newFoodItem) {\r\n                        props.updateSelectedFoodItem(newFoodItem)\r\n                    }\r\n                } else if(props.selectedFoodItem) {\r\n                    const {foodItem, foodClass, portion} = props.selectedFoodItem\r\n                    makeSelectedFoodItemObject(foodItem, foodClass, portion)\r\n                }\r\n            }\r\n\r\n        }, [selectedFoodItem,\r\n            selectedPortion,\r\n            selectdFoodClass,\r\n            selectedCategory,\r\n            selectedSource,\r\n            portionAmount,\r\n            supplementData,\r\n            combineData\r\n        ]\r\n    )\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const handleCategoryChange = (category: ReactSelectOption) => {\r\n        setSelectedCategory(category)\r\n        updateFoodClasses(category)\r\n    }\r\n\r\n    const handleFoodClassChange = (foodClass: ReactSelectFoodClassOption) => {\r\n        setSelectedFoodClass(foodClass)\r\n        updateFoodItem(foodClass)\r\n    }\r\n\r\n    const handleFoodItemChange = (foodItem: ReactSelectFoodItemOption) => {\r\n        setSelectedFoodItem(foodItem)\r\n        updatePortionsList(foodItem.value)\r\n        updateSourcesList(foodItem.value)\r\n    }\r\n\r\n    const handlePortionChange = (portion: ReactSelectPortionOption) => {\r\n        setSelectedPortion(portion)\r\n        setPortionAmount(portion.value.amount)\r\n    }\r\n\r\n    const handleSourceChange = (source: ReactSelectOption) => {\r\n        setSelectedSource(source)\r\n    }\r\n\r\n    const handlePortionAmountChange = (e) => {\r\n        if (!e.target.value) {\r\n            setPortionAmount(0)\r\n            return\r\n        }\r\n\r\n        const amount = parseInt(e.target.value)\r\n\r\n        if (!isNaN(amount)) {\r\n            setPortionAmount(amount)\r\n        }\r\n    }\r\n\r\n    const updateFoodClasses = (category: ReactSelectOption) => {\r\n        const foodClasses = applicationContext.foodDataCorpus.foodClasses\r\n\r\n        if (foodClasses) {\r\n            const foodClassItems = getFoodClassSelectList(foodClasses, category.value, applicationContext.foodDataCorpus.foodNames, language)\r\n            setFoodClassesList(foodClassItems)\r\n            setSelectedFoodClass(foodClassItems[0])\r\n            updateFoodItem(foodClassItems[0])\r\n        }\r\n    }\r\n\r\n    const updateFoodItem = (foodClass: ReactSelectFoodClassOption) => {\r\n        const {foodItems, foodNames, conditions} = applicationContext.foodDataCorpus\r\n\r\n        if (foodItems) {\r\n            const foodClassItems = getFoodItemsSelectList(foodItems, foodClass.value.id, foodNames, conditions, language)\r\n            setFoodItemsList(foodClassItems)\r\n            setSelectedFoodItem(foodClassItems[0])\r\n\r\n            const foodItem = foodClassItems[0].value\r\n            if (foodItem) {\r\n                updatePortionsList(foodItem)\r\n                updateSourcesList(foodItem)\r\n            }\r\n        }\r\n    }\r\n\r\n    const updatePortionsList = (foodItem: FoodItem) => {\r\n        const portionDataList = getPortionReactSelectList(foodItem.portionData!!, applicationContext.foodDataCorpus.portionTypes, language)\r\n        setPortionsList(portionDataList)\r\n        const defaultPortion = getDefaultPortionData(foodItem, portionDataList)\r\n        setSelectedPortion(defaultPortion)\r\n        setPortionAmount(defaultPortion.value.amount)\r\n    }\r\n\r\n\r\n    const updateSourcesList = (foodItem: FoodItem) => {\r\n        const sourceNames = getSourceNames(foodItem)\r\n        setSourcesList(sourceNames)\r\n\r\n        if (sourceNames.length === 1) {\r\n            setSelectedSource(sourceNames[0])\r\n        } else {\r\n            const preferredSource = applicationContext.applicationData.preferredSource\r\n            const matchingSource = sourceNames.find(sourceObject => {\r\n                if (sourceObject.value === 0 && preferredSource === SOURCE_SRLEGACY) {\r\n                    return sourceObject\r\n                } else if (sourceObject.value === 1 && preferredSource === SOURCE_FNDDS) {\r\n                    return sourceObject\r\n                } else {\r\n                    return null\r\n                }\r\n            })\r\n            if (matchingSource) {\r\n                setSelectedSource(matchingSource)\r\n            } else {\r\n                setSelectedSource(sourceNames[0])\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    const getSourceNames = (foodItem: FoodItem) => {\r\n        return foodItem.nutrientDataList.map(nutrientDataObject => {\r\n            const SourceName = getSourceName(nutrientDataObject.source.id)\r\n            return {label: SourceName, value: nutrientDataObject.source.id}\r\n        })\r\n    }\r\n\r\n\r\n    const makeSelectedFoodItemObject = (foodItem: FoodItem | undefined, foodClass: FoodClass | undefined, portion: PortionData | undefined): SelectedFoodItem | null => {\r\n        if (!foodItem || !foodClass || !portion) {\r\n            return null\r\n        }\r\n\r\n        if (portion.portionType === 0) {\r\n            portion.amount = portionAmount\r\n        }\r\n\r\n        return {\r\n            foodItem: foodItem,\r\n            foodClass: foodClass,\r\n            portion: portion,\r\n            selectedSource: selectedSource ? selectedSource.value : foodItem.nutrientDataList[0].source.id,\r\n            supplementData: supplementData,\r\n            combineData: combineData\r\n        }\r\n    }\r\n\r\n    const setInitialFoodElement = () => {\r\n        if (!foodClassesList || foodClassesList.length === 0) {\r\n            return\r\n        }\r\n\r\n        if (!props.selectedFoodItem || !props.selectedFoodItem.foodClass) {\r\n            return\r\n        }\r\n\r\n        const predefinedFoodObject = props.selectedFoodItem\r\n\r\n        // @ts-ignore\r\n        const foodClassOption = foodClassesList.find(foodClass => foodClass.value.id === predefinedFoodObject.foodClass.id)\r\n        const {foodItems, foodNames, conditions, portionTypes} = applicationContext.foodDataCorpus\r\n\r\n        if (foodClassOption) {\r\n            setSelectedFoodClass(foodClassOption)\r\n            const foodClassItems = getFoodItemsSelectList(foodItems, foodClassOption.value.id, foodNames, conditions, language)\r\n\r\n            if (foodClassItems) {\r\n                setFoodItemsList(foodClassItems)\r\n                const foodItem = foodClassItems.find(foodItem => foodItem.value.id === predefinedFoodObject.foodItem.id)\r\n\r\n                if (foodItem && foodItem.value && foodItem.value.portionData) {\r\n                    setSelectedFoodItem(foodItem)\r\n\r\n                    const sourceNames = getSourceNames(foodItem.value)\r\n                    setSourcesList(sourceNames)\r\n                    const selected = sourceNames.find(sourceElement => sourceElement.value === props.selectedFoodItem?.selectedSource)\r\n                    if (selected) {\r\n                        setSelectedSource(selected)\r\n                    }\r\n\r\n                    const portionDataList = getPortionReactSelectList(foodItem.value.portionData, portionTypes, language)\r\n                    setPortionsList(portionDataList)\r\n\r\n                    const portionType = predefinedFoodObject.portion.portionType\r\n                    const portionObject = portionDataList.find(portion => portion.value.portionType === portionType)\r\n                    if (portionObject) {\r\n                        setSelectedPortion(portionObject)\r\n\r\n                        //@ts-ignore\r\n                        const amount = predefinedFoodObject.portion.amount\r\n                        setPortionAmount(amount)\r\n                    }\r\n\r\n                }\r\n            }\r\n\r\n        }\r\n\r\n        setInitialized(true)\r\n    }\r\n\r\n    const onCheckSupplementCheckbox = () => {\r\n        setSupplementData(!supplementData)\r\n    }\r\n\r\n    const onCheckCombineCheckbox = () => {\r\n        setCombineData(!combineData)\r\n    }\r\n\r\n    if (props.selectedFoodItem && !initialized) {\r\n        setInitialFoodElement()\r\n    }\r\n\r\n    const renderSourceLine = () => {\r\n        const sourceSelectBox = (\r\n            <Select className={selectClass}\r\n                    options={sourcesList}\r\n                    isDisabled={sourcesList.length <= 1 || combineData}\r\n                    value={selectedSource ? selectedSource : sourcesList[0]}\r\n                    onChange={handleSourceChange}\r\n            />\r\n        )\r\n\r\n        const checkboxes = (\r\n            <div>\r\n                <label className=\"form-elements\"\r\n                       data-tip={applicationStrings.label_source_supplement_tooltip[language]}>\r\n                    <ReactTooltip/>\r\n                    <Form.Check inline className=\"form-radiobutton\"\r\n                                label={applicationStrings.label_source_supplement[language]}\r\n                                checked={supplementData}\r\n                                disabled={sourcesList.length <= 1}\r\n                                onClick={onCheckSupplementCheckbox}>\r\n                    </Form.Check>\r\n                </label>\r\n                <label className=\"form-elements\"\r\n                       data-tip={applicationStrings.label_source_combine_tooltip[language]}>\r\n                    <ReactTooltip/>\r\n                    <Form.Check inline className=\"form-radiobutton\"\r\n                                label={applicationStrings.label_source_combine[language]}\r\n                                checked={combineData}\r\n                                disabled={sourcesList.length <= 1}\r\n                                onClick={onCheckCombineCheckbox}>\r\n                    </Form.Check>\r\n                </label>\r\n            </div>\r\n        )\r\n\r\n        return <div>\r\n            <span className={'form-label'}>{applicationStrings.label_source[language]}:</span>\r\n            {!props.smallVariant ?\r\n                <div className={\"row\"}>\r\n                    <div className=\"col-4 column select-menu form-section\">\r\n                        {sourceSelectBox}\r\n                    </div>\r\n                    <div className={\"col-8\"}>\r\n                        {checkboxes}\r\n                    </div>\r\n                </div>\r\n                :\r\n                <div>\r\n                    <div>\r\n                        {sourceSelectBox}\r\n                    </div>\r\n                    <div style={{paddingLeft: \"24px\", paddingTop: \"8px\"}}>\r\n                        {checkboxes}\r\n                    </div>\r\n                </div>\r\n            }\r\n        </div>\r\n    }\r\n\r\n\r\n    const amount_label = props.smallVariant\r\n        ? `${applicationStrings.label_amount_short[language]}:`\r\n        : `${applicationStrings.label_amount[language]}:`\r\n    const initialFoodClass = props.initialFoodClassToSet ? props.initialFoodClassToSet : 0\r\n\r\n    const selectClass = isSmallScreen(windowSize) ? \"form-control-sm\" : \"\"\r\n    const inputClass = isSmallScreen(windowSize) ? \"form-control form-control-sm input-sm\" : \"form-control input\"\r\n\r\n    return <div>\r\n        <div className=\"container\">\r\n            {props.noCategorySelect !== true &&\r\n            <div className=\"column select-menu form-section\">\r\n                <span className={'form-label'}>{applicationStrings.label_category[language]}:</span>\r\n                <Select className={selectClass}\r\n                        options={categoriesList}\r\n                        value={selectedCategory ? selectedCategory : categoriesList[0]}\r\n                        onChange={(value) => handleCategoryChange(value)}\r\n                />\r\n            </div>\r\n            }\r\n            <div className=\"column select-menu form-section\">\r\n                <span className={'form-label'}>{applicationStrings.label_foodclass[language]}:</span>\r\n                <Select className={selectClass}\r\n                        options={foodClassesList}\r\n                        value={selectdFoodClass ? selectdFoodClass : foodClassesList[initialFoodClass]}\r\n                        onChange={(value) => handleFoodClassChange(value)}\r\n                />\r\n            </div>\r\n            <div className=\"column select-menu form-section\">\r\n                <span className={'form-label'}>{applicationStrings.label_fooditem[language]}:</span>\r\n                <Select className={selectClass}\r\n                        options={foodItemsList}\r\n                        value={selectedFoodItem ? selectedFoodItem : foodItemsList[0]}\r\n                        onChange={handleFoodItemChange}\r\n                />\r\n            </div>\r\n            <div className=\"column select-menu form-section\">\r\n                <div className={\"row\"}>\r\n                    <div className={\"col-lg-8 col-xl-9\"}>\r\n                        <span\r\n                            className={'form-label'}>{applicationStrings.label_portion[language]}:</span>\r\n                        <Select className={selectClass}\r\n                                options={portionsList}\r\n                                value={selectedPortion ? selectedPortion : portionsList[0]}\r\n                                onChange={(value) => handlePortionChange(value)}/>\r\n                    </div>\r\n                    <div className={\"col-lg-4 col-xl-3\"}>\r\n                        <span\r\n                            className={'form-label'}>{amount_label}</span>\r\n                        <input className={inputClass}\r\n                               disabled={selectedPortion?.value.portionType !== 0}\r\n                               value={portionAmount}\r\n                               onChange={handlePortionAmountChange}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            {renderSourceLine()}\r\n        </div>\r\n    </div>\r\n\r\n}","import React, {useContext} from \"react\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {getNameFromFoodNameList} from \"../../service/nutrientdata/NameTypeService\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {Button} from \"react-bootstrap\";\r\nimport {FaTrash} from \"react-icons/all\";\r\n\r\nexport interface CompositeFoodListProps {\r\n    selectedFoodItems: Array<SelectedFoodItem>\r\n    deleteItem: (index: number) => void\r\n}\r\n\r\nexport function CompositeFoodList(props: CompositeFoodListProps) {\r\n    const languageContext = useContext(LanguageContext)\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n\r\n    const onDeleteItem = (index: number) => {\r\n        props.deleteItem(index)\r\n    }\r\n\r\n    const renderLine = (selectedFoodItem: SelectedFoodItem, index: number) => {\r\n        if(applicationContext) {\r\n            const name = getNameFromFoodNameList(applicationContext.foodDataCorpus.foodNames, selectedFoodItem.foodItem.nameId!!, languageContext.language)\r\n\r\n            return <div className={\"row\"}\r\n                        key={`composite food list ${index}`}\r\n                        style={{borderBottom: \"1px solid #dddddd\", paddingTop: \"6px\"}}>\r\n                <div className={\"col-1\"}>\r\n                    <b>{index+1}.</b>\r\n                </div>\r\n                <div className={\"col-8\"}>\r\n                    {name}\r\n                    <br/>\r\n                    {selectedFoodItem.portion.amount} g\r\n                </div>\r\n                <div className={\"col-3\"}>\r\n                    <Button onClick={() => onDeleteItem(index)}>\r\n                        <FaTrash/>\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        }\r\n\r\n        return <div></div>\r\n    }\r\n\r\n    return <div className={\"container\"} style={{maxHeight: \"300px\", overflowY: \"auto\"}}>\r\n        {props.selectedFoodItems.map((selectedFoodItem, index) => renderLine(selectedFoodItem, index))}\r\n    </div>\r\n\r\n}","import SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport FoodItem, {\r\n    BaseData,\r\n    CarbohydrateData,\r\n    LipidData,\r\n    MineralData,\r\n    NutrientData,\r\n    ProteinData,\r\n    VitaminData\r\n} from \"../../types/nutrientdata/FoodItem\";\r\nimport {getNutrientData} from \"../nutrientdata/NutrientDataRetriever\";\r\n\r\nexport default function combineFoodItems(compositeList: Array<SelectedFoodItem>, preferredSource): SelectedFoodItem {\r\n    let portionSize = 0;\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        portionSize += selectedFoodItem.portion.amount\r\n    })\r\n\r\n    const nutrientDataList = buildAggregatedNutrientDataList(compositeList, portionSize, preferredSource);\r\n    const id = new Date().getTime();\r\n\r\n    const aggreatedFoodItem: FoodItem = {\r\n        id: id,\r\n        nutrientDataList: nutrientDataList,\r\n        aggregated: true\r\n    }\r\n\r\n    let combinedFoodItem: SelectedFoodItem = {\r\n        id: id,\r\n        foodItem: aggreatedFoodItem,\r\n        portion: {\r\n            portionType: 999,\r\n            amount: portionSize\r\n        },\r\n        compositeSubElements: compositeList,\r\n        selectedSource: -1,\r\n        supplementData: true,\r\n        combineData: false\r\n    };\r\n\r\n    return combinedFoodItem;\r\n}\r\n\r\n\r\nfunction buildAggregatedNutrientDataList(compositeList: Array<SelectedFoodItem>, portionSize: number, preferredSource: string): Array<NutrientData> {\r\n    const baseData = buildBaseDataObject(compositeList, portionSize, preferredSource);\r\n    const vitaminData = buildVitaminDataObject(compositeList, portionSize, preferredSource);\r\n    const mineralData = buildMineralDataObject(compositeList, portionSize, preferredSource);\r\n    const carbohydrateData = buildCarbohydrateData(compositeList, portionSize, preferredSource);\r\n    const lipidData = buildLipidData(compositeList, portionSize, preferredSource);\r\n    const proteinData = buildProteinData(compositeList, portionSize, preferredSource);\r\n\r\n    let nutrientObject: NutrientData = {\r\n        sourceItemId: \"0\",\r\n        source: {id: 0, url: \"\", name: \"\"},\r\n        baseData: baseData,\r\n        vitaminData: vitaminData,\r\n        mineralData: mineralData,\r\n        carbohydrateData: carbohydrateData,\r\n        lipidData: lipidData,\r\n        proteinData: proteinData\r\n    }\r\n\r\n    nutrientObject = removeNutrientObjectsWithNullValues(nutrientObject, compositeList, preferredSource);\r\n\r\n    const nutrientDataList: Array<NutrientData> = [];\r\n    nutrientDataList.push(nutrientObject);\r\n\r\n    return nutrientDataList;\r\n}\r\n\r\n\r\n/**\r\n * Removes all nutrient data elements that do not exist in ALL of the food elements within the list.\r\n * @param nutrientObject\r\n * @param compositeList\r\n */\r\nfunction removeNutrientObjectsWithNullValues(nutrientObject: NutrientData, compositeList: Array<SelectedFoodItem>, preferredSource: string) {\r\n    if (!compositeList) {\r\n        return nutrientObject;\r\n    }\r\n\r\n    for (let i = 0; i < compositeList.length; i++) {\r\n        let selectedFoodItem = compositeList[i]\r\n        const nutrientData = getNutrientData(selectedFoodItem)\r\n        const threshold = 0.1;   // Defines the amount of base data which must exist to set a sub-value to null.\r\n\r\n        // Remove base data\r\n        if (nutrientData.baseData.carbohydrates >= threshold) {\r\n            if (nutrientData.baseData.dietaryFibers == null) {\r\n                nutrientObject.baseData.dietaryFibers = null;\r\n            }\r\n        }\r\n\r\n\r\n        // Lipid data\r\n        if (nutrientData.baseData.lipids >= threshold) {\r\n            if (!nutrientData.lipidData || nutrientData.lipidData.saturated == null) {\r\n                nutrientObject.lipidData.saturated = null;\r\n            }\r\n\r\n            if (!nutrientData.lipidData || nutrientData.lipidData.unsaturatedMono == null) {\r\n                nutrientObject.lipidData.unsaturatedMono = null;\r\n            }\r\n\r\n            if (!nutrientData.lipidData || nutrientData.lipidData.unsaturatedPoly == null) {\r\n                nutrientObject.lipidData.unsaturatedPoly = null;\r\n            }\r\n\r\n            if (!nutrientData.lipidData || nutrientData.lipidData.transFattyAcids == null) {\r\n                nutrientObject.lipidData.transFattyAcids = null;\r\n            }\r\n\r\n            if (!nutrientData.lipidData || nutrientData.lipidData.cholesterol == null) {\r\n                nutrientObject.lipidData.cholesterol = null;\r\n            }\r\n\r\n            if (!nutrientData.lipidData.omegaData &&\r\n                (nutrientData.lipidData && nutrientData.lipidData.unsaturatedPoly && nutrientData.lipidData.unsaturatedPoly > threshold)) {\r\n                nutrientObject.lipidData.omegaData = null;\r\n            }\r\n        }\r\n\r\n\r\n        // Carbohydrate data\r\n        if (nutrientData.baseData.carbohydrates >= threshold) {\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.sugar == null) {\r\n                nutrientObject.carbohydrateData.sugar = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.glucose == null) {\r\n                nutrientObject.carbohydrateData.glucose = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.fructose == null) {\r\n                nutrientObject.carbohydrateData.fructose = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.galactose == null) {\r\n                nutrientObject.carbohydrateData.galactose = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.sucrose == null) {\r\n                nutrientObject.carbohydrateData.sucrose = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.lactose == null) {\r\n                nutrientObject.carbohydrateData.lactose = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.maltose == null) {\r\n                nutrientObject.carbohydrateData.maltose = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.starch == null) {\r\n                nutrientObject.carbohydrateData.starch = null;\r\n            }\r\n        }\r\n\r\n\r\n\t\t// Vitamins:\r\n\t\tif(nutrientData.vitaminData.a === null) {\r\n\t\t\tnutrientObject.vitaminData.a = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.vitaminData.b1 === null) {\r\n\t\t\tnutrientObject.vitaminData.b1 = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.vitaminData.b2 === null) {\r\n\t\t\tnutrientObject.vitaminData.b2 = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.vitaminData.b3 === null) {\r\n\t\t\tnutrientObject.vitaminData.b3 = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.vitaminData.b5 === null) {\r\n\t\t\tnutrientObject.vitaminData.b5 = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.vitaminData.b6 === null) {\r\n\t\t\tnutrientObject.vitaminData.b6 = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.vitaminData.b7 === null) {\r\n\t\t\tnutrientObject.vitaminData.b7 = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.vitaminData.b9 === null) {\r\n\t\t\tnutrientObject.vitaminData.b9 = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.vitaminData.b12 === null) {\r\n\t\t\tnutrientObject.vitaminData.b12 = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.vitaminData.c === null) {\r\n\t\t\tnutrientObject.vitaminData.c = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.vitaminData.d === null) {\r\n\t\t\tnutrientObject.vitaminData.d = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.vitaminData.e === null) {\r\n\t\t\tnutrientObject.vitaminData.e = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.vitaminData.k === null) {\r\n\t\t\tnutrientObject.vitaminData.k = null\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t// Minerals:\r\n\t\tif(nutrientData.mineralData.calcium === null) {\r\n\t\t\tnutrientObject.mineralData.calcium = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.mineralData.copper === null) {\r\n\t\t\tnutrientObject.mineralData.copper = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.mineralData.iron === null) {\r\n\t\t\tnutrientObject.mineralData.iron = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.mineralData.magnesium === null) {\r\n\t\t\tnutrientObject.mineralData.magnesium = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.mineralData.manganese === null) {\r\n\t\t\tnutrientObject.mineralData.manganese = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.mineralData.phosphorus === null) {\r\n\t\t\tnutrientObject.mineralData.phosphorus = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.mineralData.potassium === null) {\r\n\t\t\tnutrientObject.mineralData.potassium = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.mineralData.selenium === null) {\r\n\t\t\tnutrientObject.mineralData.selenium = null\r\n\t\t}\r\n\r\n\t\tif(nutrientData.mineralData.sodium === null) {\r\n\t\t\tnutrientObject.mineralData.sodium = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.mineralData.zinc === null) {\r\n\t\t\tnutrientObject.mineralData.zinc = null\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t// Proteins:\r\n\t\t\r\n\t\tif(nutrientData.proteinData.alanine === null) {\r\n\t\t\tnutrientObject.proteinData.alanine = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.proteinData.arginine === null) {\r\n\t\t\tnutrientObject.proteinData.arginine = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.proteinData.asparticAcid === null) {\r\n\t\t\tnutrientObject.proteinData.asparticAcid = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.proteinData.cystine === null) {\r\n\t\t\tnutrientObject.proteinData.cystine = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.proteinData.glutamicAcid === null) {\r\n\t\t\tnutrientObject.proteinData.glutamicAcid = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.proteinData.glycine === null) {\r\n\t\t\tnutrientObject.proteinData.glycine = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.proteinData.histidine === null) {\r\n\t\t\tnutrientObject.proteinData.histidine = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.proteinData.isoleucine === null) {\r\n\t\t\tnutrientObject.proteinData.isoleucine = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.proteinData.leucine === null) {\r\n\t\t\tnutrientObject.proteinData.leucine = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.proteinData.lysine === null) {\r\n\t\t\tnutrientObject.proteinData.lysine = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.proteinData.methionine === null) {\r\n\t\t\tnutrientObject.proteinData.methionine = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.proteinData.phenylalanine === null) {\r\n\t\t\tnutrientObject.proteinData.phenylalanine = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.proteinData.proline === null) {\r\n\t\t\tnutrientObject.proteinData.proline = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.proteinData.serine === null) {\r\n\t\t\tnutrientObject.proteinData.serine = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.proteinData.threonine === null) {\r\n\t\t\tnutrientObject.proteinData.threonine = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.proteinData.tryptophan === null) {\r\n\t\t\tnutrientObject.proteinData.tryptophan = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.proteinData.tyrosine === null) {\r\n\t\t\tnutrientObject.proteinData.tyrosine = null\r\n\t\t}\r\n\t\t\r\n\t\tif(nutrientData.proteinData.valine === null) {\r\n\t\t\tnutrientObject.proteinData.valine = null\r\n\t\t}\r\n\r\n    }\r\n\r\n    return nutrientObject;\r\n}\r\n\r\n\r\nfunction buildBaseDataObject(compositeList: Array<SelectedFoodItem>, portionSize: number, preferredSource: string): BaseData {\r\n    let energy = 0;\r\n    let carbohydrates = 0;\r\n    let lipids = 0;\r\n    let proteins = 0;\r\n    let water = 0;\r\n    let dietaryFibers = 0;\r\n    let alcohol = 0;\r\n    let ash = 0;\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        const baseData = getNutrientData(selectedFoodItem).baseData;\r\n        const userSetPortion = selectedFoodItem.portion.amount;\r\n        const portionFactor = userSetPortion / 100;\r\n\r\n        energy += (baseData.energy ? baseData.energy : 0) * portionFactor;\r\n        carbohydrates += baseData.carbohydrates * portionFactor;\r\n        lipids += baseData.lipids * portionFactor;\r\n        proteins += baseData.proteins * portionFactor;\r\n        water += baseData.water * portionFactor;\r\n        dietaryFibers += (baseData.dietaryFibers ? baseData.dietaryFibers : 0) * portionFactor;\r\n        alcohol += (baseData.alcohol ? baseData.alcohol : 0) * portionFactor;\r\n        ash += (baseData.ash ? baseData.ash : 0) * portionFactor;\r\n    })\r\n\r\n    return {\r\n        energy: createFinalValue(energy, portionSize),\r\n        carbohydrates: createFinalValue(carbohydrates, portionSize),\r\n        lipids: createFinalValue(lipids, portionSize),\r\n        proteins: createFinalValue(proteins, portionSize),\r\n        water: createFinalValue(water, portionSize),\r\n        dietaryFibers: createFinalValue(dietaryFibers, portionSize),\r\n        alcohol: alcohol,\r\n        ash: ash\r\n    }\r\n\r\n}\r\n\r\n\r\nfunction buildVitaminDataObject(compositeList: Array<SelectedFoodItem>, portionSize: number, preferredSource: string): VitaminData {\r\n    let a = 0\r\n    let b1 = 0\r\n    let b2 = 0\r\n    let b3 = 0\r\n    let b5 = 0\r\n    let b6 = 0\r\n    let b7 = 0\r\n    let b9 = 0\r\n    let b12 = 0\r\n    let c = 0\r\n    let d = 0\r\n    let e = 0\r\n    let k = 0\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        const vitaminData = getNutrientData(selectedFoodItem).vitaminData\r\n        const userSetPortion = selectedFoodItem.portion.amount\r\n        const portionFactor = userSetPortion / 100\r\n\r\n        a += (vitaminData.a ? vitaminData.a : 0) * portionFactor\r\n        b1 += (vitaminData.b1 ? vitaminData.b1 : 0) * portionFactor\r\n        b2 += (vitaminData.b2 ? vitaminData.b2 : 0) * portionFactor\r\n        b3 += (vitaminData.b3 ? vitaminData.b3 : 0) * portionFactor\r\n        b5 += (vitaminData.b5 ? vitaminData.b5 : 0) * portionFactor\r\n        b6 += (vitaminData.b6 ? vitaminData.b6 : 0) * portionFactor\r\n        b7 += (vitaminData.b7 ? vitaminData.b7 : 0) * portionFactor\r\n        b9 += (vitaminData.b9 ? vitaminData.b9 : 0) * portionFactor\r\n        b12 += (vitaminData.b12 ? vitaminData.b12 : 0) * portionFactor\r\n        c += (vitaminData.c ? vitaminData.c : 0) * portionFactor\r\n        d += (vitaminData.d ? vitaminData.d : 0) * portionFactor\r\n        e += (vitaminData.e ? vitaminData.e : 0) * portionFactor\r\n        k += (vitaminData.k ? vitaminData.k : 0) * portionFactor\r\n    })\r\n\r\n    return {\r\n        a: createFinalValue(a, portionSize),\r\n        b1: createFinalValue(b1, portionSize),\r\n        b2: createFinalValue(b2, portionSize),\r\n        b3: createFinalValue(b3, portionSize),\r\n        b5: createFinalValue(b5, portionSize),\r\n        b6: createFinalValue(b6, portionSize),\r\n        b7: createFinalValue(b7, portionSize),\r\n        b9: createFinalValue(b9, portionSize),\r\n        b12: createFinalValue(b12, portionSize),\r\n        c: createFinalValue(c, portionSize),\r\n        d: createFinalValue(d, portionSize),\r\n        e: createFinalValue(e, portionSize),\r\n        k: createFinalValue(k, portionSize),\r\n    }\r\n}\r\n\r\n\r\nfunction buildMineralDataObject(compositeList: Array<SelectedFoodItem>, portionSize: number, preferredSource: string): MineralData {\r\n    let calcium = 0;\r\n    let iron = 0;\r\n    let magnesium = 0;\r\n    let phosphorus = 0;\r\n    let potassium = 0;\r\n    let sodium = 0;\r\n    let zinc = 0;\r\n    let copper = 0;\r\n    let manganese = 0;\r\n    let selenium = 0;\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        const mineralData = getNutrientData(selectedFoodItem).mineralData\r\n        const userSetPortion = selectedFoodItem.portion.amount\r\n        const portionFactor = userSetPortion / 100\r\n\r\n        calcium += (mineralData.calcium ? mineralData.calcium : 0) * portionFactor;\r\n        iron += (mineralData.iron ? mineralData.iron : 0) * portionFactor;\r\n        magnesium += (mineralData.magnesium ? mineralData.magnesium : 0)\r\n        phosphorus += (mineralData.phosphorus ? mineralData.phosphorus : 0)\r\n        potassium += (mineralData.potassium ? mineralData.potassium : 0)\r\n        sodium += (mineralData.sodium ? mineralData.sodium : 0)\r\n        zinc += (mineralData.zinc ? mineralData.zinc : 0)\r\n        copper += (mineralData.copper ? mineralData.copper : 0)\r\n        manganese += (mineralData.manganese ? mineralData.manganese : 0)\r\n        selenium += (mineralData.selenium ? mineralData.selenium : 0)\r\n    })\r\n\r\n    return {\r\n        calcium: createFinalValue(calcium, portionSize),\r\n        iron: createFinalValue(iron, portionSize),\r\n        magnesium: createFinalValue(magnesium, portionSize),\r\n        phosphorus: createFinalValue(phosphorus, portionSize),\r\n        potassium: createFinalValue(potassium, portionSize),\r\n        sodium: createFinalValue(sodium, portionSize),\r\n        zinc: createFinalValue(zinc, portionSize),\r\n        copper: createFinalValue(copper, portionSize),\r\n        manganese: createFinalValue(manganese, portionSize),\r\n        selenium: createFinalValue(selenium, portionSize),\r\n    }\r\n}\r\n\r\n\r\nfunction buildCarbohydrateData(compositeList: Array<SelectedFoodItem>, portionSize: number, preferredSource: string): CarbohydrateData {\r\n    let glucose = 0;\r\n    let fructose = 0;\r\n    let galactose = 0;\r\n    let sucrose = 0;\r\n    let maltose = 0;\r\n    let lactose = 0;\r\n    let starch = 0;\r\n    let sugar = 0;\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        const carbohydrateData = getNutrientData(selectedFoodItem).carbohydrateData\r\n        const userSetPortion = selectedFoodItem.portion.amount\r\n        const portionFactor = userSetPortion / 100\r\n\r\n        glucose += (carbohydrateData.glucose ? carbohydrateData.glucose : 0) * portionFactor;\r\n        fructose += (carbohydrateData.fructose ? carbohydrateData.fructose : 0) * portionFactor;\r\n        galactose += (carbohydrateData.galactose ? carbohydrateData.galactose : 0) * portionFactor;\r\n        sucrose += (carbohydrateData.sucrose ? carbohydrateData.sucrose : 0) * portionFactor;\r\n        maltose += (carbohydrateData.maltose ? carbohydrateData.maltose : 0) * portionFactor;\r\n        lactose += (carbohydrateData.lactose ? carbohydrateData.lactose : 0) * portionFactor;\r\n        starch += (carbohydrateData.starch ? carbohydrateData.starch : 0) * portionFactor;\r\n        sugar += (carbohydrateData.sugar ? carbohydrateData.sugar : 0) * portionFactor;\r\n    })\r\n\r\n    return {\r\n        glucose: createFinalValue(glucose, portionSize),\r\n        fructose: createFinalValue(fructose, portionSize),\r\n        galactose: createFinalValue(galactose, portionSize),\r\n        sucrose: createFinalValue(sucrose, portionSize),\r\n        maltose: createFinalValue(maltose, portionSize),\r\n        lactose: createFinalValue(lactose, portionSize),\r\n        starch: createFinalValue(starch, portionSize),\r\n        sugar: createFinalValue(sugar, portionSize),\r\n    }\r\n}\r\n\r\n\r\nfunction buildProteinData(compositeList: Array<SelectedFoodItem>, portionSize: number, preferredSource: string): ProteinData {\r\n    let tryptophan = 0;\r\n    let threonine = 0;\r\n    let isoleucine = 0;\r\n    let leucine = 0;\r\n    let lysine = 0;\r\n    let methionine = 0;\r\n    let cystine = 0;\r\n    let phenylalanine = 0;\r\n    let tyrosine = 0;\r\n    let valine = 0;\r\n    let arginine = 0;\r\n    let histidine = 0;\r\n    let alanine = 0;\r\n    let asparticAcid = 0;\r\n    let glutamicAcid = 0;\r\n    let glycine = 0;\r\n    let proline = 0;\r\n    let serine = 0;\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        const proteinData = getNutrientData(selectedFoodItem).proteinData\r\n        const userSetPortion = selectedFoodItem.portion.amount\r\n        const portionFactor = userSetPortion / 100\r\n\r\n        tryptophan += (proteinData.tryptophan ? proteinData.tryptophan : 0) * portionFactor;\r\n        threonine += (proteinData.threonine ? proteinData.threonine : 0) * portionFactor;\r\n        isoleucine += (proteinData.isoleucine ? proteinData.isoleucine : 0) * portionFactor;\r\n        leucine += (proteinData.leucine ? proteinData.leucine : 0) * portionFactor;\r\n        lysine += (proteinData.lysine ? proteinData.lysine : 0) * portionFactor;\r\n        methionine += (proteinData.methionine ? proteinData.methionine : 0) * portionFactor;\r\n        cystine += (proteinData.cystine ? proteinData.cystine : 0) * portionFactor;\r\n        phenylalanine += (proteinData.phenylalanine ? proteinData.phenylalanine : 0) * portionFactor;\r\n        tyrosine += (proteinData.tyrosine ? proteinData.tyrosine : 0) * portionFactor;\r\n        valine += (proteinData.valine ? proteinData.valine : 0) * portionFactor;\r\n        arginine += (proteinData.arginine ? proteinData.arginine : 0) * portionFactor;\r\n        histidine += (proteinData.histidine ? proteinData.histidine : 0) * portionFactor;\r\n        alanine += (proteinData.alanine ? proteinData.alanine : 0) * portionFactor;\r\n        asparticAcid += (proteinData.asparticAcid ? proteinData.asparticAcid : 0) * portionFactor;\r\n        glutamicAcid += (proteinData.glutamicAcid ? proteinData.glutamicAcid : 0) * portionFactor;\r\n        glycine += (proteinData.glycine ? proteinData.glycine : 0) * portionFactor;\r\n        proline += (proteinData.proline ? proteinData.proline : 0) * portionFactor;\r\n        serine += (proteinData.serine ? proteinData.serine : 0) * portionFactor;\r\n    })\r\n\r\n    return {\r\n        tryptophan: createFinalValue(tryptophan, portionSize),\r\n        threonine: createFinalValue(threonine, portionSize),\r\n        isoleucine: createFinalValue(isoleucine, portionSize),\r\n        leucine: createFinalValue(leucine, portionSize),\r\n        lysine: createFinalValue(lysine, portionSize),\r\n        methionine: createFinalValue(methionine, portionSize),\r\n        cystine: createFinalValue(cystine, portionSize),\r\n        phenylalanine: createFinalValue(phenylalanine, portionSize),\r\n        tyrosine: createFinalValue(tyrosine, portionSize),\r\n        valine: createFinalValue(valine, portionSize),\r\n        arginine: createFinalValue(arginine, portionSize),\r\n        histidine: createFinalValue(histidine, portionSize),\r\n        alanine: createFinalValue(alanine, portionSize),\r\n        asparticAcid: createFinalValue(asparticAcid, portionSize),\r\n        glutamicAcid: createFinalValue(glutamicAcid, portionSize),\r\n        glycine: createFinalValue(glycine, portionSize),\r\n        proline: createFinalValue(proline, portionSize),\r\n        serine: createFinalValue(serine, portionSize),\r\n    }\r\n\r\n}\r\n\r\n\r\nfunction buildLipidData(compositeList: Array<SelectedFoodItem>, portionSize: number, preferredSource: string): LipidData {\r\n    let unsaturatedMono = 0;\r\n    let unsaturatedPoly = 0;\r\n    let saturated = 0;\r\n    let omega3 = 0;\r\n    let omega6 = 0;\r\n    let omegaUncertain = 0;\r\n    let cholesterol = 0;\r\n    let transFattyAcids = 0;\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        const lipidData = getNutrientData(selectedFoodItem).lipidData\r\n        const userSetPortion = selectedFoodItem.portion.amount\r\n        const portionFactor = userSetPortion / 100\r\n\r\n        unsaturatedMono += (lipidData.unsaturatedMono ? lipidData.unsaturatedMono : 0) * portionFactor;\r\n        unsaturatedPoly += (lipidData.unsaturatedPoly ? lipidData.unsaturatedPoly : 0) * portionFactor;\r\n        saturated += (lipidData.saturated ? lipidData.saturated : 0) * portionFactor;\r\n        omega3 += (lipidData.omegaData?.omega3 ? lipidData.omegaData.omega3 : 0) * portionFactor;\r\n        omega6 += (lipidData.omegaData?.omega6 ? lipidData.omegaData.omega6 : 0) * portionFactor;\r\n        omegaUncertain += (lipidData.omegaData?.uncertain ? lipidData.omegaData.uncertain : 0) * portionFactor;\r\n        cholesterol += (lipidData.cholesterol ? lipidData.cholesterol : 0) * portionFactor;\r\n        transFattyAcids += (lipidData.transFattyAcids ? lipidData.transFattyAcids : 0) * portionFactor;\r\n    })\r\n\r\n    const omegaRatio = (omega3 + omega6) / (omega3 + omega6 + omegaUncertain)\r\n\r\n    return {\r\n        unsaturatedMono: createFinalValue(unsaturatedMono, portionSize),\r\n        unsaturatedPoly: createFinalValue(unsaturatedPoly, portionSize),\r\n        saturated: createFinalValue(saturated, portionSize),\r\n        omegaData: {\r\n            omega3: createFinalValue(omega3, portionSize),\r\n            omega6: createFinalValue(omega6, portionSize),\r\n            uncertain: createFinalValue(omegaUncertain, portionSize),\r\n            uncertainRatio: omegaRatio\r\n        },\r\n        cholesterol: createFinalValue(cholesterol, portionSize),\r\n        transFattyAcids: createFinalValue(transFattyAcids, portionSize),\r\n    }\r\n}\r\n\r\n\r\nfunction createFinalValue(value, totalPortionAmount) {\r\n    return (value / totalPortionAmount) * 100;\r\n}","import {ReactElement, useContext} from \"react\";\r\nimport {LanguageContext} from \"../contexts/LangContext\";\r\nimport {applicationStrings} from \"../static/labels\";\r\nimport {HelpText} from \"../service/HelpService\";\r\n\r\ninterface HelpModalProps {\r\n    helpText: HelpText\r\n    closeHelpModal: () => void\r\n}\r\n\r\nexport function HelpModal(props: HelpModalProps): ReactElement {\r\n    const languageContext = useContext(LanguageContext)\r\n\r\n    if (!props.helpText) {\r\n        return (<div>No data available.</div>);\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"modal\" style={{display: \"block\"}} role=\"dialog\">\r\n            <div className=\"modal-dialog\" role=\"document\">\r\n                <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                        <h5 className=\"modal-title\">{props.helpText.title}</h5>\r\n                        <button type=\"button\"\r\n                                className=\"btn-close\"\r\n                                data-dismiss=\"modal\"\r\n                                aria-label=\"Close\"\r\n                                onClick={props.closeHelpModal}>\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"modal-body\">\r\n                        <span dangerouslySetInnerHTML={{__html: props.helpText.content}}/>\r\n                    </div>\r\n                    <div className=\"modal-footer\">\r\n                        <button type=\"button\"\r\n                                className=\"btn btn-primary\"\r\n                                onClick={props.closeHelpModal}>\r\n                            {applicationStrings.button_close[languageContext.language]}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import {LANGUAGE_EN} from \"../config/Constants\";\r\n\r\nexport interface HelpText {\r\n    title: string,\r\n    content: string\r\n}\r\n\r\nexport function getHelpText(helpModalId: number, languageId: string): HelpText | null {\r\n    const helpFile = require(\"../static/help/help.json\");\r\n    const entry = helpFile.entries.find( (entry) => entry.id === helpModalId);\r\n\r\n    if(entry) {\r\n        const languageSection = languageId === LANGUAGE_EN ? entry.en : entry.de;\r\n        const title = languageSection.title;\r\n        const contentArray = languageSection.content;\r\n\r\n        let content = \"\";\r\n        for(let i=0; i < contentArray.length; i++) {\r\n            content += contentArray[i];\r\n            if(i < (contentArray.length-1)) {\r\n                content += \"<br />\"\r\n            }\r\n        }\r\n\r\n        return {\r\n            title: title,\r\n            content: content\r\n        };\r\n    }\r\n\r\n    return null\r\n}","import React, {useContext, useState} from 'react'\r\n\r\nimport {Button, Modal} from 'react-bootstrap'\r\n\r\nimport {NotificationManager} from 'react-notifications'\r\nimport 'react-notifications/lib/notifications.css';\r\n\r\nimport FoodSelector from \"./FoodSelector\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {CompositeFoodList} from \"./CompositeFoodList\";\r\nimport {maximalPortionSize} from \"../../config/ApplicationSetting\";\r\nimport combineFoodItems from \"../../service/calculation/FoodDataAggregationService\";\r\nimport {FaQuestionCircle} from \"react-icons/all\";\r\nimport {HelpModal} from \"../HelpModal\";\r\nimport {getHelpText} from \"../../service/HelpService\";\r\n\r\nexport interface FoodSelectorModalProps {\r\n    onHide: () => void,\r\n    selectedFoodItemCallback: (selectedFoodItem: SelectedFoodItem) => void\r\n    compositeSelector: boolean\r\n}\r\n\r\n\r\nconst FoodSelectorModal: React.FC<FoodSelectorModalProps> = (props: FoodSelectorModalProps) => {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const {language} = useContext(LanguageContext)\r\n\r\n    const [selectedFoodItem, setSelectedFoodItem] = useState<SelectedFoodItem | null>(null)\r\n    const [compositeList, setCompositeList] = useState<Array<SelectedFoodItem>>([])\r\n    const [showHelpModal, setShowHelpModal] = useState<boolean>(false)\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const updateSelectedFoodItem = (selectedFoodItem: SelectedFoodItem): void => {\r\n        setSelectedFoodItem(selectedFoodItem)\r\n    }\r\n\r\n    const addCompositeElement = () => {\r\n        if (selectedFoodItem !== null) {\r\n            if (selectedFoodItem.portion.amount < 1 || selectedFoodItem.portion.amount > maximalPortionSize) {\r\n                NotificationManager.error(applicationStrings.message_error_invalid_portion[language])\r\n                return;\r\n            }\r\n\r\n            const newList: Array<SelectedFoodItem> = [...compositeList]\r\n            newList.push(selectedFoodItem)\r\n            setCompositeList(newList)\r\n        }\r\n    }\r\n\r\n    const deleteCompositeElement = (index: number) => {\r\n        const newList: Array<SelectedFoodItem> = [...compositeList]\r\n        newList.splice(index, 1)\r\n        setCompositeList(newList)\r\n    }\r\n\r\n    const onSubmit = () => {\r\n        if (props.compositeSelector) {\r\n            onSubmitComposite()\r\n        } else {\r\n            onSubmitSingleItem()\r\n        }\r\n    }\r\n\r\n    const onSubmitSingleItem = () => {\r\n        const foodItemId = selectedFoodItem ? selectedFoodItem.foodItem.id : null\r\n        if (foodItemId) {\r\n            const existingItemInList = applicationContext?.applicationData.foodDataPanel.selectedFoodItems.find(foodItem => foodItem.id === foodItemId)\r\n\r\n            if (existingItemInList) {\r\n                NotificationManager.error(applicationStrings.message_error_existing_element[language])\r\n                return\r\n            }\r\n        }\r\n\r\n        if (!selectedFoodItem || !selectedFoodItem.foodItem || !selectedFoodItem.foodClass || !selectedFoodItem.portion) {\r\n            NotificationManager.error(applicationStrings.message_error_incomplete_form[language])\r\n        } else if (selectedFoodItem.portion.amount < 1 || selectedFoodItem.portion.amount > maximalPortionSize) {\r\n            NotificationManager.error(applicationStrings.message_error_invalid_portion[language])\r\n        } else {\r\n            props.selectedFoodItemCallback(selectedFoodItem)\r\n            props.onHide()\r\n        }\r\n    }\r\n\r\n    const onSubmitComposite = () => {\r\n        const preferredSource = applicationContext.applicationData.preferredSource\r\n        let aggregatedSelectedFoodItem = combineFoodItems(compositeList, preferredSource)\r\n\r\n        if (!aggregatedSelectedFoodItem) {\r\n            return\r\n        }\r\n\r\n        aggregatedSelectedFoodItem = {...aggregatedSelectedFoodItem, aggregated: true}\r\n        props.selectedFoodItemCallback(aggregatedSelectedFoodItem)\r\n        props.onHide()\r\n    }\r\n\r\n    const onCancel = () => {\r\n        props.onHide()\r\n    }\r\n\r\n    const onOpenHelpModal = () => {\r\n        setShowHelpModal(true)\r\n    }\r\n\r\n    const title = props.compositeSelector ? applicationStrings.label_foodselector_composite[language] : applicationStrings.label_foodselector[language]\r\n    const helpText = props.compositeSelector ? getHelpText(10, language) : getHelpText(9, language)\r\n\r\n    return (\r\n        <Modal size={'lg'} show={true} onHide={props.onHide}>\r\n            <Modal.Header>\r\n                <b>{title}</b>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                {showHelpModal && helpText !== null &&\r\n                <HelpModal helpText={helpText} closeHelpModal={() => setShowHelpModal(false)}/>\r\n                }\r\n                <div>\r\n                    {!props.compositeSelector ?\r\n                        <FoodSelector updateSelectedFoodItem={updateSelectedFoodItem} smallVariant={false}/>\r\n                        :\r\n                        <div className={\"container\"}>\r\n                            <div className={\"row\"}>\r\n                                <div className={\"col-6\"}>\r\n                                    <FoodSelector updateSelectedFoodItem={updateSelectedFoodItem}\r\n                                                  smallVariant={true}/>\r\n                                </div>\r\n                                <div className={\"col-6\"}>\r\n                                    <CompositeFoodList selectedFoodItems={compositeList}\r\n                                                       deleteItem={deleteCompositeElement}/>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </Modal.Body>\r\n            <Modal.Footer className={\"justify-content-between\"}>\r\n                <div>\r\n                    <Button className={\"btn btn-secondary\"} onClick={onOpenHelpModal}>\r\n                        <FaQuestionCircle/>\r\n                    </Button>\r\n                </div>\r\n                <div className={\"d-flex d-row justify-content-end\"}>\r\n                    <Button className={\"btn-secondary form-button\"} onClick={onCancel}>\r\n                        {applicationStrings.button_cancel[language]}\r\n                    </Button>\r\n                    {props.compositeSelector ?\r\n                        <Button className={\"form-button\"}\r\n                                onClick={onSubmit}\r\n                                disabled={!compositeList || compositeList.length < 1}>\r\n                            {applicationStrings.button_show[language]}\r\n                        </Button>\r\n                        :\r\n                        <Button className={\"form-button\"} onClick={onSubmit}>\r\n                            {applicationStrings.button_select[language]}\r\n                        </Button>\r\n                    }\r\n\r\n                    {props.compositeSelector &&\r\n                    <Button className={\"form-button\"} onClick={addCompositeElement}>\r\n                        {applicationStrings.button_add[language]}\r\n                    </Button>\r\n                    }\r\n                </div>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    )\r\n\r\n}\r\n\r\nexport default FoodSelectorModal","import React from \"react\";\r\n\r\nimport {confirmable, createConfirmation} from \"react-confirm\";\r\nimport {Button, Modal} from \"react-bootstrap\";\r\n\r\ninterface ConfirmationDialogProps {\r\n    okLabel: string,\r\n    cancelLabel: string,\r\n    title: string,\r\n    confirmation: string,\r\n    show: boolean,\r\n    proceed: (procedd: boolean) => void, // called when ok button is clicked.\r\n    enableEscape: boolean,\r\n    small?: boolean\r\n}\r\n\r\nclass ConfirmationDialog extends React.Component<ConfirmationDialogProps> {\r\n\r\n    render() {\r\n        const {\r\n            okLabel,\r\n            cancelLabel,\r\n            title,\r\n            confirmation,\r\n            show,\r\n            proceed,\r\n            enableEscape = true,\r\n        } = this.props;\r\n\r\n        return (\r\n            <Modal\r\n                show={show}\r\n                onHide={() => proceed(false)}\r\n                backdrop={enableEscape ? true : \"static\"}\r\n                keyboard={enableEscape}\r\n                fullscreen={true}>\r\n                <Modal.Header>\r\n                    <Modal.Title>{title}</Modal.Title>\r\n                </Modal.Header>\r\n                <Modal.Body>{confirmation}</Modal.Body>\r\n                <Modal.Footer>\r\n                    <Button style={{minWidth: \"80px\"}}\r\n                            onClick={() => proceed(false)}>\r\n                        {cancelLabel}\r\n                    </Button>\r\n                    <Button\r\n                        style={{minWidth: \"80px\"}}\r\n                        className=\"primary button-l\"\r\n                        onClick={() => proceed(true)}>\r\n                        {okLabel}\r\n                    </Button>\r\n                </Modal.Footer>\r\n            </Modal>\r\n        );\r\n    }\r\n\r\n}\r\n\r\n\r\nexport function confirmAction(\r\n    confirmation,\r\n    okLabel,\r\n    cancelLabel,\r\n    options = {},\r\n    small?\r\n) {\r\n    return createConfirmation(confirmable(ConfirmationDialog))({\r\n        confirmation,\r\n        okLabel,\r\n        cancelLabel,\r\n        ...options,\r\n        small\r\n    });\r\n}\r\n","export const color_yellow = \"rgba(255, 255, 153, 1.0)\";   // Default for Lipids\r\nexport const color_green = \"rgba(132, 225, 132, 1.0)\";   // Default for Carbs\r\n\r\nexport const color_green_light = \"rgba(196, 236, 193, 1.0)\";   // Default for Sugar (as part of carbs)\r\nexport const color_red = \"rgba(255, 204, 204, 1.0)\";   // Default for proteins\r\nexport const color_blue = \"rgba(133, 193, 233, 1.0)\";   // Default for Water\r\nexport const color_purple = \"rgba(213, 205, 237, 1.0)\"; // Default color for a blue line\r\n\r\nexport const color_turquoise = \"rgba(0, 172, 193)\";\r\nexport const color_chart_brown = \"rgba(188, 170, 164)\";\t\t// brown\r\n\r\nexport const color_gray = \"rgba(235, 235, 235, 1.0)\"; // Default color for a blue line\r\nexport const color_line_blue = \"rgba(0, 107, 215, 1.0)\"; // Default color for a blue line\r\nexport const color_line_red = \"rgba(255, 102, 102, 1.0)\"; // Default color for a red line\r\n\r\nexport const color_chart_green_1 = \"rgba(39, 177, 96)\";\t\t// Dark green\r\nexport const color_chart_green_2 = \"rgba(137, 238, 137)\";\t// Normal green\r\nexport const color_chart_green_3 = \"rgba(214, 245, 214)\";\t\t// Light green\r\n\r\nexport const color_chart_yellow_1 = \"rgba(212, 172, 13)\";\t\t// Dark yellow\r\nexport const color_chart_yellow_2 = \"rgba(244, 208, 63)\";\t// Normal yellow\r\nexport const color_chart_yellow_3 = \"rgba(249, 231, 159)\";\t\t// Light yellow\r\nexport const color_chart_yellow_4 = \"rgba(255, 202, 40)\";\r\n\r\nexport const color_chart_yellow_green_1 =\"rgba(174, 213, 129)\"\r\nexport const color_chart_yellow_green_2 =\"rgba(76, 175, 80)\"\r\nexport const color_chart_yellow_green_3 =\"rgba(124, 179, 66)\"\r\n\r\nexport const color_chart_orange = \"rgba(230, 126, 34)\";\r\nexport const color_chart_misc = color_gray;\r\n\r\nexport const basedata_chart_height = 300;\r\nexport const basedata_piechart_width = 300;\r\nexport const basedata_barchart_width = 380;\r\n\r\nexport const default_chart_height = 380;\r\nexport const default_chart_width = 800;\r\n\r\nexport const direct_compare_chartheight = 300;\r\n\r\nexport const energy_chart_height = 413;\r\n\r\nexport const minimal_table_height = energy_chart_height;\r\n\r\nexport const max_portion = 5000;\r\n\r\nexport const color_water = color_blue;\r\nexport const color_lipids = color_yellow;\r\nexport const color_carbs = color_green;\r\nexport const color_carbs_sugar = color_green_light;\r\nexport const color_carbs_dietaryFibers = color_chart_brown;\r\n\r\nexport const color_carbs_mono_glucose = color_chart_yellow_green_1\r\nexport const color_carbs_mono_fructose = color_chart_yellow_green_2\r\nexport const color_carbs_mono_galactose = color_chart_yellow_green_3\r\n\r\nexport const color_carbs_di_sucrose = color_chart_yellow_4\r\nexport const color_carbs_di_lactose = color_chart_yellow_3\r\nexport const color_carbs_di_maltose = color_chart_yellow_1\r\n\r\nexport const color_carbs_starch = color_chart_orange\r\n\r\nexport const color_alcohol = color_turquoise;\r\n\r\nexport const color_proteins = color_red;\r\n\r\nexport const color_lipids_saturated = color_chart_yellow_4;\r\nexport const color_lipids_unsaturated_mono = color_chart_yellow_green_1;\r\nexport const color_lipids_unsaturated_poly = color_chart_yellow_green_2;\r\n\r\nexport const color_lipids_omega3 = color_chart_green_1;\r\nexport const color_lipids_omega6 = color_chart_yellow_2;\r\n\r\nexport const color_lipids_misc = color_gray;\r\n\r\nexport const color_ash = color_gray;\r\n\r\nexport const direct_compare_color1 = \"#ffe085\"\r\nexport const direct_compare_color2 = \"#d9ecff\"","/**\r\n * Returns a default-styled configuration for a bar chart.\r\n *\r\n * title: The charts title.\r\n * unit: The unit to use for the axis title and tooltip.\r\n * minYValue: Optional, a pre-defined maxYValue for the Y axis (e.g. 100)\r\n */\r\nimport {shortenName} from \"./nutrientdata/NameTypeService\";\r\n\r\nexport function getBarChartOptions(title: string, unit: string, maxYValue?: number | undefined) {\r\n    let yAxis: any = {\r\n        title: {\r\n            display: true,\r\n            text: unit\r\n        }\r\n    }\r\n\r\n    if(maxYValue) {\r\n        yAxis = {...yAxis, min: 0, max: maxYValue}\r\n    }\r\n\r\n    const scalesObject = {y: yAxis}\r\n\r\n    return getOptions(title, unit, scalesObject);\r\n}\r\n\r\n\r\nexport function getBarChartOptionsForRanking(title: string, unit: string) {\r\n    const scales = getScalesForRankingChart(unit);\r\n    return getOptions(title, unit, scales);\r\n}\r\n\r\n\r\nexport function getPieChartOptions(title: string, unit: string) {\r\n    return getOptions(title, unit);\r\n}\r\n\r\n\r\nfunction getOptions(title: string, unit: string, scalesObject?: any | undefined) {\r\n    const titleObj = title ? {display: true, text: title, fontSize: 18} : null;\r\n\r\n    let options: any = {\r\n        maintainAspectRatio: false,\r\n        responsive: true,\r\n        plugins: {\r\n            title: titleObj,\r\n            tooltip: getToolTips(unit),\r\n            legend: {\r\n                display: false\r\n            },\r\n        }\r\n    }\r\n\r\n    if (scalesObject !== undefined) {\r\n        options = {...options, scales: scalesObject}\r\n    }\r\n\r\n    return options;\r\n}\r\n\r\nfunction getToolTips(unit: string) {\r\n    return {\r\n        enabled: true,\r\n        maintainAspectRatio: true,\r\n        callbacks: {\r\n            label: tooltipItem => `${tooltipItem.label}: ${tooltipItem.formattedValue} ${unit}`\r\n        }\r\n    };\r\n}\r\n\r\n\r\nfunction getScalesForRankingChart(unit: string) {\r\n    let scaleLabel: any | null = null;\r\n\r\n    if (unit) {\r\n        scaleLabel = {\r\n            display: true,\r\n            labelString: unit\r\n        }\r\n    }\r\n\r\n    let axesObj = {};\r\n    if (scaleLabel) {\r\n        axesObj[\"scaleLabel\"] = scaleLabel;\r\n    }\r\n\r\n    const yAxes = [axesObj];\r\n\r\n    const scales = {\r\n        yAxes: yAxes,\r\n        xAxes: [{\r\n            ticks: {\r\n                autoSkip: false,\r\n                callback: function (value, index, values) {\r\n                    return shortenName(value, 24);\r\n                }\r\n            }\r\n        }]\r\n    };\r\n\r\n    return scales;\r\n}","import {useContext} from \"react\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {CHART_TYPE_BAR, CHART_TYPE_PIE} from \"../../config/Constants\";\r\nimport {Form} from 'react-bootstrap';\r\nimport {PieChartConfigurationProps} from \"../../types/livedata/ChartPropsData\";\r\n\r\nexport function PieChartConfigurationForm(props: PieChartConfigurationProps) {\r\n    const languageContext = useContext(LanguageContext)\r\n\r\n    return (\r\n        <div className=\"container form-main\">\r\n            <div className=\"row\">\r\n                <form className=\"form-inline form-group\">\r\n                    <Form.Label className=\"form-elements\">\r\n                        <b>{applicationStrings.label_charttype[languageContext.language]}:</b>\r\n                    </Form.Label>\r\n                    <Form.Check inline={true}\r\n                                label={applicationStrings.label_charttype_pie[languageContext.language]}\r\n                                type=\"radio\"\r\n                                value={CHART_TYPE_PIE}\r\n                                checked={props.chartType === CHART_TYPE_PIE}\r\n                                onChange={props.handleRadioButtonClick}>\r\n                    </Form.Check>\r\n                    <Form.Check inline={true}\r\n                                style={{paddingRight: \"48px\"}}\r\n                                label={applicationStrings.label_charttype_bar[languageContext.language]}\r\n                                type=\"radio\"\r\n                                value={CHART_TYPE_BAR}\r\n                                checked={props.chartType === CHART_TYPE_BAR}\r\n                                onChange={props.handleRadioButtonClick}>\r\n                    </Form.Check>\r\n                    <Form.Check inline={true}\r\n                                label={applicationStrings.checkbox_chartoption_showLegend[languageContext.language]}\r\n                                defaultChecked={props.showLegend}\r\n                                disabled={props.chartType === CHART_TYPE_BAR}\r\n                                onClick={props.handleLegendCheckboxClick}>\r\n                    </Form.Check>\r\n                    {props.detailsCheckboxAvailable &&\r\n                    <Form.Check inline={true}\r\n                                label={applicationStrings.checkbox_chartoption_showDetails[languageContext.language]}\r\n                                defaultChecked={props.showDetails}\r\n                                onClick={props.handleDetailsCheckboxClick}>\r\n                    </Form.Check>\r\n                    }\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import {ReactElement} from \"react\";\r\n\r\ninterface CustomLegendProps {\r\n    legendData: Array<any>\r\n}\r\n\r\nexport function CustomLegend(props: CustomLegendProps) {\r\n\r\n    const renderLegend = () => {\r\n        let legend: Array<ReactElement> = [];\r\n\r\n        for (let i = 0; i < props.legendData.length; i++) {\r\n            const element = props.legendData[i];\r\n            const indent = element.indent > 0 ? \"25px\" : \"0px\";\r\n            const verticalSpace = element.separateNextElement ? \"15px\" : \"0px\";\r\n            const id = `legendrow ${i}`;\r\n\r\n            legend.push(\r\n                <div key={id} className=\"row\" style={{marginLeft: indent, marginBottom: verticalSpace}}>\r\n                    <div style={{display: \"flex\"}}>\r\n                        <div className=\"legendItem\" style={{background: element.color}}></div>\r\n                        <p style={{marginTop: \"-3px\"}}>{element.item}</p>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return legend;\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={\"form-main\"} style={{borderLeft: \"1px solid #aaaaaa\", paddingLeft: \"5px\"}}>\r\n            <div style={{paddingTop: \"4px\"}}>\r\n                {renderLegend()}\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n\r\n}","import {WindowDimension} from \"../WindowDimension\";\r\nimport {basedata_piechart_width, default_chart_height} from \"../../config/ChartConfig\";\r\nimport {TAB_BASE_DATA} from \"../../config/Constants\";\r\n\r\nexport function calculateChartHeight(currentDimension: WindowDimension, directCompare?: boolean, dataPage?: string): number {\r\n    return directCompare === true\r\n        ? currentDimension.height / 3\r\n        : dataPage === TAB_BASE_DATA\r\n            ? basedata_piechart_width\r\n            : default_chart_height\r\n}\r\n\r\nexport function calculateChartContainerHeight(currentDimension: WindowDimension, directCompare?: boolean): number {\r\n    return directCompare === true\r\n        ? calculateChartHeight(currentDimension, directCompare) + 24\r\n        : calculateChartHeight(currentDimension, directCompare) + 10\r\n}\r\n","/**\r\n * Checks whether a value is a positive integer value.\r\n */\r\nexport function isPositiveIntegerValue(value) {\r\n    const number = Number(value);\r\n    return Number.isInteger(number) && number > 0;\r\n}\r\n\r\n/**\r\n * Checks whether a value is a positive integer value or 0.\r\n */\r\nexport function isPositiveIntegerValueOrZero(value) {\r\n    const number = Number(value);\r\n    return Number.isInteger(number) && number >= 0;\r\n}\r\n\r\n/**\r\n * Rounds a value between 0 and 100 automatically to a reasonable number of digits:\r\n *\r\n * - Generally the value is rounded to one digit.\r\n * - Between 1 and 10, the value is rounded to two digits.\r\n * - Between 0.1 and 1, the value is rounded to three digits.\r\n * - Between 0.01 and 0.1, the value is rounded to four digits.\r\n * - Otherwise it is rounded to five digits.\r\n *\r\n */\r\nexport function autoRound(value) {\r\n    let roundFactor = 0;   // Default round factor\r\n\r\n    if(value >= 100) {\r\n        roundFactor = 0;\r\n    } else if(value < 100 && value >= 10) {\r\n        roundFactor = 1;\r\n    } else if(value < 10 && value >= 1) {\r\n        roundFactor = 2;\r\n    } else if(value < 1 && value >= 0.1) {\r\n        roundFactor = 3;\r\n    } else if(value < 0.1 && value >= 0.01) {\r\n        roundFactor = 4;\r\n    } else {\r\n        roundFactor = 5;\r\n    }\r\n\r\n    return round(value, roundFactor);\r\n}\r\n\r\n/**\r\n * Simple round function to round a number to a specific number of digits.\r\n */\r\nexport function round(value, digits) {\r\n    const roundFactor = Math.pow(10, digits);\r\n    return (Math.round(value * roundFactor)) / roundFactor;\r\n}\r\n\r\nexport function roundToNextValue(chartMaxValue: number) {\r\n\r\n    const roundUp = (value: number, multiple: number) => {\r\n        const remainder = value % multiple\r\n        if (remainder === 0) {\r\n            return value\r\n        } else {\r\n            return value + multiple - remainder\r\n        }\r\n    }\r\n\r\n    let multiple\r\n    if (chartMaxValue < 0.2) {\r\n        multiple = 0.1\r\n    } else if (chartMaxValue < 0.5) {\r\n        multiple = 0.2\r\n    } else if (chartMaxValue < 1) {\r\n        multiple = 0.5\r\n    } else if (chartMaxValue < 2) {\r\n        multiple = 1\r\n    } else if (chartMaxValue < 5) {\r\n        multiple = 2\r\n    } else if (chartMaxValue < 10) {\r\n        multiple = 5\r\n    } else if (chartMaxValue < 20) {\r\n        multiple = 10\r\n    } else if (chartMaxValue < 50) {\r\n        multiple = 20\r\n    } else if (chartMaxValue < 100) {\r\n        multiple = 50\r\n    } else if (chartMaxValue < 200) {\r\n        multiple = 100\r\n    } else if (chartMaxValue < 500) {\r\n        multiple = 200\r\n    } else if (chartMaxValue < 1000) {\r\n        multiple = 500\r\n    } else if (chartMaxValue < 2000) {\r\n        multiple = 1000\r\n    } else if (chartMaxValue < 5000) {\r\n        multiple = 2000\r\n    } else if (chartMaxValue < 10000) {\r\n        multiple = 5000\r\n    } else if (chartMaxValue < 20000) {\r\n        multiple = 10000\r\n    } else if (chartMaxValue < 50000) {\r\n        multiple = 20000\r\n    } else if (chartMaxValue < 100000) {\r\n        multiple = 50000\r\n    } else if (chartMaxValue < 200000) {\r\n        multiple = 100000\r\n    } else {\r\n        multiple = 200000\r\n    }\r\n\r\n    // Add 1 % buffer to the maximum value\r\n    chartMaxValue = chartMaxValue * 1.01\r\n\r\n    return round(roundUp(chartMaxValue, multiple),2)\r\n}\r\n\r\n\r\n/**\r\n * Returns a number of fixed length with leading zeros.\r\n */\r\nexport function getNumberOfFixedLength(number: number, digits: number): string {\r\n\tlet numberString = `${number}`\r\n\twhile(numberString.length < digits) {\r\n\t\tnumberString = `0${numberString}`\r\n\t}\r\n\treturn numberString\r\n}\r\n\r\n\r\nexport function convertBooleanToDigit(value: boolean) {\r\n\treturn value === true ? 1 : 0\r\n}\r\n\r\nexport function convertStringToBoolean(value: string) {\r\n\treturn value === \"1\" ? true : false\r\n}\r\n","import {NutrientData} from \"../../types/nutrientdata/FoodItem\";\r\nimport {autoRound} from \"../calculation/MathService\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport * as ChartConfig from \"../../config/ChartConfig\";\r\nimport {ChartDisplayData, LegendData} from \"../../types/livedata/ChartDisplayData\";\r\n\r\nexport function getTotalChartData(nutrientData: NutrientData, language: string): ChartDisplayData {\r\n    const alcoholValuePerc = nutrientData.baseData.alcohol !== null\r\n        ? autoRound(nutrientData.baseData.alcohol)\r\n        : null\r\n\r\n    const data = [autoRound(nutrientData.baseData.water),\r\n        autoRound(nutrientData.baseData.carbohydrates),\r\n        autoRound(nutrientData.baseData.lipids),\r\n        autoRound(nutrientData.baseData.proteins),\r\n        autoRound(nutrientData.baseData.ash)\r\n    ]\r\n\r\n    const labels: string[] = [applicationStrings.label_nutrient_water[language],\r\n        applicationStrings.label_nutrient_carbohydrates_short[language],\r\n        applicationStrings.label_nutrient_lipids[language],\r\n        applicationStrings.label_nutrient_proteins[language],\r\n        applicationStrings.label_nutrient_ash[language]]\r\n\r\n    const colors = [\r\n        ChartConfig.color_water,\r\n        ChartConfig.color_carbs,\r\n        ChartConfig.color_lipids,\r\n        ChartConfig.color_proteins,\r\n        ChartConfig.color_ash,\r\n    ]\r\n\r\n    if(alcoholValuePerc !== null) {\r\n        data.push(alcoholValuePerc)\r\n        labels.push(applicationStrings.label_nutrient_alcohol[language])\r\n        colors.push(ChartConfig.color_turquoise)\r\n    }\r\n\r\n    return {\r\n        labels: labels,\r\n        values: data,\r\n        colors: colors\r\n    }\r\n}\r\n\r\n\r\nexport function getNutrientChartData(nutrientData: NutrientData, language: string, showDetails: boolean): ChartDisplayData {\r\n    const totalValue = nutrientData.baseData.carbohydrates + nutrientData.baseData.lipids + nutrientData.baseData.proteins;\r\n\r\n    const sugar = nutrientData.carbohydrateData?.sugar ? nutrientData.carbohydrateData.sugar : 0\r\n    const dietaryFibers = nutrientData.baseData.dietaryFibers ? nutrientData.baseData.dietaryFibers : 0\r\n\r\n    let carbValue = showDetails ? (nutrientData.baseData.carbohydrates - sugar - dietaryFibers)\r\n        : nutrientData.baseData.carbohydrates;\r\n\r\n    if (carbValue < 0) {\r\n        carbValue = 0\r\n    }\r\n\r\n    const carbValuePerc = autoRound(carbValue / totalValue * 100)\r\n    const sugarValuePerc = autoRound(sugar / totalValue * 100)\r\n    const dietaryFibersPerc = autoRound(dietaryFibers / totalValue * 100)\r\n    const lipidValuePerc = autoRound(nutrientData.baseData.lipids / totalValue * 100)\r\n    const proteinsValuePerc = autoRound(nutrientData.baseData.proteins / totalValue * 100)\r\n    const alcoholValuePerc = nutrientData.baseData.alcohol !== null\r\n        ? autoRound(nutrientData.baseData.alcohol / totalValue * 100)\r\n        : null\r\n\r\n    const labels = [applicationStrings.label_nutrient_lipids[language],\r\n        applicationStrings.label_nutrient_proteins[language],\r\n        applicationStrings.label_nutrient_carbohydrates_short[language]]\r\n\r\n    if (alcoholValuePerc !== null) {\r\n        labels.push(applicationStrings.label_nutrient_alcohol[language])\r\n    }\r\n\r\n    const values = [lipidValuePerc, proteinsValuePerc, carbValuePerc];\r\n    if (alcoholValuePerc !== null) {\r\n        values.push(alcoholValuePerc)\r\n    }\r\n\r\n    const colors = [\r\n        ChartConfig.color_lipids,\r\n        ChartConfig.color_proteins,\r\n        ChartConfig.color_carbs\r\n    ];\r\n\r\n    if (alcoholValuePerc !== null) {\r\n        colors.push(ChartConfig.color_alcohol)\r\n    }\r\n\r\n    if (showDetails) {\r\n        if (sugarValuePerc > 0) {\r\n            labels.push(applicationStrings.label_nutrient_sugar[language]);\r\n            values.push(sugarValuePerc);\r\n            colors.push(ChartConfig.color_carbs_sugar);\r\n        }\r\n        if (dietaryFibersPerc > 0) {\r\n            labels.push(applicationStrings.label_nutrient_dietaryFibers_short[language]);\r\n            values.push(dietaryFibersPerc);\r\n            colors.push(ChartConfig.color_carbs_dietaryFibers);\r\n        }\r\n    }\r\n\r\n    return {\r\n        labels: labels,\r\n        values: values,\r\n        colors: colors\r\n    }\r\n}\r\n\r\nexport function getBaseChartLegendData(lang: string, showDetails: boolean): LegendData[] {\r\n    const legendData: LegendData[] = [\r\n        {\r\n            item: applicationStrings.label_nutrient_water[lang],\r\n            color: ChartConfig.color_water,\r\n            separateNextElement: true\r\n        },\r\n        {\r\n            item: applicationStrings.label_nutrient_lipids[lang],\r\n            color: ChartConfig.color_lipids\r\n        },\r\n        {\r\n            item: applicationStrings.label_nutrient_proteins[lang],\r\n            color: ChartConfig.color_proteins\r\n        },\r\n        {\r\n            item: applicationStrings.label_nutrient_carbohydrates_short[lang],\r\n            color: ChartConfig.color_carbs,\r\n        },\r\n        {\r\n            item: applicationStrings.label_nutrient_alcohol[lang],\r\n            color: ChartConfig.color_alcohol,\r\n        }\r\n    ];\r\n\r\n    if (showDetails) {\r\n        legendData.push(\r\n            {\r\n                item: applicationStrings.label_nutrient_sugar[lang],\r\n                color: ChartConfig.color_carbs_sugar,\r\n                indent: 1,\r\n            },\r\n            {\r\n                item: applicationStrings.label_nutrient_dietaryFibers[lang],\r\n                color: ChartConfig.color_carbs_dietaryFibers,\r\n                indent: 1,\r\n                separateNextElement: true\r\n            }\r\n        );\r\n\r\n    }\r\n\r\n    legendData.push({\r\n        item: applicationStrings.label_nutrient_ash[lang],\r\n        color: ChartConfig.color_ash\r\n    })\r\n\r\n    return legendData;\r\n}","import {useContext, useEffect, useState} from \"react\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport * as ChartConfig from \"../../../config/ChartConfig\"\r\nimport {CHART_TYPE_BAR, CHART_TYPE_PIE, TAB_BASE_DATA} from \"../../../config/Constants\";\r\nimport {Bar, Pie} from \"react-chartjs-2\";\r\nimport {getBarChartOptions, getPieChartOptions} from \"../../../service/ChartConfigurationService\";\r\nimport {PieChartConfigurationForm} from \"../../charthelper/PieChartConfigurationForm\";\r\nimport {CustomLegend} from \"../../charthelper/CustomLegend\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {initialChartConfigData} from \"../../../config/ApplicationSetting\";\r\nimport {BaseDataChartProps} from \"../../../types/livedata/ChartPropsData\";\r\nimport {useWindowDimension} from \"../../../service/WindowDimension\";\r\nimport {calculateChartContainerHeight, calculateChartHeight} from \"../../../service/nutrientdata/ChartSizeCalculation\";\r\nimport {getNutrientData} from \"../../../service/nutrientdata/NutrientDataRetriever\";\r\nimport {ChartDisplayData} from \"../../../types/livedata/ChartDisplayData\";\r\nimport {getBaseChartLegendData, getNutrientChartData, getTotalChartData} from \"../../../service/chartdata/BaseChartDataService\";\r\n\r\nexport default function BaseDataChart(props: BaseDataChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n    const windowSize = useWindowDimension()\r\n\r\n    const chartConfig = props.directCompareConfig\r\n        ? props.directCompareConfig\r\n        : applicationContext\r\n            ? applicationContext.applicationData.foodDataPanel.chartConfigData.baseChartConfig\r\n            : initialChartConfigData.baseChartConfig\r\n\r\n    const showDetailsProp = chartConfig.showDetails\r\n        ? chartConfig.showDetails\r\n        : applicationContext\r\n            ? applicationContext.applicationData.foodDataPanel.chartConfigData.baseChartConfig.showDetails\r\n            : initialChartConfigData.baseChartConfig.showDetails\r\n\r\n    const [chartType, setChartType] = useState<string>(chartConfig.chartType)\r\n    const [showLegend, setShowLegend] = useState<boolean>(chartConfig.showLegend)\r\n    const [showDetails, setShowDetails] = useState<boolean>(showDetailsProp)\r\n    const [chartHeight, setChartHeight] = useState<number>(calculateChartHeight(windowSize, props.directCompareUse, TAB_BASE_DATA))\r\n\r\n    useEffect(() => {\r\n        if (props.directCompareConfig) {\r\n            setChartType(chartConfig.chartType)\r\n            setShowLegend(chartConfig.showLegend)\r\n            setShowDetails(showDetailsProp)\r\n        }\r\n\r\n        setChartHeight(calculateChartHeight(windowSize, props.directCompareUse, TAB_BASE_DATA))\r\n        updateChartConfig()\r\n    }, [chartType, showDetails, showLegend, chartHeight, props])\r\n\r\n    const updateChartConfig = () => {\r\n        if (applicationContext && !props.directCompareConfig) {\r\n            const currentConfig = applicationContext.applicationData.foodDataPanel.chartConfigData\r\n            if (chartType !== currentConfig.baseChartConfig.chartType\r\n                || showDetails !== currentConfig.baseChartConfig.showDetails\r\n                || showLegend !== currentConfig.baseChartConfig.showLegend) {\r\n                const newChartConfig = {\r\n                    ...currentConfig,\r\n                    baseChartConfig: {\r\n                        chartType: chartType,\r\n                        showDetails: showDetails,\r\n                        showLegend: showLegend\r\n                    }\r\n                }\r\n                applicationContext.setFoodDataPanelData.updateFoodDataPanelChartConfig(newChartConfig)\r\n            }\r\n        }\r\n    }\r\n\r\n    const createTotalChartData = () => {\r\n        const chartDisplayData: ChartDisplayData = getTotalChartData(getNutrientData(props.selectedFoodItem), lang)\r\n\r\n        return {\r\n            labels: chartDisplayData.labels,\r\n            datasets: [{\r\n                label: applicationStrings.label_chart_totalComposition[lang],\r\n                data: chartDisplayData.values,\r\n                backgroundColor: chartDisplayData.colors,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        }\r\n    }\r\n\r\n    const createNutrientChartData = () => {\r\n        const chartDisplayData: ChartDisplayData = getNutrientChartData(getNutrientData(props.selectedFoodItem), lang, showDetails)\r\n\r\n        return {\r\n            labels: chartDisplayData.labels,\r\n            datasets: [{\r\n                label: applicationStrings.label_chart_nutrientComposition[lang],\r\n                data: chartDisplayData.values,\r\n                backgroundColor: chartDisplayData.colors,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        }\r\n    }\r\n\r\n\r\n    const handleRadioButtonClick = (event: any) => {\r\n        setChartType(event.target.value)\r\n        updateChartConfig()\r\n    }\r\n\r\n    const handleLegendCheckboxClick = () => {\r\n        setShowLegend(!showLegend)\r\n        updateChartConfig()\r\n    }\r\n\r\n    const handleDetailsCheckboxClick = () => {\r\n        setShowDetails(!showDetails)\r\n        updateChartConfig()\r\n    }\r\n\r\n    const legendAllowed = showLegend && chartType === CHART_TYPE_PIE\r\n\r\n    const getOptions = (title) => {\r\n        return chartType === CHART_TYPE_BAR ? getBarChartOptions(title, \"%\") : getPieChartOptions(title, \"%\")\r\n    }\r\n\r\n\r\n    const renderSubChart = (title: string, chartData: any) => {\r\n        if (!chartData) {\r\n            return <div/>\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {chartType === CHART_TYPE_PIE &&\r\n                <Pie\r\n                    data={chartData}\r\n                    key={'chart ' + chartHeight}\r\n                    height={chartHeight}\r\n                    width={ChartConfig.basedata_piechart_width}\r\n                    options={getOptions(title)}/>\r\n                }\r\n                {chartType === CHART_TYPE_BAR &&\r\n                <Bar\r\n                    data={chartData}\r\n                    key={'chart ' + chartHeight}\r\n                    height={chartHeight}\r\n                    width={ChartConfig.basedata_barchart_width}\r\n                    options={getOptions(title)}/>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const totalChartData = createTotalChartData();\r\n    const nutrientChartData = createNutrientChartData();\r\n\r\n    const totalChartDataTitle = applicationStrings.label_chart_totalComposition[lang]\r\n    const nutrientChartDataTitle = applicationStrings.label_chart_nutrientComposition[lang]\r\n\r\n    const containerHeight = calculateChartContainerHeight(windowSize, props.directCompareUse)\r\n    const justifyContent = props.directCompareUse ? \"center\" : \"left\"\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"d-flex text-align-center\" style={{justifyContent: justifyContent}}>\r\n                <div className=\"d-inline-block\">\r\n                    <div className=\"row\" style={{height: containerHeight}}\r\n                         key={\"base chart container \" + containerHeight}>\r\n                        <div className=\"col-6\">\r\n                            <div>{renderSubChart(totalChartDataTitle, totalChartData)}</div>\r\n                        </div>\r\n                        <div className=\"col-6\">\r\n                            <div>{renderSubChart(nutrientChartDataTitle, nutrientChartData)}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {legendAllowed &&\r\n                <div className=\"d-inline-block float-right\">\r\n                    <CustomLegend legendData={getBaseChartLegendData(lang, showDetails)}/>\r\n                </div>\r\n                }\r\n            </div>\r\n            {!props.directCompareUse &&\r\n            <div className=\"row chartFormLine\">\r\n                <PieChartConfigurationForm chartType={chartType}\r\n                                           showLegend={showLegend}\r\n                                           showDetails={showDetails}\r\n                                           detailsCheckboxAvailable={true}\r\n                                           handleRadioButtonClick={handleRadioButtonClick}\r\n                                           handleLegendCheckboxClick={handleLegendCheckboxClick}\r\n                                           handleDetailsCheckboxClick={handleDetailsCheckboxClick}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n\r\n}","export const PAL_CATEGORY_1 = 1.2;\r\nexport const PAL_CATEGORY_2 = 1.4;\r\nexport const PAL_CATEGORY_3 = 1.6;\r\nexport const PAL_CATEGORY_4 = 1.8;\r\nexport const PAL_CATEGORY_5 = 2.1;\r\nexport const PAL_CATEGORY_6 = 2.4;\r\nexport const PAL_CATEGORY_7 = 2.8;","import {SEX_MALE} from '../../config/Constants';\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport * as EnergyConstants from '../../config/EnergyConstants'\r\nimport {PalCategory} from \"../../types/livedata/PalCategory\";\r\n\r\n\r\n/**\r\n * Creates a list of PAL categories with name and value for the user settings form.\r\n */\r\nexport function getPalCategories(language: string): Array<PalCategory> {\r\n    const palCategories = [\r\n        {label: createPalCategoryName(language, 1), value: EnergyConstants.PAL_CATEGORY_1},\r\n        {label: createPalCategoryName(language, 2), value: EnergyConstants.PAL_CATEGORY_2},\r\n        {label: createPalCategoryName(language, 3), value: EnergyConstants.PAL_CATEGORY_3},\r\n        {label: createPalCategoryName(language, 4), value: EnergyConstants.PAL_CATEGORY_4},\r\n        {label: createPalCategoryName(language, 5), value: EnergyConstants.PAL_CATEGORY_5},\r\n        {label: createPalCategoryName(language, 6), value: EnergyConstants.PAL_CATEGORY_6},\r\n        {label: createPalCategoryName(language, 7), value: EnergyConstants.PAL_CATEGORY_7},\r\n    ];\r\n\r\n    return palCategories;\r\n}\r\n\r\n/**\r\n * Returns the PAL category number of a PAL value.\r\n *\r\n * value: The PAL value, e.g. 1.4 or 1.6.\r\n */\r\nexport function getPalCategory(value: number): number {\r\n    switch(value) {\r\n        case EnergyConstants.PAL_CATEGORY_1:\r\n            return 1\r\n        case EnergyConstants.PAL_CATEGORY_2:\r\n            return 2\r\n        case EnergyConstants.PAL_CATEGORY_3:\r\n            return 3\r\n        case EnergyConstants.PAL_CATEGORY_4:\r\n            return 4\r\n        case EnergyConstants.PAL_CATEGORY_5:\r\n            return 5\r\n        case EnergyConstants.PAL_CATEGORY_6:\r\n            return 6\r\n        case EnergyConstants.PAL_CATEGORY_7:\r\n            return 7\r\n        default:\r\n            return 1\r\n    }\r\n}\r\n\r\n\r\nexport function getPalValue(palCategory: number): number {\r\n\tswitch(palCategory) {\r\n        case 1:\r\n            return EnergyConstants.PAL_CATEGORY_1\r\n        case 2:\r\n            return EnergyConstants.PAL_CATEGORY_2\r\n        case 3:\r\n            return EnergyConstants.PAL_CATEGORY_3\r\n        case 4:\r\n            return EnergyConstants.PAL_CATEGORY_4\r\n        case 5:\r\n            return EnergyConstants.PAL_CATEGORY_5\r\n        case 6:\r\n            return EnergyConstants.PAL_CATEGORY_6\r\n        case 7:\r\n            return EnergyConstants.PAL_CATEGORY_7\r\n        default:\r\n            return EnergyConstants.PAL_CATEGORY_1\r\n    }\r\n}\r\n\r\n\r\nfunction createPalCategoryName(language, category): string {\r\n    const languageLabel = `palcat_name_${category}`;\r\n    const name = applicationStrings[languageLabel][language]\r\n\r\n    const energyLabel = `PAL_CATEGORY_${category}`;\r\n    const value = EnergyConstants[energyLabel];\r\n    return `${name} (${value})`;\r\n}\r\n\r\n\r\n/**\r\n * Calculates the Basal Metabolic Rate (BMR) of a person.\r\n */\r\nexport function calculateBMR(age: number, size: number, weight: number, sex: string): number {\r\n    if(sex === SEX_MALE) {\r\n        const bmr = 3.4 * weight + 15.3 * size - 6.8 * age - 961;\r\n        return Math.round(bmr);\r\n    } else {\r\n        const bmr = 2.4 * weight + 9.0 * size - 4.7 * age - 65;\r\n        return Math.round(bmr);\r\n    }\r\n}\r\n\r\n/**\r\n * Calculates the total energy consumption of a person in one day.\r\n *\r\n * bmr: The bmr value.\r\n * palValue: The pal value\r\n * leisureSports: Specifies whether leisure sports is performed or not (+0.3 PAL).\r\n */\r\nexport function calculateTotalEnergyConsumption(bmr: number, palValue: number, leisureSports: boolean): number {\r\n    if(leisureSports) {\r\n        palValue += 0.3;\r\n    }\r\n\r\n    return bmr * palValue;\r\n}","import {useContext, useEffect, useState} from \"react\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport * as ChartConfig from \"../../../config/ChartConfig\"\r\nimport {Bar, Chart} from \"react-chartjs-2\";\r\nimport {getBarChartOptions} from \"../../../service/ChartConfigurationService\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport {calculateBMR, calculateTotalEnergyConsumption} from \"../../../service/calculation/EnergyService\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {default_chart_height} from \"../../../config/ChartConfig\";\r\nimport annotationPlugin from 'chartjs-plugin-annotation'\r\nimport {ChartProps} from \"../../../types/livedata/ChartPropsData\";\r\nimport {useWindowDimension} from \"../../../service/WindowDimension\";\r\nimport {calculateChartContainerHeight, calculateChartHeight} from \"../../../service/nutrientdata/ChartSizeCalculation\";\r\nimport {getNutrientData} from \"../../../service/nutrientdata/NutrientDataRetriever\";\r\n\r\nexport default function EnergyDataChart(props: ChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n    const windowSize = useWindowDimension()\r\n\r\n    const nutrientData = getNutrientData(props.selectedFoodItem);\r\n    const energy100g = nutrientData.baseData.energy;\r\n    const [chartHeight, setChartHeight] = useState<number>(calculateChartHeight(windowSize, props.directCompareUse))\r\n\r\n    useEffect(() => {\r\n        setChartHeight(calculateChartHeight(windowSize, props.directCompareUse))\r\n    }, [chartHeight])\r\n\r\n    if (!applicationContext || !energy100g) {\r\n        return <div>No data.</div>\r\n    }\r\n\r\n    const createEnergyLevelChart = () => {\r\n        const averagePortion = props.selectedFoodItem.portion.amount\r\n        const energyPortion = Math.round(energy100g / 100 * averagePortion);\r\n\r\n        return {\r\n            labels: [\"100 g\", \"Portion\"],\r\n            datasets: [{\r\n                data: [energy100g,\r\n                    energyPortion\r\n                ],\r\n                backgroundColor: [\r\n                    ChartConfig.color_yellow,\r\n                    ChartConfig.color_red,\r\n                ],\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n\r\n        }\r\n    }\r\n\r\n\r\n    const renderUserDataInfoPage = () => {\r\n        return (\r\n            <div style={{paddingLeft: \"50px\", paddingTop: \"50px\"}}>\r\n                {applicationContext.userData.initialValues ?\r\n                    (<div>\r\n                        <p>{applicationStrings.text_setUserdata_p1[lang]}</p>\r\n                        <p>{applicationStrings.text_setUserdata_p2[lang]}</p>\r\n                    </div>)\r\n                    :\r\n                    <p>{applicationStrings.text_setUserdata_p3[lang]}</p>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    const getOptions = () => {\r\n        const {age, size, weight, sex, palValue, leisureSports} = applicationContext.userData\r\n        const bmr = calculateBMR(age, size, weight, sex);\r\n        const totalEnergy = calculateTotalEnergyConsumption(bmr, palValue, leisureSports);\r\n\r\n        const annotation = {\r\n            annotations: {\r\n                line1: {\r\n                    drawTime: 'afterDatasetsDraw',\r\n                    type: 'line',\r\n                    mode: 'horizontal',\r\n                    scaleID: 'y-axis-0',\r\n                    yMin: bmr,\r\n                    yMax: bmr,\r\n                    borderColor: ChartConfig.color_line_red,\r\n                    borderWidth: 4,\r\n                    label: {\r\n                        enabled: true,\r\n                        content: applicationStrings.label_chart_bmr[lang]\r\n                    },\r\n                },\r\n                line2:\r\n                    {\r\n                        drawTime: 'afterDatasetsDraw',\r\n                        type: 'line',\r\n                        mode: 'horizontal',\r\n                        scaleID: 'y-axis-0',\r\n                        yMin: totalEnergy,\r\n                        yMax: totalEnergy,\r\n                        borderColor: ChartConfig.color_line_blue,\r\n                        borderWidth: 4,\r\n                        label: {\r\n                            enabled: true,\r\n                            content: applicationStrings.label_chart_energyExpenditure[lang]\r\n                        }\r\n                    },\r\n            }\r\n        }\r\n\r\n        let options: any = getBarChartOptions(applicationStrings.label_charttype_energy[languageContext.language], \"kCal\");\r\n        options = {\r\n            ...options, plugins: {\r\n                ...options.plugins,\r\n                annotation: annotation\r\n            }\r\n        }\r\n\r\n        return options;\r\n    }\r\n\r\n    const data = createEnergyLevelChart();\r\n    if (!data) {\r\n        return <div style={{height: default_chart_height}}>{applicationStrings.label_noData[lang]}</div>\r\n    }\r\n\r\n    const containerHeight = calculateChartContainerHeight(windowSize,  props.directCompareUse)\r\n\r\n    return (\r\n        <div className=\"container-fluid\" >\r\n            <div className=\"row \" style={{height: containerHeight}} key={\"energy container \" + containerHeight}>\r\n                <div className=\"col-6\">\r\n                    <div>\r\n                        <Bar\r\n                            data={data}\r\n                            key={'chart ' + chartHeight}\r\n                            height={chartHeight}\r\n                            options={getOptions()}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-6\">\r\n                    {renderUserDataInfoPage()}\r\n                </div>\r\n            </div>\r\n            <div style={{height: \"64px\"}}></div>\r\n        </div>\r\n    )\r\n\r\n}","import {useContext} from \"react\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {Form} from \"react-bootstrap\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {AMOUNT_PORTION, GRAM} from \"../../config/Constants\";\r\nimport {BarChartConfigurationProps} from \"../../types/livedata/ChartPropsData\";\r\n\r\nexport function BarChartConfigurationForm(props: BarChartConfigurationProps) {\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n\r\n    const label_portion = props.selectedFoodItem\r\n        ?`${applicationStrings.label_portion[lang]} (${props.selectedFoodItem.portion.amount} g)`\r\n        : applicationStrings.label_portion[lang]\r\n\r\n    return (\r\n        <div className=\"container-fluid form-main\">\r\n            <div className=\"row foodDataPageHeader\">\r\n                <form className=\"form-inline form-group\">\r\n                    <Form.Label className={\"form-elements\"}>\r\n                        <b>{applicationStrings.label_reference[lang]}:</b>\r\n                    </Form.Label>\r\n                    <Form.Check type=\"radio\"\r\n                                inline={true}\r\n                                label={\"100g\"}\r\n                                value={GRAM}\r\n                                checked={(props.portionType === GRAM)}\r\n                                onChange={props.handleRadioButtonClick}\r\n                    />\r\n                    <Form.Check type=\"radio\"\r\n                                inline={true}\r\n                                style={{paddingRight: \"48px\"}}\r\n                                label={label_portion}\r\n                                value={AMOUNT_PORTION}\r\n                                checked={props.portionType === AMOUNT_PORTION}\r\n                                onChange={props.handleRadioButtonClick}\r\n                    />\r\n                    <Form.Check className=\"form-radiobutton\"\r\n                                inline={true}\r\n                                label={applicationStrings.checkbox_expand100g[lang]}\r\n                                checked={props.expand100}\r\n                                onChange={props.handleExpandCheckboxClick}>\r\n                    </Form.Check>\r\n                    {props.handleSynchronize !== undefined && props.synchronize !== undefined &&\r\n                    < Form.Check className=\"form-radiobutton\"\r\n                        inline={true}\r\n                        label={applicationStrings.checkbox_synchronize[lang]}\r\n                        checked={props.synchronize}\r\n                        onChange={props.handleSynchronize}>\r\n                        </Form.Check>\r\n                    }\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}","import * as Constants from '../../config/Constants';\r\nimport DietaryRequirement, {\r\n    RequirementAgeGroupData,\r\n    RequirementData\r\n} from \"../../types/nutrientdata/DietaryRequirement\";\r\nimport {UserData} from \"../../types/livedata/UserData\";\r\nimport {SEX_MALE} from \"../../config/Constants\";\r\n\r\n/*\r\n * Determines the daily requirements of a vitamin or mineral for a specific user.\r\n *\r\n * dailyRequirementObject: A vitamin or mineral requirement object (e.g. for Vitamin C or Iron).\r\n * userData: The user data object containing the user data.\r\n */\r\nexport function determineDailyRequirement(dailyRequirementObject: RequirementData, userData: UserData): number {\r\n    let ageGroupRequirements: RequirementAgeGroupData\r\n\r\n    if (userData.age >= 65) {\r\n        ageGroupRequirements = dailyRequirementObject.senior;\r\n    } else if (userData.age >= 51) {\r\n        ageGroupRequirements = dailyRequirementObject.preSenior;\r\n    } else if (userData.age >= 26) {\r\n        ageGroupRequirements = dailyRequirementObject.midLifeAdult;\r\n    } else if (userData.age >= 19) {\r\n        ageGroupRequirements = dailyRequirementObject.youngAdult;\r\n    } else if (userData.age >= 15) {\r\n        ageGroupRequirements = dailyRequirementObject.youth;\r\n    } else {\r\n        ageGroupRequirements = dailyRequirementObject.youth;   // Default case (should not occur!)\r\n    }\r\n\r\n    let value: number\r\n    if (userData.sex === SEX_MALE) {\r\n        value = ageGroupRequirements.male;\r\n    } else {\r\n        if (userData.pregnant) {\r\n            value = ageGroupRequirements.femalePregnant ? ageGroupRequirements.femalePregnant : ageGroupRequirements.female;\r\n        } else if (userData.breastFeeding) {\r\n            value = ageGroupRequirements.femaleBreastFeeding ? ageGroupRequirements.femaleBreastFeeding : ageGroupRequirements.female;\r\n        } else {\r\n            value = ageGroupRequirements.female;\r\n        }\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\n\r\n/*\r\n * Determines the ratio (percentage) of vitamins/minerals in food compared to the daily requirements of the user.\r\n * Example: The daily requirements of Vitamin C is 120 mg for the user. The food contains 24 mg C. The ratio is 0.2 (20 %).\r\n *\r\n * dailyRequirementObject: A vitamin or mineral requirement object (e.g. for Vitamin C or Iron).\r\n * userData: The user data object containing the user data.\r\n * portionSize: The portion size in gram (100 = default value, i.e., 100 gram).\r\n * amountInFood: The amount of the vitamin or mineral in the food (which is always 100 gram).\r\n */\r\nexport function determineFoodRequirementRatio(dailyRequirementObject: RequirementData, amountInFood: number, portionSize: number, userData: UserData): number {\r\n    const dailyRequirement = determineDailyRequirement(dailyRequirementObject, userData);\r\n    if (portionSize === 100) {\r\n        return Math.round(amountInFood / dailyRequirement * 1000) / 10;\r\n    } else {   // Calculate ration for a special amount (portion):\r\n        return Math.round(amountInFood / dailyRequirement * (portionSize * 10)) / 10;\r\n    }\r\n}\r\n\r\n\r\n/*\r\n * Determines the ratio (percentage) of proteins in food compared to the daily requirements of the user.\r\n * Example: The daily requirements of Lysine is 30 mg per kg. The user weights 80 kg. His dietary requirement\r\n * is thus 30 * 80 = 2400 mg per day. The food contains 240 mg C. The ratio is 0.1 (10 %).\r\n *\r\n * dailyRequirementObject: A protein requirement object for a specific protein (e.g. for Lycin).\r\n * userData: The user data object containing the user data.\r\n * portionSize: The portion size in gram (100 = default value, i.e., 100 gram).\r\n * amountInFood: The amount of the vitamin or mineral in the food (which is always 100 gram).\r\n */\r\nexport function determineProteinRequirementRatio(requirement: number, amountInFood: number, portionSize: number, userData: UserData) {\r\n    const dailyRequirement = (requirement * userData.weight) / 1000;\r\n\r\n    if (portionSize === 100) {\r\n        return Math.round(amountInFood / dailyRequirement * 1000) / 10;\r\n    } else {   // Calculate ration for a special amount (portion):\r\n        return Math.round(amountInFood / dailyRequirement * (portionSize * 10)) / 10;\r\n    }\r\n}\r\n\r\n\r\nexport function convertAbsoluteValueToDailyRequirement(dailyRequirements: DietaryRequirement, item: string, amount: number, userData: UserData) {\r\n    let dailyRequirementObject\r\n\r\n    if (item === Constants.DATA_VITAMINS_A) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.a;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B1) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b1;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B2) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b2;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B3) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b3;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B5) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b5;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B6) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b6;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B9) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b9;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B12) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b12;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_C) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.c;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_D) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.d;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_E) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.e;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_K) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.k;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_CALCIUM) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.calcium;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_COPPER) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.copper;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_IRON) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.iron;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_MAGNESIUM) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.magnesium;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_MANGANESE) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.manganese;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_PHOSPHORUS) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.phosphorus;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_POTASSIUM) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.potassium;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_SELENIUM) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.selenium;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_SODIUM) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.sodium;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_ZINC) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.zinc;\r\n    }\r\n\r\n    if (!dailyRequirementObject) {\r\n        console.error('No requirement data object generated.')\r\n        return 0\r\n    }\r\n\r\n    const dailyRequirement = determineDailyRequirement(dailyRequirementObject, userData);\r\n    return Math.round(amount / dailyRequirement * 1000) / 10;\r\n}","import {useContext, useEffect, useState} from \"react\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {CHART_MINERALS, CHART_VITAMINS, GRAM} from \"../../../config/Constants\";\r\nimport * as ChartConfig from \"../../../config/ChartConfig\"\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport {getBarChartOptions} from \"../../../service/ChartConfigurationService\"\r\nimport {Bar} from \"react-chartjs-2\";\r\nimport {initialChartConfigData} from \"../../../config/ApplicationSetting\";\r\nimport {BarChartConfigurationForm} from \"../../charthelper/BarChartConfigurationForm\";\r\nimport {MineralVitaminChartProps} from \"../../../types/livedata/ChartPropsData\";\r\nimport {useWindowDimension} from \"../../../service/WindowDimension\";\r\nimport {calculateChartContainerHeight, calculateChartHeight} from \"../../../service/nutrientdata/ChartSizeCalculation\";\r\nimport {getNutrientData} from \"../../../service/nutrientdata/NutrientDataRetriever\";\r\nimport {getMineralsChartData, getVitaminChartData} from \"../../../service/chartdata/VitaminsMineralsDataService\";\r\n\r\nexport default function MineralVitaminChart(props: MineralVitaminChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n    const windowSize = useWindowDimension()\r\n\r\n    const chartConfigVitamins = props.directCompareConfig\r\n        ? props.directCompareConfig\r\n        : applicationContext\r\n            ? applicationContext.applicationData.foodDataPanel.chartConfigData.vitaminChartConfig\r\n            : initialChartConfigData.vitaminChartConfig\r\n\r\n    const chartConfigMinerals = props.directCompareConfig\r\n        ? props.directCompareConfig\r\n        : applicationContext\r\n            ? applicationContext.applicationData.foodDataPanel.chartConfigData.mineralChartConfig\r\n            : initialChartConfigData.mineralChartConfig\r\n\r\n    const [portionType_vitamins, setPortionType_vitamins] = useState<string>(chartConfigVitamins.portionType)\r\n    const [expand100_vitamins, setExpand100_vitamins] = useState<boolean>(chartConfigVitamins.expand100)\r\n    const [chartType_minerals, setChartType_minerals] = useState<string>(chartConfigMinerals.portionType)\r\n    const [expand100_minerals, setExpand100_minerals] = useState<boolean>(chartConfigMinerals.expand100)\r\n    const [chartHeight, setChartHeight] = useState<number>(calculateChartHeight(windowSize, props.directCompareUse))\r\n\r\n    useEffect(() => {\r\n        if (props.directCompareConfig) {\r\n            setPortionType_vitamins(chartConfigVitamins.portionType)\r\n            setExpand100_vitamins(chartConfigVitamins.expand100)\r\n            setChartType_minerals(chartConfigMinerals.portionType)\r\n            setExpand100_minerals(chartConfigMinerals.expand100)\r\n        }\r\n\r\n        setChartHeight(calculateChartHeight(windowSize, props.directCompareUse))\r\n        updateChartConfig()\r\n    }, [portionType_vitamins, chartType_minerals, expand100_vitamins, expand100_minerals, chartHeight, props])\r\n\r\n\r\n    if (!applicationContext || applicationContext.foodDataCorpus.dietaryRequirements === null) {\r\n        return <div/>\r\n    }\r\n\r\n    const anyValueChanged = (): boolean => {\r\n        const config = props.selectedSubChart === CHART_VITAMINS\r\n            ? applicationContext.applicationData.foodDataPanel.chartConfigData.vitaminChartConfig\r\n            : applicationContext.applicationData.foodDataPanel.chartConfigData.mineralChartConfig\r\n\r\n        if (props.selectedSubChart === CHART_VITAMINS) {\r\n            return portionType_vitamins !== config.portionType || expand100_vitamins !== config.expand100\r\n        } else {\r\n            return chartType_minerals !== config.portionType || expand100_minerals !== config.expand100\r\n        }\r\n    }\r\n\r\n    const updateChartConfig = () => {\r\n        if (!props.directCompareConfig && anyValueChanged()) {\r\n            if (applicationContext) {\r\n                const newChartConfig = {\r\n                    ...applicationContext.applicationData.foodDataPanel.chartConfigData,\r\n                    vitaminChartConfig: {\r\n                        portionType: portionType_vitamins,\r\n                        expand100: expand100_vitamins\r\n                    },\r\n                    mineralChartConfig: {\r\n                        portionType: chartType_minerals,\r\n                        expand100: expand100_minerals\r\n                    }\r\n                }\r\n\r\n                applicationContext.setFoodDataPanelData.updateFoodDataPanelChartConfig(newChartConfig)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    const createVitaminChartData = () => {\r\n        const vitaminData = getNutrientData(props.selectedFoodItem).vitaminData;\r\n        const requirementData = applicationContext.foodDataCorpus.dietaryRequirements?.vitaminRequirementData;\r\n        const userData = applicationContext.userData\r\n        const portionAmount = portionType_vitamins === GRAM ? 100 : props.selectedFoodItem.portion.amount\r\n\r\n        if (!vitaminData || !requirementData) {\r\n            return null\r\n        }\r\n\r\n        const chartDisplayData = getVitaminChartData(vitaminData, requirementData, userData, portionAmount)\r\n\r\n        const chartColor = props.directCompareConfig && props.directCompareConfig.barChartColor\r\n            ? props.directCompareConfig.barChartColor\r\n            : ChartConfig.color_chart_green_3\r\n\r\n        return {\r\n            labels: chartDisplayData.labels,\r\n            datasets: [{\r\n                label: applicationStrings.label_charttype_vitamins[lang],\r\n                data: chartDisplayData.values,\r\n                backgroundColor: chartColor,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        }\r\n    }\r\n\r\n    const createMineralChartData = () => {\r\n        const mineralData = getNutrientData(props.selectedFoodItem).mineralData;\r\n        const requirementData = applicationContext.foodDataCorpus.dietaryRequirements?.mineralRequirementData;\r\n        const userData = applicationContext.userData\r\n        const portionAmount = portionType_vitamins === GRAM ? 100 : props.selectedFoodItem.portion.amount\r\n\r\n        if (!mineralData || !requirementData) {\r\n            return null\r\n        }\r\n\r\n        const chartDisplayData = getMineralsChartData(mineralData, requirementData, userData, portionAmount, lang)\r\n\r\n        const chartColor = props.directCompareConfig && props.directCompareConfig.barChartColor\r\n            ? props.directCompareConfig.barChartColor\r\n            : ChartConfig.color_purple\r\n\r\n        return {\r\n            labels: chartDisplayData.labels,\r\n            datasets: [{\r\n                label: applicationStrings.label_charttype_minerals[lang],\r\n                data: chartDisplayData.values,\r\n                backgroundColor: chartColor,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        };\r\n    }\r\n\r\n    const handleRadioButtonClick = (event: any): void => {\r\n        if (props.selectedSubChart === CHART_VITAMINS) {\r\n            setPortionType_vitamins(event.target.value)\r\n        } else if (props.selectedSubChart === CHART_MINERALS) {\r\n            setChartType_minerals(event.target.value)\r\n        }\r\n    }\r\n\r\n    const handleExpandCheckbox = () => {\r\n        if (props.selectedSubChart === CHART_VITAMINS) {\r\n            setExpand100_vitamins(!expand100_vitamins)\r\n        } else if (props.selectedSubChart === CHART_MINERALS) {\r\n            setExpand100_minerals(!expand100_minerals)\r\n        }\r\n    }\r\n\r\n    const getOptions = (title, maxValue) => {\r\n        const expand100 = props.selectedSubChart === CHART_VITAMINS ? expand100_vitamins : expand100_minerals;\r\n        const overallMaxValue = props.directCompareConfig && props.directCompareConfig.maxValue\r\n            ? props.directCompareConfig.maxValue\r\n            : maxValue\r\n\r\n        let maxYValue\r\n        if (!props.directCompareConfig) {\r\n            if (expand100 && overallMaxValue < 100) {\r\n                maxYValue = 100\r\n            }\r\n        } else {\r\n            if (props.directCompareConfig.maxValue) {\r\n                maxYValue = props.directCompareConfig.maxValue\r\n            }\r\n            if (expand100) {\r\n                if (maxYValue === undefined) {\r\n                    if (overallMaxValue < 100) {\r\n                        maxYValue = 100\r\n                    }\r\n                } else if (maxYValue < 100) {\r\n                    maxYValue = 100\r\n                }\r\n            }\r\n        }\r\n\r\n        const getScientificVitaminName = (vitamin: string): string | null => {\r\n            const labelName = \"label_nutrient_vit_scientific_\" + vitamin.toLowerCase()\r\n            if(applicationStrings[labelName]) {\r\n                return applicationStrings[labelName][lang]\r\n            } else {\r\n                return null\r\n            }\r\n        }\r\n\r\n        let barChartOptions = getBarChartOptions(title, \"%\", maxYValue);\r\n\r\n        if (props.selectedSubChart === CHART_VITAMINS) {\r\n            barChartOptions = {\r\n                ...barChartOptions, plugins: {\r\n                    ...barChartOptions.plugins, tooltip: {\r\n                        ...barChartOptions.plugins.tooltip, callbacks: {\r\n                            ...barChartOptions.plugins.tooltip.callbacks,\r\n                            title: function (context) {\r\n                                if (context && context.length > 0) {\r\n                                    const scientificName = getScientificVitaminName(context[0].label)\r\n                                    let title = `Vitamin ${context[0].label}`\r\n                                    if(scientificName) {\r\n                                        title = `${title}  (${scientificName})`\r\n                                    }\r\n                                    return title\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return barChartOptions\r\n    }\r\n\r\n\r\n    const renderChartConfigurationForm = () => {\r\n        const portionType = props.selectedSubChart === CHART_VITAMINS ? portionType_vitamins : chartType_minerals;\r\n        const expand100 = props.selectedSubChart === CHART_VITAMINS ? expand100_vitamins : expand100_minerals;\r\n\r\n        const barChartProps = {\r\n            selectedFoodItem: props.selectedFoodItem,\r\n            portionType: portionType,\r\n            expand100: expand100,\r\n            handleRadioButtonClick: handleRadioButtonClick,\r\n            handleExpandCheckboxClick: handleExpandCheckbox\r\n        }\r\n\r\n        return <BarChartConfigurationForm {...barChartProps} />\r\n    }\r\n\r\n\r\n    const data = props.selectedSubChart === CHART_VITAMINS ? createVitaminChartData() : createMineralChartData();\r\n    if (!data) {\r\n        return <div/>\r\n    }\r\n\r\n    const maxValue = (data && data.datasets && data.datasets.length > 0) ? Math.max(...data.datasets[0].data) : 0;\r\n\r\n    const title = props.selectedSubChart === CHART_VITAMINS ? applicationStrings.label_charttype_vitamins[lang] :\r\n        applicationStrings.label_charttype_minerals[lang];\r\n\r\n    const options = getOptions(title, maxValue);\r\n    const containerHeight = calculateChartContainerHeight(windowSize, props.directCompareUse)\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\" style={{height: containerHeight}} key={\"base chart container \" + containerHeight}>\r\n                <div className={\"col-12\"}>\r\n                    <Bar\r\n                        data={data}\r\n                        key={'chart ' + chartHeight}\r\n                        height={chartHeight}\r\n                        options={options}\r\n                    />\r\n                </div>\r\n            </div>\r\n            {props.directCompareUse !== true &&\r\n            <div className=\"row chartFormLine\">\r\n                {renderChartConfigurationForm()}\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n\r\n}","import {determineFoodRequirementRatio} from \"../calculation/DietaryRequirementService\";\r\nimport {MineralData, VitaminData} from \"../../types/nutrientdata/FoodItem\";\r\nimport {MineralRequirementData, VitaminRequirementData} from \"../../types/nutrientdata/DietaryRequirement\";\r\nimport {UserData} from \"../../types/livedata/UserData\";\r\nimport {ChartDisplayData} from \"../../types/livedata/ChartDisplayData\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\n\r\nexport function getVitaminChartData(vitaminData: VitaminData, requirementData: VitaminRequirementData, userData: UserData,\r\n                                    portionAmount: number): ChartDisplayData {\r\n    const labels: Array<string> = [];\r\n    const values: Array<number> = [];\r\n\r\n    if (vitaminData.a !== null) {\r\n        labels.push(\"A\");\r\n        values.push(determineFoodRequirementRatio(requirementData.a, vitaminData.a, portionAmount, userData));\r\n    }\r\n\r\n    if (vitaminData.b1 !== null) {\r\n        labels.push(\"B1\");\r\n        values.push(determineFoodRequirementRatio(requirementData.b1, vitaminData.b1, portionAmount, userData));\r\n    }\r\n\r\n    if (vitaminData.b2 !== null) {\r\n        labels.push(\"B2\");\r\n        values.push(determineFoodRequirementRatio(requirementData.b2, vitaminData.b2, portionAmount, userData));\r\n    }\r\n\r\n    if (vitaminData.b3 !== null) {\r\n        labels.push(\"B3\");\r\n        values.push(determineFoodRequirementRatio(requirementData.b3, vitaminData.b3, portionAmount, userData));\r\n    }\r\n\r\n    if (vitaminData.b5 !== null) {\r\n        labels.push(\"B5\");\r\n        values.push(determineFoodRequirementRatio(requirementData.b5, vitaminData.b5, portionAmount, userData));\r\n    }\r\n\r\n    if (vitaminData.b6 !== null) {\r\n        labels.push(\"B6\");\r\n        values.push(determineFoodRequirementRatio(requirementData.b6, vitaminData.b6, portionAmount, userData));\r\n    }\r\n\r\n    if (vitaminData.b9 !== null) {\r\n        labels.push(\"B9\");\r\n        values.push(determineFoodRequirementRatio(requirementData.b9, vitaminData.b9, portionAmount, userData));\r\n    }\r\n\r\n    if (vitaminData.b12 !== null) {\r\n        labels.push(\"B12\");\r\n        values.push(determineFoodRequirementRatio(requirementData.b12, vitaminData.b12, portionAmount, userData));\r\n    }\r\n\r\n    if (vitaminData.c !== null) {\r\n        labels.push(\"C\");\r\n        values.push(determineFoodRequirementRatio(requirementData.c, vitaminData.c, portionAmount, userData));\r\n    }\r\n\r\n    if (vitaminData.d !== null) {\r\n        labels.push(\"D\");\r\n        values.push(determineFoodRequirementRatio(requirementData.d, vitaminData.d, portionAmount, userData));\r\n    }\r\n\r\n    if (vitaminData.e !== null) {\r\n        labels.push(\"E\");\r\n        values.push(determineFoodRequirementRatio(requirementData.e, vitaminData.e, portionAmount, userData));\r\n    }\r\n\r\n    if (vitaminData.k !== null) {\r\n        labels.push(\"K\");\r\n        values.push(determineFoodRequirementRatio(requirementData.k, vitaminData.k, portionAmount, userData));\r\n    }\r\n\r\n    return {\r\n        labels: labels,\r\n        values: values\r\n    }\r\n}\r\n\r\n\r\nexport function getMineralsChartData(mineralData: MineralData, requirementData: MineralRequirementData, userData: UserData,\r\n                                     portionAmount: number, language: string): ChartDisplayData {\r\n    const labels: Array<string> = [];\r\n    const values: Array<number> = [];\r\n\r\n    if (mineralData.calcium !== null) {\r\n        labels.push(applicationStrings.label_nutrient_min_calcium[language]);\r\n        values.push(determineFoodRequirementRatio(requirementData.calcium, mineralData.calcium, portionAmount, userData));\r\n    }\r\n\r\n    if (mineralData.iron !== null) {\r\n        labels.push(applicationStrings.label_nutrient_min_iron[language]);\r\n        values.push(determineFoodRequirementRatio(requirementData.iron, mineralData.iron, portionAmount, userData));\r\n    }\r\n\r\n    if (mineralData.magnesium !== null) {\r\n        labels.push(applicationStrings.label_nutrient_min_magnesium[language]);\r\n        values.push(determineFoodRequirementRatio(requirementData.magnesium, mineralData.magnesium, portionAmount, userData));\r\n    }\r\n\r\n    if (mineralData.phosphorus !== null) {\r\n        labels.push(applicationStrings.label_nutrient_min_phosphorus[language]);\r\n        values.push(determineFoodRequirementRatio(requirementData.phosphorus, mineralData.phosphorus, portionAmount, userData));\r\n    }\r\n\r\n    if (mineralData.potassium !== null) {\r\n        labels.push(applicationStrings.label_nutrient_min_potassimum[language]);\r\n        values.push(determineFoodRequirementRatio(requirementData.potassium, mineralData.potassium, portionAmount, userData));\r\n    }\r\n\r\n    if (mineralData.sodium !== null) {\r\n        labels.push(applicationStrings.label_nutrient_min_sodium[language]);\r\n        values.push(determineFoodRequirementRatio(requirementData.sodium, mineralData.sodium, portionAmount, userData));\r\n    }\r\n\r\n    if (mineralData.zinc !== null) {\r\n        labels.push(applicationStrings.label_nutrient_min_zinc[language]);\r\n        values.push(determineFoodRequirementRatio(requirementData.zinc, mineralData.zinc, portionAmount, userData));\r\n    }\r\n\r\n    if (mineralData.copper !== null) {\r\n        labels.push(applicationStrings.label_nutrient_min_copper[language]);\r\n        values.push(determineFoodRequirementRatio(requirementData.copper, mineralData.copper, portionAmount, userData));\r\n    }\r\n\r\n    if (mineralData.manganese !== null) {\r\n        labels.push(applicationStrings.label_nutrient_min_manganese[language]);\r\n        values.push(determineFoodRequirementRatio(requirementData.manganese, mineralData.manganese, portionAmount, userData));\r\n    }\r\n\r\n    if (mineralData.selenium !== null) {\r\n        labels.push(applicationStrings.label_nutrient_min_selenium[language]);\r\n        values.push(determineFoodRequirementRatio(requirementData.selenium, mineralData.selenium, portionAmount, userData));\r\n    }\r\n\r\n    return {\r\n        labels: labels,\r\n        values: values\r\n    }\r\n}","import {LipidData, OmegaData} from \"../../types/nutrientdata/FoodItem\";\r\nimport {autoRound} from \"../calculation/MathService\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport * as ChartConfig from \"../../config/ChartConfig\";\r\nimport {ChartDisplayData, LegendData} from \"../../types/livedata/ChartDisplayData\";\r\n\r\nexport function getTotalLipidsChartData(lipidsData: LipidData, hideRemainders: boolean, portionAmount: number,\r\n                                           language: string): ChartDisplayData {\r\n    const {saturated, unsaturatedMono, unsaturatedPoly} = lipidsData\r\n\r\n    const valueSaturated = autoRound(saturated!! / portionAmount * 100);\r\n    const valueUnsaturatedMono = autoRound(unsaturatedMono!! / portionAmount * 100);\r\n    const valueUnsaturatedPoly = autoRound(unsaturatedPoly!! / portionAmount * 100);\r\n\r\n    let valueRemainder = portionAmount - (saturated!! + unsaturatedMono!! + unsaturatedPoly!!);\r\n    valueRemainder = autoRound(valueRemainder / portionAmount * 100);\r\n\r\n    if (valueRemainder < 0) {\r\n        console.error(\"Fatty acids sum is erroneous.\")\r\n        valueRemainder = 0\r\n    }\r\n\r\n    const labels: string[] = [applicationStrings.label_nutrient_lipids_saturated_short[language],\r\n        applicationStrings.label_nutrient_lipids_unsaturated_mono_short[language],\r\n        applicationStrings.label_nutrient_lipids_unsaturated_poly_short[language]]\r\n\r\n    const colors: string[] = [\r\n        ChartConfig.color_lipids_saturated,\r\n        ChartConfig.color_lipids_unsaturated_mono,\r\n        ChartConfig.color_lipids_unsaturated_poly]\r\n\r\n    const values: number[] = [valueSaturated,\r\n        valueUnsaturatedMono,\r\n        valueUnsaturatedPoly]\r\n\r\n    if(!hideRemainders) {\r\n        labels.push(applicationStrings.label_nutrient_remainder[language])\r\n        colors.push(ChartConfig.color_lipids_misc)\r\n        values.push(valueRemainder)\r\n    }\r\n\r\n    return {\r\n        labels: labels,\r\n        values: values,\r\n        colors: colors\r\n    }\r\n}\r\n\r\n\r\nexport function getOmegaChartData(omegaData: OmegaData, hideRemainders: boolean, totalAmount: number, lang: string): ChartDisplayData | null {\r\n    if (omegaData === null || omegaData.omega3 === null || omegaData.omega6 === null || omegaData.uncertain === null) {\r\n        return null;\r\n    }\r\n\r\n    const valueOmega3 = autoRound(omegaData.omega3 / totalAmount * 100);\r\n    const valueOmega6 = autoRound(omegaData.omega6 / totalAmount * 100);\r\n    const valueUncertain = autoRound(omegaData.uncertain / totalAmount * 100);\r\n\r\n    const labels: string[] = [applicationStrings.label_nutrient_omega3[lang],\r\n        applicationStrings.label_nutrient_omega6[lang]]\r\n\r\n    const values: number[] = [valueOmega3,\r\n        valueOmega6]\r\n\r\n    const colors: string[] = [\r\n        ChartConfig.color_lipids_omega3,\r\n        ChartConfig.color_lipids_omega6\r\n    ]\r\n\r\n    if(!hideRemainders) {\r\n        labels.push(applicationStrings.label_unknown[lang])\r\n        colors.push(ChartConfig.color_lipids_misc)\r\n        values.push(valueUncertain)\r\n    }\r\n\r\n    return {\r\n        labels: labels,\r\n        values: values,\r\n        colors: colors\r\n    }\r\n}\r\n\r\n\r\nexport function getLipidsBaseChartLegend(language: string): LegendData[] {\r\n    return [\r\n        {\r\n            item: applicationStrings.label_nutrient_lipids_saturated[language],\r\n            color: ChartConfig.color_lipids_saturated,\r\n        },\r\n        {\r\n            item: applicationStrings.label_nutrient_lipids_unsaturated_mono[language],\r\n            color: ChartConfig.color_lipids_unsaturated_mono\r\n        },\r\n        {\r\n            item: applicationStrings.label_nutrient_lipids_unsaturated_poly[language],\r\n            color: ChartConfig.color_lipids_unsaturated_poly,\r\n        },\r\n        {\r\n            item: applicationStrings.label_nutrient_remainder[language],\r\n            color: ChartConfig.color_lipids_misc\r\n        },\r\n    ];\r\n}\r\n\r\nexport function getLipidsOmegaChartLegend(language: string): LegendData[] {\r\n    return [\r\n        {\r\n            item: applicationStrings.label_nutrient_omega3[language],\r\n            color: ChartConfig.color_lipids_omega3,\r\n        },\r\n        {\r\n            item: applicationStrings.label_nutrient_omega6[language],\r\n            color: ChartConfig.color_lipids_omega6\r\n        },\r\n        {\r\n            item: applicationStrings.label_unknown[language],\r\n            color: ChartConfig.color_lipids_misc,\r\n        },\r\n    ];\r\n}","import {useContext, useEffect, useState} from \"react\";\r\n\r\nimport {default_chart_height} from \"../../../config/ChartConfig\"\r\nimport * as Constants from \"../../../config/Constants\"\r\nimport {CHART_TYPE_BAR, CHART_TYPE_PIE, LIPIDS_DATA_BASE} from \"../../../config/Constants\"\r\nimport {Bar, Pie} from \"react-chartjs-2\";\r\nimport {getBarChartOptions, getPieChartOptions} from \"../../../service/ChartConfigurationService\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport {OmegaData} from \"../../../types/nutrientdata/FoodItem\";\r\nimport {initialChartConfigData, minimalOmegaRatio} from \"../../../config/ApplicationSetting\";\r\nimport {CustomLegend} from \"../../charthelper/CustomLegend\";\r\nimport {PieChartConfigurationForm} from \"../../charthelper/PieChartConfigurationForm\";\r\nimport {Form} from \"react-bootstrap\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {LipidsDataChartProps} from \"../../../types/livedata/ChartPropsData\";\r\nimport {calculateChartContainerHeight, calculateChartHeight} from \"../../../service/nutrientdata/ChartSizeCalculation\";\r\nimport {useWindowDimension} from \"../../../service/WindowDimension\";\r\nimport {getNutrientData} from \"../../../service/nutrientdata/NutrientDataRetriever\";\r\nimport {\r\n    getLipidsBaseChartLegend,\r\n    getLipidsOmegaChartLegend,\r\n    getOmegaChartData,\r\n    getTotalLipidsChartData\r\n} from \"../../../service/chartdata/LipidsChartDataService\";\r\n\r\nexport default function LipidsDataChart(props: LipidsDataChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n    const windowSize = useWindowDimension()\r\n\r\n    const chartConfig = props.directCompareConfig\r\n        ? props.directCompareConfig\r\n        : applicationContext\r\n            ? applicationContext.applicationData.foodDataPanel.chartConfigData.lipidsChartConfig\r\n            : initialChartConfigData.lipidsChartConfig\r\n\r\n    const initialExpand100 =  props.directCompareConfig\r\n        ? applicationContext?.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig.expand100\r\n        : chartConfig.expand100\r\n\r\n    const initialHideRemainders =  props.directCompareConfig\r\n        ? applicationContext?.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig.hideRemainders\r\n        : chartConfig.hideRemainders\r\n\r\n    const [chartType, setChartType] = useState<string>(chartConfig.chartType)\r\n    const [showLegend, setShowLegend] = useState<boolean>(chartConfig.showLegend)\r\n    const [hideRemainders, setShowHideRemainders] = useState<boolean>(initialHideRemainders ? initialHideRemainders : false)\r\n    const [expand100, setExpand100] = useState<boolean>(initialExpand100 ? initialExpand100 : false)\r\n    const [subChart, setSubChart] = useState<string>(chartConfig.subChart ? chartConfig.subChart : LIPIDS_DATA_BASE)\r\n    const [chartHeight, setChartHeight] = useState<number>(calculateChartHeight(windowSize, props.directCompareUse))\r\n\r\n    useEffect(() => {\r\n        if (props.directCompareConfig) {\r\n            setChartType(chartConfig.chartType)\r\n            setShowLegend(chartConfig.showLegend)\r\n            setSubChart(chartConfig.subChart ? chartConfig.subChart : LIPIDS_DATA_BASE)\r\n        }\r\n\r\n        setChartHeight(calculateChartHeight(windowSize, props.directCompareUse))\r\n        updateChartConfig()\r\n    }, [chartType, showLegend, hideRemainders, expand100, subChart, chartHeight, windowSize, props])\r\n\r\n    const updateChartConfig = () => {\r\n        if (applicationContext && !props.directCompareConfig) {\r\n            const currentConfig = applicationContext.applicationData.foodDataPanel.chartConfigData.lipidsChartConfig\r\n            if (chartType !== currentConfig.chartType\r\n                || hideRemainders !== currentConfig.hideRemainders\r\n                || expand100 !== currentConfig.expand100\r\n                || subChart !== currentConfig.subChart\r\n                || showLegend !== currentConfig.showLegend) {\r\n                const newChartConfig = {\r\n                    ...applicationContext.applicationData.foodDataPanel.chartConfigData,\r\n                    lipidsChartConfig: {\r\n                        chartType: chartType,\r\n                        showLegend: showLegend,\r\n                        subChart: subChart,\r\n                        hideRemainders: hideRemainders,\r\n                        expand100: expand100\r\n                    }\r\n                }\r\n                applicationContext.setFoodDataPanelData.updateFoodDataPanelChartConfig(newChartConfig)\r\n            }\r\n        } else if(applicationContext) {\r\n            const currentConfig = applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig\r\n            if (hideRemainders !== currentConfig.hideRemainders\r\n                || expand100 !== currentConfig.expand100) {\r\n                applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig.expand100 = expand100\r\n                applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig.hideRemainders = hideRemainders\r\n            }\r\n        }\r\n    }\r\n\r\n    const totalLipidsAmount = getNutrientData(props.selectedFoodItem).baseData.lipids;\r\n\r\n    const handleChartSelectionChange = (event: any) => {\r\n        if (props.directCompareConfig && props.directCompareConfig.handleSubchartChange) {\r\n            props.directCompareConfig.handleSubchartChange(event)\r\n        } else {\r\n            setSubChart(event.target.value)\r\n        }\r\n    }\r\n\r\n    const handleExpand100Change = () => {\r\n        setExpand100(!expand100)\r\n    }\r\n\r\n    const handleHideRemaindersCheckbox = () => {\r\n        setShowHideRemainders(!hideRemainders)\r\n    }\r\n\r\n    const createTotalChartData = (totalAmount: number): any => {\r\n        const chartDisplayData  = getTotalLipidsChartData(lipidData, hideRemainders, totalAmount, lang)\r\n\r\n        return {\r\n            labels: chartDisplayData.labels,\r\n            datasets: [{\r\n                data: chartDisplayData.values,\r\n                backgroundColor: chartDisplayData.colors,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        };\r\n    }\r\n\r\n\r\n    const createOmegaChartData = (totalAmount: number, omegaData: OmegaData) => {\r\n        const chartDisplayData = getOmegaChartData(omegaData, hideRemainders, totalAmount, lang)\r\n        if(!chartDisplayData) {\r\n            return null\r\n        }\r\n\r\n        return {\r\n            labels: chartDisplayData.labels,\r\n            datasets: [{\r\n                data: chartDisplayData.values,\r\n                backgroundColor: chartDisplayData.colors,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        };\r\n\r\n    }\r\n\r\n    const handleRadioButtonClick = (event: any) => {\r\n        setChartType(event.target.value)\r\n    }\r\n\r\n    const handleLegendCheckbox = () => {\r\n        setShowLegend(!showLegend)\r\n    }\r\n\r\n    const lipidData = getNutrientData(props.selectedFoodItem).lipidData;\r\n\r\n    let omegaDataAvailabe = false\r\n    if (lipidData.omegaData && lipidData.omegaData.uncertainRatio && lipidData.omegaData.uncertainRatio <= minimalOmegaRatio) {\r\n        omegaDataAvailabe = true\r\n    }\r\n\r\n    const chartColType = chartType === CHART_TYPE_PIE ? \"col-6\" : \"col-8\";\r\n\r\n    const getOptions = () => {\r\n        let title;\r\n\r\n        if (subChart === Constants.LIPIDS_DATA_BASE) {\r\n            title = applicationStrings.label_charttype_lipids_base_title[lang]\r\n        } else if (subChart === Constants.LIPIDS_DATA_OMEGA) {\r\n            title = applicationStrings.label_charttype_lipids_omega_title[lang];\r\n        }\r\n\r\n        if (chartType === CHART_TYPE_BAR) {\r\n            return expand100 ? getBarChartOptions(title, \"%\", 100) : getBarChartOptions(title, \"%\");\r\n        } else {\r\n            return getPieChartOptions(title, \"%\");\r\n        }\r\n    }\r\n\r\n    const renderChartSelector = () => {\r\n        return (\r\n            <div>\r\n                <Form>\r\n                    <Form.Label>\r\n                        <b>{applicationStrings.label_datatype[languageContext.language]}:</b>\r\n                    </Form.Label>\r\n                    <Form.Check inline={false}\r\n                                label={applicationStrings.label_charttype_lipids_base[lang]}\r\n                                type=\"radio\"\r\n                                value={Constants.LIPIDS_DATA_BASE}\r\n                                checked={subChart === Constants.LIPIDS_DATA_BASE}\r\n                                onChange={handleChartSelectionChange}>\r\n                    </Form.Check>\r\n                    <Form.Check inline={false}\r\n                                label={applicationStrings.label_charttype_lipids_omega[lang]}\r\n                                type=\"radio\"\r\n                                value={Constants.LIPIDS_DATA_OMEGA}\r\n                                checked={subChart === Constants.LIPIDS_DATA_OMEGA}\r\n                                onChange={handleChartSelectionChange}>\r\n                    </Form.Check>\r\n                </Form>\r\n                <hr/>\r\n                <Form>\r\n                    <Form.Check inline={false}\r\n                                label={applicationStrings.checkbox_expand100g[lang]}\r\n                                type=\"checkbox\"\r\n                                disabled={chartType === Constants.CHART_TYPE_PIE}\r\n                                checked={expand100}\r\n                                onChange={handleExpand100Change}>\r\n                    </Form.Check>\r\n                    <Form.Check inline={false}\r\n                                label={applicationStrings.checkbox_chartoption_hideRemainders[lang]}\r\n                                type=\"checkbox\"\r\n                                disabled={subChart === Constants.LIPIDS_DATA_OMEGA}\r\n                                checked={hideRemainders}\r\n                                onChange={handleHideRemaindersCheckbox}>\r\n                    </Form.Check>\r\n                </Form>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const renderChart = (lipidsType) => {\r\n        const {saturated, unsaturatedMono, unsaturatedPoly, omegaData} = lipidData\r\n\r\n        let data\r\n        if (lipidsType === Constants.LIPIDS_DATA_BASE) {\r\n            if (!saturated || !unsaturatedMono || !unsaturatedPoly) {\r\n                return <div style={{height: default_chart_height}}>{applicationStrings.label_noData[lang]}</div>\r\n            }\r\n            data = createTotalChartData(totalLipidsAmount);\r\n        } else if (lipidsType === Constants.LIPIDS_DATA_OMEGA) {\r\n            if (omegaData) {\r\n                data = createOmegaChartData(totalLipidsAmount, omegaData)\r\n            }\r\n\r\n            if (!omegaData) {\r\n                return <div style={{height: default_chart_height}}>{applicationStrings.label_noData[lang]}</div>\r\n            }\r\n        }\r\n\r\n        if (!data) {\r\n            return <div style={{height: default_chart_height}}>{applicationStrings.label_noData[lang]}</div>\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {chartType === CHART_TYPE_PIE &&\r\n                <Pie data={data}\r\n                     key={'chart ' + chartHeight}\r\n                     height={chartHeight}\r\n                     options={getOptions()}\r\n                />\r\n                }\r\n                {chartType === CHART_TYPE_BAR &&\r\n                <Bar data={data}\r\n                     key={'chart ' + chartHeight}\r\n                     height={chartHeight}\r\n                     options={getOptions()}\r\n                />\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    //const height = props.directCompareUse === true ? direct_compare_chartheight : default_chart_height\r\n    const containerHeight = calculateChartContainerHeight(windowSize, props.directCompareUse)\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\" style={{height: containerHeight}} key={\"lipids container \" + containerHeight}>\r\n                <div className=\"col-3 text-align-center\">\r\n                    {renderChartSelector()}\r\n                </div>\r\n                <div className={chartColType}>\r\n                    {subChart === Constants.LIPIDS_DATA_BASE &&\r\n                    renderChart(Constants.LIPIDS_DATA_BASE)\r\n                    }\r\n                    {omegaDataAvailabe && subChart === Constants.LIPIDS_DATA_OMEGA &&\r\n                    renderChart(Constants.LIPIDS_DATA_OMEGA)\r\n                    }\r\n                    {!omegaDataAvailabe && subChart === Constants.LIPIDS_DATA_OMEGA &&\r\n                    <div style={{height: default_chart_height}}>{applicationStrings.label_noData[lang]}</div>\r\n                    }\r\n                </div>\r\n\r\n                {showLegend && chartType === CHART_TYPE_PIE &&\r\n                <div className=\"col-3\">\r\n                    {subChart === Constants.LIPIDS_DATA_BASE &&\r\n                    <CustomLegend legendData={getLipidsBaseChartLegend(lang)}/>\r\n                    }\r\n                    {subChart === Constants.LIPIDS_DATA_OMEGA &&\r\n                    <CustomLegend legendData={getLipidsOmegaChartLegend(lang)}/>\r\n                    }\r\n                </div>\r\n                }\r\n            </div>\r\n            {!props.directCompareConfig &&\r\n            <div className=\"row chartFormLine\">\r\n                <PieChartConfigurationForm key={\"Config Lipids Chart\"}\r\n                                           chartType={chartType}\r\n                                           showLegend={showLegend}\r\n                                           handleRadioButtonClick={handleRadioButtonClick}\r\n                                           handleLegendCheckboxClick={handleLegendCheckbox}/>\r\n            </div>\r\n            }\r\n        </div>\r\n    );\r\n\r\n}","import {useContext, useEffect, useState} from \"react\";\r\nimport {AMOUNT_PORTION} from \"../../../config/Constants\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport * as ChartConfig from \"../../../config/ChartConfig\"\r\nimport {getBarChartOptions} from \"../../../service/ChartConfigurationService\"\r\nimport {Bar} from \"react-chartjs-2\";\r\nimport {initialChartConfigData} from \"../../../config/ApplicationSetting\";\r\nimport {BarChartConfigurationForm} from \"../../charthelper/BarChartConfigurationForm\";\r\nimport {ProteinDataChartProps} from \"../../../types/livedata/ChartPropsData\";\r\nimport {useWindowDimension} from \"../../../service/WindowDimension\";\r\nimport {calculateChartContainerHeight, calculateChartHeight} from \"../../../service/nutrientdata/ChartSizeCalculation\";\r\nimport {getNutrientData} from \"../../../service/nutrientdata/NutrientDataRetriever\";\r\nimport {getProteinChartData} from \"../../../service/chartdata/ProteinChartDataService\";\r\n\r\nexport default function ProteinDataChart(props: ProteinDataChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n    const windowSize = useWindowDimension()\r\n\r\n    const chartConfig = props.directCompareConfig\r\n        ? props.directCompareConfig\r\n        : applicationContext\r\n            ? applicationContext.applicationData.foodDataPanel.chartConfigData.proteinChartConfig\r\n            : initialChartConfigData.proteinChartConfig\r\n\r\n    const [portionType, setPortionType] = useState<string>(chartConfig.portionType)\r\n    const [expand100, setExpand100] = useState<boolean>(chartConfig.expand100)\r\n    const [chartHeight, setChartHeight] = useState<number>(calculateChartHeight(windowSize, props.directCompareUse))\r\n\r\n    useEffect(() => {\r\n        if (props.directCompareConfig) {\r\n            setExpand100(chartConfig.expand100)\r\n            setPortionType(chartConfig.portionType)\r\n        }\r\n\r\n        setChartHeight(calculateChartHeight(windowSize, props.directCompareUse))\r\n        updateChartConfig()\r\n    }, [portionType, expand100, chartHeight, props])\r\n\r\n    const updateChartConfig = () => {\r\n        if (applicationContext && !props.directCompareConfig) {\r\n            const currentSetting = applicationContext.applicationData.foodDataPanel.chartConfigData.proteinChartConfig\r\n            if (expand100 !== currentSetting.expand100 || portionType !== currentSetting.portionType) {\r\n                const newChartConfig = {\r\n                    ...applicationContext.applicationData.foodDataPanel.chartConfigData,\r\n                    proteinChartConfig: {\r\n                        portionType: portionType,\r\n                        expand100: expand100\r\n                    }\r\n                }\r\n                applicationContext.setFoodDataPanelData.updateFoodDataPanelChartConfig(newChartConfig)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    const createProteinChartData = () => {\r\n        const proteinData = getNutrientData(props.selectedFoodItem).proteinData;\r\n        if (!proteinData || !applicationContext) {\r\n            return null;\r\n        }\r\n\r\n        const requirementData = applicationContext.foodDataCorpus.dietaryRequirements?.proteinRequirementData;\r\n        if (!requirementData) {\r\n            return null;\r\n        }\r\n\r\n        const userData = applicationContext.userData;\r\n        const portionAmount = portionType === AMOUNT_PORTION ? props.selectedFoodItem.portion.amount : 100;\r\n        const chartDisplayData = getProteinChartData(proteinData, requirementData, userData, portionAmount, lang)\r\n\r\n        const chartColor = props.directCompareConfig && props.directCompareConfig.barChartColor\r\n            ? props.directCompareConfig.barChartColor\r\n            : ChartConfig.color_proteins\r\n\r\n        return {\r\n            labels: chartDisplayData.labels,\r\n            datasets: [{\r\n                label: applicationStrings.label_charttype_proteins[lang],\r\n                data: chartDisplayData.values,\r\n                backgroundColor: chartColor,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        }\r\n    }\r\n\r\n\r\n    const handleRadioButtonClick = (event: any) => {\r\n        setPortionType(event.target.value)\r\n    }\r\n\r\n    const handleExpandCheckbox = () => {\r\n        setExpand100(!expand100)\r\n    }\r\n\r\n    const getOptions = (title, maxValue) => {\r\n        const overallMaxValue = props.directCompareConfig && props.directCompareConfig.maxValue\r\n            ? props.directCompareConfig.maxValue\r\n            : maxValue\r\n\r\n        let maxYValue\r\n        if (!props.directCompareConfig) {\r\n            if (expand100 && overallMaxValue < 100) {\r\n                maxYValue = 100\r\n            }\r\n        } else {\r\n            if (props.directCompareConfig.maxValue) {\r\n                maxYValue = props.directCompareConfig.maxValue\r\n            }\r\n            if (expand100) {\r\n                if (maxYValue === undefined) {\r\n                    if (overallMaxValue < 100) {\r\n                        maxYValue = 100\r\n                    }\r\n                } else if (maxYValue < 100) {\r\n                    maxYValue = 100\r\n                }\r\n            }\r\n        }\r\n\r\n        return getBarChartOptions(title, \"%\", maxYValue);\r\n    }\r\n\r\n    const renderChartConfigurationForm = () => {\r\n        const barChartProps = {\r\n            selectedFoodItem: props.selectedFoodItem,\r\n            portionType: portionType,\r\n            expand100: expand100,\r\n            handleRadioButtonClick: handleRadioButtonClick,\r\n            handleExpandCheckboxClick: handleExpandCheckbox\r\n        }\r\n\r\n        return <BarChartConfigurationForm {...barChartProps} />\r\n    }\r\n\r\n    const data = createProteinChartData();\r\n    if (!data) {\r\n        return <div/>\r\n    }\r\n\r\n    const maxValue = (data && data.datasets && data.datasets.length > 0) ? Math.max(...data.datasets[0].data) : 0;\r\n    const options = getOptions(applicationStrings.label_charttype_proteins[lang], maxValue);\r\n    const dataExists = data.datasets && data.datasets[0].data && data.datasets[0].data.length > 0\r\n\r\n    const containerHeight = calculateChartContainerHeight(windowSize,  props.directCompareUse)\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\" style={{height: containerHeight}} key={\"base chart container \" + containerHeight}>\r\n                <div className=\"col-12\">\r\n                    {dataExists &&\r\n                    <Bar\r\n                        data={data}\r\n                        key={'chart ' + chartHeight}\r\n                        height={chartHeight}\r\n                        options={options}\r\n                    />\r\n                    }\r\n                    {!dataExists &&\r\n                    <p className=\"text-center\" style={{height: ChartConfig.default_chart_height}}>\r\n                        {applicationStrings.label_noData[lang]}\r\n                    </p>\r\n                    }\r\n                </div>\r\n            </div>\r\n            {props.directCompareUse !== true &&\r\n            <div className=\"row chartFormLine\">\r\n                {renderChartConfigurationForm()}\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n\r\n}","import {UserData} from \"../../types/livedata/UserData\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {determineProteinRequirementRatio} from \"../calculation/DietaryRequirementService\";\r\nimport {ProteinData} from \"../../types/nutrientdata/FoodItem\";\r\nimport {ProteinRequirementData} from \"../../types/nutrientdata/DietaryRequirement\";\r\nimport {ChartDisplayData} from \"../../types/livedata/ChartDisplayData\";\r\n\r\nexport function getProteinChartData(proteinData: ProteinData, requirementData: ProteinRequirementData,\r\n                                    userData: UserData, portionAmount: number, lang: string): ChartDisplayData {\r\n    const labels: Array<string> = [];\r\n    const values: Array<number> = [];\r\n\r\n    if (proteinData.histidine !== null) {\r\n        labels.push(applicationStrings.label_nutrient_proteins_histidine[lang]);\r\n        values.push(determineProteinRequirementRatio(\r\n            requirementData.histidine, proteinData.histidine, portionAmount, userData)\r\n        )\r\n    }\r\n\r\n    if (proteinData.isoleucine !== null) {\r\n        labels.push(applicationStrings.label_nutrient_proteins_isoleucine[lang]);\r\n        values.push(determineProteinRequirementRatio(\r\n            requirementData.isoleucine, proteinData.isoleucine, portionAmount, userData)\r\n        )\r\n    }\r\n\r\n    if (proteinData.leucine !== null) {\r\n        labels.push(applicationStrings.label_nutrient_proteins_leucine[lang]);\r\n        values.push(determineProteinRequirementRatio(\r\n            requirementData.leucine, proteinData.leucine, portionAmount, userData)\r\n        )\r\n    }\r\n\r\n    if (proteinData.lysine !== null) {\r\n        labels.push(applicationStrings.label_nutrient_proteins_lysine[lang]);\r\n        values.push(determineProteinRequirementRatio(\r\n            requirementData.lysine, proteinData.lysine, portionAmount, userData)\r\n        )\r\n    }\r\n\r\n    if (proteinData.methionine !== null) {\r\n        labels.push(applicationStrings.label_nutrient_proteins_methionine[lang]);\r\n        values.push(determineProteinRequirementRatio(\r\n            requirementData.methionine, proteinData.methionine, portionAmount, userData)\r\n        )\r\n    }\r\n\r\n    if (proteinData.phenylalanine !== null) {\r\n        labels.push(applicationStrings.label_nutrient_proteins_phenylalanine[lang]);\r\n        values.push(determineProteinRequirementRatio(\r\n            requirementData.phenylalanine, proteinData.phenylalanine, portionAmount, userData)\r\n        )\r\n    }\r\n\r\n    if (proteinData.threonine !== null) {\r\n        labels.push(applicationStrings.label_nutrient_proteins_threonine[lang]);\r\n        values.push(determineProteinRequirementRatio(\r\n            requirementData.threonine, proteinData.threonine, portionAmount, userData)\r\n        )\r\n    }\r\n\r\n    if (proteinData.tryptophan !== null) {\r\n        labels.push(applicationStrings.label_nutrient_proteins_tryptophan[lang]);\r\n        values.push(determineProteinRequirementRatio(\r\n            requirementData.tryptophan, proteinData.tryptophan, portionAmount, userData)\r\n        )\r\n    }\r\n\r\n    if (proteinData.valine !== null) {\r\n        labels.push(applicationStrings.label_nutrient_proteins_valine[lang]);\r\n        values.push(determineProteinRequirementRatio(\r\n            requirementData.valine, proteinData.valine, portionAmount, userData)\r\n        )\r\n    }\r\n\r\n    if (proteinData.cystine !== null) {\r\n        labels.push(applicationStrings.label_nutrient_proteins_cystine[lang]);\r\n        values.push(determineProteinRequirementRatio(\r\n            requirementData.cystine, proteinData.cystine, portionAmount, userData)\r\n        )\r\n    }\r\n\r\n    return {\r\n        labels: labels,\r\n        values: values\r\n    }\r\n}","import {autoRound} from \"../calculation/MathService\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport * as ChartConfig from \"../../config/ChartConfig\";\r\nimport {NutrientData} from \"../../types/nutrientdata/FoodItem\";\r\nimport {ChartDisplayData, LegendData} from \"../../types/livedata/ChartDisplayData\";\r\n\r\nexport function getCarbBaseChartData(nutrientData: NutrientData, hideRemainders: boolean, totalAmount: number,\r\n                                     language: string): ChartDisplayData | null {\r\n    const totalCarbsAmount = nutrientData.baseData.carbohydrates;\r\n    const dietaryFibers = nutrientData.baseData.dietaryFibers;\r\n    const sugar = nutrientData.carbohydrateData.sugar\r\n\r\n    if (!sugar || !dietaryFibers) {\r\n        return null\r\n    }\r\n\r\n    const valueSugar = autoRound(sugar / totalCarbsAmount * 100);\r\n    const valueDietaryFibers = autoRound(dietaryFibers / totalCarbsAmount * 100);\r\n\r\n    if (totalCarbsAmount === 0) {\r\n        return null;\r\n    }\r\n\r\n    let valueMisc = totalCarbsAmount - (sugar + dietaryFibers);\r\n    valueMisc = autoRound(valueMisc / totalCarbsAmount * 100);\r\n\r\n    if (valueMisc < 0) {\r\n        valueMisc = 0;\r\n    }\r\n\r\n    const labels = [applicationStrings.label_nutrient_sugar[language],\r\n        applicationStrings.label_nutrient_dietaryFibers[language],\r\n    ]\r\n\r\n    const data = [valueSugar,\r\n        valueDietaryFibers]\r\n\r\n    const colors = [\r\n        ChartConfig.color_chart_green_3,\r\n        ChartConfig.color_chart_green_2,\r\n    ]\r\n\r\n    if(!hideRemainders) {\r\n        labels.push(applicationStrings.label_nutrient_remainder[language])\r\n        colors.push(ChartConfig.color_chart_misc)\r\n        data.push(valueMisc)\r\n    }\r\n\r\n    return {\r\n        labels: labels,\r\n        values: data,\r\n        colors: colors\r\n    }\r\n}\r\n\r\nexport function getCarbDetailsChartData(nutrientData: NutrientData, hideRemainders: boolean, totalAmount: number,\r\n                                        language: string): ChartDisplayData | null {\r\n    const {carbohydrateData, baseData} = nutrientData\r\n\r\n    const valueGlucose = carbohydrateData.glucose !== null ? autoRound(carbohydrateData.glucose / totalAmount * 100) : null;\r\n    const valueFructose = carbohydrateData.fructose !== null ? autoRound(carbohydrateData.fructose / totalAmount * 100) : null;\r\n    const valueGalactose = carbohydrateData.galactose !== null ? autoRound(carbohydrateData.galactose / totalAmount * 100) : null;\r\n    const valueSucrose = carbohydrateData.sucrose !== null ? autoRound(carbohydrateData.sucrose / totalAmount * 100) : null;\r\n    const valueLactose = carbohydrateData.lactose !== null ? autoRound(carbohydrateData.lactose / totalAmount * 100) : null;\r\n    const valueMaltose = carbohydrateData.maltose !== null ? autoRound(carbohydrateData.maltose / totalAmount * 100) : null;\r\n    const valueStarch = carbohydrateData.starch !== null ? autoRound(carbohydrateData.starch / totalAmount * 100) : null;\r\n\r\n    const valueDietaryFibers = baseData.dietaryFibers !== null ? autoRound(baseData.dietaryFibers / totalAmount * 100) : null;\r\n\r\n    if (!valueMaltose && !valueSucrose && !valueLactose && !valueGlucose && !valueFructose && !valueGalactose) {\r\n        return null\r\n    }\r\n\r\n    let valueMisc = 100\r\n    const labels: string[] = []\r\n    const data: number[] = []\r\n    const colors: string[] = []\r\n\r\n    if (valueGlucose) {\r\n        valueMisc -= valueGlucose\r\n        labels.push(applicationStrings.label_nutrient_carbohydrates_glucose[language])\r\n        data.push(valueGlucose)\r\n        colors.push(ChartConfig.color_carbs_mono_glucose)\r\n    }\r\n    if (valueFructose) {\r\n        valueMisc -= valueFructose\r\n        labels.push(applicationStrings.label_nutrient_carbohydrates_fructose[language])\r\n        data.push(valueFructose)\r\n        colors.push(ChartConfig.color_carbs_mono_fructose)\r\n    }\r\n    if (valueGalactose) {\r\n        valueMisc -= valueGalactose\r\n        labels.push(applicationStrings.label_nutrient_carbohydrates_galactose[language])\r\n        data.push(valueGalactose)\r\n        colors.push(ChartConfig.color_carbs_mono_galactose)\r\n    }\r\n    if (valueSucrose) {\r\n        valueMisc -= valueSucrose\r\n        labels.push(applicationStrings.label_nutrient_carbohydrates_sucrose[language])\r\n        data.push(valueSucrose)\r\n        colors.push(ChartConfig.color_carbs_di_sucrose)\r\n    }\r\n    if (valueLactose) {\r\n        valueMisc -= valueLactose\r\n        labels.push(applicationStrings.label_nutrient_carbohydrates_lactose[language])\r\n        data.push(valueLactose)\r\n        colors.push(ChartConfig.color_carbs_di_lactose)\r\n    }\r\n    if (valueMaltose) {\r\n        valueMisc -= valueMaltose\r\n        labels.push(applicationStrings.label_nutrient_carbohydrates_maltose[language])\r\n        data.push(valueMaltose)\r\n        colors.push(ChartConfig.color_carbs_di_maltose)\r\n    }\r\n    if (valueStarch) {\r\n        valueMisc -= valueStarch\r\n        labels.push(applicationStrings.label_nutrient_carbohydrates_starch[language])\r\n        data.push(valueStarch)\r\n        colors.push(ChartConfig.color_carbs_starch)\r\n    }\r\n\r\n    if (valueDietaryFibers) {\r\n        valueMisc -= valueDietaryFibers\r\n        labels.push(applicationStrings.label_nutrient_dietaryFibers[language])\r\n        data.push(valueDietaryFibers)\r\n        colors.push(ChartConfig.color_carbs_dietaryFibers)\r\n    }\r\n\r\n    valueMisc = autoRound(valueMisc);\r\n    if (valueMisc < 0) {\r\n        valueMisc = 0;\r\n    }\r\n\r\n    if(!hideRemainders) {\r\n        labels.push(applicationStrings.label_nutrient_remainder[language])\r\n        data.push(valueMisc)\r\n        colors.push(ChartConfig.color_chart_misc)\r\n    }\r\n\r\n    return {\r\n        labels: labels,\r\n        values: data,\r\n        colors: colors\r\n    }\r\n}\r\n\r\n\r\nexport function getCarbsBaseLegend(labels: string[], language: string): LegendData[] {\r\n    const legendData: Array<any> = []\r\n\r\n    if (labels.includes(applicationStrings.label_nutrient_sugar[language])) {\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_sugar[language],\r\n            color: ChartConfig.color_chart_green_3,\r\n        })\r\n    }\r\n\r\n    if (labels.includes(applicationStrings.label_nutrient_dietaryFibers[language])) {\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_dietaryFibers[language],\r\n            color: ChartConfig.color_chart_green_2,\r\n        })\r\n    }\r\n\r\n    if (labels.includes(applicationStrings.label_nutrient_remainder[language])) {\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_remainder[language],\r\n            color: ChartConfig.color_chart_misc,\r\n        })\r\n    }\r\n\r\n    return legendData;\r\n}\r\n\r\n\r\nexport function getCarbsDetailsLegend(labels: string[], language: string): LegendData[] {\r\n    const legendData: Array<any> = []\r\n\r\n    if (labels.includes(applicationStrings.label_nutrient_carbohydrates_glucose[language])) {\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_carbohydrates_glucose[language],\r\n            color: ChartConfig.color_carbs_mono_glucose,\r\n        })\r\n    }\r\n\r\n    if (labels.includes(applicationStrings.label_nutrient_carbohydrates_fructose[language])) {\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_carbohydrates_fructose[language],\r\n            color: ChartConfig.color_carbs_mono_fructose,\r\n        })\r\n    }\r\n\r\n    if (labels.includes(applicationStrings.label_nutrient_carbohydrates_galactose[language])) {\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_carbohydrates_galactose[language],\r\n            color: ChartConfig.color_carbs_mono_galactose,\r\n        })\r\n    }\r\n\r\n    if (labels.includes(applicationStrings.label_nutrient_carbohydrates_sucrose[language])) {\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_carbohydrates_sucrose[language],\r\n            color: ChartConfig.color_carbs_di_sucrose,\r\n        })\r\n    }\r\n\r\n    if (labels.includes(applicationStrings.label_nutrient_carbohydrates_lactose[language])) {\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_carbohydrates_lactose[language],\r\n            color: ChartConfig.color_carbs_di_lactose,\r\n        })\r\n    }\r\n\r\n    if (labels.includes(applicationStrings.label_nutrient_carbohydrates_maltose[language])) {\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_carbohydrates_maltose[language],\r\n            color: ChartConfig.color_carbs_di_maltose,\r\n        })\r\n    }\r\n\r\n    if (labels.includes(applicationStrings.label_nutrient_carbohydrates_starch[language])) {\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_carbohydrates_starch[language],\r\n            color: ChartConfig.color_carbs_starch,\r\n        })\r\n    }\r\n\r\n    if (labels.includes(applicationStrings.label_nutrient_dietaryFibers[language])) {\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_dietaryFibers[language],\r\n            color: ChartConfig.color_carbs_dietaryFibers,\r\n        })\r\n    }\r\n\r\n    if (labels.includes(applicationStrings.label_nutrient_remainder[language])) {\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_remainder[language],\r\n            color: ChartConfig.color_chart_misc,\r\n        })\r\n    }\r\n\r\n    return legendData;\r\n}","import {useContext, useEffect, useState} from \"react\";\r\nimport * as ChartConfig from \"../../../config/ChartConfig\"\r\nimport * as Constants from \"../../../config/Constants\"\r\nimport {CARBS_DATA_BASE, CHART_TYPE_BAR, CHART_TYPE_PIE} from \"../../../config/Constants\"\r\nimport {Bar, Pie} from \"react-chartjs-2\";\r\nimport {getBarChartOptions, getPieChartOptions} from \"../../../service/ChartConfigurationService\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {autoRound} from \"../../../service/calculation/MathService\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport {Form} from \"react-bootstrap\";\r\nimport {CustomLegend} from \"../../charthelper/CustomLegend\";\r\nimport {PieChartConfigurationForm} from \"../../charthelper/PieChartConfigurationForm\";\r\nimport {initialChartConfigData} from \"../../../config/ApplicationSetting\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {CarbDataChartProps} from \"../../../types/livedata/ChartPropsData\";\r\nimport {GeneralChartConfigDirectCompareWithSubCharts} from \"../../../types/livedata/ChartConfigData\";\r\nimport {useWindowDimension} from \"../../../service/WindowDimension\";\r\nimport {calculateChartContainerHeight, calculateChartHeight} from \"../../../service/nutrientdata/ChartSizeCalculation\";\r\nimport {getNutrientData} from \"../../../service/nutrientdata/NutrientDataRetriever\";\r\nimport {\r\n    getCarbBaseChartData,\r\n    getCarbDetailsChartData,\r\n    getCarbsBaseLegend,\r\n    getCarbsDetailsLegend\r\n} from \"../../../service/chartdata/CarbsChartDataService\";\r\n\r\nexport default function CarbsDataChart(props: CarbDataChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n    const windowSize = useWindowDimension()\r\n\r\n    let chartConfig = props.directCompareConfig\r\n        ? props.directCompareConfig\r\n        : applicationContext\r\n            ? applicationContext.applicationData.foodDataPanel.chartConfigData.carbsChartConfig\r\n            : initialChartConfigData.carbsChartConfig\r\n\r\n    const initialExpand100 =  props.directCompareConfig\r\n        ? applicationContext?.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig.expand100\r\n        : chartConfig.expand100\r\n\r\n    const initialHideRemainders =  props.directCompareConfig\r\n        ? applicationContext?.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig.hideRemainders\r\n        : chartConfig.hideRemainders\r\n\r\n    const [chartType, setChartType] = useState<string>(chartConfig.chartType)\r\n    const [showLegend, setShowLegend] = useState<boolean>(chartConfig.showLegend)\r\n    const [hideRemainders, setShowHideRemainders] = useState<boolean>(initialHideRemainders ? initialHideRemainders : false)\r\n    const [expand100, setExpand100] = useState<boolean>(initialExpand100 ? initialExpand100 : false)\r\n    const [subChart, setSubChart] = useState<string>(chartConfig.subChart ? chartConfig.subChart : CARBS_DATA_BASE)\r\n    const [chartHeight, setChartHeight] = useState<number>(calculateChartHeight(windowSize, props.directCompareUse))\r\n\r\n    useEffect(() => {\r\n        if (props.directCompareConfig) {\r\n            setChartType(chartConfig.chartType)\r\n            setShowLegend(chartConfig.showLegend)\r\n            setSubChart(chartConfig.subChart ? chartConfig.subChart : CARBS_DATA_BASE)\r\n        }\r\n\r\n        setChartHeight(calculateChartHeight(windowSize, props.directCompareUse))\r\n        updateChartConfig()\r\n    }, [chartType, showLegend, hideRemainders, expand100, subChart, chartHeight, props])\r\n\r\n    const updateChartConfig = () => {\r\n        if (applicationContext && !props.directCompareConfig) {\r\n            const currentConfig = applicationContext.applicationData.foodDataPanel.chartConfigData.carbsChartConfig\r\n            if (chartType !== currentConfig.chartType\r\n                || subChart !== currentConfig.subChart\r\n                || hideRemainders !== currentConfig.hideRemainders\r\n                || expand100 !== currentConfig.expand100\r\n                || showLegend !== currentConfig.showLegend) {\r\n                const newChartConfig = {\r\n                    ...applicationContext.applicationData.foodDataPanel.chartConfigData,\r\n                    carbsChartConfig: {\r\n                        chartType: chartType,\r\n                        showLegend: showLegend,\r\n                        hideRemainders: hideRemainders,\r\n                        expand100: expand100,\r\n                        subChart: subChart\r\n                    }\r\n                }\r\n                applicationContext.setFoodDataPanelData.updateFoodDataPanelChartConfig(newChartConfig)\r\n            }\r\n        } else if(applicationContext) {\r\n            const currentConfig = applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig\r\n            if (hideRemainders !== currentConfig.hideRemainders\r\n                || expand100 !== currentConfig.expand100) {\r\n                applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig.expand100 = expand100\r\n                applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig.hideRemainders = hideRemainders\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleExpand100Change = () => {\r\n        setExpand100(!expand100)\r\n    }\r\n\r\n    const handleHideRemaindersCheckbox = () => {\r\n        setShowHideRemainders(!hideRemainders)\r\n    }\r\n\r\n    const carbohydrateData = getNutrientData(props.selectedFoodItem).carbohydrateData;\r\n\r\n    const handleChartSelectionChange = (event: any) => {\r\n        if (applicationContext && props.directCompareConfig) {\r\n            const currentSettings = applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart\r\n\r\n            const carbsChartConfig: GeneralChartConfigDirectCompareWithSubCharts = props.directCompareConfig.chartIndex === 1\r\n                ? {\r\n                    chartType: chartType,\r\n                    showLegend: showLegend,\r\n                    hideRemainders: true,\r\n                    expand100: true,\r\n                    subChart1: event.target.value,\r\n                    subChart2: currentSettings.carbsChartConfig.subChart2\r\n                }\r\n                : {\r\n                    chartType: chartType,\r\n                    showLegend: showLegend,\r\n                    hideRemainders: true,\r\n                    expand100: true,\r\n                    subChart1: currentSettings.carbsChartConfig.subChart1,\r\n                    subChart2: event.target.value\r\n                }\r\n\r\n            const newChartConfig = {\r\n                ...currentSettings,\r\n                carbsChartConfig: carbsChartConfig\r\n            }\r\n            applicationContext.setDirectCompareData.updateDirectCompareChartConfig(newChartConfig)\r\n        } else {\r\n            setSubChart(event.target.value)\r\n        }\r\n    }\r\n\r\n    const createBasicChartData = () => {\r\n        const nutrientData = getNutrientData(props.selectedFoodItem)\r\n        const totalAmount = getNutrientData(props.selectedFoodItem).baseData.carbohydrates;\r\n        const chartDisplayData = getCarbBaseChartData(nutrientData, hideRemainders, totalAmount, lang)\r\n\r\n        if(!chartDisplayData) {\r\n            return\r\n        }\r\n\r\n        return {\r\n            labels: chartDisplayData.labels,\r\n            datasets: [{\r\n                data: chartDisplayData.values,\r\n                backgroundColor: chartDisplayData.colors,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        }\r\n    }\r\n\r\n\r\n    const createDetailChartData = () => {\r\n        const {carbohydrateData, baseData} = getNutrientData(props.selectedFoodItem)\r\n        const nutrientData = getNutrientData(props.selectedFoodItem)\r\n        const totalAmount = getNutrientData(props.selectedFoodItem).baseData.carbohydrates;\r\n        const chartDisplayData = getCarbDetailsChartData(nutrientData, hideRemainders, totalAmount, lang)\r\n\r\n        if(!chartDisplayData) {\r\n            return\r\n        }\r\n\r\n        return {\r\n            labels: chartDisplayData.labels,\r\n            datasets: [{\r\n                data: chartDisplayData.values,\r\n                backgroundColor: chartDisplayData.colors,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        };\r\n    }\r\n\r\n\r\n    const handleRadioButtonClick = (event: any) => {\r\n        setChartType(event.target.value)\r\n    }\r\n\r\n    const handleLegendCheckbox = () => {\r\n        setShowLegend(!showLegend)\r\n    }\r\n\r\n    const getOptions = () => {\r\n        let title;\r\n\r\n        if (subChart === Constants.CARBS_DATA_BASE) {\r\n            title = applicationStrings.label_charttype_carbs_base[lang];\r\n        } else if (subChart === Constants.CARBS_DATA_DETAIL) {\r\n            title = applicationStrings.label_charttype_carbs_detail[lang];\r\n        }\r\n\r\n        if (chartType === CHART_TYPE_BAR) {\r\n            return expand100 ? getBarChartOptions(title, \"%\", 100) : getBarChartOptions(title, \"%\");\r\n        } else {\r\n            return getPieChartOptions(title, \"%\");\r\n        }\r\n    }\r\n\r\n\r\n    const renderChartSelector = () => {\r\n        return (\r\n            <Form>\r\n                <Form.Label>\r\n                    <b>{applicationStrings.label_datatype[lang]}:</b>\r\n                </Form.Label>\r\n                <Form.Check inline={false}\r\n                            label={applicationStrings.label_charttype_carbs_base[lang]}\r\n                            type=\"radio\"\r\n                            value={Constants.CARBS_DATA_BASE}\r\n                            checked={subChart === Constants.CARBS_DATA_BASE}\r\n                            onChange={handleChartSelectionChange}>\r\n                </Form.Check>\r\n                <Form.Check inline={false}\r\n                            label={applicationStrings.label_charttype_carbs_detail[lang]}\r\n                            type=\"radio\"\r\n                            value={Constants.CARBS_DATA_DETAIL}\r\n                            checked={subChart === Constants.CARBS_DATA_DETAIL}\r\n                            onChange={handleChartSelectionChange}>\r\n                </Form.Check>\r\n                <hr/>\r\n                <Form>\r\n                    <Form.Check inline={false}\r\n                                label={applicationStrings.checkbox_expand100g[lang]}\r\n                                type=\"checkbox\"\r\n                                disabled={chartType === Constants.CHART_TYPE_PIE}\r\n                                checked={expand100}\r\n                                onChange={handleExpand100Change}>\r\n                    </Form.Check>\r\n                    <Form.Check inline={false}\r\n                                label={applicationStrings.checkbox_chartoption_hideRemainders[lang]}\r\n                                type=\"checkbox\"\r\n                                disabled={subChart === Constants.CARBS_DATA_DETAIL}\r\n                                checked={hideRemainders}\r\n                                onChange={handleHideRemaindersCheckbox}>\r\n                    </Form.Check>\r\n                </Form>\r\n            </Form>\r\n        )\r\n    }\r\n\r\n\r\n    const renderChart = (data: any) => {\r\n        if (!data) {\r\n            return (\r\n                <div style={{height: ChartConfig.default_chart_height}}>\r\n                    {applicationStrings.label_noData[lang]}\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {chartType === CHART_TYPE_PIE &&\r\n                <Pie data={data}\r\n                     key={'chart ' + chartHeight}\r\n                     height={chartHeight}\r\n                     options={getOptions()}\r\n                />\r\n                }\r\n                {chartType === CHART_TYPE_BAR &&\r\n                <Bar data={data}\r\n                     key={'chart ' + chartHeight}\r\n                     height={chartHeight}\r\n                     options={getOptions()}\r\n                />\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    const chartColType = chartType === CHART_TYPE_PIE ? \"col-6\" : \"col-8\";\r\n    const detailChartData = createDetailChartData()\r\n    const basicChartData = createBasicChartData()\r\n\r\n    const containerHeight = calculateChartContainerHeight(windowSize,  props.directCompareUse)\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\" style={{height: containerHeight}} key={\"carbs container \" + containerHeight}>\r\n                <div className=\"col-3\" style={{display: \"block\"}}>\r\n                    {renderChartSelector()}\r\n                </div>\r\n                <div className={chartColType}>\r\n                    {subChart === Constants.CARBS_DATA_BASE &&\r\n                    renderChart(basicChartData)\r\n                    }\r\n                    {detailChartData && subChart === Constants.CARBS_DATA_DETAIL &&\r\n                    renderChart(detailChartData)\r\n                    }\r\n                    {!detailChartData && subChart === Constants.CARBS_DATA_DETAIL &&\r\n                    <div style={{height: ChartConfig.default_chart_height}}>\r\n                        {applicationStrings.label_noData[lang]}\r\n                    </div>\r\n                    }\r\n                </div>\r\n\r\n                {showLegend && chartType === Constants.CHART_TYPE_PIE &&\r\n                <div className=\"col-3\">\r\n                    {subChart === Constants.CARBS_DATA_BASE && basicChartData &&\r\n                    <CustomLegend legendData={getCarbsBaseLegend(basicChartData.labels, lang)}/>\r\n                    }\r\n                    {subChart === Constants.CARBS_DATA_DETAIL && detailChartData &&\r\n                    <CustomLegend legendData={getCarbsDetailsLegend(detailChartData.labels, lang)}/>\r\n                    }\r\n                </div>\r\n                }\r\n            </div>\r\n            {!props.directCompareConfig &&\r\n            <div className=\"row chartFormLine\">\r\n                <PieChartConfigurationForm chartType={chartType}\r\n                                           showLegend={showLegend}\r\n                                           handleRadioButtonClick={handleRadioButtonClick}\r\n                                           handleLegendCheckboxClick={handleLegendCheckbox}/>\r\n\r\n            </div>\r\n            }\r\n        </div>\r\n    );\r\n\r\n\r\n}","import BaseDataChart from \"./charts/BaseDataChart\";\r\nimport EnergyDataChart from \"./charts/EnergyDataChart\";\r\nimport {\r\n    CHART_MINERALS,\r\n    CHART_VITAMINS,\r\n    TAB_BASE_DATA,\r\n    TAB_CARBS_DATA,\r\n    TAB_ENERGY_DATA,\r\n    TAB_LIPIDS_DATA,\r\n    TAB_MINERAL_DATA,\r\n    TAB_PROTEINS_DATA,\r\n    TAB_VITAMIN_DATA\r\n} from \"../../config/Constants\";\r\nimport MineralVitaminChart from \"./charts/MineralVitaminChart\";\r\nimport LipidsDataChart from \"./charts/LipidsDataChart\";\r\nimport ProteinDataChart from \"./charts/ProteinDataChart\";\r\nimport CarbsDataChart from \"./charts/CarbsDataChart\";\r\nimport {ChartProps} from \"../../types/livedata/ChartPropsData\";\r\nimport {useContext} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\n\r\nexport function ChartPanel(props: ChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const selectedDataTab = applicationContext.applicationData.foodDataPanel.selectedDataPage\r\n\r\n    let chart = <div>Nothing to show</div>;\r\n    if (selectedDataTab === TAB_BASE_DATA) {\r\n        chart = <BaseDataChart selectedFoodItem={props.selectedFoodItem}/>\r\n    } else if (selectedDataTab === TAB_ENERGY_DATA) {\r\n        chart = <EnergyDataChart selectedFoodItem={props.selectedFoodItem}/>\r\n    } else if (selectedDataTab === TAB_VITAMIN_DATA) {\r\n        chart = <MineralVitaminChart selectedFoodItem={props.selectedFoodItem} selectedSubChart={CHART_VITAMINS}/>\r\n    } else if (selectedDataTab === TAB_MINERAL_DATA) {\r\n        chart = <MineralVitaminChart selectedFoodItem={props.selectedFoodItem} selectedSubChart={CHART_MINERALS}/>\r\n    } else if (selectedDataTab === TAB_LIPIDS_DATA) {\r\n        chart = <LipidsDataChart selectedFoodItem={props.selectedFoodItem}/>\r\n    } else if (selectedDataTab === TAB_CARBS_DATA) {\r\n        chart = <CarbsDataChart selectedFoodItem={props.selectedFoodItem}/>\r\n    } else if (selectedDataTab === TAB_PROTEINS_DATA) {\r\n        chart = <ProteinDataChart selectedFoodItem={props.selectedFoodItem}/>\r\n    }\r\n\r\n    return (\r\n        <div style={{paddingTop: \"24px\"}}>\r\n            {chart}\r\n        </div>\r\n    )\r\n}","import {FoodTableDataObject} from \"../../types/livedata/SelectedFoodItemData\";\r\nimport {BootstrapTable, TableHeaderColumn} from 'react-bootstrap-table';\r\nimport {useContext} from \"react\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport 'react-bootstrap-table/dist/react-bootstrap-table-all.min.css';\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {DISPLAYMODE_CHART} from \"../../config/Constants\";\r\n\r\ninterface FoodDataTableProps {\r\n    tableData: Array<FoodTableDataObject>\r\n}\r\n\r\nexport function FoodDataTable(props: FoodDataTableProps) {\r\n    const dataExists = props.tableData && props.tableData.length > 0;\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const language = useContext(LanguageContext)\r\n\r\n    const changeToChartMode = () => {\r\n        applicationContext?.setFoodDataPanelData.setSelectedDisplayMode(DISPLAYMODE_CHART)\r\n    }\r\n\r\n    return (\r\n        <div style={{height: \"418px\", margin: \"25px\", overflowY: \"auto\"}}>\r\n            <div>\r\n                {dataExists &&\r\n                <BootstrapTable className=\"table-sm\" data={props.tableData} striped hover>\r\n                    <TableHeaderColumn isKey dataField='label'>Element</TableHeaderColumn>\r\n                    <TableHeaderColumn dataField='value_100g'>per 100 g</TableHeaderColumn>\r\n                    <TableHeaderColumn dataField='value_portion'>per Portion</TableHeaderColumn>\r\n                </BootstrapTable>\r\n                }\r\n                {!dataExists &&\r\n                <div className=\"text-center\">{applicationStrings.label_noData[language.language]}</div>\r\n                }\r\n            </div>\r\n            <div style={{paddingTop: \"25px\"}}>\r\n                <button className={\"btn btn-link\"} onClick={changeToChartMode}>Zur Diagrammansicht wechseln</button>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React, {useContext, useEffect, useState} from \"react\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {BootstrapTable, TableHeaderColumn} from 'react-bootstrap-table';\r\nimport SelectedFoodItem from \"../../../types/livedata/SelectedFoodItem\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {getNameFromFoodNameList} from \"../../../service/nutrientdata/NameTypeService\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport getName from \"../../../service/LanguageService\";\r\nimport {calculateChartContainerHeight} from \"../../../service/nutrientdata/ChartSizeCalculation\";\r\nimport {useWindowDimension} from \"../../../service/WindowDimension\";\r\nimport {getNutrientData, getSourceName} from \"../../../service/nutrientdata/NutrientDataRetriever\";\r\nimport {Button} from \"react-bootstrap\";\r\n\r\ninterface InfoDataProps {\r\n    selectedFoodItem: SelectedFoodItem,\r\n    directCompare?: boolean\r\n}\r\n\r\ninterface RowElement {\r\n    key: string,\r\n    value: string\r\n}\r\n\r\nexport function InfoData(props: InfoDataProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n\r\n    const windowSize = useWindowDimension()\r\n    const [containerHeight, setContainerHeight] = useState<number>(calculateChartContainerHeight(windowSize, props.directCompare))\r\n\r\n    useEffect(() => {\r\n        setContainerHeight(calculateChartContainerHeight(windowSize, props.directCompare))\r\n    }, [containerHeight])\r\n\r\n    const createRow = (key, value): RowElement => {\r\n        return {\r\n            key: key,\r\n            value: value\r\n        }\r\n    }\r\n\r\n    const getGeneralTableData = (): Array<RowElement> => {\r\n        if (!applicationContext) {\r\n            return []\r\n        }\r\n\r\n        const foodNameId = props.selectedFoodItem.foodItem.nameId\r\n        const foodName = foodNameId ? getNameFromFoodNameList(applicationContext.foodDataCorpus.foodNames, foodNameId, lang) : ''\r\n\r\n        const foodClass = props.selectedFoodItem.foodClass;\r\n        const foodClassNameId = foodClass ? foodClass.nameKey : null\r\n\r\n        const sourceName = getSourceName(props.selectedFoodItem.selectedSource)\r\n        const sourceItemId = getNutrientData(props.selectedFoodItem).sourceItemId\r\n\r\n        const source = `United States Department of Agriculture (USDA)`;\r\n        const sourceLine2 = `${sourceName}, ID = ${sourceItemId}`;\r\n        const foodClassName = foodClassNameId ? getNameFromFoodNameList(applicationContext.foodDataCorpus.foodNames, foodClassNameId, lang) : null;\r\n\r\n        const categoryId = foodClass ? foodClass.category : null\r\n        const category = categoryId ? applicationContext.foodDataCorpus.categories.find(category => category.id === categoryId) : null\r\n        const categoryName = category ? getName(category, lang) : null;\r\n\r\n        const conditionId = props.selectedFoodItem.foodItem.conditionId\r\n        const condition = applicationContext.foodDataCorpus.conditions.find(condition => condition.id === conditionId)\r\n        const conditionName = condition ? getName(condition, lang) : null;\r\n\r\n        const tableDataGeneral: Array<RowElement> = [];\r\n\r\n        tableDataGeneral.push(\r\n            createRow(`${applicationStrings.label_info_foodName[lang]}:`, foodName)\r\n        );\r\n        tableDataGeneral.push(\r\n            createRow(`${applicationStrings.label_info_preparation[lang]}:`, conditionName)\r\n        );\r\n        tableDataGeneral.push(\r\n            createRow(`${applicationStrings.label_info_foodId[lang]}:`, props.selectedFoodItem.foodItem.id)\r\n        );\r\n        tableDataGeneral.push(\r\n            createRow(`${applicationStrings.label_info_foodClass[lang]}:`, foodClassName)\r\n        );\r\n        tableDataGeneral.push(\r\n            createRow(`${applicationStrings.label_info_category[lang]}:`, categoryName)\r\n        );\r\n        tableDataGeneral.push(\r\n            createRow(`${applicationStrings.label_info_source[lang]}:`, source)\r\n        );\r\n        tableDataGeneral.push(\r\n            createRow(\"\", sourceLine2)\r\n        );\r\n\r\n        return tableDataGeneral;\r\n    }\r\n\r\n    const getTableDataPortion = () => {\r\n        const foodPortion = props.selectedFoodItem.portion;\r\n        const portionValue = `${foodPortion.amount} g`;\r\n\r\n        const portionObject = applicationContext?.foodDataCorpus.portionTypes.find(portion => portion.id === foodPortion.portionType)\r\n        if (portionObject) {\r\n            const portionName = foodPortion.portionType !== 0 ? getName(portionObject, lang) : applicationStrings.portion_individual[lang];\r\n            const tableDataPortion: Array<RowElement> = [];\r\n\r\n            tableDataPortion.push(\r\n                createRow(`${applicationStrings.label_info_portionType[lang]}:`, portionName)\r\n            );\r\n\r\n            tableDataPortion.push(\r\n                createRow(`${applicationStrings.label_portion[lang]}:`, portionValue)\r\n            );\r\n\r\n            return tableDataPortion\r\n        }\r\n\r\n\r\n        return [];\r\n    }\r\n\r\n\r\n    const getTableDataCombinedFood = () => {\r\n        // const individualList = props.foodItem.individualData;\r\n        // const tableData = [];\r\n        //\r\n        // for(let i=0; i < individualList.length; i++) {\r\n        //     tableData.push(\r\n        //         createRow(`${individualList[i].name}:`, `${individualList[i].portion} g`)\r\n        //     );\r\n        // }\r\n        //\r\n        // return tableData;\r\n    }\r\n\r\n\r\n    const renderSubTable = (data) => {\r\n        return (\r\n            <div>\r\n                <BootstrapTable bordered={false} data={data}>\r\n                    <TableHeaderColumn className=\"tableHeaderClass\" dataField='key' isKey width=\"200px\"/>\r\n                    <TableHeaderColumn className=\"tableHeaderClass\" dataField='value'/>\r\n                </BootstrapTable>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const onLinkClick = () => {\r\n        const sourceItemId = getNutrientData(props.selectedFoodItem).sourceItemId\r\n        const usdaLink = `https://fdc.nal.usda.gov/fdc-app.html#/food-details/${sourceItemId}/nutrients`\r\n\r\n        const link = window.open(usdaLink, '_blank')\r\n        if (link) {\r\n            link.focus()\r\n        } else {\r\n            window.location.href = usdaLink\r\n        }\r\n    }\r\n\r\n\r\n    let height = containerHeight\r\n    if(!props.directCompare) {\r\n        height += 86\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div style={{height: height, maxHeight: height, overflowY: \"auto\", padding: \"15px\"}}>\r\n                {props.selectedFoodItem.foodItem.foodClass !== 0 &&\r\n                <div>\r\n                    <div>\r\n                        {renderSubTable(getGeneralTableData())}\r\n                    </div>\r\n                    <div style={{paddingTop: \"30px\"}}>\r\n                        <h5>{applicationStrings.label_info_portion[lang]}</h5>\r\n                        {renderSubTable(getTableDataPortion())}\r\n                    </div>\r\n                </div>\r\n                }\r\n                {props.selectedFoodItem.foodItem.foodClass === 0 &&\r\n                <div>\r\n                    <h5>Individual</h5>\r\n                    {renderSubTable(getTableDataCombinedFood())}\r\n                </div>\r\n                }\r\n\r\n                <div style={{paddingTop: \"20px\", paddingBottom: \"12px\"}}>\r\n                    <Button variant={'link'} active={true} onClick={onLinkClick}>\r\n                        {applicationStrings.label_usda_reference[lang]}\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n\r\n}","import {FoodTableDataObject} from \"../../types/livedata/SelectedFoodItemData\";\r\nimport {DISPLAYMODE_CHART, DISPLAYMODE_TABLE, TAB_INFO} from \"../../config/Constants\";\r\nimport {ChartPanel} from \"./ChartPanel\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {FoodDataTable} from \"./FoodDataTable\";\r\nimport {InfoData} from \"./charts/InfoData\";\r\nimport {useContext} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\n\r\ninterface FoodDataPageBodyProps {\r\n    tableData: Array<FoodTableDataObject>\r\n    selectedFoodItem: SelectedFoodItem\r\n}\r\n\r\nexport default function FoodDataPageBody(props: FoodDataPageBodyProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n\r\n    if(!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const {displayMode, selectedDataPage}  = applicationContext.applicationData.foodDataPanel\r\n\r\n    const renderDataPage = () => {\r\n        return (\r\n            <div>\r\n                {displayMode === DISPLAYMODE_TABLE &&\r\n                <div className=\"col\">\r\n                    <FoodDataTable tableData={props.tableData}/>\r\n                </div>\r\n                }\r\n                {displayMode === DISPLAYMODE_CHART &&\r\n                <div className=\"col\">\r\n                    <ChartPanel selectedFoodItem={props.selectedFoodItem} />\r\n                </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className={\"form-main\"} style={{maxWidth: \"1200px\", minWidth: \"850px\"}}>\r\n            {selectedDataPage === TAB_INFO &&\r\n            <InfoData selectedFoodItem={props.selectedFoodItem}/>\r\n            }\r\n            {selectedDataPage !== TAB_INFO &&\r\n            renderDataPage()\r\n            }\r\n        </div>\r\n    )\r\n\r\n}","import {Button, ButtonGroup} from \"react-bootstrap\";\r\nimport {\r\n    TAB_BASE_DATA,\r\n    TAB_CARBS_DATA,\r\n    TAB_ENERGY_DATA,\r\n    TAB_INFO,\r\n    TAB_LIPIDS_DATA,\r\n    TAB_MINERAL_DATA,\r\n    TAB_PROTEINS_DATA,\r\n    TAB_VITAMIN_DATA\r\n} from \"../../config/Constants\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {useContext} from \"react\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\n\r\ninterface ChartMenuPanelProps {\r\n    dataPage: string\r\n    setDataPage: (id: string) => void\r\n    verticalArrangement: boolean\r\n}\r\n\r\nexport function ChartMenuPanel(props: ChartMenuPanelProps) {\r\n    const languageContext = useContext(LanguageContext)\r\n\r\n    const handlePageButtonClick = (value: string) => {\r\n        props.setDataPage(value)\r\n    }\r\n\r\n    const variant = \"link\"\r\n\r\n    const makeButtonLabel = (buttonText): JSX.Element => {\r\n        const classNameSpan = props.verticalArrangement ? \"float-start\" : \"\"\r\n        return <span className={classNameSpan}>{buttonText}</span>\r\n    }\r\n\r\n    const rowClass = props.verticalArrangement ? \"d-flex\" : \"d-flex flex-row flex-wrap\"\r\n\r\n    return (\r\n        <div>\r\n            <ButtonGroup className={rowClass} vertical={props.verticalArrangement}>\r\n                <Button className=\"btn sidebar-link\"\r\n                        onClick={() => handlePageButtonClick(TAB_BASE_DATA)}\r\n                        variant={variant}\r\n                        active={props.dataPage === TAB_BASE_DATA}>\r\n                    {makeButtonLabel(applicationStrings.label_overview[languageContext.language])}\r\n                </Button>\r\n                <Button className=\"btn sidebar-link\"\r\n                        onClick={() => handlePageButtonClick(TAB_ENERGY_DATA)}\r\n                        variant={variant}\r\n                        active={props.dataPage === TAB_ENERGY_DATA}>\r\n                    {makeButtonLabel(applicationStrings.label_nutrient_energy[languageContext.language])}\r\n                </Button>\r\n                <Button className=\"btn sidebar-link\"\r\n                        onClick={() => handlePageButtonClick(TAB_VITAMIN_DATA)}\r\n                        variant={variant}\r\n                        active={props.dataPage === TAB_VITAMIN_DATA}>\r\n                    {makeButtonLabel(applicationStrings.label_nutrient_vit[languageContext.language])}\r\n                </Button>\r\n                <Button className=\"btn sidebar-link\"\r\n                        onClick={() => handlePageButtonClick(TAB_MINERAL_DATA)}\r\n                        variant={variant}\r\n                        active={props.dataPage === TAB_MINERAL_DATA}>\r\n                    {makeButtonLabel(applicationStrings.label_nutrient_min[languageContext.language])}\r\n                </Button>\r\n                <Button className=\"btn sidebar-link\"\r\n                        onClick={() => handlePageButtonClick(TAB_LIPIDS_DATA)}\r\n                        variant={variant}\r\n                        active={props.dataPage === TAB_LIPIDS_DATA}>\r\n                    {makeButtonLabel(applicationStrings.label_nutrient_lipids[languageContext.language])}\r\n                </Button>\r\n                <Button className=\"btn sidebar-link\"\r\n                        onClick={() => handlePageButtonClick(TAB_CARBS_DATA)}\r\n                        variant={variant}\r\n                        active={props.dataPage === TAB_CARBS_DATA}>\r\n                    {makeButtonLabel(applicationStrings.label_nutrient_carbohydrates[languageContext.language])}\r\n                </Button>\r\n                <Button className=\"btn sidebar-link\"\r\n                        onClick={() => handlePageButtonClick(TAB_PROTEINS_DATA)}\r\n                        variant={variant}\r\n                        active={props.dataPage === TAB_PROTEINS_DATA}>\r\n                    {makeButtonLabel(applicationStrings.label_nutrient_proteins[languageContext.language])}\r\n                </Button>\r\n                <Button className=\"btn sidebar-link\"\r\n                        onClick={() => handlePageButtonClick(TAB_INFO)}\r\n                        variant={variant}\r\n                        active={props.dataPage === TAB_INFO}>\r\n                    {makeButtonLabel(applicationStrings.label_info[languageContext.language])}\r\n                </Button>\r\n            </ButtonGroup>\r\n        </div>\r\n    );\r\n\r\n}","import {useContext, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {Button} from \"react-bootstrap\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {FaChartBar, FaQuestionCircle, FaThList, FaTimes} from \"react-icons/all\";\r\nimport {\r\n    DISPLAYMODE_CHART,\r\n    DISPLAYMODE_TABLE,\r\n    PATH_FOODDATA_PANEL,\r\n    TAB_BASE_DATA,\r\n    TAB_CARBS_DATA,\r\n    TAB_ENERGY_DATA,\r\n    TAB_INFO,\r\n    TAB_LIPIDS_DATA,\r\n    TAB_MINERAL_DATA,\r\n    TAB_PROTEINS_DATA,\r\n    TAB_VITAMIN_DATA\r\n} from \"../../config/Constants\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport {getNameFromFoodNameList} from \"../../service/nutrientdata/NameTypeService\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport FoodDataPageBody from \"./FoodDataPageBody\";\r\nimport {FoodTableDataObject} from \"../../types/livedata/SelectedFoodItemData\";\r\nimport {HelpModal} from \"../HelpModal\";\r\nimport {getHelpText, HelpText} from \"../../service/HelpService\";\r\nimport getName from \"../../service/LanguageService\";\r\nimport {ChartMenuPanel} from \"./ChartMenuPanel\";\r\nimport {getSourceName} from \"../../service/nutrientdata/NutrientDataRetriever\";\r\nimport {useHistory} from 'react-router-dom';\r\n\r\n\r\ninterface FoodDataPageHeaderProps {\r\n    setDisplayMode: (id: string) => void\r\n    setDataPage: (id: string) => void\r\n    selectedFoodItem: SelectedFoodItem\r\n    tableData: Array<FoodTableDataObject>\r\n}\r\n\r\nexport default function FoodDataPageHeader(props: FoodDataPageHeaderProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n\tconst history = useHistory()\r\n\r\n    const [helpModalId, setHelpModalId] = useState<number>(0)\r\n\r\n    if (applicationContext === null) {\r\n        return <div/>\r\n    }\r\n\r\n    const displayMode = applicationContext.applicationData.foodDataPanel.displayMode\r\n    const dataPage = applicationContext.applicationData.foodDataPanel.selectedDataPage\r\n\r\n    const handleRadioButtonClick = (value: string) => {\r\n        props.setDisplayMode(value)\r\n    }\r\n\r\n    const closeTab = () => {\r\n        const id = (props.selectedFoodItem.foodItem.id)\r\n\t\tconst remainingItems = applicationContext.applicationData.foodDataPanel.selectedFoodItems.length - 1\r\n\r\n        applicationContext.setFoodDataPanelData.removeItemFromFoodDataPanel(id)\r\n\r\n\t\tif(remainingItems === 0) {\r\n\t\t\thistory.push({pathName: PATH_FOODDATA_PANEL})\r\n\t\t}\t\t\r\n    }\r\n\r\n    const help = () => {\r\n        switch (dataPage) {\r\n            case TAB_BASE_DATA:\r\n                setHelpModalId(1)\r\n                return;\r\n            case TAB_ENERGY_DATA:\r\n                setHelpModalId(2)\r\n                return;\r\n            case TAB_VITAMIN_DATA:\r\n                setHelpModalId(3)\r\n                return;\r\n            case TAB_MINERAL_DATA:\r\n                setHelpModalId(4)\r\n                return;\r\n            case TAB_LIPIDS_DATA:\r\n                setHelpModalId(5)\r\n                return;\r\n            case TAB_INFO:\r\n                setHelpModalId(6)\r\n                return;\r\n            case TAB_CARBS_DATA:\r\n                setHelpModalId(7)\r\n                return;\r\n            case TAB_PROTEINS_DATA:\r\n                setHelpModalId(8)\r\n                return;\r\n            default:\r\n                return;\r\n        }\r\n    }\r\n\r\n    const enabledDisplayButtonClasses = \"btn button-displaymode-enabled\"\r\n    const disabledDisplayButtonClasses = \"btn button-displaymode-disabled\"\r\n\r\n    const chartButtonClasses = displayMode === DISPLAYMODE_CHART ? enabledDisplayButtonClasses\r\n        : disabledDisplayButtonClasses;\r\n\r\n    const tablesButtonClasses = displayMode === DISPLAYMODE_TABLE ? enabledDisplayButtonClasses\r\n        : disabledDisplayButtonClasses;\r\n\r\n    const foodNamesList = applicationContext.foodDataCorpus.foodNames;\r\n\r\n\r\n    let foodName\r\n    if (props.selectedFoodItem.foodItem.nameId) {\r\n        foodName = getNameFromFoodNameList(foodNamesList, props.selectedFoodItem.foodItem.nameId, languageContext.language)\r\n    } else {\r\n        foodName = 'Individual'\r\n    }\r\n\r\n    let fullName\r\n    const portionSize = props.selectedFoodItem.portion.amount\r\n\r\n    if (!props.selectedFoodItem.foodItem.aggregated) {\r\n        const condition = applicationContext.foodDataCorpus.conditions.find(condition => condition.id === props.selectedFoodItem.foodItem.conditionId)\r\n        const conditionName = condition ? getName(condition, languageContext.language) : \"\"\r\n        fullName = `${foodName} (${conditionName}, ${portionSize} g)`\r\n    } else {\r\n        fullName = `${foodName} (${portionSize} g)`\r\n    }\r\n\r\n    const helpText: HelpText | null = helpModalId > 0 ? getHelpText(helpModalId, languageContext.language) : null\r\n    const sourceString = getSourceName(props.selectedFoodItem.selectedSource)\r\n    const selectedDataPage = applicationContext.applicationData.foodDataPanel.selectedDataPage\r\n    const sourceToolTip = `${applicationStrings.tooltip_source[languageContext.language]} ${sourceString}`\r\n\r\n    return (\r\n        <div style={{paddingBottom: \"6px\"}}>\r\n            {helpText !== null &&\r\n            <HelpModal helpText={helpText} closeHelpModal={() => setHelpModalId(0)}/>\r\n            }\r\n            <div className={\"d-flex flex-nowrap\"}>\r\n                <div className=\"col-md-2 col-sm-3\">\r\n                    <div className={\"card\"}>\r\n                        <div className=\"card-body\" style={{paddingRight: \"16px\"}}>\r\n                            <ChartMenuPanel verticalArrangement={true} setDataPage={props.setDataPage} dataPage={selectedDataPage}/>\r\n                            <div className={\"d-flex card\"} style={{marginTop: \"24px\", backgroundColor: \"#eeeeee\"}}>\r\n                                <div className={\"text-center\"} style={{fontSize: \"0.8em\"}} data-tip={sourceToolTip}>\r\n                                    {sourceString}\r\n                                    <ReactTooltip/>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className={\"col\"}>\r\n                    <div className=\"d-flex flex-row justify-content-between\" style={{marginTop: \"10px\"}}>\r\n                        <div style={{paddingTop: \"6px\", paddingLeft: \"32px\"}}>\r\n                            <div style={{borderBottom: \"1px solid #BBBBBB\", paddingLeft: \"12px\", paddingRight: \"12px\"}}>\r\n                                <b>{fullName}</b>\r\n                            </div>\r\n                        </div>\r\n                        <div style={{paddingRight: \"24px\"}}>\r\n                            <div style={{padding: \"0px !important\", margin: \"0px !important\"}}>\r\n                                <div className=\"btn-group\" role=\"group\">\r\n                                    <Button className={chartButtonClasses}\r\n                                            onClick={() => handleRadioButtonClick(DISPLAYMODE_CHART)}\r\n                                            active={displayMode === DISPLAYMODE_CHART}\r\n                                            data-tip={applicationStrings.tooltip_icon_charts[languageContext.language]}>\r\n                                        <ReactTooltip/>\r\n                                        <FaChartBar/>\r\n                                    </Button>\r\n                                    <Button className={tablesButtonClasses}\r\n                                            onClick={() => handleRadioButtonClick(DISPLAYMODE_TABLE)}\r\n                                            active={displayMode === DISPLAYMODE_TABLE}\r\n                                            data-tip={applicationStrings.tooltip_icon_table[languageContext.language]}>\r\n                                        <FaThList/>\r\n                                    </Button>\r\n                                </div>\r\n                                <div className=\"btn-group\" role=\"group\" style={{paddingLeft: \"24px\"}}>\r\n                                    <Button className={\"btn-primary button-foodPanelHead\"}\r\n                                            onClick={help}\r\n                                            active={displayMode === DISPLAYMODE_CHART}>\r\n                                        <ReactTooltip/>\r\n                                        <FaQuestionCircle/>\r\n                                    </Button>\r\n                                    <Button className={\"button-closeTab\"}\r\n                                            onClick={closeTab}\r\n                                            data-tip={applicationStrings.tooltip_icon_close[languageContext.language]}>\r\n                                        <ReactTooltip/>\r\n                                        <FaTimes/>\r\n                                    </Button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <FoodDataPageBody selectedFoodItem={props.selectedFoodItem}\r\n                                      tableData={props.tableData}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}","import * as MathService from './calculation/MathService';\r\nimport {applicationStrings} from \"../static/labels\";\r\nimport {FoodTableDataObject} from \"../types/livedata/SelectedFoodItemData\";\r\nimport {getNutrientData} from \"./nutrientdata/NutrientDataRetriever\";\r\nimport SelectedFoodItem from \"../types/livedata/SelectedFoodItem\";\r\n\r\nexport function createBaseDataTable(selectedFoodItem: SelectedFoodItem, portion: number, language: string, preferredSource: string): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject> = [];\r\n\r\n    const {water, carbohydrates, lipids, proteins, dietaryFibers, ash, alcohol} = getNutrientData(selectedFoodItem).baseData\r\n    const {sugar}  = getNutrientData(selectedFoodItem).carbohydrateData\r\n\r\n    if(water) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_water[language],\r\n            water,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(carbohydrates) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates[language],\r\n            carbohydrates,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(sugar) {\r\n        tableData.push(createTableObject(\r\n            ` ... ${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_sugar[language]}`,\r\n            sugar,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(dietaryFibers) {\r\n        tableData.push(createTableObject(\r\n            ` ... ${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_dietaryFibers[language]}`,\r\n            dietaryFibers,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(lipids) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_lipids[language],\r\n            lipids,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteins) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins[language],\r\n            proteins,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(alcohol) {\r\n        tableData.push(createTableObjectAlcohol(\r\n            applicationStrings.label_nutrient_alcohol[language],\r\n            alcohol,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(ash) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_ash[language],\r\n            ash,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\n\r\nexport function createVitaminTable(foodItem: SelectedFoodItem, portion: number, language: string, preferredSource: string): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject>  = [];\r\n    const nutrientData = getNutrientData(foodItem)\r\n    \r\n    if(nutrientData.vitaminData.a != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_a[language],\r\n            nutrientData.vitaminData.a,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(nutrientData.vitaminData.b1 != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_b1[language],\r\n            nutrientData.vitaminData.b1,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(nutrientData.vitaminData.b2 != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_b2[language],\r\n            nutrientData.vitaminData.b2,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(nutrientData.vitaminData.b3 != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_b3[language],\r\n            nutrientData.vitaminData.b3,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(nutrientData.vitaminData.b5 != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_b5[language],\r\n            nutrientData.vitaminData.b5,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(nutrientData.vitaminData.b6 != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_b6[language],\r\n            nutrientData.vitaminData.b6,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(nutrientData.vitaminData.b9 != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_b9[language],\r\n            nutrientData.vitaminData.b9,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(nutrientData.vitaminData.b12 != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_b12[language],\r\n            nutrientData.vitaminData.b12,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(nutrientData.vitaminData.c != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_c[language],\r\n            nutrientData.vitaminData.c,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(nutrientData.vitaminData.d != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_d[language],\r\n            nutrientData.vitaminData.d,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(nutrientData.vitaminData.e != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_e[language],\r\n            nutrientData.vitaminData.e,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(nutrientData.vitaminData.k != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_k[language],\r\n            nutrientData.vitaminData.k,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\nexport function createMineralTable(foodItem: SelectedFoodItem, portion: number, language: string, preferredSource: string): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject>  = [];\r\n\r\n    const firstNutrientData = getNutrientData(foodItem);\r\n\r\n    if(firstNutrientData.mineralData.calcium != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_calcium[language],\r\n            firstNutrientData.mineralData.calcium,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.iron != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_iron[language],\r\n            firstNutrientData.mineralData.iron,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.magnesium != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_magnesium[language],\r\n            firstNutrientData.mineralData.magnesium,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.phosphorus != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_phosphorus[language],\r\n            firstNutrientData.mineralData.phosphorus,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.potassium != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_potassimum[language],\r\n            firstNutrientData.mineralData.potassium,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.sodium != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_sodium[language],\r\n            firstNutrientData.mineralData.sodium,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.zinc != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_zinc[language],\r\n            firstNutrientData.mineralData.zinc,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.copper != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_copper[language],\r\n            firstNutrientData.mineralData.copper,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.manganese != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_manganese[language],\r\n            firstNutrientData.mineralData.manganese,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.selenium != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_selenium[language],\r\n            firstNutrientData.mineralData.selenium,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\nexport function createLipidsTable(foodItem: SelectedFoodItem, portion: number, language: string, preferredSource: string): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject>  = [];\r\n    const firstNutrientData = getNutrientData(foodItem);\r\n\r\n    if(firstNutrientData.lipidData.saturated != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_lipids_saturated[language],\r\n            firstNutrientData.lipidData.saturated,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.lipidData.unsaturatedMono != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_lipids_unsaturated_mono[language],\r\n            firstNutrientData.lipidData.unsaturatedMono,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.lipidData.unsaturatedPoly != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_lipids_unsaturated_poly[language],\r\n            firstNutrientData.lipidData.unsaturatedPoly,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.lipidData.omegaData) {\r\n        if(firstNutrientData.lipidData.omegaData.omega3 != null) {\r\n            tableData.push(createTableObject(\r\n                `${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_lipids_omega3[language]}`,\r\n                firstNutrientData.lipidData.omegaData.omega3,\r\n                portion, \"g\")\r\n            );\r\n        }\r\n\r\n        if(firstNutrientData.lipidData.omegaData.omega6 != null) {\r\n            tableData.push(createTableObject(\r\n                `${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_lipids_omega6[language]}`,\r\n                firstNutrientData.lipidData.omegaData.omega6,\r\n                portion, \"g\")\r\n            );\r\n        }\r\n    }\r\n\r\n    if(firstNutrientData.lipidData.transFattyAcids != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_lipids_transfattyAcids[language],\r\n            firstNutrientData.lipidData.transFattyAcids,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.lipidData.cholesterol != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_lipids_cholesterol[language],\r\n            firstNutrientData.lipidData.cholesterol,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\nexport function createEnergyTable(foodItem: SelectedFoodItem, portion: number, language: string, preferredSource: string): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject>  = [];\r\n\r\n    const nutrientData = getNutrientData(foodItem)\r\n    const energy = nutrientData.baseData.energy !== null ? nutrientData.baseData.energy : 0;\r\n\r\n    tableData.push(createTableObject(\r\n        \"kcal\",\r\n        energy,\r\n        portion, \"\")\r\n    );\r\n\r\n    tableData.push(createTableObject(\r\n        \"kJ\",\r\n        MathService.round(4.186 * energy, 1),\r\n        portion, \"\")\r\n    );\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\n\r\nexport function createCarbsTable(foodItem: SelectedFoodItem, portion: number, language: string, preferredSource: string): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject>  = [];\r\n\r\n    const firstNutrientData = getNutrientData(foodItem);\r\n\r\n    tableData.push(createTableObject(\r\n        applicationStrings.label_nutrient_carbohydrates[language],\r\n        firstNutrientData.baseData.carbohydrates,\r\n        portion, \"g\")\r\n    );\r\n\r\n    if(firstNutrientData.carbohydrateData.sugar != null) {\r\n        tableData.push(createTableObject(\r\n            ` ... ${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_sugar[language]}`,\r\n            firstNutrientData.carbohydrateData.sugar,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.baseData.dietaryFibers != null) {\r\n        tableData.push(createTableObject(\r\n            ` ... ${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_dietaryFibers[language]}`,\r\n            firstNutrientData.baseData.dietaryFibers,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.carbohydrateData.glucose != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_glucose[language],\r\n            firstNutrientData.carbohydrateData.glucose,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.carbohydrateData.fructose != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_fructose[language],\r\n            firstNutrientData.carbohydrateData.fructose,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.carbohydrateData.galactose != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_galactose[language],\r\n            firstNutrientData.carbohydrateData.galactose,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.carbohydrateData.sucrose != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_sucrose[language],\r\n            firstNutrientData.carbohydrateData.sucrose,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.carbohydrateData.lactose != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_lactose[language],\r\n            firstNutrientData.carbohydrateData.lactose,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.carbohydrateData.maltose != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_maltose[language],\r\n            firstNutrientData.carbohydrateData.maltose,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.carbohydrateData.starch != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_starch[language],\r\n            firstNutrientData.carbohydrateData.starch,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\n\r\nexport function createProteinTable(foodItem: SelectedFoodItem, portion: number, language: string, preferredSource: string): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject>  = [];\r\n\r\n    const proteinData = getNutrientData(foodItem).proteinData;\r\n    if(!proteinData) {\r\n        return tableData;\r\n    }\r\n\r\n    if(proteinData.tryptophan != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_tryptophan[language],\r\n            proteinData.tryptophan,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.threonine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_threonine[language],\r\n            proteinData.threonine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.isoleucine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_isoleucine[language],\r\n            proteinData.isoleucine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.leucine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_leucine[language],\r\n            proteinData.leucine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.lysine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_lysine[language],\r\n            proteinData.lysine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.methionine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_methionine[language],\r\n            proteinData.methionine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.cystine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_cystine[language],\r\n            proteinData.cystine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.phenylalanine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_phenylalanine[language],\r\n            proteinData.phenylalanine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.tyrosine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_tyrosine[language],\r\n            proteinData.tyrosine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.valine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_valine[language],\r\n            proteinData.valine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.arginine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_arginine[language],\r\n            proteinData.arginine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.histidine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_histidine[language],\r\n            proteinData.histidine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.alanine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_alanine[language],\r\n            proteinData.alanine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.asparticAcid != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_asparticAcid[language],\r\n            proteinData.asparticAcid,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.glutamicAcid != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_glutamicAcid[language],\r\n            proteinData.glutamicAcid,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.glycine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_glysine[language],\r\n            proteinData.glycine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.proline != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_proline[language],\r\n            proteinData.proline,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.serine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_serine[language],\r\n            proteinData.serine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\nfunction createTableObject(label: string, value_100g: number, portion: number, unit: String): FoodTableDataObject {\r\n    const valuePortion = calculatePortionData(value_100g, portion);\r\n    return {\r\n        label: label,\r\n        value_100g: `${MathService.autoRound(value_100g)} ${unit}`,\r\n        value_portion: `${MathService.autoRound(valuePortion)} ${unit}`\r\n    }\r\n}\r\n\r\nfunction createTableObjectAlcohol(label: string, value_100g: number, portion: number, unit: String): FoodTableDataObject {\r\n    const valuePortion = calculatePortionData(value_100g, portion);\r\n    if(valuePortion === null) {\r\n        return {\r\n            label: label,\r\n            value_100g: \"n/a\",\r\n            value_portion: \"n/a\",\r\n        }\r\n    }\r\n\r\n    const valueVolumePortion = valuePortion * 1.267\r\n    const valueVolume100gram = value_100g * 1.267\r\n\r\n    return {\r\n        label: label,\r\n        value_100g: `${MathService.autoRound(value_100g)} ${unit}   ( = ${MathService.autoRound(valueVolume100gram)} Vol % )`,\r\n        value_portion: `${MathService.autoRound(valuePortion)} ${unit}   ( = ${MathService.autoRound(valueVolume100gram)} Vol % )`\r\n    }\r\n}\r\n\r\n\r\nfunction calculatePortionData(value: number | null, portionSize: number): number | null {\r\n    if(value === null || value === undefined) {\r\n        return null;\r\n    } else if(value === 0) {\r\n        return 0;\r\n    }\r\n    return (value / 100) * portionSize;\r\n}","import SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport FoodDataPageHeader from \"./FoodDataPageHeader\";\r\nimport {FoodTableDataObject} from \"../../types/livedata/SelectedFoodItemData\";\r\nimport {\r\n    SOURCE_SRLEGACY,\r\n    TAB_BASE_DATA,\r\n    TAB_CARBS_DATA,\r\n    TAB_ENERGY_DATA,\r\n    TAB_LIPIDS_DATA,\r\n    TAB_MINERAL_DATA,\r\n    TAB_PROTEINS_DATA,\r\n    TAB_VITAMIN_DATA\r\n} from \"../../config/Constants\";\r\nimport {\r\n    createBaseDataTable,\r\n    createCarbsTable,\r\n    createEnergyTable,\r\n    createLipidsTable,\r\n    createMineralTable,\r\n    createProteinTable,\r\n    createVitaminTable\r\n} from \"../../service/TableService\";\r\n\r\ninterface FoodDataPageProps {\r\n    selectedFoodItem: SelectedFoodItem,\r\n    dataPage?: string\r\n}\r\n\r\nexport default function FoodDataPage(props: FoodDataPageProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const {language} = useContext(LanguageContext)\r\n\r\n    const selectedDataTab = applicationContext\r\n        ? applicationContext.applicationData.foodDataPanel.selectedDataPage\r\n        : TAB_BASE_DATA\r\n\r\n    const [tableData, setTableData] = useState<Array<FoodTableDataObject>>([])\r\n\r\n    const updatePage = () => {   // Central update method when any (radio) button was clicked\r\n        let tableDataList: Array<FoodTableDataObject> = [];\r\n        const {portion} = props.selectedFoodItem\r\n\r\n        const preferredSource = applicationContext ? applicationContext.applicationData.preferredSource : SOURCE_SRLEGACY\r\n\r\n        if (selectedDataTab === TAB_BASE_DATA) {\r\n            tableDataList = createBaseDataTable(props.selectedFoodItem, portion.amount, language, preferredSource);\r\n        } else if (selectedDataTab === TAB_ENERGY_DATA) {\r\n            tableDataList = createEnergyTable(props.selectedFoodItem, portion.amount, language, preferredSource);\r\n        } else if (selectedDataTab === TAB_VITAMIN_DATA) {\r\n            tableDataList = createVitaminTable(props.selectedFoodItem, portion.amount, language, preferredSource);\r\n        } else if (selectedDataTab === TAB_MINERAL_DATA) {\r\n            tableDataList = createMineralTable(props.selectedFoodItem, portion.amount, language, preferredSource);\r\n        } else if (selectedDataTab === TAB_LIPIDS_DATA) {\r\n            tableDataList = createLipidsTable(props.selectedFoodItem, portion.amount, language, preferredSource);\r\n        } else if (selectedDataTab === TAB_CARBS_DATA) {\r\n            tableDataList = createCarbsTable(props.selectedFoodItem, portion.amount, language, preferredSource);\r\n        } else if (selectedDataTab === TAB_PROTEINS_DATA) {\r\n            tableDataList = createProteinTable(props.selectedFoodItem, portion.amount, language, preferredSource);\r\n        }\r\n\r\n        setTableData(tableDataList)\r\n    }\r\n\r\n    useEffect(() => {\r\n            updatePage()\r\n        }, [props.selectedFoodItem,\r\n            applicationContext?.applicationData.preferredSource,\r\n            applicationContext?.applicationData.foodDataPanel.selectedDataPage,\r\n            applicationContext?.applicationData.foodDataPanel.displayMode,\r\n            applicationContext?.userData]\r\n    )\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const onNewDataPage = (datapage: string) => {\r\n        applicationContext.setFoodDataPanelData.setSelectedDataPage(datapage)\r\n        updatePage()\r\n    }\r\n\r\n    const onDisplayModeChange = (newMode: string) => {\r\n        applicationContext.setFoodDataPanelData.setSelectedDisplayMode(newMode)\r\n        updatePage()\r\n    }\r\n\r\n    if (applicationContext.debug) {\r\n        console.log('FoodDataPage: Render, tabledata = ', tableData)\r\n    }\r\n\r\n    return <div>\r\n        <FoodDataPageHeader setDisplayMode={onDisplayModeChange}\r\n                            setDataPage={onNewDataPage}\r\n                            selectedFoodItem={props.selectedFoodItem}\r\n                            tableData={tableData}\r\n        />\r\n    </div>\r\n\r\n}","import NameType from \"../types/nutrientdata/NameType\";\r\nimport SelectedFoodItem from \"../types/livedata/SelectedFoodItem\";\r\nimport {getNameFromFoodNameList} from \"./nutrientdata/NameTypeService\";\r\nimport FoodDataPage from \"../components/fooddatapanel/FoodDataPage\";\r\nimport React from \"react\";\r\n\r\n/**\r\n * Enriches a selected food item by its JSX container to be displayed as a tab in the food data panel\r\n * @param selectedFoodItem The already initialized selected food item\r\n * @param foodNamesList The food names list\r\n * @param language The selected language\r\n */\r\nexport function makeFoodDataPanelComponent(selectedFoodItem: SelectedFoodItem, foodNamesList: Array<NameType>, \r\n\t\tlanguage: string): SelectedFoodItem | null {\r\n    let foodName\r\n    if(selectedFoodItem.foodItem.nameId) {\r\n        foodName = getNameFromFoodNameList(foodNamesList, selectedFoodItem.foodItem.nameId, language)\r\n    } else {\r\n        foodName = 'Individual'\r\n    }\r\n\r\n    if (foodName === null) {\r\n        console.error('No food name available.')\r\n        return null\r\n    }\r\n\r\n    selectedFoodItem.component = <FoodDataPage key={`page component ${selectedFoodItem.id}`} selectedFoodItem={selectedFoodItem}/>\r\n    selectedFoodItem.tab = foodName\r\n    selectedFoodItem.id = selectedFoodItem.foodItem.id\r\n\r\n    return selectedFoodItem\r\n}\r\n","import React, {useContext, useEffect, useState} from 'react'\r\nimport {Button} from 'react-bootstrap'\r\n\r\nimport FoodSelectorModal from '../foodselector/FoodSelectorModal'\r\nimport {FaLayerGroup, FaPlusSquare, FaTrash} from \"react-icons/all\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {confirmAction} from \"../ConfirmationDialog\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport {useHistory} from 'react-router-dom';\r\nimport {PATH_FOODDATA_PANEL} from '../../config/Constants';\r\nimport {makeFoodDataPanelComponent} from \"../../service/FoodDataPanelService\";\r\nimport {isNarrowScreen, useWindowDimension} from \"../../service/WindowDimension\";\r\n\r\ninterface FoodAnalyzerContainerProps {\r\n    openSelectorModal?: boolean\r\n    openCompositeSelectorModal?: boolean\r\n    onNewFoodItemSelected: () => void\r\n}\r\n\r\nexport default function FoodAnalyzerContainer(props: FoodAnalyzerContainerProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n\tconst history = useHistory()\r\n\r\n    const showFoodSelectorInitialState = props.openSelectorModal === true\r\n    const showCompositeFoodSelectorInitialState = props.openCompositeSelectorModal === true\r\n\r\n    const [showFoodSelector, setShowFoodSelector] = useState<Boolean>(showFoodSelectorInitialState)\r\n    const [showFoodAggregatedFoodSelector, setShowAggregatedFoodSelector] = useState<Boolean>(showCompositeFoodSelectorInitialState)\r\n\r\n    let windowSize = useWindowDimension()\r\n\r\n    useEffect(() => {\r\n        ReactTooltip.rebuild()\r\n    })\r\n    \r\n    ReactTooltip.rebuild()\r\n\r\n    if(!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const onHide = (): void => {\r\n        setShowFoodSelector(false)\r\n        setShowAggregatedFoodSelector(false)\r\n    }\r\n\r\n    const onSelectFoodItemSubmit = (selectedFoodItem: SelectedFoodItem): void => {\r\n        if (applicationContext === null) {\r\n            return\r\n        }\r\n\r\n        const selectedFoodItemWithComponent = makeFoodDataPanelComponent(\r\n            selectedFoodItem, applicationContext.foodDataCorpus.foodNames, languageContext.language)\r\n\r\n        if(selectedFoodItemWithComponent !== null) {\r\n            applicationContext.setFoodDataPanelData.addItemToFoodDataPanel(selectedFoodItemWithComponent)\r\n        }\r\n\r\n        if (applicationContext?.debug) {\r\n            console.log('FoodAnalyzerContainer: Set new selected item and execute callback. Selected item = ', selectedFoodItemWithComponent)\r\n        }\r\n\r\n        props.onNewFoodItemSelected()\r\n    }\r\n\r\n    const onCloseAllTabs = async () => {\r\n        if (await confirmAction(\r\n            applicationStrings.confirm_close_all_tabs[languageContext.language],\r\n            applicationStrings.button_yes[languageContext.language],\r\n            applicationStrings.button_no[languageContext.language],\r\n            {}\r\n        )) {\r\n            history.push(PATH_FOODDATA_PANEL)\r\n            applicationContext?.setFoodDataPanelData.removeAllItemsFromFoodDataPanel()\r\n        }\r\n    }\r\n\r\n    if (applicationContext?.debug) {\r\n        console.log('FoodAnalyzerContainer: Render')\r\n    }\r\n\r\n    const selectedFoodItems = applicationContext?.applicationData.foodDataPanel.selectedFoodItems\r\n    const deleteIconEnabled = selectedFoodItems && selectedFoodItems.length > 0\r\n    ReactTooltip.rebuild()\r\n\r\n    console.log('Window size:', windowSize)\r\n\r\n    const buttonRowClass = isNarrowScreen(windowSize) ? \"d-flex flex-column align-items-center mr-4\" : \"d-flex flex-row justify-content-center\"\r\n    const buttonRowStyle = isNarrowScreen(windowSize) ? {paddingTop: \"16px\", marginLeft: \"16px\"} : {marginLeft: \"30px\", marginRight: \"30px\", paddingTop: \"16px\"}\r\n    const buttonClass = isNarrowScreen(windowSize) ? \"btn mb-4\" : \"btn\"\r\n    const buttonStyle = isNarrowScreen(windowSize) ? {marginRight: \"32px\"} : {marginRight: \"24px\"}\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                {showFoodSelector &&\r\n                <FoodSelectorModal onHide={onHide} selectedFoodItemCallback={onSelectFoodItemSubmit} compositeSelector={false}/>\r\n                }\r\n                { showFoodAggregatedFoodSelector &&\r\n                <FoodSelectorModal onHide={onHide} selectedFoodItemCallback={onSelectFoodItemSubmit} compositeSelector={true}/>\r\n                }\r\n                <div className={buttonRowClass} style={buttonRowStyle}>\r\n                    <Button onClick={() => setShowFoodSelector(!showFoodSelector)}\r\n                            className={buttonClass}\r\n                            style = {buttonStyle}\r\n                            data-tip={applicationStrings.tooltip_icon_newFoodItem[languageContext.language]}>\r\n                        <FaPlusSquare/>\r\n                    </Button>\r\n                    <Button onClick={() => setShowAggregatedFoodSelector(!showFoodAggregatedFoodSelector)}\r\n                            className={buttonClass}\r\n                            style = {buttonStyle}\r\n                            data-tip={applicationStrings.tooltip_icon_newFoodItemStack[languageContext.language]}>\r\n                        <FaLayerGroup/>\r\n                    </Button>\r\n                    <Button onClick={() => onCloseAllTabs()}\r\n                            disabled={deleteIconEnabled === false}\r\n                            className={buttonClass}\r\n                            style = {buttonStyle}\r\n                            data-tip={applicationStrings.tooltip_icon_removeAll[languageContext.language]}>\r\n                        <FaTrash/>\r\n                    </Button>\r\n                </div>\r\n                <ReactTooltip/>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}","import React, {useContext} from \"react\";\r\nimport CloseableTabs from 'react-closeable-tabs';\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\n\r\ninterface TabContainerProps {\r\n    onTabChange: (id: number) => void\r\n    indexToSet: number\r\n}\r\n\r\n// Origin: Vinus Online\r\nexport default function TabContainer(props: TabContainerProps) {\r\n    const applicationData = useContext(ApplicationDataContextStore)\r\n\r\n    const style = {\r\n        buttonTab: {\r\n            border: \"border border-secondary\",\r\n            background: \"none\",\r\n            display: \"inline-flex\",\r\n            verticalAlign: \"middle\",\r\n            minHeight: \"30px\",\r\n            alignItems: \"center\",\r\n            cursor: \"pointer\",\r\n            marginTop: \"-12px\",\r\n            borderBottom: \"2px solid transparent\"\r\n        }\r\n    }\r\n\r\n    if(applicationData?.debug) {\r\n        console.log('TabContainer: Render, food panel data = ', applicationData.applicationData.foodDataPanel.selectedFoodItems)\r\n    }\r\n\r\n    if (!applicationData || !applicationData.applicationData.foodDataPanel.selectedFoodItems) {\r\n        return <div/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <CloseableTabs\r\n                data={applicationData.applicationData.foodDataPanel.selectedFoodItems}\r\n                tabPanelClass=\"tab-panel\"\r\n                tabContentClass=\"tab-content mainPanel\"\r\n                style={style}\r\n                onTabClick={(id) => props.onTabChange(id)}\r\n                activeIndex={applicationData.applicationData.foodDataPanel.selectedFoodItemIndex}\r\n            />\r\n        </div>\r\n    )\r\n}","import { AMOUNT_PORTION, CARBS_DATA_BASE, CARBS_DATA_DETAIL, CHART_TYPE_BAR, CHART_TYPE_PIE, GRAM, LIPIDS_DATA_BASE, LIPIDS_DATA_OMEGA, TAB_BASE_DATA, TAB_CARBS_DATA, TAB_LIPIDS_DATA, TAB_MINERAL_DATA, TAB_PROTEINS_DATA, TAB_VITAMIN_DATA } from \"../../config/Constants\"\r\nimport { ChartConfigData, DirectCompareChartConfigData, GeneralizedChartConfig } from \"../../types/livedata/ChartConfigData\"\r\nimport { convertBooleanToDigit, convertStringToBoolean } from \"../calculation/MathService\"\r\n\r\n/**\r\n * Converts/encodes a food data panel chart config sub-element into the corresponding URI query string.\r\n */\r\nexport function makeChartConfigUriString(chartConfigData: ChartConfigData | DirectCompareChartConfigData, selectedDataPage: string): string {\r\n\tlet chartObject: any\r\n\tswitch(selectedDataPage) {\r\n\t\tcase TAB_BASE_DATA:\r\n\t\t\tchartObject = chartConfigData.baseChartConfig\r\n\t\t\tbreak\r\n\t\tcase TAB_LIPIDS_DATA:\r\n\t\t\tchartObject = chartConfigData.lipidsChartConfig\r\n\t\t\tbreak\r\n\t\tcase TAB_CARBS_DATA:\r\n\t\t\tchartObject = chartConfigData.carbsChartConfig\r\n\t\t\tbreak\r\n\t\tcase TAB_VITAMIN_DATA:\r\n\t\t\tchartObject = chartConfigData.vitaminChartConfig\r\n\t\t\tbreak\r\n\t\tcase TAB_MINERAL_DATA:\r\n\t\t\tchartObject = chartConfigData.mineralChartConfig\r\n\t\t\tbreak\r\n\t\tcase TAB_PROTEINS_DATA:\r\n\t\t\tchartObject = chartConfigData.proteinChartConfig\r\n\t\t\tbreak\r\n\t\tdefault:\r\n\t\t\tchartObject = {}\r\n\t}\r\n\t\r\n\tconst generalizedChartConfig = makeGeneralizedChartConfig(chartObject)\r\n\treturn convertGeneralizedChartConfigToString(generalizedChartConfig)\r\n}\r\n\r\n\r\n/**\r\n * Converts/decodes a URI query string to get the encoded chart config data of the currently selected data page\r\n * in the food data panel.\r\n * The resulting chart config will be added to the existing chart configuration data object passed to this method.\r\n */\r\nexport function getUpdatedChartConfig(chartConfigData: ChartConfigData, chartConfigUriString: string, selectedDataPage: string): ChartConfigData {\r\n\tconst chartConfigFromUri = convertGeneralizedChartConfigStringToObject(chartConfigUriString)\r\n\tconst {chartType, expand100, showDetails, showLegend, portionType, subChart} = chartConfigFromUri\r\n\t\r\n\tif(selectedDataPage === TAB_BASE_DATA) {\r\n\t\tif(!chartType || showLegend === undefined || showDetails === undefined) {\r\n\t\t\treturn chartConfigData\r\n\t\t}\r\n\r\n\t\treturn {...chartConfigData, baseChartConfig: {\r\n\t\t\t\tchartType: chartType,\r\n\t\t\t\tshowLegend: showLegend,\r\n\t\t\t\tshowDetails: showDetails\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tif(selectedDataPage === TAB_LIPIDS_DATA) {\r\n\t\tif(!chartType || showLegend === undefined || subChart === undefined) {\r\n\t\t\treturn chartConfigData\r\n\t\t}\r\n\r\n\t\treturn {...chartConfigData, lipidsChartConfig: {\r\n\t\t\t\t...chartConfigData.lipidsChartConfig,\r\n\t\t\t\tchartType: chartType,\r\n\t\t\t\tshowLegend: showLegend,\r\n\t\t\t\tsubChart: subChart\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tif(selectedDataPage === TAB_CARBS_DATA) {\r\n\t\tif(!chartType || showLegend === undefined || subChart === undefined) {\r\n\t\t\treturn chartConfigData\r\n\t\t}\r\n\r\n\t\treturn {...chartConfigData, carbsChartConfig: {\r\n\t\t\t\t...chartConfigData.carbsChartConfig,\r\n\t\t\t\tchartType: chartType,\r\n\t\t\t\tshowLegend: showLegend,\r\n\t\t\t\tsubChart: subChart\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tif(selectedDataPage === TAB_VITAMIN_DATA || selectedDataPage === TAB_MINERAL_DATA || selectedDataPage === TAB_PROTEINS_DATA) {\r\n\t\tif(portionType === undefined || expand100 === undefined) {\r\n\t\t\treturn chartConfigData\r\n\t\t}\r\n\r\n\t\tconst barChartConfig = {\r\n\t\t\t\tportionType: portionType,\r\n\t\t\t\texpand100: expand100,\r\n\t\t\t}\r\n\r\n\t\tif(selectedDataPage === TAB_VITAMIN_DATA) {\r\n\t\t\treturn {...chartConfigData, vitaminChartConfig: barChartConfig}\r\n\t\t}\r\n\r\n\t\tif(selectedDataPage === TAB_MINERAL_DATA) {\r\n\t\t\treturn {...chartConfigData, mineralChartConfig: barChartConfig}\r\n\t\t}\r\n\t\t\r\n\t\tif(selectedDataPage === TAB_PROTEINS_DATA) {\r\n\t\t\treturn {...chartConfigData, proteinChartConfig: barChartConfig}\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n\treturn chartConfigData\r\n}\r\n\r\n\r\nexport function getUpdatedDirectCompareChartConfig(chartConfigData: DirectCompareChartConfigData, \r\n\t\tchartConfigUriString: string, selectedDataPage: string): DirectCompareChartConfigData {\r\n\tconst chartConfigFromUri = convertGeneralizedChartConfigStringToObject(chartConfigUriString)\r\n\tconst {chartType, expand100, showDetails, showLegend, portionType, subChart, subChart2, synchronize} = chartConfigFromUri\r\n\t\r\n\tif(selectedDataPage === TAB_BASE_DATA) {\r\n\t\tif(!chartType || showLegend === undefined || showDetails === undefined) {\r\n\t\t\treturn chartConfigData\r\n\t\t}\r\n\r\n\t\treturn {...chartConfigData, baseChartConfig: {\r\n\t\t\t\tchartType: chartType,\r\n\t\t\t\tshowLegend: showLegend,\r\n\t\t\t\tshowDetails: showDetails\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tif(selectedDataPage === TAB_LIPIDS_DATA) {\r\n\t\tif(!chartType || showLegend === undefined || subChart === undefined || subChart2 === undefined) {\r\n\t\t\treturn chartConfigData\r\n\t\t}\r\n\r\n\t\treturn {...chartConfigData, lipidsChartConfig: {\r\n\t\t\t\t...chartConfigData.lipidsChartConfig,\r\n\t\t\t\tchartType: chartType,\r\n\t\t\t\tshowLegend: showLegend,\r\n\t\t\t\tsubChart1: subChart,\r\n\t\t\t\tsubChart2: subChart2,\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tif(selectedDataPage === TAB_CARBS_DATA) {\r\n\t\tif(!chartType || showLegend === undefined || subChart === undefined || subChart2 === undefined) {\r\n\t\t\treturn chartConfigData\r\n\t\t}\r\n\r\n\t\treturn {...chartConfigData, carbsChartConfig: {\r\n\t\t\t\t...chartConfigData.carbsChartConfig,\r\n\t\t\t\tchartType: chartType,\r\n\t\t\t\tshowLegend: showLegend,\r\n\t\t\t\tsubChart1: subChart,\r\n\t\t\t\tsubChart2: subChart2,\r\n\t\t\t\thideRemainders: false\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tif(selectedDataPage === TAB_VITAMIN_DATA || selectedDataPage === TAB_MINERAL_DATA || selectedDataPage === TAB_PROTEINS_DATA) {\r\n\t\tif(portionType === undefined || expand100 === undefined || synchronize === undefined) {\r\n\t\t\treturn chartConfigData\r\n\t\t}\r\n\r\n\t\tconst barChartConfig = {\r\n\t\t\t\tportionType: portionType,\r\n\t\t\t\texpand100: expand100,\r\n\t\t\t\tsynchronize: synchronize\r\n\t\t\t}\r\n\r\n\t\tif(selectedDataPage === TAB_VITAMIN_DATA) {\r\n\t\t\treturn {...chartConfigData, vitaminChartConfig: barChartConfig}\r\n\t\t}\r\n\r\n\t\tif(selectedDataPage === TAB_MINERAL_DATA) {\r\n\t\t\treturn {...chartConfigData, mineralChartConfig: barChartConfig}\r\n\t\t}\r\n\t\t\r\n\t\tif(selectedDataPage === TAB_PROTEINS_DATA) {\r\n\t\t\treturn {...chartConfigData, proteinChartConfig: barChartConfig}\r\n\t\t}\r\n\r\n\t}\r\n\t\r\n\treturn chartConfigData\r\n}\r\n\r\n\r\n\r\nexport function makeGeneralizedChartConfig(chartObject: any): GeneralizedChartConfig {\r\n\tconst generalizedChartObject: GeneralizedChartConfig = {}\r\n\tif(chartObject.chartType) {\r\n\t\tgeneralizedChartObject.chartType = chartObject.chartType\r\n\t}\r\n\t\r\n\tif(chartObject.expand100) {\r\n\t\tgeneralizedChartObject.expand100 = chartObject.expand100\r\n\t}\r\n\t\r\n\tif(chartObject.showDetails) {\r\n\t\tgeneralizedChartObject.showDetails = chartObject.showDetails\r\n\t}\r\n\t\r\n\tif(chartObject.showLegend) {\r\n\t\tgeneralizedChartObject.showLegend = chartObject.showLegend\r\n\t}\r\n\t\r\n\tif(chartObject.portionType) {\r\n\t\tgeneralizedChartObject.portionType = chartObject.portionType\r\n\t}\r\n\r\n\tif(chartObject.subChart) {\r\n\t\tgeneralizedChartObject.subChart = chartObject.subChart\r\n\t}\r\n\t\r\n\tif(chartObject.subChart2) {\r\n\t\tgeneralizedChartObject.subChart2 = chartObject.subChart2\r\n\t}\r\n\t\r\n\tif(chartObject.synchronize) {\r\n\t\tgeneralizedChartObject.synchronize = chartObject.synchronize\r\n\t}\r\n\t\r\n\treturn generalizedChartObject\r\n}\r\n\r\n\r\nexport function convertGeneralizedChartConfigToString(chartObject: GeneralizedChartConfig) {\r\n\tconst {chartType, expand100, showDetails, showLegend, portionType, subChart, subChart2, synchronize} = chartObject\r\n\t\r\n\tconst chartTypeKey = chartType === undefined || chartType === null ? 0 : chartType === CHART_TYPE_PIE ? 1 : 2\r\n\tconst portionTypeKey = portionType === undefined || portionType === null ? 0 : portionType === AMOUNT_PORTION ? 1 : 2\t\t\t\r\n\t\t\t\t\t\t\t\t\r\n\tconst expand100Key = expand100 ? convertBooleanToDigit(expand100) : 0\r\n\tconst showLegendKey = showLegend ? convertBooleanToDigit(showLegend) : 0\r\n\tconst showDetailsKey = showDetails ? convertBooleanToDigit(showDetails) : 0\r\n\t\r\n\tconst subChartKey = subChart ? getSubChartKey(subChart) : 0\r\n\tconst subChartKey2 = subChart2 ? getSubChartKey(subChart2) : 0\r\n\tconst synchronizeKey = synchronize ? convertBooleanToDigit(synchronize) : 0\r\n\t\r\n\treturn `${chartTypeKey}${portionTypeKey}${expand100Key}${showLegendKey}${showDetailsKey}${subChartKey}${subChartKey2}${synchronizeKey}`\r\n}\r\n\r\n\r\nexport function convertGeneralizedChartConfigStringToObject(uriString: string): GeneralizedChartConfig {\r\n\tif(!uriString) {\r\n\t\treturn {}\r\n\t}\r\n\t\r\n\tconst stringToParse = uriString.trim()\r\n\tif(stringToParse.length !== 8) {\r\n\t\treturn {}\r\n\t}\r\n\t\r\n\tconst chartTypeKey = stringToParse.substring(0, 1)\r\n\tconst portionTypeKey = stringToParse.substring(1, 2)\r\n\tconst expand100Key = stringToParse.substring(2, 3)\r\n\tconst showLegendKey = stringToParse.substring(3, 4)\r\n\tconst showDetailsKey = stringToParse.substring(4, 5)\r\n\tconst subChartKey = stringToParse.substring(5, 6)\r\n\tconst subChartKey2 = stringToParse.substring(6, 7)\r\n\tconst synchronizeKey = stringToParse.substring(7, 8)\r\n\t\r\n\tconst chartTypeNumber = parseInt(chartTypeKey)\r\n\tconst portionTypeNumber = parseInt(portionTypeKey)\r\n\tconst subChartNumber = parseInt(subChartKey)\r\n\tconst subChartNumber2 = parseInt(subChartKey2)\r\n\t\t\r\n\tconst chartType = chartTypeNumber === 0 || isNaN(chartTypeNumber) \r\n\t\t\t\t\t\t? undefined \r\n\t\t\t\t\t\t: chartTypeNumber === 1 ? CHART_TYPE_PIE : CHART_TYPE_BAR\r\n\t\t\t\t\t\t\r\n\tconst portionType = portionTypeNumber === 0 || isNaN(portionTypeNumber) \r\n\t\t\t\t\t\t? undefined \r\n\t\t\t\t\t\t: portionTypeNumber === 1 ? AMOUNT_PORTION : GRAM\r\n\t\r\n\tconst subChart = subChartNumber === 0 || isNaN(subChartNumber) ? undefined : getSubChartFromKey(subChartNumber)\r\n\tconst subChart2 = subChartNumber2 === 0 || isNaN(subChartNumber2) ? undefined : getSubChartFromKey(subChartNumber2)\r\n\t\r\n\treturn {\r\n\t\tchartType: chartType,\r\n\t\tportionType: portionType,\r\n\t\texpand100: convertStringToBoolean(expand100Key),\r\n\t\tshowLegend: convertStringToBoolean(showLegendKey),\r\n\t\tshowDetails: convertStringToBoolean(showDetailsKey),\r\n\t\tsubChart: subChart ? subChart : undefined,\r\n\t\tsubChart2: subChart2 ? subChart2 : undefined,\r\n\t\tsynchronize: convertStringToBoolean(synchronizeKey)\r\n\t}\r\n\t\r\n}\r\n\r\n\r\nexport function getSubChartKey(subChart: string): number {\r\n\tswitch(subChart) {\r\n\t\tcase CARBS_DATA_BASE:\r\n\t\t\treturn 1\r\n\t\tcase CARBS_DATA_DETAIL:\r\n\t\t\treturn 2\r\n\t\tcase LIPIDS_DATA_BASE:\r\n\t\t\treturn 3\r\n\t\tcase LIPIDS_DATA_OMEGA:\r\n\t\t\treturn 4\r\n\t\tdefault:\r\n\t\t\treturn 0\r\n\t}\r\n}\r\n\r\nexport function getSubChartFromKey(key: number): string | null {\r\n\tswitch(key) {\r\n\t\tcase 1:\r\n\t\t\treturn CARBS_DATA_BASE\r\n\t\tcase 2:\r\n\t\t\treturn CARBS_DATA_DETAIL\r\n\t\tcase 3:\r\n\t\t\treturn LIPIDS_DATA_BASE\r\n\t\tcase 4:\r\n\t\t\treturn LIPIDS_DATA_OMEGA\r\n\t\tdefault:\r\n\t\t\treturn null\r\n\t}\t\t\r\n}\r\n","import {SEX_FEMALE, SEX_MALE} from \"../../config/Constants\"\r\nimport {ChartConfigData} from \"../../types/livedata/ChartConfigData\"\r\nimport {FoodItemUriData, SimpleFoodItemUriData} from \"../../types/livedata/UriData\"\r\nimport {UserData} from \"../../types/livedata/UserData\"\r\nimport {PortionData} from \"../../types/nutrientdata/FoodItem\"\r\nimport {getPalCategory, getPalValue} from \"../calculation/EnergyService\"\r\nimport {convertBooleanToDigit, convertStringToBoolean, getNumberOfFixedLength} from \"../calculation/MathService\"\r\nimport {getUpdatedChartConfig, makeChartConfigUriString} from \"./ChartConfigConverter\"\r\n\r\n\r\nexport function makeFoodDataPanelDefaultUri(foodItemData: FoodItemUriData,\r\n\t\tuserData: UserData, selectedDataPage: string, selectedDisplayMode: string, chartConfigData: ChartConfigData) {\r\n\tconst foodItemDataString = makeFoodItemDefaultUri(foodItemData)\r\n\tconst userDataString = convertUserDataObjectToString(userData)\r\n\tconst chartConfigString = makeChartConfigUriString(chartConfigData, selectedDataPage)\r\n\treturn `${foodItemDataString};${selectedDataPage};${selectedDisplayMode};${userDataString};${chartConfigString}`\r\n}\r\n\r\nexport function makeFoodItemDefaultUri(foodItemData: FoodItemUriData) {\r\n\t\tconst portionString = convertPortionDataObjectToString(foodItemData.portionData)\t\r\n\t\tconst supplementValue = convertBooleanToDigit(foodItemData.supplementData)\r\n\t\tconst combineValue = convertBooleanToDigit(foodItemData.combineData)\r\n\t\t\r\n\t\treturn `${foodItemData.foodItemId};${foodItemData.source};${portionString};${supplementValue}${combineValue}`\r\n}\r\n\r\nexport function parseFoodDataPanelDefaultUri(uri: string, chartConfigData: ChartConfigData): SimpleFoodItemUriData | null {\r\n\tconst fragments = prepareUriForParsing(uri).split(\";\")\r\n\tif(fragments.length !== 8) {\r\n\t\treturn null\r\n\t}\r\n\t\r\n\tconst selectedDataPage = fragments[4]\r\n\tconst displayMode = fragments[5]\r\n\tconst userData = convertUserDataStringToObject(fragments[6])\r\n\tconst chartConfigString = fragments[7]\r\n\tconst foodItemUriData = getFoodItemUriData(fragments)\r\n\t\r\n\tif(!userData || !foodItemUriData) {\r\n\t\treturn null\r\n\t}\r\n\t\r\n\tconst newChartConfigData = getUpdatedChartConfig(chartConfigData, chartConfigString, selectedDataPage)\r\n\t\r\n\treturn {\r\n\t\tselectedFoodItem: foodItemUriData,\r\n\t\tselectedDataPage: selectedDataPage,\r\n\t\tdisplayMode: displayMode,\r\n\t\tuserData: userData,\r\n\t\tchartConfigData: newChartConfigData\r\n\t}\r\n}\r\n\r\n\r\n/**\r\n * Retrieves the food item uri data from a fragments string. It will always extract those\r\n * data objects from the beginning of the array, no matter how long it is.\r\n */\r\nexport function getFoodItemUriData(fragments: Array<string>): FoodItemUriData | null {\r\n\tconst foodItemId = parseInt(fragments[0])\r\n\tconst source = parseInt(fragments[1])\r\n\tconst portionData = convertPortionDataStringToObject(fragments[2])\r\n\tconst booleanData = fragments[3]\r\n\t\r\n\tconst supplementData = convertStringToBoolean(booleanData.substring(0,1))\r\n\tconst combineData = convertStringToBoolean(booleanData.substring(1,2))\r\n\t\r\n\tif(!portionData || booleanData.length < 2) {\r\n\t\treturn null\r\n\t}\r\n\t\r\n\treturn {\r\n\t\tfoodItemId: foodItemId,\r\n\t\tsource: source,\r\n\t\tportionData: portionData,\r\n\t\tsupplementData: supplementData,\r\n\t\tcombineData: combineData\r\n\t}\r\n}\r\n\r\nexport function convertUserDataObjectToString(userData: UserData): string {\r\n\tconst weight = getNumberOfFixedLength(userData.weight, 3)\r\n\tconst age = getNumberOfFixedLength(userData.age, 3)\r\n\tconst size = getNumberOfFixedLength(userData.size, 3)\r\n\r\n\tconst palValue = getNumberOfFixedLength( getPalCategory(userData.palValue), 2)\r\n\tconst sex = userData.sex === SEX_MALE ? 1 : 0\r\n\t\r\n\tconst pregnant = convertBooleanToDigit(userData.pregnant)\r\n\tconst breastFeeding = convertBooleanToDigit(userData.breastFeeding)\r\n\tconst leisureSports = convertBooleanToDigit(userData.leisureSports)\r\n\t\t\r\n\treturn `${weight}${age}${size}${palValue}${sex}${pregnant}${breastFeeding}${leisureSports}`\r\n}\r\n\r\n\r\nexport function convertUserDataStringToObject(userDataString: string): UserData | null {\r\n\tif(userDataString.length < 15) {\r\n\t\treturn null\r\n\t}\r\n\t\r\n\tconst weight = userDataString.substring(0,3)\r\n\tconst age = userDataString.substring(3,6)\r\n\tconst size = userDataString.substring(6,9)\r\n\tconst palValueInt = userDataString.substring(9,11)\r\n\tconst sex = userDataString.substring(11,12)\r\n\tconst pregnant = userDataString.substring(12,13)\r\n\tconst breastFeeding = userDataString.substring(13,14)\r\n\tconst leisureSports = userDataString.substring(14,15)\r\n\t\r\n\tconst palValue = getPalValue(parseInt(palValueInt))\r\n\t\r\n\treturn {\r\n\t\tweight: parseInt(weight),\r\n\t\tage: parseInt(age),\r\n\t\tsize: parseInt(size),\r\n\t\tpalValue: palValue,\r\n\t\tsex: sex === \"1\" ? SEX_MALE : SEX_FEMALE,\r\n\t\tpregnant: convertStringToBoolean(pregnant),\r\n\t\tbreastFeeding: convertStringToBoolean(breastFeeding),\r\n\t\tleisureSports: convertStringToBoolean(leisureSports),\r\n\t\tinitialValues: false\r\n\t}\r\n}\r\n\r\n\r\nexport function convertPortionDataObjectToString(portionData: PortionData): string {\r\n\treturn `${portionData.portionType}_${portionData.amount}`\r\n}\r\n\r\nexport function convertPortionDataStringToObject(portionDataString: string): PortionData | null {\r\n\tconst fragments = portionDataString.split(\"_\")\r\n\tif(fragments.length !== 2) {\r\n\t\treturn null\r\n\t}\r\n\treturn {\r\n\t\tportionType: parseInt(fragments[0]),\r\n\t\tamount: parseInt(fragments[1])\r\n\t}\r\n}\r\n\r\n\r\nexport function prepareUriForParsing(uri: string): string {\r\n\t// Some websites like youtube transform the semicolons in the URL to %3B, which later need to be translated back to semicolons\r\n\treturn uri.replace(/%3B/g, \";\")\r\n}\r\n\r\n","import { ChartConfigData } from \"../../types/livedata/ChartConfigData\"\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\"\r\nimport { AggregatedFoodItemUriData } from \"../../types/livedata/UriData\"\r\nimport { UserData } from \"../../types/livedata/UserData\"\r\nimport { getUpdatedChartConfig, makeChartConfigUriString } from \"./ChartConfigConverter\"\r\nimport {\r\n\tconvertUserDataObjectToString,\r\n\tconvertUserDataStringToObject,\r\n\tprepareUriForParsing\r\n} from \"./FoodDataPanelUriService\"\r\n\r\n\r\ninterface Replacemet {\r\n\tkey: string\r\n\tshort: string\r\n}\r\n\r\nconst separator = \"++\"\r\n\r\nconst metaDataReplacement: Array<Replacemet> = [\r\n\t{key: \"nutrientDataList\", short: \"_mA\"},\r\n\t{key: \"foodItem\", short: \"_mB\"},\r\n\t{key: \"sourceItemId\", short: \"_mC\"},\r\n\t{key: \"source\", short: \"_mD\"},\r\n\t{key: \"url\", short: \"_mE\"},\r\n\t{key: \"name\", short: \"_mF\"},\r\n\t{key: \"id\", short: \"_mG\"},\r\n]\r\n\t\r\nconst nutrientCategoryReplacement: Array<Replacemet> = [\r\n\t{key: \"baseData\", short: \"_nA\"},\r\n\t{key: \"carbohydrateData\", short: \"_nB\"},\r\n\t{key: \"vitaminData\", short: \"_nC\"},\r\n\t{key: \"mineralData\", short: \"_nD\"},\r\n\t{key: \"lipidData\", short: \"_nE\"},\r\n\t{key: \"proteinData\", short: \"_nF\"},\r\n]\r\n\r\nconst baseDataReplacements: Array<Replacemet> = [\r\n\t{key: \"energy\", short: \"_bA\"},\r\n\t{key: \"water\", short: \"_bB\"},\r\n\t{key: \"carbohydrates\", short: \"_bC\"},\r\n\t{key: \"lipids\", short: \"_bD\"},\r\n\t{key: \"proteins\", short: \"_bE\"},\r\n\t{key: \"dietaryFibers\", short: \"_bF\"},\r\n\t{key: \"ash\", short: \"_bG\"},\r\n\t{key: \"alcohol\", short: \"_bH\"}\r\n]\r\n\r\nconst carbsDataReplacements: Array<Replacemet> = [\r\n\t{key: \"sugar\", short: \"_cA\"},\r\n\t{key: \"sucrose\", short: \"_cB\"},\r\n\t{key: \"glucose\", short: \"_cC\"},\r\n\t{key: \"lactose\", short: \"_cD\"},\r\n\t{key: \"fructose\", short: \"_cE\"},\r\n\t{key: \"galactose\", short: \"_cF\"},\r\n\t{key: \"maltose\", short: \"_cG\"},\r\n\t{key: \"starch\", short: \"_cH\"}\r\n]\r\n\r\nconst lipidsDataReplacements: Array<Replacemet> = [\r\n\t{key: \"saturated\", short: \"_lA\"},\r\n\t{key: \"unsaturatedMono\", short: \"_lB\"},\r\n\t{key: \"unsaturatedPoly\", short: \"_lC\"},\r\n\t{key: \"transFattyAcids\", short: \"_lD\"},\r\n\t{key: \"cholesterol\", short: \"_lE\"},\r\n\t{key: \"galactose\", short: \"_lF\"},\r\n\t{key: \"omegaData\", short: \"_lG\"},\r\n\t{key: \"omega3\", short: \"_lH\"},\r\n\t{key: \"omega6\", short: \"_li\"},\r\n\t{key: \"uncertain\", short: \"_lj\"},\r\n\t{key: \"uncertainRatio\", short: \"_li\"}\r\n]\r\n\r\nconst mineralDataReplacement: Array<Replacemet> = [\r\n\t{key: \"calcium\", short: \"_bA\"},\r\n\t{key: \"iron\", short: \"_bB\"},\r\n\t{key: \"magnesium\", short: \"_bC\"},\r\n\t{key: \"phosphorus\", short: \"_bD\"},\r\n\t{key: \"potassium\", short: \"_bE\"},\r\n\t{key: \"sodium\", short: \"_bF\"},\r\n\t{key: \"zinc\", short: \"_bG\"},\r\n\t{key: \"selenium\", short: \"_bH\"},\r\n\t{key: \"manganese\", short: \"_bI\"},\r\n\t{key: \"copper\", short: \"_bJ\"}\r\n]\r\n\r\nconst vitaminDataReplacement: Array<Replacemet> = [\r\n\t{key: \"a\", short: \"_vA\"},\r\n\t{key: \"b1\", short: \"_vB\"},\r\n\t{key: \"b2\", short: \"_vC\"},\r\n\t{key: \"b3\", short: \"_vD\"},\r\n\t{key: \"b5\", short: \"_vE\"},\r\n\t{key: \"b7\", short: \"_vF\"},\r\n\t{key: \"b9\", short: \"_vG\"},\r\n\t{key: \"b12\", short: \"_vH\"},\r\n\t{key: \"c\", short: \"_vI\"},\r\n\t{key: \"d\", short: \"_vJ\"},\r\n\t{key: \"e\", short: \"_vK\"},\r\n\t{key: \"k\", short: \"_vL\"}\r\n]\r\n\r\nconst proteinDataReplacement: Array<Replacemet> = [\r\n\t{key: \"tryptophan\", short: \"_bA\"},\r\n\t{key: \"threonine\", short: \"_bB\"},\r\n\t{key: \"isoleucine\", short: \"_bC\"},\r\n\t{key: \"leucine\", short: \"_bD\"},\r\n\t{key: \"lysine\", short: \"_bE\"},\r\n\t{key: \"methionine\", short: \"_bF\"},\r\n\t{key: \"cystine\", short: \"_bG\"},\r\n\t{key: \"phenylalanine\", short: \"_bH\"},\r\n\t{key: \"tyrosine\", short: \"_bI\"},\r\n\t{key: \"arginine\", short: \"_bJ\"},\r\n\t{key: \"histidine\", short: \"_bK\"},\r\n\t{key: \"alanine\", short: \"_bL\"},\r\n\t{key: \"asparticAcid\", short: \"_bM\"},\r\n\t{key: \"glycine\", short: \"_bN\"},\r\n\t{key: \"proline\", short: \"_bO\"},\r\n\t{key: \"serine\", short: \"_bP\"},\r\n]\r\n\r\nconst replacements: Array<Array<Replacemet>> = [\r\n\tmetaDataReplacement,\r\n\tnutrientCategoryReplacement,\r\n\tbaseDataReplacements,\r\n\tcarbsDataReplacements,\r\n\tlipidsDataReplacements,\r\n\tmineralDataReplacement,\r\n\tvitaminDataReplacement,\r\n\tproteinDataReplacement\r\n]\r\n\r\n\r\nexport function convertAggregatedDataJsonToUriString(uriData: AggregatedFoodItemUriData): string {\t\r\n\tconst objectToParse: SelectedFoodItem = {...uriData.selectedFoodItem, compositeSubElements: undefined, component: undefined, foodClass: undefined}\r\n\tlet selectedFoodItemString = JSON.stringify(objectToParse)\r\n\t\r\n\treplacements.forEach(replacementArray => {\r\n\t\treplacementArray.forEach(replacement => selectedFoodItemString = selectedFoodItemString.replace(`\"${replacement.key}\"`, replacement.short))\r\n\t})\r\n\t\r\n\tconst userDataString = convertUserDataObjectToString(uriData.userData)\r\n\tconst chartConfigString = makeChartConfigUriString(uriData.chartConfigData, uriData.selectedDataPage)\r\n\t\r\n\treturn `${uriData.selectedDataPage}${separator}${selectedFoodItemString}${separator}${userDataString}${separator}${chartConfigString}`\r\n}\r\n\r\nexport function convertAggregatedUriStringToObject(chartConfigData: ChartConfigData, uriString: string): AggregatedFoodItemUriData | null {\r\n\tconst fragments = uriString.split(separator)\r\n\tif(fragments.length !== 4) {\r\n\t\treturn null\r\n\t}\r\n\t\r\n\t// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\n\tconst selectedDataPage = fragments[0]\r\n\tlet selectedFoodItem: SelectedFoodItem = convertUriStringToSelectedFoodItem( fragments[1])\r\n\tselectedFoodItem = {...selectedFoodItem, aggregated: true}\r\n\t\r\n\tconst userData: UserData | null = convertUserDataStringToObject(fragments[2])\r\n\tconst newChartConfigData: ChartConfigData = getUpdatedChartConfig(chartConfigData, fragments[3], selectedDataPage)\r\n\t\r\n\tif(!userData) {\r\n\t\treturn null\r\n\t}\r\n\t\t\r\n\treturn {\r\n\t\tselectedDataPage: selectedDataPage,\r\n\t\tselectedFoodItem: selectedFoodItem,\r\n\t\tuserData: userData,\r\n\t\tchartConfigData: newChartConfigData\r\n\t}\r\n}\r\n\r\n\r\nexport function convertUriStringToSelectedFoodItem(uriString: string): SelectedFoodItem {\r\n\tlet stringToParse = prepareUriForParsing(uriString).trim()\r\n\tstringToParse = stringToParse.replace(/%22/g, \"\\\"\")\r\n\tstringToParse = stringToParse.replace(/%20/g, \" \")\r\n\t\r\n\treplacements.forEach(replacementArray => {\r\n\t\treplacementArray.forEach(replacement => stringToParse = stringToParse.replace(replacement.short, `\"${replacement.key}\"`))\r\n\t})\r\n\t\r\n\treturn JSON.parse(stringToParse)\r\n}","import { UserData } from \"../types/livedata/UserData\";\r\n\r\nexport const USERDATA_ERROR_AGE = \"userdata error age\"\r\nexport const USERDATA_ERROR_WEIGHT = \"userdata error weight\"\r\nexport const USERDATA_ERROR_SIZE = \"userdata error size\"\r\nexport const USERDATA_OK = \"userdata ok\"\r\n\r\nexport function checkUserDataValidity(userData: UserData): string {\r\n\tconst {age, size, weight} = userData\r\n\r\n\tif (age != null && (age < 15 || age > 100 || isNaN(age))) {\r\n\t\treturn USERDATA_ERROR_AGE\r\n    } else if (size != null && (size < 80 || size > 225 || isNaN(size))) {\r\n\t\treturn USERDATA_ERROR_SIZE\r\n\t} else if (weight != null && (weight < 30 || weight > 250 || isNaN(weight))) {\r\n\t\treturn USERDATA_ERROR_WEIGHT\r\n    }\r\n\r\n    return USERDATA_OK\r\n}","import FoodAnalyzerContainer from \"./FoodAnalyzerContainer\";\r\nimport {useContext, useEffect} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport TabContainer from \"./TabContainer\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {\r\n    PATH_FOODDATA_PANEL,\r\n    QUERYKEY_DATAPANEL_ADD, QUERYKEY_DATAPANEL_ADD_COMPOSITE,\r\n    QUERYKEY_DATAPANEL_AGGREGATED,\r\n    QUERYKEY_DATAPANEL_ITEM\r\n} from \"../../config/Constants\";\r\nimport {useHistory} from 'react-router-dom';\r\nimport {makeFoodDataPanelComponent} from \"../../service/FoodDataPanelService\";\r\nimport {AggregatedFoodItemUriData, FoodItemUriData} from \"../../types/livedata/UriData\";\r\nimport {makeFoodDataPanelDefaultUri, parseFoodDataPanelDefaultUri} from \"../../service/uri/FoodDataPanelUriService\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {\r\n    convertAggregatedDataJsonToUriString,\r\n    convertAggregatedUriStringToObject\r\n} from \"../../service/uri/FoodDataPanelAggregatedUriService\";\r\nimport {checkUserDataValidity, USERDATA_OK} from \"../../service/UserDataService\";\r\n\r\nexport default function FoodDataPanelContainer() {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const history = useHistory()\r\n\r\n    const queryString = window.location.search.substring(1)\r\n    const equalOperator = queryString.indexOf(\"=\")\r\n    const key = queryString.substring(0, equalOperator)\r\n    const value = queryString.substring(equalOperator + 1)\r\n\r\n    const openSelectorModal = key === QUERYKEY_DATAPANEL_ADD && value === \"1\"\r\n    const openCompositeSelectorModal = key === QUERYKEY_DATAPANEL_ADD_COMPOSITE && value === \"1\"\r\n\r\n    useEffect(() => {\r\n        buildDataPanelPageFromURI()\r\n    }, [applicationContext?.applicationData.foodDataPanel.selectedFoodItemIndex,\r\n        applicationContext?.applicationData.foodDataPanel.selectedFoodItems,\r\n        applicationContext?.applicationData.foodDataPanel.selectedDataPage,\r\n        applicationContext?.applicationData.foodDataPanel.displayMode,\r\n        applicationContext?.applicationData.foodDataPanel.chartConfigData,\r\n        applicationContext?.userData])\r\n\r\n    const buildDataPanelPageFromURI = () => {\r\n        if (!applicationContext) {\r\n            return\r\n        }\r\n\r\n        const {selectedFoodItemIndex, selectedFoodItems} = applicationContext.applicationData.foodDataPanel\r\n\r\n        if (selectedFoodItemIndex === null || !selectedFoodItems || selectedFoodItems.length === 0) {\r\n            createDataFromUriQuery()\r\n        } else {   // Set new URI Query\r\n            updateUriQuery(selectedFoodItemIndex)\r\n        }\r\n    }\r\n\r\n    if (!applicationContext || !applicationContext.ready) {\r\n        return <div/>\r\n    }\r\n\r\n    const chartConfigData = applicationContext.applicationData.foodDataPanel.chartConfigData\r\n\r\n    const updateUriQuery = (selectedFoodItemIndex: number) => {\r\n        const selectedFoodItem = selectedFoodItems[selectedFoodItemIndex]\r\n        const userData = applicationContext.userData\r\n        const {selectedDataPage, displayMode, chartConfigData} = applicationContext.applicationData.foodDataPanel\r\n\r\n        // New query for aggregated food item\r\n        if (selectedFoodItem.aggregated) {\r\n            const uriDataObject: AggregatedFoodItemUriData = {\r\n                selectedFoodItem: {...selectedFoodItem, component: undefined},\r\n                selectedDataPage: selectedDataPage,\r\n                userData: userData,\r\n                chartConfigData: chartConfigData\r\n            }\r\n\r\n            const query = convertAggregatedDataJsonToUriString(uriDataObject)\r\n\r\n            history.push({\r\n                pathName: PATH_FOODDATA_PANEL,\r\n                search: `${QUERYKEY_DATAPANEL_AGGREGATED}=${query}`\r\n            })\r\n        } else {   // New query for a default food item\r\n            const {portion, selectedSource, supplementData, combineData} = selectedFoodItem\r\n            const foodItemData: FoodItemUriData = {\r\n                foodItemId: selectedFoodItem.foodItem.id,\r\n                portionData: portion,\r\n                source: selectedSource,\r\n                supplementData: supplementData,\r\n                combineData: combineData\r\n            }\r\n            const query = makeFoodDataPanelDefaultUri(foodItemData, userData, selectedDataPage, displayMode, chartConfigData)\r\n\r\n            history.push({\r\n                pathName: PATH_FOODDATA_PANEL,\r\n                search: `${QUERYKEY_DATAPANEL_ITEM}=${query}`\r\n            })\r\n        }\r\n    }\r\n\r\n    const createDataFromUriQuery = () => {\r\n        const {\r\n            addItemToFoodDataPanel,\r\n            setSelectedDataPage,\r\n            setSelectedDisplayMode\r\n        } = applicationContext.setFoodDataPanelData\r\n\r\n        // Set data from an aggregated food item query\r\n        if (key === QUERYKEY_DATAPANEL_AGGREGATED && value.length > 1) {\r\n            try {\r\n                const uriDataObject: AggregatedFoodItemUriData | null = convertAggregatedUriStringToObject(chartConfigData, value)\r\n                if (!uriDataObject) {\r\n                    return\r\n                }\r\n\r\n                if (checkUserDataValidity(uriDataObject.userData) !== USERDATA_OK) {\r\n                    return\r\n                }\r\n\r\n                applicationContext.setFoodDataPanelData.updateFoodDataPanelChartConfig(uriDataObject.chartConfigData)\r\n                setSelectedDataPage(uriDataObject.selectedDataPage)\r\n                applicationContext.setUserData(uriDataObject.userData)\r\n\r\n                const selectedFoodItemWithComponent = makeFoodDataPanelComponent(uriDataObject.selectedFoodItem,\r\n                    applicationContext.foodDataCorpus.foodNames, languageContext.language)\r\n\r\n                if (selectedFoodItemWithComponent) {\r\n                    addItemToFoodDataPanel(selectedFoodItemWithComponent)\r\n                }\r\n            } catch (e) {\r\n                console.log(e)\r\n            }\r\n        }\r\n\r\n        // Set data from a simple food item (create data from query parameters)\r\n        if (key === QUERYKEY_DATAPANEL_ITEM && value.length > 1) {\r\n            const uriDataObject = parseFoodDataPanelDefaultUri(value, chartConfigData)\r\n            if (uriDataObject) {\r\n                const foodItem = applicationContext.foodDataCorpus.foodItems.find(\r\n                    foodItem => foodItem.id === uriDataObject.selectedFoodItem.foodItemId\r\n                )\r\n\r\n                if (!foodItem) {\r\n                    return\r\n                }\r\n\r\n                if (checkUserDataValidity(uriDataObject.userData) !== USERDATA_OK) {\r\n                    return\r\n                }\r\n\r\n                applicationContext.setUserData(uriDataObject.userData)\r\n                const foodClass = applicationContext.foodDataCorpus.foodClasses.find(foodClass => foodClass.id === foodItem.foodClass)\r\n\r\n                const selectedFoodItem: SelectedFoodItem = {\r\n                    id: 1,\r\n                    foodItem: foodItem,\r\n                    foodClass: foodClass,\r\n                    portion: uriDataObject.selectedFoodItem.portionData,\r\n                    selectedSource: uriDataObject.selectedFoodItem.source,\r\n                    combineData: uriDataObject.selectedFoodItem.combineData,\r\n                    supplementData: uriDataObject.selectedFoodItem.supplementData\r\n                }\r\n\r\n                setSelectedDataPage(uriDataObject.selectedDataPage)\r\n                setSelectedDisplayMode(uriDataObject.displayMode)\r\n\r\n                const selectedFoodItemWithComponent = makeFoodDataPanelComponent(selectedFoodItem,\r\n                    applicationContext.foodDataCorpus.foodNames, languageContext.language)\r\n\r\n                if (selectedFoodItemWithComponent) {\r\n                    addItemToFoodDataPanel(selectedFoodItemWithComponent)\r\n                }\r\n\r\n                applicationContext.setFoodDataPanelData.updateFoodDataPanelChartConfig(uriDataObject.chartConfigData)\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    const selectedFoodItems = applicationContext.applicationData.foodDataPanel.selectedFoodItems\r\n\r\n    const onTabChange = (foodId) => {\r\n        buildDataPanelPageFromURI()\r\n        for (let i = 0; i < selectedFoodItems.length; i++) {\r\n            if (selectedFoodItems[i].id === foodId) {\r\n                applicationContext.setFoodDataPanelData.setSelectedFoodTab(i)\r\n            }\r\n        }\r\n    }\r\n\r\n    const onNewFoodItemSelected = (): void => {\r\n        buildDataPanelPageFromURI()\r\n        const newTabIndex = applicationContext.applicationData.foodDataPanel.selectedFoodItems.length - 1\r\n        applicationContext.setFoodDataPanelData.setSelectedFoodTab(newTabIndex)\r\n    }\r\n\r\n    const selectedTabIndex = applicationContext.applicationData.foodDataPanel.selectedFoodItemIndex\r\n\r\n    if (!(selectedTabIndex >= 0)) {\r\n        return <div/>\r\n    }\r\n\r\n    const selectedFoodItem = applicationContext.applicationData.foodDataPanel.selectedFoodItems[selectedTabIndex]\r\n\r\n    if (applicationContext.debug) {\r\n        console.log('FoodDataPanelContainer: Render, selected food item = ', selectedFoodItem)\r\n    }\r\n\r\n    return <div>\r\n        {selectedFoodItem !== null &&\r\n        <div className=\"container-fluid container-scroll\" style={{paddingTop: \"20px\"}}>\r\n            <div className=\"d-flex flex-row\">\r\n                <div className={\"\"}>\r\n                    <FoodAnalyzerContainer onNewFoodItemSelected={onNewFoodItemSelected}\r\n                                           openSelectorModal={openSelectorModal}\r\n                                           openCompositeSelectorModal={openCompositeSelectorModal}\r\n                    />\r\n                </div>\r\n                <div className=\"col media app\" style={{maxWidth: \"1100px\", marginTop: \"-10px\"}}>\r\n                    {selectedFoodItems && selectedFoodItems.length > 0 ?\r\n                        <div>\r\n                            <TabContainer indexToSet={selectedTabIndex} onTabChange={onTabChange}/>\r\n                        </div>\r\n                        :\r\n                        <div style={{padding: \"24px\"}}>\r\n                            <i>\r\n                                {applicationStrings.text_empty_fooddatapanel[languageContext.language]}\r\n                            </i>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n        }\r\n    </div>\r\n\r\n\r\n}","import React, {useContext, useEffect, useState} from \"react\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport FoodSelector from \"./FoodSelector\";\r\nimport {Button, Card, CardDeck} from \"react-bootstrap\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {direct_compare_color1, direct_compare_color2} from \"../../config/ChartConfig\";\r\n\r\ninterface DirectCompareSelectorProps {\r\n    updateSelectedFoodItems: (selectedFoodItem1: SelectedFoodItem, selectedFoodItem2: SelectedFoodItem) => void\r\n}\r\n\r\nconst STATUS_FIRST_TIME = \"first time\"\r\nconst STATUS_NOT_UPDATED = \"not updated\"\r\nconst STATUS_UPDATED = \"updated\"\r\n\r\nexport function DirectCompareSelector(props: DirectCompareSelectorProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const language = languageContext.language\r\n\r\n    const initialItem1 = applicationContext && applicationContext.applicationData.directCompareDataPanel.selectedFoodItem1\r\n        ? applicationContext.applicationData.directCompareDataPanel.selectedFoodItem1\r\n        : null\r\n\r\n    const initialItem2 = applicationContext && applicationContext.applicationData.directCompareDataPanel.selectedFoodItem2\r\n        ? applicationContext.applicationData.directCompareDataPanel.selectedFoodItem2\r\n        : null\r\n\r\n    const [selectedFoodItem1, setSelectedFoodItem1] = useState<SelectedFoodItem | null>(initialItem1)\r\n    const [selectedFoodItem2, setSelectedFoodItem2] = useState<SelectedFoodItem | null>(initialItem2)\r\n    const [displayStatus, setDisplayStatus] = useState<string>(STATUS_FIRST_TIME)\r\n\r\n    useEffect(() => {\r\n        if(applicationContext && applicationContext.applicationData.directCompareDataPanel.selectedFoodItem2) {\r\n            const {selectedFoodItem1, selectedFoodItem2} = applicationContext.applicationData.directCompareDataPanel\r\n            if(selectedFoodItem1 && selectedFoodItem2) {\r\n                updateSelectedFoodItem1(selectedFoodItem1)\r\n                updateSelectedFoodItem2(selectedFoodItem2)\r\n            }\r\n        }\r\n\r\n    }, [applicationContext?.applicationData.directCompareDataPanel])\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const updateSelectedFoodItem1 = (selectedFoodItem: SelectedFoodItem): void => {\r\n        setSelectedFoodItem1({...selectedFoodItem})\r\n        if (displayStatus !== STATUS_FIRST_TIME) {\r\n            setDisplayStatus(STATUS_UPDATED)\r\n        }\r\n    }\r\n\r\n    const updateSelectedFoodItem2 = (selectedFoodItem: SelectedFoodItem): void => {\r\n        setSelectedFoodItem2(selectedFoodItem)\r\n        if (displayStatus !== STATUS_FIRST_TIME) {\r\n            setDisplayStatus(STATUS_UPDATED)\r\n        }\r\n    }\r\n\r\n    const onSubmit = () => {\r\n        if (selectedFoodItem1 && selectedFoodItem2) {\r\n            props.updateSelectedFoodItems(selectedFoodItem1, selectedFoodItem2)\r\n        }\r\n\r\n        setDisplayStatus(STATUS_NOT_UPDATED)\r\n    }\r\n\r\n\r\n    const renderFoodSelectorCard = (foodSelectorNumber: number) => {\r\n        const updateSelectedFoodItem = foodSelectorNumber === 1 ? updateSelectedFoodItem1 : updateSelectedFoodItem2\r\n        const styleClass = foodSelectorNumber === 1 ? {backgroundColor: direct_compare_color1} : {backgroundColor: direct_compare_color2}\r\n        const initialFoodClassToSet = foodSelectorNumber - 1\r\n\r\n        const selectedFoodItem = foodSelectorNumber === 1 ? selectedFoodItem1 : selectedFoodItem2\r\n\r\n        return <div style={{paddingTop: \"32px\"}}>\r\n            <Card style={styleClass}>\r\n                <Card.Header>\r\n                    {applicationStrings.label_food[language]} {foodSelectorNumber}\r\n                </Card.Header>\r\n                <CardDeck>\r\n                    <FoodSelector updateSelectedFoodItem={updateSelectedFoodItem}\r\n                                  smallVariant={true}\r\n                                  noCategorySelect={true}\r\n                                  initialFoodClassToSet={initialFoodClassToSet}\r\n                                  selectedFoodItem={selectedFoodItem}\r\n                    />\r\n                </CardDeck>\r\n            </Card>\r\n        </div>\r\n    }\r\n\r\n    const buttonName = displayStatus === STATUS_FIRST_TIME ? applicationStrings.button_show[language] : applicationStrings.button_update[language]\r\n\r\n    return <div>\r\n        {renderFoodSelectorCard(1)}\r\n        {renderFoodSelectorCard(2)}\r\n        <div style={{paddingTop: \"20px\", paddingBottom: \"64px\"}}>\r\n            <Button className={\"form-button float-end\"}\r\n                    disabled={displayStatus === STATUS_NOT_UPDATED}\r\n                    onClick={onSubmit}>\r\n                {buttonName}\r\n            </Button>\r\n        </div>\r\n    </div>\r\n}","import {determineFoodRequirementRatio, determineProteinRequirementRatio} from \"./DietaryRequirementService\";\r\nimport {UserData} from \"../../types/livedata/UserData\";\r\n\r\n/**\r\n * Determines the maximum vitamin or mineral or protein value of a food item (referring to the daily dietary requirements).\r\n */\r\nexport function getMaximumValue(dataSet: any, amount: number, requirementData: any, userData: UserData, proteins?: boolean) {\r\n    let maxValue = 0\r\n    for (let dataSetKey in dataSet) {\r\n        if (requirementData[dataSetKey]) {\r\n            const ratioValue = proteins === true\r\n                ? determineProteinRequirementRatio(requirementData[dataSetKey], dataSet[dataSetKey], amount, userData)\r\n                : determineFoodRequirementRatio(requirementData[dataSetKey], dataSet[dataSetKey], amount, userData)\r\n            if (ratioValue > maxValue) {\r\n                maxValue = ratioValue\r\n            }\r\n        }\r\n    }\r\n    return maxValue\r\n}\r\n\r\n/**\r\n * Given two data sets of vitamins, minerals or proteins, this method nullifies each value if it does not occur in\r\n * both data sets. This can be used as part of the synchronization process where two bar charts should contain the\r\n * exact same amount of columns.\r\n */\r\nexport function nullifyIncompleValues(dataSet1: any, dataSet2: any) {\r\n    for (let dataSetKey in dataSet1) {\r\n        const value = dataSet1[dataSetKey]\r\n        if(value === null && dataSet2[dataSetKey]) {\r\n            dataSet2[dataSetKey] = null\r\n        } else if(value !== null && (dataSet2[dataSetKey] === null || dataSet2[dataSetKey] === undefined)) {\r\n            dataSet1[dataSetKey] = null\r\n        }\r\n    }\r\n\r\n    for (let dataSetKey in dataSet2) {\r\n        const value = dataSet2[dataSetKey]\r\n        if(value === null && dataSet2[dataSetKey]) {\r\n            dataSet2[dataSetKey] = null\r\n        } else if(value !== null && (dataSet1[dataSetKey] === null || dataSet1[dataSetKey] === undefined)) {\r\n            dataSet2[dataSetKey] = null\r\n        }\r\n    }\r\n}","import MineralVitaminChart from \"../fooddatapanel/charts/MineralVitaminChart\";\r\nimport {AMOUNT_PORTION, CHART_VITAMINS} from \"../../config/Constants\";\r\nimport {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {BarChartConfigurationForm} from \"../charthelper/BarChartConfigurationForm\";\r\nimport {roundToNextValue} from \"../../service/calculation/MathService\";\r\nimport {getMaximumValue, nullifyIncompleValues} from \"../../service/calculation/NutrientCalculationService\";\r\nimport {direct_compare_color1, direct_compare_color2} from \"../../config/ChartConfig\";\r\nimport {initialDirectCompareConfigData} from \"../../config/ApplicationSetting\";\r\nimport {Card} from \"react-bootstrap\";\r\nimport {DC_MineralVitaminChartProps} from \"../../types/livedata/ChartPropsData\";\r\nimport {useWindowDimension} from \"../../service/WindowDimension\";\r\nimport {calculateChartContainerHeight} from \"../../service/nutrientdata/ChartSizeCalculation\";\r\nimport {getNutrientData} from \"../../service/nutrientdata/NutrientDataRetriever\";\r\n\r\nexport function DcMineralVitaminChart(props: DC_MineralVitaminChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const windowSize = useWindowDimension()\r\n\r\n    const chartConfigVitamins = applicationContext\r\n        ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.vitaminChartConfig\r\n        : initialDirectCompareConfigData.vitaminChartConfig\r\n\r\n    const chartConfigMinerals = applicationContext\r\n        ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.mineralChartConfig\r\n        : initialDirectCompareConfigData.mineralChartConfig\r\n\r\n    const [portionType_vitamins, setPortionType_vitamins] = useState<string>(chartConfigVitamins.portionType)\r\n    const [portionType_minerals, setPortionType_minerals] = useState<string>(chartConfigMinerals.portionType)\r\n    const [expand100_vitamins, setExpand100_vitamins] = useState<boolean>(chartConfigVitamins.expand100)\r\n    const [expand100_minerals, setExpand100_minerals] = useState<boolean>(chartConfigMinerals.expand100)\r\n    const [synchronizeVitamins, setSynchronizeVitamins] = useState<boolean>(chartConfigVitamins.synchronize)\r\n    const [synchronizeMinerals, setSynchronizeMinerals] = useState<boolean>(chartConfigMinerals.synchronize)\r\n\r\n    const [containerHeight, setContainerHeight] = useState<number>(calculateChartContainerHeight(windowSize, true))\r\n\r\n    useEffect(() => {\r\n        updateChartConfig()\r\n        setContainerHeight(calculateChartContainerHeight(windowSize, true))\r\n    }, [portionType_minerals,\r\n        portionType_vitamins,\r\n        synchronizeVitamins,\r\n        synchronizeMinerals,\r\n        expand100_vitamins,\r\n        expand100_minerals,\r\n        containerHeight,\r\n        windowSize.height]\r\n    )\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const updateChartConfig = () => {\r\n        if (applicationContext) {\r\n            const newChartConfig = {\r\n                ...applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart,\r\n                vitaminChartConfig: {\r\n                    portionType: portionType_vitamins,\r\n                    expand100: expand100_vitamins,\r\n                    synchronize: synchronizeVitamins\r\n                },\r\n                mineralChartConfig: {\r\n                    portionType: portionType_minerals,\r\n                    expand100: expand100_minerals,\r\n                    synchronize: synchronizeMinerals\r\n                }\r\n            }\r\n            applicationContext.setDirectCompareData.updateDirectCompareChartConfig(newChartConfig)\r\n        }\r\n    }\r\n\r\n    const requirementData = props.selectedSubChart === CHART_VITAMINS\r\n        ? applicationContext.foodDataCorpus.dietaryRequirements?.vitaminRequirementData\r\n        : applicationContext.foodDataCorpus.dietaryRequirements?.mineralRequirementData\r\n\r\n    if (!requirementData) {\r\n        return <div></div>\r\n    }\r\n\r\n    const handleRadioButtonClick = (event: any): void => {\r\n        props.selectedSubChart === CHART_VITAMINS ? setPortionType_vitamins(event.target.value) : setPortionType_minerals(event.target.value)\r\n    }\r\n\r\n    const handleExpandCheckbox = () => {\r\n        props.selectedSubChart === CHART_VITAMINS ? setExpand100_vitamins(!expand100_vitamins) : setExpand100_minerals(!expand100_minerals)\r\n    }\r\n\r\n    const handleSynchronize = () => {\r\n        props.selectedSubChart === CHART_VITAMINS ? setSynchronizeVitamins(!synchronizeVitamins) : setSynchronizeMinerals(!synchronizeMinerals)\r\n    }\r\n\r\n    const portionType = props.selectedSubChart === CHART_VITAMINS ? portionType_vitamins : portionType_minerals\r\n\r\n    const renderChartConfigurationForm = () => {\r\n        const expand100 = props.selectedSubChart === CHART_VITAMINS ? expand100_vitamins : expand100_minerals\r\n        const synchronize = props.selectedSubChart === CHART_VITAMINS ? synchronizeVitamins : synchronizeMinerals\r\n\r\n        const barChartProps = {\r\n            portionType: portionType,\r\n            expand100: expand100,\r\n            synchronize: synchronize,\r\n            handleRadioButtonClick: handleRadioButtonClick,\r\n            handleExpandCheckboxClick: handleExpandCheckbox,\r\n            handleSynchronize: handleSynchronize\r\n        }\r\n\r\n        return <BarChartConfigurationForm {...barChartProps}/>\r\n    }\r\n\r\n    const nutrientData1 = getNutrientData(props.selectedFoodItem1)\r\n    const nutrientData2 = getNutrientData(props.selectedFoodItem2)\r\n\r\n    const dataSet1 = props.selectedSubChart === CHART_VITAMINS ? nutrientData1.vitaminData : nutrientData1.mineralData\r\n    const dataSet2 = props.selectedSubChart === CHART_VITAMINS ? nutrientData2.vitaminData : nutrientData2.mineralData\r\n\r\n    const portion1 = portionType === AMOUNT_PORTION ? props.selectedFoodItem1.portion.amount : 100\r\n    const portion2 = portionType === AMOUNT_PORTION ? props.selectedFoodItem2.portion.amount : 100\r\n\r\n    const maxValue1 = getMaximumValue(dataSet1, portion1, requirementData, applicationContext.userData)\r\n    const maxValue2 = getMaximumValue(dataSet2, portion2, requirementData, applicationContext.userData)\r\n    const maxValue = Math.max(maxValue1, maxValue2)\r\n\r\n    const synchronize = props.selectedSubChart === CHART_VITAMINS ? synchronizeVitamins : synchronizeMinerals\r\n\r\n    if (synchronize) {\r\n        nullifyIncompleValues(dataSet1, dataSet2)\r\n    }\r\n\r\n    const maxY = synchronize\r\n        ? roundToNextValue(maxValue) : undefined\r\n\r\n    const preconfigVitamins = {\r\n        maxValue: maxY,\r\n        portionType: portionType_vitamins,\r\n        expand100: expand100_vitamins,\r\n        synchronize: synchronizeVitamins\r\n    }\r\n\r\n    const preconfigMinerals = {\r\n        maxValue: maxY,\r\n        portionType: portionType_minerals,\r\n        expand100: expand100_minerals,\r\n        synchronize: synchronizeMinerals\r\n    }\r\n\r\n    const preconfig = props.selectedSubChart === CHART_VITAMINS ? preconfigVitamins : preconfigMinerals\r\n\r\n    const preconfigFoodItem1 = {...preconfig, barChartColor: direct_compare_color1}\r\n    const preconfigFoodItem2 = {...preconfig, barChartColor: direct_compare_color2}\r\n\r\n    return <div className={\"direct-compare-panel\"}>\r\n        <Card>\r\n            <div className={\"d-flex\"} style={{maxHeight: containerHeight}}>\r\n                <div className={\"vertical-label\"}>{props.selectedFoodItem1.resolvedName}</div>\r\n                <MineralVitaminChart selectedSubChart={props.selectedSubChart}\r\n                                     selectedFoodItem={props.selectedFoodItem1}\r\n                                     directCompareUse={true} directCompareConfig={preconfigFoodItem1}/>\r\n            </div>\r\n        </Card>\r\n\r\n        <Card>\r\n            <div className={\"d-flex\"} style={{maxHeight: containerHeight}}>\r\n                <div className={\"vertical-label\"}>{props.selectedFoodItem2.resolvedName}</div>\r\n                <MineralVitaminChart selectedSubChart={props.selectedSubChart}\r\n                                     selectedFoodItem={props.selectedFoodItem2}\r\n                                     directCompareUse={true} directCompareConfig={preconfigFoodItem2}/>\r\n            </div>\r\n        </Card>\r\n        <Card.Footer>\r\n            {renderChartConfigurationForm()}\r\n        </Card.Footer>\r\n    </div>\r\n\r\n}","import {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {initialDirectCompareConfigData} from \"../../config/ApplicationSetting\";\r\nimport {PieChartConfigurationForm} from \"../charthelper/PieChartConfigurationForm\";\r\nimport {Card} from \"react-bootstrap\";\r\nimport BaseDataChart from \"../fooddatapanel/charts/BaseDataChart\";\r\nimport {\r\n    CARBS_DATA_BASE,\r\n    LIPIDS_DATA_BASE,\r\n    TAB_BASE_DATA,\r\n    TAB_CARBS_DATA,\r\n    TAB_LIPIDS_DATA\r\n} from \"../../config/Constants\";\r\nimport LipidsDataChart from \"../fooddatapanel/charts/LipidsDataChart\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {\r\n    PieChartConfigurationProps,\r\n    PieChartDirectCompareConfig,\r\n    PieChartDirectCompareProp\r\n} from \"../../types/livedata/ChartPropsData\";\r\nimport CarbsDataChart from \"../fooddatapanel/charts/CarbsDataChart\";\r\nimport {\r\n    GeneralChartConfigDirectCompareWithSubCharts,\r\n    GeneralChartConfigWithDetails\r\n} from \"../../types/livedata/ChartConfigData\";\r\nimport {calculateChartContainerHeight} from \"../../service/nutrientdata/ChartSizeCalculation\";\r\nimport {useWindowDimension} from \"../../service/WindowDimension\";\r\n\r\n/**\r\n * Re-usable direct compare chart component for pie-chart data pages (Lipids, Carbs, Base Data)\r\n */\r\nexport function DcPieChart(props: PieChartDirectCompareProp) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const windowSize = useWindowDimension()\r\n\r\n    let initialConfig\r\n    switch (props.dataPage) {\r\n        case TAB_BASE_DATA:\r\n            initialConfig = applicationContext && applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.baseChartConfig\r\n                ? applicationContext?.applicationData.directCompareDataPanel.directCompareConfigChart.baseChartConfig\r\n                : initialDirectCompareConfigData.baseChartConfig\r\n            break\r\n        case TAB_LIPIDS_DATA:\r\n            initialConfig = applicationContext && applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig\r\n                ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig\r\n                : initialDirectCompareConfigData.lipidsChartConfig\r\n            break\r\n        case TAB_CARBS_DATA:\r\n            initialConfig = applicationContext && applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig\r\n                ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig\r\n                : initialDirectCompareConfigData.carbsChartConfig\r\n            break\r\n    }\r\n\r\n    const [chartType, setChartType] = useState<string>(initialConfig.chartType)\r\n    const [showLegend, setShowLegend] = useState<boolean>(initialConfig.showLegend)\r\n    const [showDetails, setShowDetails] = useState<boolean>(initialConfig.showDetails)\r\n    const [subChart1, setSubChart1] = useState<string>(initialConfig.subChart1)\r\n    const [subChart2, setSubChart2] = useState<string>(initialConfig.subChart2)\r\n\r\n    const [containerHeight, setContainerHeight] = useState<number>(calculateChartContainerHeight(windowSize, true))\r\n\r\n    useEffect(() => {\r\n        const currentConfig = applicationContext?.applicationData.directCompareDataPanel.directCompareConfigChart\r\n\r\n        if (!currentConfig) {\r\n            return\r\n        }\r\n\r\n        if (props.dataPage === TAB_LIPIDS_DATA || props.dataPage === TAB_CARBS_DATA) {\r\n            const configObject: GeneralChartConfigDirectCompareWithSubCharts = props.dataPage === TAB_LIPIDS_DATA\r\n                ? currentConfig.lipidsChartConfig\r\n                : currentConfig.carbsChartConfig\r\n\r\n            if (chartType !== configObject.chartType || showLegend !== configObject.showLegend\r\n                 || subChart1 !== configObject.subChart1 || subChart2 !== configObject.subChart2) {\r\n                updateChartConfig()\r\n            }\r\n        } else if (props.dataPage === TAB_BASE_DATA) {\r\n            const configObject: GeneralChartConfigWithDetails = currentConfig.baseChartConfig\r\n            if (chartType !== configObject.chartType || showLegend !== configObject.showLegend || showDetails !== configObject?.showDetails) {\r\n                updateChartConfig()\r\n            }\r\n        }\r\n\r\n        setContainerHeight(calculateChartContainerHeight(windowSize, true))\r\n    }, [chartType, showDetails, showLegend, subChart1, subChart2, containerHeight, windowSize.height])\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const updateChartConfig = () => {\r\n        if (applicationContext) {\r\n            let newChartConfig\r\n\r\n            if (props.dataPage === TAB_BASE_DATA) {\r\n                const pieChartConfig: GeneralChartConfigWithDetails = {\r\n                    chartType: chartType,\r\n                    showLegend: showLegend,\r\n                    showDetails: showDetails\r\n                }\r\n\r\n                newChartConfig = {\r\n                    ...applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart,\r\n                    baseChartConfig: pieChartConfig\r\n                }\r\n            } else {\r\n                if (props.dataPage === TAB_LIPIDS_DATA) {\r\n                    newChartConfig = {\r\n                        ...applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart,\r\n                        lipidsChartConfig: {\r\n                            ...applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig,\r\n                            chartType: chartType,\r\n                            showLegend: showLegend,\r\n                            subChart1: subChart1,\r\n                            subChart2: subChart2\r\n                        }\r\n                    }\r\n                } else if (props.dataPage === TAB_CARBS_DATA) {\r\n                    newChartConfig = {\r\n                        ...applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart,\r\n                        carbsChartConfig: {\r\n                            ...applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig,\r\n                            chartType: chartType,\r\n                            showLegend: showLegend,\r\n                            subChart1: subChart1,\r\n                            subChart2: subChart2\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            if (newChartConfig) {\r\n                applicationContext.setDirectCompareData.updateDirectCompareChartConfig(newChartConfig)\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleRadioButtonClick = (event: any): void => {\r\n        setChartType(event.target.value)\r\n    }\r\n\r\n    const handleShowLegendCheckbox = () => {\r\n        setShowLegend(!showLegend)\r\n    }\r\n\r\n    const handleShowDetailsCheckbox = () => {\r\n        setShowDetails(!showDetails)\r\n    }\r\n\r\n    const handleSubchart1Change = (event: any): void => {\r\n        setSubChart1(event.target.value)\r\n    }\r\n\r\n    const handleSubchart2Change = (event: any): void => {\r\n        setSubChart2(event.target.value)\r\n    }\r\n\r\n    const renderChartConfigurationForm = () => {\r\n        const chartProps = getConfigurationProps()\r\n        return <PieChartConfigurationForm key={`Config DirectCompare ${props.dataPage}`} {...chartProps}/>\r\n    }\r\n\r\n    const getConfigurationProps = (): PieChartConfigurationProps => {\r\n        let chartProps: PieChartConfigurationProps = {\r\n            chartType: chartType,\r\n            showLegend: showLegend,\r\n            handleRadioButtonClick: handleRadioButtonClick,\r\n            handleLegendCheckboxClick: handleShowLegendCheckbox,\r\n        }\r\n\r\n        if (props.dataPage === TAB_BASE_DATA) {\r\n            chartProps = {\r\n                ...chartProps,\r\n                detailsCheckboxAvailable: true,\r\n                showDetails: showDetails,\r\n                handleDetailsCheckboxClick: handleShowDetailsCheckbox\r\n            }\r\n        }\r\n\r\n        return chartProps\r\n    }\r\n\r\n\r\n    const getChartComponent = (selectedFoodItem: SelectedFoodItem, index: number) => {\r\n        let preconfig: PieChartDirectCompareConfig = {\r\n            chartType: chartType,\r\n            showLegend: showLegend,\r\n            showDetails: showDetails,\r\n        }\r\n\r\n        if (props.dataPage === TAB_BASE_DATA) {\r\n            return <BaseDataChart key={`${TAB_BASE_DATA} ${index}`} selectedFoodItem={selectedFoodItem}\r\n                                  directCompareUse={true}\r\n                                  directCompareConfig={preconfig}/>\r\n        }\r\n\r\n        if (props.dataPage === TAB_LIPIDS_DATA) {\r\n            const selectedSubChart = applicationContext\r\n                ? index === 1\r\n                    ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig.subChart1\r\n                        ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig.subChart1\r\n                        : LIPIDS_DATA_BASE\r\n                    : applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig.subChart2\r\n                        ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.lipidsChartConfig.subChart2\r\n                        : LIPIDS_DATA_BASE\r\n                : LIPIDS_DATA_BASE\r\n\r\n            preconfig = {\r\n                ...preconfig,\r\n                subChart: selectedSubChart,\r\n                handleSubchartChange: index === 1 ? handleSubchart1Change : handleSubchart2Change,\r\n                chartIndex: index\r\n            }\r\n\r\n            return <LipidsDataChart key={`${TAB_LIPIDS_DATA} ${index}`} selectedFoodItem={selectedFoodItem}\r\n                                    directCompareUse={true}\r\n                                    directCompareConfig={preconfig}/>\r\n        }\r\n\r\n        if (props.dataPage === TAB_CARBS_DATA) {\r\n            const selectedSubChart = applicationContext\r\n                ? index === 1\r\n                    ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig.subChart1\r\n                        ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig.subChart1\r\n                        : CARBS_DATA_BASE\r\n                    : applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig.subChart2\r\n                        ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.carbsChartConfig.subChart2\r\n                        : CARBS_DATA_BASE\r\n                : CARBS_DATA_BASE\r\n\r\n            preconfig = {\r\n                ...preconfig,\r\n                subChart: selectedSubChart,\r\n                chartIndex: index,\r\n                handleSubchartChange: index === 1 ? handleSubchart1Change : handleSubchart2Change\r\n            }\r\n\r\n            return <CarbsDataChart key={`${TAB_CARBS_DATA} ${index}`} selectedFoodItem={selectedFoodItem}\r\n                                   directCompareUse={true}\r\n                                   directCompareConfig={preconfig}/>\r\n        }\r\n    }\r\n\r\n    return <div className={\"direct-compare-panel\"}>\r\n        <Card>\r\n            <div className={\"d-flex\"} style={{maxHeight: containerHeight}}\r\n                 key={\"directcompare container\" + containerHeight}>\r\n                <div className={\"vertical-label\"}>{props.selectedFoodItem1.resolvedName}</div>\r\n                {getChartComponent(props.selectedFoodItem1, 1)}\r\n            </div>\r\n        </Card>\r\n\r\n        <Card>\r\n            <div className={\"d-flex\"} style={{maxHeight: containerHeight}}\r\n                 key={\"directcompare container\" + containerHeight}>\r\n                <div className={\"vertical-label\"}>{props.selectedFoodItem2.resolvedName}</div>\r\n                {getChartComponent(props.selectedFoodItem2, 2)}\r\n            </div>\r\n        </Card>\r\n        <Card.Footer>\r\n            {renderChartConfigurationForm()}\r\n        </Card.Footer>\r\n    </div>\r\n\r\n}","import {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {initialDirectCompareConfigData} from \"../../config/ApplicationSetting\";\r\nimport {BarChartConfigurationForm} from \"../charthelper/BarChartConfigurationForm\";\r\nimport {getMaximumValue, nullifyIncompleValues} from \"../../service/calculation/NutrientCalculationService\";\r\nimport {roundToNextValue} from \"../../service/calculation/MathService\";\r\nimport {direct_compare_color1, direct_compare_color2} from \"../../config/ChartConfig\";\r\nimport {Card} from \"react-bootstrap\";\r\nimport ProteinDataChart from \"../fooddatapanel/charts/ProteinDataChart\";\r\nimport {BarChartDirectCompareConfig, DirectCompareDataPanelProps} from \"../../types/livedata/ChartPropsData\";\r\nimport {useWindowDimension} from \"../../service/WindowDimension\";\r\nimport {calculateChartContainerHeight} from \"../../service/nutrientdata/ChartSizeCalculation\";\r\nimport {getNutrientData} from \"../../service/nutrientdata/NutrientDataRetriever\";\r\n\r\nexport function DcProteinDataChart(props: DirectCompareDataPanelProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const windowSize = useWindowDimension()\r\n\r\n    const chartConfig = applicationContext\r\n        ? applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart.proteinChartConfig\r\n        : initialDirectCompareConfigData.proteinChartConfig\r\n\r\n    const [portionType, setPortionType] = useState<string>(chartConfig.portionType)\r\n    const [expand100, setExpand100] = useState<boolean>(chartConfig.expand100)\r\n    const [synchronize, setSynchronize] = useState<boolean>(chartConfig.synchronize)\r\n\r\n    const [containerHeight, setContainerHeight] = useState<number>(calculateChartContainerHeight(windowSize, true))\r\n\r\n    useEffect(() => {\r\n        updateChartConfig()\r\n        setContainerHeight(calculateChartContainerHeight(windowSize, true))\r\n    }, [portionType, expand100, synchronize, containerHeight, windowSize.height])\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const updateChartConfig = () => {\r\n        if (applicationContext) {\r\n            const newChartConfig = {\r\n                ...applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart,\r\n                proteinChartConfig: {\r\n                    portionType: portionType,\r\n                    expand100: expand100,\r\n                    synchronize: synchronize\r\n                }\r\n            }\r\n            applicationContext.setDirectCompareData.updateDirectCompareChartConfig(newChartConfig)\r\n        }\r\n    }\r\n\r\n    const requirementData = applicationContext.foodDataCorpus.dietaryRequirements?.proteinRequirementData\r\n    if (!requirementData) {\r\n        return <div/>\r\n    }\r\n\r\n    const handleRadioButtonClick = (event: any): void => {\r\n        setPortionType(event.target.value)\r\n    }\r\n\r\n    const handleExpandCheckbox = () => {\r\n        setExpand100(!expand100)\r\n    }\r\n\r\n    const handleSynchronize = () => {\r\n        setSynchronize(!synchronize)\r\n    }\r\n\r\n    const renderChartConfigurationForm = () => {\r\n        const barChartProps = {\r\n            portionType: portionType,\r\n            expand100: expand100,\r\n            synchronize: synchronize,\r\n            handleRadioButtonClick: handleRadioButtonClick,\r\n            handleExpandCheckboxClick: handleExpandCheckbox,\r\n            handleSynchronize: handleSynchronize\r\n        }\r\n\r\n        return <BarChartConfigurationForm {...barChartProps}/>\r\n    }\r\n\r\n    const dataSet1 = getNutrientData(props.selectedFoodItem1).proteinData\r\n    const dataSet2 = getNutrientData(props.selectedFoodItem2).proteinData\r\n\r\n    const maxValue1 = getMaximumValue(dataSet1, props.selectedFoodItem1.portion.amount, requirementData, applicationContext.userData, true)\r\n    const maxValue2 = getMaximumValue(dataSet2, props.selectedFoodItem2.portion.amount, requirementData, applicationContext.userData, true)\r\n    const maxValue = Math.max(maxValue1, maxValue2)\r\n\r\n    if (synchronize) {\r\n        nullifyIncompleValues(dataSet1, dataSet2)\r\n    }\r\n\r\n    const maxY = synchronize ? roundToNextValue(maxValue) : undefined\r\n\r\n    const preconfig: BarChartDirectCompareConfig = {\r\n        maxValue: maxY,\r\n        portionType: portionType,\r\n        expand100: expand100,\r\n        synchronize: synchronize,\r\n        barChartColor: ''\r\n    }\r\n\r\n    const preconfigFoodItem1 = {...preconfig, barChartColor: direct_compare_color1}\r\n    const preconfigFoodItem2 = {...preconfig, barChartColor: direct_compare_color2}\r\n\r\n    return <div className={\"direct-compare-panel\"}>\r\n        <Card>\r\n            <div className={\"d-flex\"} style={{maxHeight: containerHeight}}>\r\n                <div className={\"vertical-label\"}>{props.selectedFoodItem1.resolvedName}</div>\r\n                <ProteinDataChart selectedFoodItem={props.selectedFoodItem1}\r\n                                  directCompareUse={true} directCompareConfig={preconfigFoodItem1}/>\r\n            </div>\r\n        </Card>\r\n\r\n        <Card>\r\n            <div className={\"d-flex\"} style={{maxHeight: containerHeight}}>\r\n                <div className={\"vertical-label\"}>{props.selectedFoodItem2.resolvedName}</div>\r\n                <ProteinDataChart selectedFoodItem={props.selectedFoodItem2}\r\n                                  directCompareUse={true} directCompareConfig={preconfigFoodItem2}/>\r\n            </div>\r\n        </Card>\r\n        <Card.Footer>\r\n            {renderChartConfigurationForm()}\r\n        </Card.Footer>\r\n    </div>\r\n\r\n}","import {Card} from \"react-bootstrap\";\r\nimport EnergyDataChart from \"../fooddatapanel/charts/EnergyDataChart\";\r\nimport {DirectCompareDataPanelProps} from \"../../types/livedata/ChartPropsData\";\r\nimport {useWindowDimension} from \"../../service/WindowDimension\";\r\nimport {useEffect, useState} from \"react\";\r\nimport {calculateChartContainerHeight} from \"../../service/nutrientdata/ChartSizeCalculation\";\r\n\r\nexport function DcEnergyChart(props: DirectCompareDataPanelProps) {\r\n    const windowSize = useWindowDimension()\r\n    const [containerHeight, setContainerHeight] = useState<number>(calculateChartContainerHeight(windowSize, true))\r\n\r\n    useEffect(() => {\r\n        setContainerHeight(calculateChartContainerHeight(windowSize, true))\r\n    }, [containerHeight, windowSize.height])\r\n\r\n    return <div className={\"direct-compare-panel\"}>\r\n        <Card>\r\n            <div className={\"d-flex\"} style={{maxHeight: containerHeight}}>\r\n                <div className={\"vertical-label\"}>{props.selectedFoodItem1.resolvedName}</div>\r\n                <EnergyDataChart selectedFoodItem={props.selectedFoodItem1} directCompareUse={true}/>\r\n            </div>\r\n        </Card>\r\n\r\n        <Card>\r\n            <div className={\"d-flex\"} style={{maxHeight: containerHeight}}>\r\n                <div className={\"vertical-label\"}>{props.selectedFoodItem2.resolvedName}</div>\r\n                <EnergyDataChart selectedFoodItem={props.selectedFoodItem2} directCompareUse={true}/>\r\n            </div>\r\n        </Card>\r\n    </div>\r\n\r\n}","import {ChartMenuPanel} from \"../fooddatapanel/ChartMenuPanel\";\r\nimport {\r\n    CHART_MINERALS,\r\n    CHART_VITAMINS,\r\n    TAB_BASE_DATA,\r\n    TAB_CARBS_DATA,\r\n    TAB_ENERGY_DATA,\r\n    TAB_INFO,\r\n    TAB_LIPIDS_DATA,\r\n    TAB_MINERAL_DATA,\r\n    TAB_PROTEINS_DATA,\r\n    TAB_VITAMIN_DATA\r\n} from \"../../config/Constants\";\r\nimport {useContext} from \"react\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {DcMineralVitaminChart} from \"./DcMineralVitaminChart\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {Card} from \"react-bootstrap\";\r\nimport {DcPieChart} from \"./DcPieChart\";\r\nimport {DcProteinDataChart} from \"./DcProteinDataChart\";\r\nimport {DcEnergyChart} from \"./DcEnergyChart\";\r\nimport {getNameFromFoodNameList} from \"../../service/nutrientdata/NameTypeService\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {DirectCompareDataPanelProps} from \"../../types/livedata/ChartPropsData\";\r\nimport {InfoData} from \"../fooddatapanel/charts/InfoData\";\r\n\r\nexport function DirectCompareDataPanel(props: DirectCompareDataPanelProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const setDataPage = (datapage: string) => {\r\n        applicationContext.setDirectCompareData.setSelectedDirectCompareDataPage(datapage)\r\n    }\r\n\r\n    const foodNames = applicationContext.foodDataCorpus.foodNames\r\n\r\n    const nameId1 = props.selectedFoodItem1.foodItem.nameId ? props.selectedFoodItem1.foodItem.nameId : null\r\n    const nameId2 = props.selectedFoodItem2.foodItem.nameId ? props.selectedFoodItem2.foodItem.nameId : null\r\n\r\n    const name1 = nameId1 ? getNameFromFoodNameList(foodNames, nameId1, languageContext.language) : \"\"\r\n    const name2 = nameId2 ? getNameFromFoodNameList(foodNames, nameId2, languageContext.language) : \"\"\r\n\r\n    const selectedFoodItem1: SelectedFoodItem = {...props.selectedFoodItem1, resolvedName: name1}\r\n    const selectedFoodItem2: SelectedFoodItem = {...props.selectedFoodItem2, resolvedName: name2}\r\n\r\n    const selectedDataPage = applicationContext.applicationData.directCompareDataPanel.selectedDataPage\r\n\r\n    const renderCharts = () => {\r\n        switch (selectedDataPage) {\r\n            case TAB_BASE_DATA:\r\n                return <DcPieChart key={TAB_BASE_DATA}\r\n                                   selectedFoodItem1={selectedFoodItem1}\r\n                                   selectedFoodItem2={selectedFoodItem2}\r\n                                   dataPage={TAB_BASE_DATA}\r\n                />\r\n            case TAB_ENERGY_DATA:\r\n                return <DcEnergyChart selectedFoodItem1={selectedFoodItem1}\r\n                                      selectedFoodItem2={selectedFoodItem2}\r\n                />\r\n\r\n            case TAB_VITAMIN_DATA:\r\n                return <DcMineralVitaminChart key={TAB_VITAMIN_DATA}\r\n                                              selectedFoodItem1={selectedFoodItem1}\r\n                                              selectedFoodItem2={selectedFoodItem2}\r\n                                              selectedSubChart={CHART_VITAMINS}\r\n                />\r\n            case TAB_MINERAL_DATA:\r\n                return <DcMineralVitaminChart key={TAB_MINERAL_DATA}\r\n                                              selectedFoodItem1={selectedFoodItem1}\r\n                                              selectedFoodItem2={selectedFoodItem2}\r\n                                              selectedSubChart={CHART_MINERALS}\r\n                />\r\n            case TAB_LIPIDS_DATA:\r\n                return <DcPieChart key={TAB_LIPIDS_DATA}\r\n                                   selectedFoodItem1={selectedFoodItem1}\r\n                                   selectedFoodItem2={selectedFoodItem2}\r\n                                   dataPage={TAB_LIPIDS_DATA}\r\n                />\r\n            case TAB_CARBS_DATA:\r\n                return <DcPieChart key={TAB_CARBS_DATA}\r\n                                   selectedFoodItem1={selectedFoodItem1}\r\n                                   selectedFoodItem2={selectedFoodItem2}\r\n                                   dataPage={TAB_CARBS_DATA}\r\n                />\r\n            case TAB_PROTEINS_DATA:\r\n                return <DcProteinDataChart selectedFoodItem1={selectedFoodItem1}\r\n                                           selectedFoodItem2={selectedFoodItem2}\r\n                />\r\n            case TAB_INFO:\r\n                return <div>\r\n                    <Card>\r\n                        <InfoData selectedFoodItem={props.selectedFoodItem1} directCompare={true}/>\r\n                    </Card>\r\n                    <Card>\r\n                        <InfoData selectedFoodItem={props.selectedFoodItem2} directCompare={true}/>\r\n                    </Card>\r\n                </div>\r\n\r\n        }\r\n\r\n        return <div/>\r\n    }\r\n\r\n    return <div>\r\n        <Card.Header>\r\n            <ChartMenuPanel dataPage={selectedDataPage} verticalArrangement={false} setDataPage={setDataPage}/>\r\n        </Card.Header>\r\n        {renderCharts()}\r\n    </div>\r\n\r\n}","import { DirectCompareChartConfigData } from \"../../types/livedata/ChartConfigData\"\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\"\r\nimport { DirectCompareUriData, FoodItemUriData } from \"../../types/livedata/UriData\"\r\nimport { UserData } from \"../../types/livedata/UserData\"\r\nimport { getUpdatedDirectCompareChartConfig, makeChartConfigUriString } from \"./ChartConfigConverter\"\r\nimport {\r\n\tconvertUserDataObjectToString,\r\n\tconvertUserDataStringToObject,\r\n\tgetFoodItemUriData,\r\n\tmakeFoodItemDefaultUri,\r\n\tprepareUriForParsing\r\n} from \"./FoodDataPanelUriService\"\r\n\r\nexport function makeDirectCompareDataUri(selectedFoodItem1: SelectedFoodItem, selectedFoodItem2: SelectedFoodItem, \r\n\t\tuserData: UserData, selectedDataPage: string, chartConfigData: DirectCompareChartConfigData): string {\r\n\tconst foodItemUriData1 = makeFoodItemUriData(selectedFoodItem1)\r\n\tconst foodItemUriData2 = makeFoodItemUriData(selectedFoodItem2)\r\n\t\r\n\tconst foodItem1DataUri = makeFoodItemDefaultUri(foodItemUriData1)\r\n\tconst foodItem2DataUri = makeFoodItemDefaultUri(foodItemUriData2)\r\n\t\r\n\tconst userDataUri = convertUserDataObjectToString(userData)\r\n\tconst chartConfigUri = makeChartConfigUriString(chartConfigData, selectedDataPage)\r\n\t\r\n\treturn `${foodItem1DataUri};${foodItem2DataUri};${selectedDataPage};${userDataUri};${chartConfigUri}`\r\n}\r\n\r\n\r\nfunction makeFoodItemUriData(selectedFoodItem: SelectedFoodItem): FoodItemUriData {\r\n\treturn {\r\n\t\tfoodItemId: selectedFoodItem.foodItem.id,\r\n\t\tportionData: selectedFoodItem.portion,\r\n\t\tsource: selectedFoodItem.selectedSource,\r\n\t\tcombineData: selectedFoodItem.combineData,\r\n\t\tsupplementData: selectedFoodItem.supplementData\r\n\t}\r\n}\r\n\r\n\r\nexport function parseDirectComparetUri(uri: string, chartConfigData: DirectCompareChartConfigData): DirectCompareUriData | null {\r\n\tconst fragments = prepareUriForParsing(uri).split(\";\")\r\n\tif(fragments.length !== 11) {\r\n\t\treturn null\r\n\t}\r\n\t\r\n\tconst selectedDataPage = fragments[8]\r\n\tconst userData = convertUserDataStringToObject(fragments[9])\r\n\tconst chartConfigString = fragments[10]\r\n\t\r\n\tconst foodItemUriData1 = getFoodItemUriData(fragments)\r\n\tconst remainingFragments = fragments.slice(4)\r\n\tconst foodItemUriData2 = getFoodItemUriData(remainingFragments)\r\n\t\r\n\tif(!userData || !foodItemUriData1 || !foodItemUriData2) {\r\n\t\treturn null\r\n\t}\r\n\t\r\n\tconst newChartConfigData = getUpdatedDirectCompareChartConfig(chartConfigData, chartConfigString, selectedDataPage)\r\n\t\r\n\treturn {\r\n\t\tselectedFoodItem1: foodItemUriData1,\r\n\t\tselectedFoodItem2: foodItemUriData2,\r\n\t\tselectedDataPage: selectedDataPage,\r\n\t\tuserData: userData,\r\n\t\tchartConfigData: newChartConfigData\r\n\t}\r\n\t\r\n}","import {DirectCompareSelector} from \"../foodselector/DirectCompareSelector\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport React, {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {DirectCompareDataPanel} from \"./DirectCompareDataPanel\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {PATH_DIRECT_COMPARE, QUERYKEY_DATAPANEL_ITEM} from \"../../config/Constants\";\r\nimport {useHistory} from 'react-router-dom';\r\nimport {makeDirectCompareDataUri, parseDirectComparetUri} from \"../../service/uri/DirectCompareUriService\";\r\nimport {checkUserDataValidity, USERDATA_OK} from \"../../service/UserDataService\";\r\n\r\nexport default function DirectCompareContainer() {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const history = useHistory()\r\n\r\n    const initialFoodItem1 = applicationContext?.applicationData.directCompareDataPanel.selectedFoodItem1\r\n        ? applicationContext?.applicationData.directCompareDataPanel.selectedFoodItem1\r\n        : null\r\n\r\n    const initialFoodItem2 = applicationContext?.applicationData.directCompareDataPanel.selectedFoodItem2\r\n        ? applicationContext?.applicationData.directCompareDataPanel.selectedFoodItem2\r\n        : null\r\n\r\n    const [selectedFoodItem1, setSelectedFoodItem1] = useState<SelectedFoodItem | null>(initialFoodItem1)\r\n    const [selectedFoodItem2, setSelectedFoodItem2] = useState<SelectedFoodItem | null>(initialFoodItem2)\r\n\r\n\tuseEffect(() => {\r\n        buildDataObjectsFromURI()\r\n    }, [applicationContext?.applicationData.directCompareDataPanel])\r\n\r\n\t\r\n    if (applicationContext === null || !applicationContext.ready) {\r\n        return <div/>\r\n    }\r\n\r\n\tconst buildDataObjectsFromURI = () => {\r\n\t\tif(!applicationContext) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\t\r\n\t\tif(!selectedFoodItem1 || !selectedFoodItem2) {\t\t\t\r\n\t\t\tcreateDataFromUriQuery()\t\t\r\n\t\t} else {   // Set new URI Query\t\t\r\n\t\t\tupdateUriQuery()\r\n\t\t}\r\n    }\r\n\r\n\tconst chartConfigData = applicationContext.applicationData.directCompareDataPanel.directCompareConfigChart\r\n\r\n\tconst updateUriQuery = () => {\r\n\t\tconst userData = applicationContext.userData\r\n\t\tconst selectedDataPage = applicationContext.applicationData.directCompareDataPanel.selectedDataPage\r\n\r\n\t\tif(selectedFoodItem1 && selectedFoodItem2) {\r\n\t\t\tconst query = makeDirectCompareDataUri(selectedFoodItem1, selectedFoodItem2, userData, selectedDataPage, \r\n\t\t\t\tchartConfigData)\r\n\t\t\t\t\r\n\t\t\thistory.push({\r\n\t\t\t\tpathName: PATH_DIRECT_COMPARE,\r\n\t\t\t\tsearch: `${QUERYKEY_DATAPANEL_ITEM}=${query}`\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\tconst createDataFromUriQuery = () => {\r\n\t\t\tconst queryString = window.location.search.substring(1)\r\n\t\t\tconst equalOperator = queryString.indexOf(\"=\")\r\n            const key = queryString.substring(0, equalOperator)\r\n            const value = queryString.substring(equalOperator+1)\r\n\r\n\t\t\t// Set data from a simple food item (create data from query parameters)\r\n\t\t\tif(key === QUERYKEY_DATAPANEL_ITEM && value.length > 1) {\r\n\t\t\t\tconst uriDataObject = parseDirectComparetUri(value, chartConfigData)\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\tif(uriDataObject) {\r\n\t\t\t\t\tconst foodItem1 = applicationContext.foodDataCorpus.foodItems.find(\r\n\t\t\t\t\t\tfoodItem => foodItem.id === uriDataObject.selectedFoodItem1.foodItemId\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tconst foodItem2 = applicationContext.foodDataCorpus.foodItems.find(\r\n\t\t\t\t\t\tfoodItem => foodItem.id === uriDataObject.selectedFoodItem2.foodItemId\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tif(!foodItem1 || !foodItem2) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(checkUserDataValidity(uriDataObject.userData) !== USERDATA_OK) {\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tapplicationContext.setUserData(uriDataObject.userData)\t\r\n\t\t\t\t\tapplicationContext.setDirectCompareData.updateDirectCompareChartConfig(uriDataObject.chartConfigData)\r\n\t\t\t\t\tapplicationContext.setDirectCompareData.setSelectedDirectCompareDataPage(uriDataObject.selectedDataPage)\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst foodClass1 = applicationContext.foodDataCorpus.foodClasses.find(\r\n\t\t\t\t\t\tfoodClass => foodClass.id === foodItem1.foodClass)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tconst foodClass2 = applicationContext.foodDataCorpus.foodClasses.find(\r\n\t\t\t\t\t\tfoodClass => foodClass.id === foodItem2.foodClass)\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst selectedFoodItem1: SelectedFoodItem = {\r\n\t\t\t\t\t\tid: 1000,\r\n\t\t\t\t\t\tfoodItem: foodItem1,\r\n\t\t\t\t\t\tfoodClass: foodClass1,\r\n\t\t\t\t\t\tportion: uriDataObject.selectedFoodItem1.portionData,\r\n\t\t\t\t\t\tselectedSource: uriDataObject.selectedFoodItem1.source,\r\n\t\t\t\t\t\tcombineData: uriDataObject.selectedFoodItem1.combineData,\r\n\t\t\t\t\t\tsupplementData: uriDataObject.selectedFoodItem1.supplementData\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\tconst selectedFoodItem2: SelectedFoodItem = {\r\n\t\t\t\t\t\tid: 1001,\r\n\t\t\t\t\t\tfoodItem: foodItem2,\r\n\t\t\t\t\t\tfoodClass: foodClass2,\r\n\t\t\t\t\t\tportion: uriDataObject.selectedFoodItem2.portionData,\r\n\t\t\t\t\t\tselectedSource: uriDataObject.selectedFoodItem2.source,\r\n\t\t\t\t\t\tcombineData: uriDataObject.selectedFoodItem2.combineData,\r\n\t\t\t\t\t\tsupplementData: uriDataObject.selectedFoodItem2.supplementData\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\tupdateSelectedFoodItems(selectedFoodItem1, selectedFoodItem2)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t}\r\n\r\n\t\r\n\r\n    const updateSelectedFoodItems = (selectedFoodItem1: SelectedFoodItem, selectedFoodItem2: SelectedFoodItem) => {\r\n        setSelectedFoodItem1(selectedFoodItem1)\r\n        setSelectedFoodItem2(selectedFoodItem2)\r\n        applicationContext.setDirectCompareData.setSelectedDirectCompareItems(selectedFoodItem1, selectedFoodItem2)\r\n    }\r\n\r\n    return (\r\n        <div className={\"container-fluid\"}>\r\n            <div className={\"row\"}>\r\n                <div className={\"col-4\"}>\r\n                    <DirectCompareSelector updateSelectedFoodItems={updateSelectedFoodItems}/>\r\n                </div>\r\n                <div className={\"col-8\"} style={{padding: \"32px\"}}>\r\n                    {selectedFoodItem1 !== null && selectedFoodItem2 !== null ?\r\n                    <DirectCompareDataPanel selectedFoodItem1={selectedFoodItem1}\r\n                                            selectedFoodItem2={selectedFoodItem2}/>\r\n                        : <div className={\"app\"}><i>{applicationStrings.direct_compare_text[languageContext.language]}</i></div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}","export default __webpack_public_path__ + \"static/media/app.efc3a150.png\";","import {useContext} from \"react\";\r\nimport {LanguageContext} from \"../contexts/LangContext\";\r\nimport {applicationStrings} from \"../static/labels\";\r\n\r\nimport appPath from '../static/image/app.png';\r\nimport {mobileAppPath} from \"../config/ApplicationSetting\";\r\n\r\nexport function FoodCompareApp() {\r\n    const languageContext = useContext(LanguageContext)\r\n\r\n    const linkToPlayStore = () => {\r\n        const link = window.open(mobileAppPath, '_blank')\r\n        if(link) {\r\n            link.focus()\r\n        } else {\r\n            window.location.href = mobileAppPath\r\n        }\r\n    }\r\n\r\n    return <div className={\"container media app\"} style={{paddingTop: \"24px\"}}>\r\n        <div className={\"row\"}>\r\n            <div className={\"col-6\"}>\r\n                {applicationStrings.text_foodcompareapp_1[languageContext.language]}\r\n                <div className=\"text-center\" style={{paddingTop: \"32px\"}}>\r\n                    <button type=\"button\"\r\n                            className=\"btn btn-warning btn-small button-apply media app\"\r\n                            onClick={linkToPlayStore}\r\n                            style={{minWidth: \"250px\"}}>\r\n\t\t\t\t\t<span className={\"media app\"} style={{fontWeight: \"bold\"}}>\r\n\t\t\t\t\t\t{applicationStrings.text_foodcompareapp_2[languageContext.language]}\r\n\t\t\t\t\t</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div className={\"col-6\"}>\r\n                <img src={appPath} alt=\"Screenshot of FoodCompare App\" className={\"media mobile-app-img\"}/>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n}","import React, {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../contexts/ApplicationDataContext\";\r\nimport {LanguageContext} from \"../contexts/LangContext\";\r\nimport {SEX_FEMALE, SEX_MALE} from \"../config/Constants\";\r\nimport {UserData} from \"../types/livedata/UserData\";\r\nimport {\r\n    initialUserDataAge,\r\n    initialUserDataBreastfeeding,\r\n    initialUserDataLeisureSports,\r\n    initialUserDataPregnant,\r\n    initialUserDataSex,\r\n    initialUserDataSize,\r\n    initialUserDataWeight\r\n} from \"../config/ApplicationSetting\";\r\nimport {applicationStrings} from \"../static/labels\";\r\nimport {NotificationManager} from 'react-notifications'\r\nimport 'react-notifications/lib/notifications.css';\r\nimport {Form, FormControl, FormGroup} from \"react-bootstrap\";\r\nimport Select from 'react-select';\r\nimport {getPalCategories, getPalCategory} from \"../service/calculation/EnergyService\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport ReactSelectOption from \"../types/ReactSelectOption\";\r\nimport {isSmallScreen, useWindowDimension} from \"../service/WindowDimension\";\r\nimport {\r\n    checkUserDataValidity,\r\n    USERDATA_ERROR_AGE,\r\n    USERDATA_ERROR_SIZE,\r\n    USERDATA_ERROR_WEIGHT\r\n} from \"../service/UserDataService\";\r\n\r\nexport function UserSettings() {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n\r\n    const [age, setAge] = useState<number>(initialUserDataAge)\r\n    const [size, setSize] = useState<number>(initialUserDataSize)\r\n    const [weight, setWeight] = useState<number>(initialUserDataWeight)\r\n    const [sex, setSex] = useState<string>(initialUserDataSex)\r\n    const [pregnant, setPregnant] = useState<boolean>(initialUserDataPregnant)\r\n    const [breastFeeding, setBreastFeeding] = useState<boolean>(initialUserDataBreastfeeding)\r\n    const [palValue, setPalValue] = useState<ReactSelectOption | null>(null)\r\n    const [leisureSport, setLeisureSport] = useState<boolean>(initialUserDataLeisureSports)\r\n\r\n    const windowSize = useWindowDimension()\r\n\r\n    useEffect(() => {\r\n        if(applicationContext) {\r\n            setAge(applicationContext.userData.age)\r\n            setSize(applicationContext.userData.size)\r\n            setWeight(applicationContext.userData.weight)\r\n            setSex(applicationContext.userData.sex)\r\n            setPregnant(applicationContext.userData.pregnant)\r\n            setBreastFeeding(applicationContext.userData.breastFeeding)\r\n            setLeisureSport(applicationContext.userData.leisureSports)\r\n        }\r\n    }, [])\r\n\r\n    const changeAge = (event: any) => {\r\n        setAge(event.target.value)\r\n    }\r\n\r\n    const changeSize = (event: any) => {\r\n        setSize(event.target.value)\r\n    }\r\n\r\n    const changeWeight = (event: any) => {\r\n        setWeight(event.target.value)\r\n    }\r\n\r\n    const handleRadioButtonClick = (event: any) => {\r\n        const value = event.target.value;\r\n        const sex = value === SEX_MALE ? SEX_MALE : SEX_FEMALE;\r\n        if (sex === SEX_MALE) {\r\n            setPregnant(false)\r\n            setBreastFeeding(false)\r\n        }\r\n        setSex(sex)\r\n    }\r\n\r\n    const changePregnant = (event: any) => {\r\n        setPregnant(!pregnant)\r\n    }\r\n\r\n    const changeBreastFeeding = (event: any) => {\r\n        setBreastFeeding(!breastFeeding)\r\n    }\r\n\r\n    const changeAdditionalPalPorts = (event: any) => {\r\n        setLeisureSport(!leisureSport)\r\n    }\r\n\r\n    const changePalValue = (value: ReactSelectOption) => {\r\n        setPalValue(value)\r\n    }\r\n\r\n    const submitUserData = () => {\r\n        if (!applicationContext) {\r\n            return\r\n        }\r\n\r\n        const userData: UserData = {\r\n            age: age,\r\n            size: size,\r\n            weight: weight,\r\n            sex: sex,\r\n            pregnant: pregnant,\r\n            breastFeeding: breastFeeding,\r\n            palValue: palValue ? palValue.value : applicationContext.userData.palValue,\r\n            leisureSports: leisureSport,\r\n            initialValues: false\r\n        }\r\n\r\n        const inputOk = checkInputValidity(userData)\r\n\r\n        if (inputOk) {\r\n            applicationContext.setUserData(userData)\r\n            NotificationManager.success(applicationStrings.message_userdata_success[lang])\r\n        }\r\n    }\r\n\r\n\r\n    const checkInputValidity = (userData: UserData) => {\r\n        const validationResult = checkUserDataValidity(userData)\r\n\r\n        if (validationResult === USERDATA_ERROR_AGE) {\r\n            showMessage(applicationStrings.message_userdata_error_age[lang]);\r\n            return false;\r\n        } else if (validationResult === USERDATA_ERROR_SIZE) {\r\n            showMessage(applicationStrings.message_userdata_error_size[lang]);\r\n            return false;\r\n        } else if (validationResult === USERDATA_ERROR_WEIGHT) {\r\n            showMessage(applicationStrings.message_userdata_error_weight[lang]);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    const showMessage = (message: string) => {\r\n        NotificationManager.error(message)\r\n    }\r\n\r\n    const selectClass = isSmallScreen(windowSize) ? \"form-control-sm\" : \"\"\r\n    const inputClass =  isSmallScreen(windowSize) ? \"form-control form-control-sm input-sm\" : \"form-control input\"\r\n\r\n    const renderTextField = (label, value, callback) => {\r\n        return (\r\n            <div className=\"form-row\">\r\n                <Form.Label className=\"form-label\">{label}:</Form.Label>\r\n                <FormControl\r\n                    className={inputClass}\r\n                    type=\"text\"\r\n                    value={value}\r\n                    onChange={callback}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const renderSexRadioButtons = () => {\r\n        return (\r\n            <div className=\"form-row-indent\">\r\n                <Form.Label className=\"form-elements\">\r\n                    <Form.Check type=\"radio\"\r\n                                inline={true}\r\n                                label={applicationStrings.label_userSettings_sex_male[lang]}\r\n                                value={SEX_MALE}\r\n                                checked={(sex === SEX_MALE)}\r\n                                onChange={handleRadioButtonClick}\r\n                    />\r\n                </Form.Label>\r\n                <Form.Label className=\"form-elements-largespace\">\r\n                    <Form.Check type=\"radio\"\r\n                                inline={true}\r\n                                label={applicationStrings.label_userSettings_sex_female[lang]}\r\n                                value={SEX_FEMALE}\r\n                                checked={(sex !== SEX_MALE)}\r\n                                onChange={handleRadioButtonClick}\r\n                    />\r\n                </Form.Label>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const renderFemaleCheckboxes = () => {\r\n        return (\r\n            <div className=\"form\" style={{marginLeft: \"48px\", marginBottom: \"10px\"}}>\r\n                <div>\r\n                    <Form.Check inline className=\"form-radiobutton\"\r\n                                checked={pregnant === true}\r\n                                disabled={sex === SEX_MALE}\r\n                                label={applicationStrings.label_userSettings_pregnant[lang]}\r\n                                onClick={changePregnant}>\r\n                    </Form.Check>\r\n                </div>\r\n                <div>\r\n                    <Form.Check inline className=\"form-radiobutton\"\r\n                                disabled={sex === SEX_MALE}\r\n                                label={applicationStrings.label_userSettings_breastfeeding[lang]}\r\n                                onClick={changeBreastFeeding}>\r\n                    </Form.Check>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    const renderPalList = (userData: UserData) => {\r\n        const palCategories = getPalCategories(lang);\r\n        if (!palCategories) {\r\n            return <div/>\r\n        }\r\n\r\n        if (!palValue) {   // Initialize pal value first time\r\n            let userDataPalValue = palCategories.find(palObject => palObject.value === userData.palValue)\r\n            if (!userDataPalValue) {\r\n                userDataPalValue = palCategories[0]\r\n            }\r\n            setPalValue(userDataPalValue)\r\n        }\r\n\r\n        if (!palValue) {\r\n            return <div/>\r\n        }\r\n\r\n        const descriptionCode = `palcat_desc_${getPalCategory(palValue.value)}`\r\n        const description = applicationStrings[descriptionCode][lang];\r\n\r\n        return (\r\n            <div className=\"form-row\">\r\n                <div style={{width: \"450px\", paddingTop: \"30px\"}}>\r\n                    <label className=\"form-label\">{applicationStrings.label_userSettings_palValue[lang]}:</label>\r\n                    <Select className={selectClass}\r\n                            options={palCategories}\r\n                            value={palValue}\r\n                            onChange={(value) => changePalValue(value)}\r\n                    />\r\n                </div>\r\n                <p className=\"app media\">\r\n                    {description}\r\n                </p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    const renderActivityCheckboxes = () => {\r\n        return (\r\n            <div className=\"form-row-indent\" style={{marginTop: \"-15px\"}}>\r\n                <label className=\"form-elements\"\r\n                       data-tip={applicationStrings.label_userSettings_leisureSports_tooltip[lang]}>\r\n                    <ReactTooltip/>\r\n                    <Form.Check inline className=\"form-radiobutton\"\r\n                                label={applicationStrings.label_userSettings_leisureSports[lang]}\r\n                                checked={leisureSport}\r\n                                onChange={changeAdditionalPalPorts}>\r\n                    </Form.Check>\r\n                </label>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const renderSubmitButton = () => {\r\n        return (\r\n            <div className=\"text-center\">\r\n                <button type=\"button\"\r\n                        className=\"btn btn-primary button-base\"\r\n                        onClick={() => submitUserData()}>\r\n                    {applicationStrings.button_submit[lang]}\r\n                </button>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const value_age = (age != null) ? age : initialUserDataAge\r\n    const value_size = (size != null) ? size : initialUserDataSize\r\n    const value_weight = (weight != null) ? weight : initialUserDataWeight\r\n\r\n    return (\r\n        <div className=\"container\" style={{paddingTop: \"24px\"}}>\r\n            <div className=\"row userDataSettings\">\r\n                <div className=\"col-12\">\r\n                    <form>\r\n                        <FormGroup controlId=\"formBasicText\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-6\">\r\n                                    {renderTextField(applicationStrings.label_userSettings_age[lang], value_age, changeAge)}\r\n                                    {renderTextField(applicationStrings.label_userSettings_size[lang], value_size, changeSize)}\r\n                                    {renderTextField(applicationStrings.label_userSettings_weight[lang], value_weight, changeWeight)}\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <Form.Label className=\"form-label\" style={{paddingLeft: \"20px\"}}>\r\n                                        {applicationStrings.label_userSettings_sex[lang]}\r\n                                    </Form.Label>\r\n                                    {renderSexRadioButtons()}\r\n                                    {renderFemaleCheckboxes()}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                {renderPalList(applicationContext.userData)}\r\n                                {renderActivityCheckboxes()}\r\n                            </div>\r\n                        </FormGroup>\r\n                        {renderSubmitButton()}\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}","export const MAIL_INVALID_NAME = \"mail invalid name\"\r\nexport const MAIL_NO_CONTENT = \"no content\"\r\nexport const MAIL_CONTENT_TO_LONG = \"content too long\"\r\nexport const MAIL_INVALID_ADDRESS = \"invalid address\"","import {MailData} from \"../types/livedata/MailData\";\r\nimport {\r\n    MAIL_INVALID_ADDRESS,\r\n    MAIL_CONTENT_TO_LONG,\r\n    MAIL_INVALID_NAME,\r\n    MAIL_NO_CONTENT\r\n} from \"../config/ErrorMessageCodes\";\r\nimport {maxMessageCharacters} from \"../config/ApplicationSetting\";\r\n\r\n\r\nconst mailRegex = '(?:[a-z0-9!#$%&\\'*+/=?^_`{|}~-]+(?:\\\\.[a-z0-9!#$%&\\'*+/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\\\])'\r\n\r\nexport function checkMailValidity(mail: MailData): string[] {\r\n    const errors: string[] = []\r\n\r\n    if (!checkName(mail.name)) {\r\n        errors.push(MAIL_INVALID_NAME)\r\n    }\r\n\r\n    if (!checkMailAddress(mail.address)) {\r\n        errors.push(MAIL_INVALID_ADDRESS)\r\n    }\r\n\r\n    if (!checkContent(mail.message)) {\r\n        errors.push(MAIL_NO_CONTENT)\r\n    }\r\n\r\n    if (!checkLength(mail.message)) {\r\n        errors.push(MAIL_CONTENT_TO_LONG)\r\n    }\r\n\r\n    return errors\r\n}\r\n\r\nfunction checkName(name: string): boolean {\r\n    return name.length >= 2 && name.length <= 50\r\n}\r\n\r\nfunction checkContent(content: string): boolean {\r\n    return content.length >= 20\r\n}\r\n\r\nfunction checkLength(content: string): boolean {\r\n    return content.length <= maxMessageCharacters\r\n}\r\n\r\nfunction checkMailAddress(mailAddress: string): boolean {\r\n    return mailAddress.match(mailRegex) !== null\r\n}\r\n","import React, {useContext, useState} from \"react\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {maxMessageCharacters} from \"../../config/ApplicationSetting\";\r\nimport {MailData} from \"../../types/livedata/MailData\";\r\nimport {checkMailValidity} from \"../../service/MailService\";\r\nimport {NotificationManager} from 'react-notifications'\r\nimport Recaptcha from 'react-recaptcha'\r\n\r\nimport {\r\n    MAIL_CONTENT_TO_LONG,\r\n    MAIL_INVALID_ADDRESS,\r\n    MAIL_INVALID_NAME,\r\n    MAIL_NO_CONTENT\r\n} from \"../../config/ErrorMessageCodes\";\r\nimport {RECAPTCHA_KEY, SERVICE_ID, TEMPLATE_ID, USER_ID} from \"../../config/ApplicationKeys\";\r\nimport emailjs from \"emailjs-com\";\r\n\r\nexport function ContactForm() {\r\n    const language = useContext(LanguageContext).language\r\n\r\n    const [name, setName] = useState(\"\")\r\n    const [mailAddress, setMailAdress] = useState(\"\")\r\n    const [message, setMessage] = useState(\"\")\r\n    const [characters, setCharacters] = useState(0)\r\n\r\n    const [userVerified, setUserVerified] = useState(false)\r\n\r\n    const updateName = (event) => {\r\n        setName(event.target.value)\r\n    }\r\n\r\n    const updateMailAddress = (event) => {\r\n        setMailAdress(event.target.value)\r\n    }\r\n\r\n    const updateMessage = (event) => {\r\n        setMessage(event.target.value)\r\n        setCharacters(event.target.value.length)\r\n    }\r\n\r\n    const verifyCallBack = (response) => {\r\n        if(response) {\r\n            setUserVerified(true)\r\n        }\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault()\r\n\r\n        if(!userVerified) {\r\n            NotificationManager.error(applicationStrings.label_mail_error_verification[language])\r\n            return\r\n        }\r\n\r\n        const mailData: MailData = {\r\n            name: name.trim(),\r\n            address: mailAddress.trim(),\r\n            message: message.trim()\r\n        }\r\n\r\n        const validationErrors = checkMailValidity(mailData)\r\n        if(validationErrors.length > 0) {\r\n            const firstError = validationErrors[0]\r\n            let errorMessage = ''\r\n            switch(firstError) {\r\n                case MAIL_INVALID_NAME:\r\n                    errorMessage = applicationStrings.label_mail_error_name[language]\r\n                    break\r\n                case MAIL_INVALID_ADDRESS:\r\n                    errorMessage = applicationStrings.label_mail_error_mailaddress[language]\r\n                    break\r\n                case MAIL_NO_CONTENT:\r\n                    errorMessage = applicationStrings.label_mail_error_nocontent[language]\r\n                    break\r\n                case MAIL_CONTENT_TO_LONG:\r\n                    errorMessage = applicationStrings.label_mail_error_content_too_long[language]\r\n                    break\r\n            }\r\n\r\n            NotificationManager.error(errorMessage)\r\n            return\r\n        }\r\n\r\n        sendMail(mailData, language)\r\n    }\r\n\r\n    const sendMail = (mail: MailData, language: string) => {\r\n        const options = {\r\n            reply_to: mail.address,\r\n            from_name: mail.name,\r\n            message: mail.message,\r\n        }\r\n\r\n        emailjs.send(SERVICE_ID, TEMPLATE_ID, options, USER_ID)\r\n            .then((result) => {\r\n                NotificationManager.info(applicationStrings.message_email_success[language])\r\n                setName(\"\")\r\n                setMessage(\"\")\r\n                setMailAdress(\"\")\r\n                setCharacters(0)\r\n            }, (error) => {\r\n                console.log(error.text);\r\n                NotificationManager.info(applicationStrings.message_email_error[language])\r\n            });\r\n    }\r\n\r\n    const charactersLeft = maxMessageCharacters - characters\r\n    const charactersMessage = maxMessageCharacters >= 0\r\n        ? applicationStrings.label_mail_characters_left[language].replace(\"/xx/\", charactersLeft)\r\n        : applicationStrings.label_mail_too_long[language]\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div className={\"container\"}>\r\n                <p>{applicationStrings.text_contact_form[language]}</p>\r\n                <div>\r\n                    <span className={'form-label'}>{applicationStrings.label_mail_name[language]}</span>\r\n                    <input className={\"form-control input\"}\r\n                           value={name}\r\n                           onChange={updateName}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <span className={'form-label'}>{applicationStrings.label_mail_address[language]}</span>\r\n                    <input className={\"form-control input\"}\r\n                           value={mailAddress}\r\n                           onChange={updateMailAddress}\r\n                    />\r\n                </div>\r\n                <div>\r\n                    <span className={'form-label'}>{applicationStrings.label_mail_message[language]}</span>\r\n                    <textarea className={\"form-control input\"}\r\n                              rows={8}\r\n                              value={message}\r\n                              onChange={updateMessage}\r\n                    />\r\n                </div>\r\n                <div><p style={{fontSize: \"0.8em\"}}>{charactersMessage}</p></div>\r\n\r\n                <div style={{paddingTop: \"12px\", paddingBottom: \"36px\"}}>\r\n                    <Recaptcha\r\n                        sitekey={RECAPTCHA_KEY}\r\n                        render=\"explicit\"\r\n                        verifyCallback={verifyCallBack}\r\n                    />\r\n                </div>\r\n\r\n                <button className={\"btn btn-primary\"} type=\"submit\">{applicationStrings.button_send[language]}</button>\r\n            </div>\r\n        </form>\r\n    );\r\n};","// Google:\r\nexport const ANALYTICS_MESS_ID = 'G-DXHX3Y13KZ'\r\nexport const ADSENSE_TRACKING_ID = 'ca-pub-2335013571820161'\r\nexport const RECAPTCHA_KEY = '6LdVyyMcAAAAACXul89K-Epl2dQu3XOvOo1bTIg3'\r\n\r\n// Emailjs:\r\nexport const SERVICE_ID = 'service_608vcxh'\r\nexport const TEMPLATE_ID = 'template_nledi86'\r\nexport const USER_ID = 'user_8TjzzLK0ZdfUQd7h7cieX'\r\n\r\n","import {applicationStrings} from \"../../static/labels\";\r\nimport {useContext} from \"react\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\n\r\nexport function Sources() {\r\n    const language = useContext(LanguageContext).language\r\n\r\n    return (\r\n        <div className={\"container\"}>\r\n            <h4>{applicationStrings.text_contact_source1[language]}</h4>\r\n            <h5>{applicationStrings.text_contact_source2[language]}</h5>\r\n            <p>U.S. Department of Agriculture, Agricultural Research Service.<br/>\r\n                FoodData Central, 2021.</p>\r\n            <p>\r\n                Website: <a href={\"https://fdc.nal.usda.gov/\"}>Food Data Central</a>\r\n            </p>\r\n            <h5>{applicationStrings.text_contact_source3[language]}</h5>\r\n            <p>Deutsche Gesellschaft fr Ernhrung e.V.</p>\r\n            <p>\r\n                Website: <a href={\"https://www.dge.de/\"}>DGE</a>\r\n            </p>\r\n            <h5>{applicationStrings.text_contact_source4[language]}</h5>\r\n            <p>Prakash S. Shetty, Christiani J. K. Henry, Alison E. Black and A. M. Prentice:<br/>\r\n                \"Energy requirements of adults: an update on basal metabolic rates (BMRs) and physical activity\r\n                levels (PALs).\",<br/>\r\n                European journal of clinical nutrition (1996), Volume 50, Suppl 1, pp. 11-23\r\n            </p>\r\n        </div>\r\n    );\r\n\r\n}","import {buildDate, release} from \"../../config/ApplicationSetting\";\r\n\r\nexport function Versions() {\r\n    return <div className={\"container\"}>\r\n        <h1>\r\n            Food Compare\r\n        </h1>\r\n        <h6>\r\n            Version {release}\r\n        </h6>\r\n        <h6>\r\n            Build time: {buildDate}\r\n        </h6>\r\n\r\n        <p style={{paddingTop: \"24px\"}}>\r\n            <b>New features in Version 1.4</b>\r\n            <ul>\r\n                <li>Food ranking data panel</li>\r\n                <li>Redesign of home menu</li>\r\n                <li>New food data (now about 175 different food items)</li>\r\n                <li>Extension and redesign of contact menu</li>\r\n                <li>General layout update and fixing of style issues</li>\r\n            </ul>\r\n        </p>\r\n\r\n    </div>\r\n}","export default __webpack_public_path__ + \"static/media/impressum-german.92ba80d6.png\";","export default __webpack_public_path__ + \"static/media/impressum-english.1bd33956.png\";","import {useContext} from \"react\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\n\r\nimport impressum_de from '../../static/image/impressum-german.png';\r\nimport impressum_en from '../../static/image/impressum-english.png';\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {LANGUAGE_DE} from \"../../config/Constants\";\r\n\r\nexport function Impressum() {\r\n    const lang = useContext(LanguageContext).language\r\n\r\n    const impressumPath = lang === LANGUAGE_DE ? impressum_de : impressum_en;\r\n\r\n    return (\r\n        <div className={\"container\"}>\r\n            <div className={\"col-6\"}>\r\n                <p>\r\n                    <b>{applicationStrings.text_contact_disclaimer1[lang]}</b>\r\n                </p>\r\n                <p>\r\n                    <i>\r\n                        {applicationStrings.text_contact_disclaimer2[lang]}\r\n                    </i>\r\n                </p>\r\n                <p>\r\n                    <i>\r\n                        {applicationStrings.text_contact_disclaimer3[lang]}\r\n                    </i>\r\n                </p>\r\n            </div>\r\n            <div style={{paddingTop: \"20px\"}}>\r\n                <div style={{height: '180px'}}>\r\n                    <img src={impressumPath} alt={\"Impressumtext\"} style={{height: '180px'}}/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}","import {useContext, useState} from \"react\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {ToggleButton, ToggleButtonGroup} from \"react-bootstrap\";\r\nimport {ContactForm} from \"./ContactForm\";\r\nimport {Sources} from \"./Sources\";\r\nimport {Versions} from \"./Versions\";\r\nimport {Impressum} from \"./Impressum\";\r\n\r\nexport function ContactContainer() {\r\n    const languageContext = useContext(LanguageContext)\r\n\r\n    const menu_contact = 1\r\n    const menu_sources = 2\r\n    const menu_versions = 3\r\n    const menu_impressum = 4\r\n\r\n    const [selectedMenu, setSelectedMenu] = useState(menu_contact)\r\n    const buttonStyle = {width: \"175px\"}\r\n\r\n    const renderSubMenu = () => {\r\n        switch (selectedMenu) {\r\n            case menu_contact:\r\n                return <ContactForm/>\r\n            case menu_sources:\r\n                return <Sources/>\r\n            case menu_versions:\r\n                return <Versions/>\r\n            case menu_impressum:\r\n                return <Impressum/>\r\n            default:\r\n                return <div/>\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div className={\"text-center\"} style={{paddingTop: \"25px\", paddingBottom: \"50px\"}}>\r\n                <ToggleButtonGroup className={\"contact\"}\r\n                                   type={\"radio\"}\r\n                                   name={\"contact menus\"}\r\n                                   defaultValue={menu_contact}>\r\n                    <ToggleButton style={buttonStyle}\r\n                                  value={menu_contact}\r\n                                  checked={selectedMenu === menu_contact}\r\n                                  onChange={() => setSelectedMenu(menu_contact)}>\r\n                        {applicationStrings.menu_contact[languageContext.language]}\r\n                    </ToggleButton>\r\n                    <ToggleButton style={buttonStyle}\r\n                                  value={menu_sources}\r\n                                  checked={selectedMenu === menu_sources}\r\n                                  onChange={() => setSelectedMenu(menu_sources)}>\r\n                        {applicationStrings.menu_contact_sources[languageContext.language]}\r\n                    </ToggleButton>\r\n                    <ToggleButton style={buttonStyle}\r\n                                  value={menu_versions}\r\n                                  checked={selectedMenu === menu_versions}\r\n                                  onChange={() => setSelectedMenu(menu_versions)}>\r\n                        {applicationStrings.menu_contact_versions[languageContext.language]}\r\n                    </ToggleButton>\r\n                    <ToggleButton style={buttonStyle}\r\n                                  value={menu_impressum}\r\n                                  checked={selectedMenu === menu_impressum}\r\n                                  onChange={() => setSelectedMenu(menu_impressum)}>\r\n                        {applicationStrings.menu_contact_impressum[languageContext.language]}\r\n                    </ToggleButton>\r\n                </ToggleButtonGroup>\r\n            </div>\r\n            <div>\r\n                {renderSubMenu()}\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}","import {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {getCategorySelectList} from \"../../service/nutrientdata/CategoryService\";\r\nimport {useHistory} from 'react-router-dom';\r\nimport {getElementsOfRankingGroup, getRankingGroups} from \"../../service/RankingService\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {Form} from \"react-bootstrap\";\r\nimport Select from 'react-select';\r\nimport {PATH_RANKING, QUERYKEY_DATAPANEL_RANKING} from \"../../config/Constants\";\r\nimport {makeRankingPanelDataUri, parseRankingPanelDataUri} from \"../../service/uri/RankingPanelUriService\";\r\nimport {RankingPanelData} from \"../../types/livedata/ApplicationData\";\r\n\r\ninterface RankingSelectorProps {\r\n    openChart: (selectedCategory, selectedValue, use100gram, transformToDietaryRequirements) => void\r\n}\r\n\r\nexport const BASE_DATA_INDEX = 0\r\nexport const VITAMIN_INDEX = 1\r\nexport const MINERAL_INDEX = 2\r\nexport const LIPIDS_INDEX = 3\r\nexport const CARBS_INDEX = 4\r\nexport const PROTEIN_INDEX = 5\r\n\r\nexport function RankingSelector(props: RankingSelectorProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const {language} = useContext(LanguageContext)\r\n    const history = useHistory()\r\n\r\n    const rankingPanelData = applicationContext?.applicationData.rankingPanelData\r\n\r\n    const initializeState = rankingPanelData && rankingPanelData.selectedFoodCategory\r\n                                && rankingPanelData.selectedGroup && rankingPanelData.selectedElement ? true : false\r\n\r\n    const [elementsList, setElementsList] = useState<any>()\r\n    const [initialized, setInitialized] = useState<boolean>(initializeState)\r\n\r\n    useEffect(() => {\r\n        if (applicationContext) {\r\n            const newElements = buildElementsList(applicationContext.applicationData.rankingPanelData.selectedGroup)\r\n            setElementsList(newElements)\r\n        }\r\n    }, [applicationContext?.applicationData.rankingPanelData.selectedGroup])\r\n\r\n    useEffect(() => {\r\n        if (selectedFoodCategory && selectedGroup && selectedElement && initialized) {\r\n            updateUriQuery()\r\n            openChart()\r\n        } else if (!initialized) {\r\n            buildRankingPanelPageFromURI()\r\n        }\r\n    }, [applicationContext?.applicationData.rankingPanelData.selectedFoodCategory,\r\n        applicationContext?.applicationData.rankingPanelData.selectedElement,\r\n        applicationContext?.applicationData.rankingPanelData.use100gram,\r\n        applicationContext?.applicationData.rankingPanelData.showDietaryRequirements,\r\n        elementsList\r\n    ])\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const {\r\n        selectedFoodCategory,\r\n        selectedGroup,\r\n        selectedElement,\r\n        use100gram,\r\n        showDietaryRequirements\r\n    } = applicationContext.applicationData.rankingPanelData\r\n\r\n    const buildRankingPanelPageFromURI = () => {\r\n        const queryString = window.location.search.substring(1)\r\n        const equalOperator = queryString.indexOf(\"=\")\r\n        const key = queryString.substring(0, equalOperator)\r\n        const value = queryString.substring(equalOperator + 1)\r\n\r\n        if (key === QUERYKEY_DATAPANEL_RANKING && value.length > 1) {\r\n            const uriData: RankingPanelData | null = parseRankingPanelDataUri(value, applicationContext.foodDataCorpus, language)\r\n            if (!uriData) {\r\n                return\r\n            }\r\n\r\n            const {selectedFoodCategory, selectedGroup, selectedElement} = uriData\r\n            if (selectedFoodCategory === null || selectedGroup === null || selectedElement === null) {\r\n                return\r\n            } else {   // Set new URI Query\r\n                applicationContext.setRankingPanelData(uriData)\r\n                openChart()\r\n                setInitialized(true)\r\n            }\r\n        }\r\n    }\r\n\r\n    const updateUriQuery = () => {\r\n        const query = makeRankingPanelDataUri(applicationContext.applicationData.rankingPanelData)\r\n\r\n        history.push({\r\n            pathName: PATH_RANKING,\r\n            search: `${QUERYKEY_DATAPANEL_RANKING}=${query}`\r\n        })\r\n    }\r\n\r\n    const handleFoodCategoryChange = (selectedOption) => {\r\n        const newRankingData = {\r\n            ...applicationContext.applicationData.rankingPanelData,\r\n            selectedFoodCategory: selectedOption\r\n        }\r\n\r\n        applicationContext.setRankingPanelData(newRankingData)\r\n    }\r\n\r\n    const handleGroupChange = (selectedOption) => {\r\n        setInitialized(true)\r\n        const newRankingData = {\r\n            ...applicationContext.applicationData.rankingPanelData,\r\n            selectedGroup: selectedOption,\r\n            selectedElement: null\r\n        }\r\n        applicationContext.setRankingPanelData(newRankingData)\r\n        props.openChart(null, null, false, false);\r\n    }\r\n\r\n    const handleValueChange = (selectedOption) => {\r\n        const newRankingData = {\r\n            ...applicationContext.applicationData.rankingPanelData,\r\n            selectedElement: selectedOption\r\n        }\r\n        applicationContext.setRankingPanelData(newRankingData)\r\n    }\r\n\r\n    const handlePortionAmountChange = () => {\r\n        const newRankingData = {\r\n            ...applicationContext.applicationData.rankingPanelData,\r\n            use100gram: !use100gram\r\n        }\r\n        applicationContext.setRankingPanelData(newRankingData)\r\n    }\r\n\r\n    const handleDietaryRequirementsCheckbox = () => {\r\n        const newRankingData = {\r\n            ...applicationContext.applicationData.rankingPanelData,\r\n            showDietaryRequirements: !showDietaryRequirements\r\n        }\r\n        applicationContext.setRankingPanelData(newRankingData)\r\n    }\r\n\r\n    const getFoodCategoryList = () => {\r\n        return getCategorySelectList(applicationContext.foodDataCorpus.categories, language)\r\n    }\r\n\r\n    const getRankingGroupsList = () => {\r\n        return getRankingGroups(language);\r\n    }\r\n\r\n    const buildElementsList = (selectedGroup) => {\r\n        if (!selectedGroup) {\r\n            return;\r\n        }\r\n\r\n        return getElementsOfRankingGroup(selectedGroup.value, language)\r\n    }\r\n\r\n    const openChart = () => {\r\n        if (!selectedFoodCategory || !selectedGroup || !selectedElement) {\r\n            return\r\n        }\r\n\r\n        const rankingCategory = selectedGroup ? selectedGroup.value : null\r\n        const mineralOrVitaminCategory = (rankingCategory === VITAMIN_INDEX) || (rankingCategory === MINERAL_INDEX);\r\n        const transformToDietaryRequirements = mineralOrVitaminCategory ? showDietaryRequirements : false;\r\n\r\n        props.openChart(selectedFoodCategory, selectedElement, use100gram, transformToDietaryRequirements);\r\n    }\r\n\r\n    const renderPortionForm = () => {\r\n        const rankingCategory = selectedGroup ? selectedGroup.value : null;\r\n\r\n        return (\r\n            <div className=\"column select-menu\" style={{paddingLeft: \"20px\", paddingTop: \"10px\"}}>\r\n                <form className=\"form-inline form-group\">\r\n                    <label className=\"form-elements\">\r\n                        <input className=\"form-radiobutton\"\r\n                               type=\"radio\"\r\n                               checked={(use100gram)}\r\n                               onChange={handlePortionAmountChange}\r\n                        />\r\n                        100 g\r\n                    </label>\r\n                    <label className=\"form-elements-largespace\">\r\n                        <input className=\"form-radiobutton\"\r\n                               type=\"radio\"\r\n                               checked={!use100gram}\r\n                               onChange={handlePortionAmountChange}\r\n                        />\r\n                        {applicationStrings.label_portion[language]}\r\n                    </label>\r\n                    {(rankingCategory === VITAMIN_INDEX || rankingCategory === MINERAL_INDEX) &&\r\n                    <Form.Label className=\"form-elements\">\r\n                        <Form.Check inline={true}\r\n                                    label={applicationStrings.label_ranking_dietaryRequirements[language]}\r\n                                    className=\"form-radiobutton\"\r\n                                    defaultChecked={showDietaryRequirements}\r\n                                    onClick={handleDietaryRequirementsCheckbox}>\r\n                        </Form.Check>\r\n                    </Form.Label>\r\n                    }\r\n                </form>\r\n            </div>\r\n        );\r\n\r\n    }\r\n\r\n    const rankingList = getRankingGroupsList()\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"column select-menu form-section\">\r\n                <i>{applicationStrings.label_category[language]}:</i>\r\n                <Select options={getFoodCategoryList()}\r\n                        value={selectedFoodCategory}\r\n                        onChange={handleFoodCategoryChange}\r\n                />\r\n            </div>\r\n            <div className=\"column select-menu form-section\">\r\n                <i>{applicationStrings.label_group[language]}:</i>\r\n                <Select options={rankingList}\r\n                        value={selectedGroup}\r\n                        onChange={handleGroupChange}\r\n                />\r\n            </div>\r\n            <div className=\"column select-menu form-section\">\r\n                <i>{applicationStrings.label_value[language]}:</i>\r\n                <Select options={elementsList}\r\n                        value={selectedElement}\r\n                        onChange={handleValueChange}\r\n                />\r\n            </div>\r\n            {renderPortionForm()}\r\n        </div>\r\n    )\r\n\r\n\r\n}","import {RankingPanelData} from \"../../types/livedata/ApplicationData\";\r\nimport {prepareUriForParsing} from \"./FoodDataPanelUriService\";\r\nimport {getCategorySelectList} from \"../nutrientdata/CategoryService\";\r\nimport FoodDataCorpus from \"../../types/nutrientdata/FoodDataCorpus\";\r\nimport {getElementsOfRankingGroup, getRankingGroups} from \"../RankingService\";\r\n\r\nexport function makeRankingPanelDataUri(rankingPanelData: RankingPanelData) {\r\n    const selectedCategory = rankingPanelData.selectedFoodCategory?.value\r\n    const selectedGroup = rankingPanelData.selectedGroup?.value\r\n    const selectedElement = rankingPanelData.selectedElement?.value\r\n\r\n    const use100gram = rankingPanelData.use100gram ? \"1\" : \"0\"\r\n    const showDailyRequirements = rankingPanelData.showDietaryRequirements ? \"1\" : \"0\"\r\n\r\n    return `${selectedCategory};${selectedGroup};${selectedElement};${use100gram}${showDailyRequirements}`\r\n}\r\n\r\nexport function parseRankingPanelDataUri(uri: string, foodDataCorpus: FoodDataCorpus, language: string): RankingPanelData | null {\r\n    const fragments = prepareUriForParsing(uri).split(\";\")\r\n    if(fragments.length !== 4) {\r\n        return null\r\n    }\r\n\r\n    if(fragments[3].length !== 2) {\r\n        return null\r\n    }\r\n\r\n    const selectedCategory = parseInt(fragments[0])\r\n    const selectedGroup = parseInt(fragments[1])\r\n    const selectedElement = fragments[2]\r\n\r\n    const foodCategories = getCategorySelectList(foodDataCorpus.categories, language)\r\n    const groups = getRankingGroups(language)\r\n    const elements = getElementsOfRankingGroup(selectedGroup, language)\r\n\r\n    const selectedFoodCategoryOption = foodCategories.find(foodCategory => foodCategory.value === selectedCategory)\r\n    const selectedGroupOption = groups.find(group => group.value === selectedGroup)\r\n    const selectedElementOption: any = elements ? elements.find(element => element.value === selectedElement) : null\r\n\r\n    const use100g = fragments[3].substring(0,1) === \"0\" ? false : true\r\n    const showDietaryRequirements = fragments[3].substring(1,2) === \"0\" ? false : true\r\n\r\n    if(selectedFoodCategoryOption && selectedGroupOption && selectedElementOption) {\r\n        return {\r\n            selectedFoodCategory: selectedFoodCategoryOption,\r\n            selectedGroup: selectedGroupOption,\r\n            selectedElement: selectedElementOption,\r\n            use100gram: use100g,\r\n            showDietaryRequirements: showDietaryRequirements\r\n        }\r\n    } else {\r\n        return null\r\n    }\r\n}","import * as Constants from \"../config/Constants\";\r\nimport {applicationStrings} from \"../static/labels\";\r\nimport {autoRound} from \"./calculation/MathService\";\r\nimport FoodItem from \"../types/nutrientdata/FoodItem\";\r\nimport FoodClass from \"../types/nutrientdata/FoodClass\";\r\nimport {getNameFromFoodNameList} from \"./nutrientdata/NameTypeService\";\r\nimport NameType from \"../types/nutrientdata/NameType\";\r\nimport {\r\n    BASE_DATA_INDEX,\r\n    CARBS_INDEX,\r\n    LIPIDS_INDEX,\r\n    MINERAL_INDEX,\r\n    PROTEIN_INDEX,\r\n    VITAMIN_INDEX\r\n} from \"../components/ranking/RankingSelector\";\r\nimport {getNutrientDataForFoodItem} from \"./nutrientdata/NutrientDataRetriever\";\r\nimport getName from \"./LanguageService\";\r\n\r\n\r\nexport interface ChartItem {\r\n    name: string\r\n    value: number\r\n}\r\n\r\n/**\r\n * Returns a list of all ranking categories.\r\n */\r\nexport function getRankingGroups(language: string) {\r\n    return [\r\n        {value: BASE_DATA_INDEX, label: applicationStrings.label_chart_nutrientComposition[language]},\r\n        {value: VITAMIN_INDEX, label: applicationStrings.label_nutrient_vit[language]},\r\n        {value: MINERAL_INDEX, label: applicationStrings.label_nutrient_min[language]},\r\n        {value: LIPIDS_INDEX, label: applicationStrings.label_nutrient_lipids_long[language]},\r\n        {value: CARBS_INDEX, label: applicationStrings.label_nutrient_carbohydrates[language]},\r\n        {value: PROTEIN_INDEX, label: applicationStrings.label_chart_proteins[language]},\r\n    ];\r\n}\r\n\r\n\r\n/**\r\n * Returns the list of all selectable vitamins.\r\n */\r\nexport function getBaseCategoryValues(language: string) {\r\n    return [\r\n        {value: Constants.DATA_ENERGY, label: applicationStrings.label_nutrient_energy[language]},\r\n        {value: Constants.DATA_WATER, label: applicationStrings.label_nutrient_water[language]},\r\n        {value: Constants.DATA_CARBS, label: applicationStrings.label_nutrient_carbohydrates[language]},\r\n        {value: Constants.DATA_LIPIDS, label: applicationStrings.label_nutrient_lipids_long[language]},\r\n        {value: Constants.DATA_PROTEINS, label: applicationStrings.label_nutrient_proteins[language]},\r\n        {value: Constants.DATA_ASH, label: applicationStrings.label_nutrient_ash[language]},\r\n    ];\r\n}\r\n\r\n\r\n/**\r\n * Returns the list of all selectable vitamin values.\r\n */\r\nexport function getVitaminCategoryValues(language: string) {\r\n    return [\r\n        {value: Constants.DATA_VITAMINS_A, label: applicationStrings.label_nutrient_vit_a[language]},\r\n        {value: Constants.DATA_VITAMINS_B1, label: applicationStrings.label_nutrient_vit_b1[language]},\r\n        {value: Constants.DATA_VITAMINS_B2, label: applicationStrings.label_nutrient_vit_b2[language]},\r\n        {value: Constants.DATA_VITAMINS_B3, label: applicationStrings.label_nutrient_vit_b3[language]},\r\n        {value: Constants.DATA_VITAMINS_B5, label: applicationStrings.label_nutrient_vit_b5[language]},\r\n        {value: Constants.DATA_VITAMINS_B6, label: applicationStrings.label_nutrient_vit_b6[language]},\r\n        {value: Constants.DATA_VITAMINS_B9, label: applicationStrings.label_nutrient_vit_b9[language]},\r\n        {value: Constants.DATA_VITAMINS_B12, label: applicationStrings.label_nutrient_vit_b12[language]},\r\n        {value: Constants.DATA_VITAMINS_C, label: applicationStrings.label_nutrient_vit_c[language]},\r\n        {value: Constants.DATA_VITAMINS_D, label: applicationStrings.label_nutrient_vit_d[language]},\r\n        {value: Constants.DATA_VITAMINS_E, label: applicationStrings.label_nutrient_vit_e[language]},\r\n        {value: Constants.DATA_VITAMINS_K, label: applicationStrings.label_nutrient_vit_k[language]},\r\n    ];\r\n}\r\n\r\n\r\n/**\r\n * Returns the list of all selectable mineral values.\r\n */\r\nexport function getMineralCategoryValues(language: string) {\r\n    return [\r\n        {value: Constants.DATA_MINERAL_CALCIUM, label: applicationStrings.label_nutrient_min_calcium[language]},\r\n        {value: Constants.DATA_MINERAL_IRON, label: applicationStrings.label_nutrient_min_iron[language]},\r\n        {value: Constants.DATA_MINERAL_MAGNESIUM, label: applicationStrings.label_nutrient_min_magnesium[language]},\r\n        {value: Constants.DATA_MINERAL_PHOSPHORUS, label: applicationStrings.label_nutrient_min_phosphorus[language]},\r\n        {value: Constants.DATA_MINERAL_POTASSIUM, label: applicationStrings.label_nutrient_min_potassimum[language]},\r\n        {value: Constants.DATA_MINERAL_SODIUM, label: applicationStrings.label_nutrient_min_sodium[language]},\r\n        {value: Constants.DATA_MINERAL_ZINC, label: applicationStrings.label_nutrient_min_zinc[language]},\r\n        {value: Constants.DATA_MINERAL_SELENIUM, label: applicationStrings.label_nutrient_min_selenium[language]},\r\n        {value: Constants.DATA_MINERAL_MANGANESE, label: applicationStrings.label_nutrient_min_manganese[language]},\r\n        {value: Constants.DATA_MINERAL_COPPER, label: applicationStrings.label_nutrient_min_copper[language]},\r\n    ];\r\n}\r\n\r\n\r\n/**\r\n * Returns the list of all selectable mineral values.\r\n */\r\nexport function getLipidCategoryValues(language: string) {\r\n    return [\r\n        {value: Constants.DATA_LIPIDS_SATURATED, label: applicationStrings.label_nutrient_lipids_saturated[language]},\r\n        {\r\n            value: Constants.DATA_LIPIDS_MONO_UNSATURATED,\r\n            label: applicationStrings.label_nutrient_lipids_unsaturated_mono[language]\r\n        },\r\n        {\r\n            value: Constants.DATA_LIPIDS_POLY_UNSATURATED,\r\n            label: applicationStrings.label_nutrient_lipids_unsaturated_poly[language]\r\n        },\r\n        {\r\n            value: Constants.DATA_LIPIDS_TRANSFATTY_ACIDS,\r\n            label: applicationStrings.label_nutrient_lipids_unsaturated[language]\r\n        },\r\n    ];\r\n}\r\n\r\n\r\n/**\r\n * Returns the list of all selectable carbohydrate values.\r\n */\r\nexport function getCarbohydrateCategoryValues(language: string) {\r\n    return [\r\n        {value: Constants.DATA_CARBS_DIETARY_FIBERS, label: applicationStrings.label_nutrient_dietaryFibers[language]},\r\n        {value: Constants.DATA_CARBS_SUGAR, label: applicationStrings.label_nutrient_sugar[language]},\r\n        {value: Constants.DATA_CARBS_GLUCOSE, label: applicationStrings.label_nutrient_carbohydrates_glucose[language]},\r\n        {\r\n            value: Constants.DATA_CARBS_FRUCTOSE,\r\n            label: applicationStrings.label_nutrient_carbohydrates_fructose[language]\r\n        },\r\n        {\r\n            value: Constants.DATA_CARBS_GALACTOSE,\r\n            label: applicationStrings.label_nutrient_carbohydrates_galactose[language]\r\n        },\r\n        {value: Constants.DATA_CARBS_SUCROSE, label: applicationStrings.label_nutrient_carbohydrates_sucrose[language]},\r\n        {value: Constants.DATA_CARBS_LACTOSE, label: applicationStrings.label_nutrient_carbohydrates_lactose[language]},\r\n        {value: Constants.DATA_CARBS_MALTOSE, label: applicationStrings.label_nutrient_carbohydrates_maltose[language]},\r\n        {value: Constants.DATA_CARBS_STARCH, label: applicationStrings.label_nutrient_carbohydrates_starch[language]},\r\n    ];\r\n}\r\n\r\n\r\n/**\r\n * Returns the list of all protein values.\r\n */\r\nexport function getProteinCategoryValues(language: string) {\r\n    return [\r\n        {value: Constants.DATA_PROTEIN_ALANINE, label: applicationStrings.label_nutrient_proteins_alanine[language]},\r\n        {value: Constants.DATA_PROTEIN_ARGININE, label: applicationStrings.label_nutrient_proteins_arginine[language]},\r\n        {\r\n            value: Constants.DATA_PROTEIN_ASPARTIC_ACID,\r\n            label: applicationStrings.label_nutrient_proteins_asparticAcid[language]\r\n        },\r\n        {value: Constants.DATA_PROTEIN_CYSTINE, label: applicationStrings.label_nutrient_proteins_cystine[language]},\r\n        {\r\n            value: Constants.DATA_PROTEIN_GLUTAMIC_ACID,\r\n            label: applicationStrings.label_nutrient_proteins_glutamicAcid[language]\r\n        },\r\n        {value: Constants.DATA_PROTEIN_GLYCINE, label: applicationStrings.label_nutrient_proteins_glysine[language]},\r\n        {\r\n            value: Constants.DATA_PROTEIN_HISTIDINE,\r\n            label: applicationStrings.label_nutrient_proteins_histidine[language]\r\n        },\r\n        {\r\n            value: Constants.DATA_PROTEIN_ISOLEUCINE,\r\n            label: applicationStrings.label_nutrient_proteins_isoleucine[language]\r\n        },\r\n        {value: Constants.DATA_PROTEIN_LEUCINE, label: applicationStrings.label_nutrient_proteins_leucine[language]},\r\n        {value: Constants.DATA_PROTEIN_LYSINE, label: applicationStrings.label_nutrient_proteins_lysine[language]},\r\n        {\r\n            value: Constants.DATA_PROTEIN_METHIONINE,\r\n            label: applicationStrings.label_nutrient_proteins_methionine[language]\r\n        },\r\n        {\r\n            value: Constants.DATA_PROTEIN_PHENYLALANINE,\r\n            label: applicationStrings.label_nutrient_proteins_phenylalanine[language]\r\n        },\r\n        {value: Constants.DATA_PROTEIN_PROLINE, label: applicationStrings.label_nutrient_proteins_proline[language]},\r\n        {value: Constants.DATA_PROTEIN_SERINE, label: applicationStrings.label_nutrient_proteins_serine[language]},\r\n        {\r\n            value: Constants.DATA_PROTEIN_THREONINE,\r\n            label: applicationStrings.label_nutrient_proteins_threonine[language]\r\n        },\r\n        {\r\n            value: Constants.DATA_PROTEIN_TRYPTOPHAN,\r\n            label: applicationStrings.label_nutrient_proteins_tryptophan[language]\r\n        },\r\n        {value: Constants.DATA_PROTEIN_TYROSINE, label: applicationStrings.label_nutrient_proteins_tyrosine[language]},\r\n        {value: Constants.DATA_PROTEIN_VALINE, label: applicationStrings.label_nutrient_proteins_valine[language]},\r\n    ];\r\n}\r\n\r\n\r\nexport function getElementsOfRankingGroup(rankingGroup: number, language: string) {\r\n    switch (rankingGroup) {\r\n        case BASE_DATA_INDEX:\r\n            return getBaseCategoryValues(language)\r\n        case VITAMIN_INDEX:\r\n            return getVitaminCategoryValues(language)\r\n        case MINERAL_INDEX:\r\n            return getMineralCategoryValues(language)\r\n        case LIPIDS_INDEX:\r\n            return getLipidCategoryValues(language)\r\n        case CARBS_INDEX:\r\n            return getCarbohydrateCategoryValues(language)\r\n        case PROTEIN_INDEX:\r\n            return getProteinCategoryValues(language)\r\n    }\r\n}\r\n\r\n\r\nexport function getOrderedFoodList(foodList: Array<FoodItem>, foodClassesList: Array<FoodClass>, selectedCategory: number,\r\n                                   selectedValue: any, use100gram: number, language: string, foodNamesList: Array<NameType>,\r\n                                   conditions: Array<NameType>) {\r\n    let chartItems: Array<ChartItem> = [];\r\n\r\n    for (let i = 0; i < foodList.length; i++) {\r\n        let foodItem: FoodItem = foodList[i];\r\n        const foodClassId = foodClassesList.find(foodClass => foodClass.id === foodItem.foodClass)\r\n        const category = foodClassId ? foodClassId.category : foodClassId\r\n\r\n        if (selectedCategory !== 0 && (category !== selectedCategory)) {\r\n            continue;  // Skip this food item, as it does not belong to the selected category\r\n        }\r\n\r\n        let value = getValueOfFoodItem(foodItem, selectedValue);\r\n        if (value === null || value === 0) {\r\n            continue;  // Skip all food items, which do not have the specified value\r\n        }\r\n\r\n        let portionAmount\r\n\r\n        if (!use100gram) {\r\n            const defaultPortion = foodItem.defaultPortionId\r\n            const portionObject = foodItem.portionData?.find(portionObject => portionObject.portionType === defaultPortion)\r\n            portionAmount = portionObject ? portionObject.amount : 100\r\n            value = getPortionValue(value, portionAmount);\r\n        } else {\r\n            value = autoRound(value)\r\n        }\r\n\r\n        let name = getNameFromFoodNameList(foodNamesList, foodItem.nameId!!, language)\r\n\r\n        if(foodItem.conditionId !== 100) {\r\n            const condition = conditions.find(condition => condition.id === foodItem.conditionId)\r\n            if(condition) {\r\n                const conditionName = getName(condition, language)\r\n                name = name + \", \" + conditionName\r\n            }\r\n        }\r\n\r\n        if(!use100gram) {\r\n            name = name + \" (\" + portionAmount + \"g )\"\r\n        }\r\n\r\n        const chartItem: ChartItem = {\r\n            name: name ? name : \"\",\r\n            value: value\r\n        };\r\n\r\n        chartItems.push(chartItem);\r\n    }\r\n\r\n\r\n    chartItems = chartItems.sort((obj1, obj2) => {\r\n        if (obj1.value > obj2.value) {\r\n            return -1;\r\n        } else if (obj1.value < obj2.value) {\r\n            return 1;\r\n        } else {\r\n            return 0;\r\n        }\r\n    });\r\n\r\n    return chartItems;\r\n}\r\n\r\n\r\nfunction getValueOfFoodItem(foodItem, selectedValue) {\r\n    let value\r\n\r\n    const nutrientData = getNutrientDataForFoodItem(foodItem, 0, true)\r\n\r\n    const baseData = nutrientData.baseData;\r\n    const vitaminData = nutrientData.vitaminData;\r\n    const mineralData = nutrientData.mineralData;\r\n    const lipidData = nutrientData.lipidData;\r\n    const carbsData = nutrientData.carbohydrateData;\r\n    const proteinData = nutrientData.proteinData;\r\n\r\n    if (proteinData === null) {\r\n        return 0;\r\n    }\r\n\r\n    // Base Data\r\n\r\n    if (selectedValue === Constants.DATA_ENERGY) {\r\n        value = baseData.water;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_WATER) {\r\n        value = baseData.water;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_CARBS) {\r\n        value = baseData.carbohydrates;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_LIPIDS) {\r\n        value = baseData.lipids;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEINS) {\r\n        value = baseData.proteins;\r\n    }\r\n\r\n\r\n    // Vitamins\r\n\r\n    if (selectedValue === Constants.DATA_VITAMINS_A) {\r\n        value = vitaminData.a;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_VITAMINS_B1) {\r\n        value = vitaminData.b1;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_VITAMINS_B2) {\r\n        value = vitaminData.b2;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_VITAMINS_B3) {\r\n        value = vitaminData.b3;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_VITAMINS_B5) {\r\n        value = vitaminData.b5;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_VITAMINS_B6) {\r\n        value = vitaminData.b6;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_VITAMINS_B9) {\r\n        value = vitaminData.b9;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_VITAMINS_B12) {\r\n        value = vitaminData.b12;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_VITAMINS_C) {\r\n        value = vitaminData.c;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_VITAMINS_D) {\r\n        value = vitaminData.d;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_VITAMINS_E) {\r\n        value = vitaminData.e;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_VITAMINS_K) {\r\n        value = vitaminData.k;\r\n    }\r\n\r\n\r\n    // Minerals\r\n\r\n    if (selectedValue === Constants.DATA_MINERAL_CALCIUM) {\r\n        value = mineralData.calcium;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_MINERAL_IRON) {\r\n        value = mineralData.iron;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_MINERAL_MAGNESIUM) {\r\n        value = mineralData.magnesium;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_MINERAL_PHOSPHORUS) {\r\n        value = mineralData.phosphorus;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_MINERAL_POTASSIUM) {\r\n        value = mineralData.potassium;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_MINERAL_SODIUM) {\r\n        value = mineralData.sodium;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_MINERAL_ZINC) {\r\n        value = mineralData.zinc;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_MINERAL_SELENIUM) {\r\n        value = mineralData.selenium;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_MINERAL_COPPER) {\r\n        value = mineralData.copper;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_MINERAL_MANGANESE) {\r\n        value = mineralData.manganese;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_LIPIDS_SATURATED) {\r\n        value = lipidData.saturated;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_LIPIDS_MONO_UNSATURATED) {\r\n        value = lipidData.unsaturatedMono;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_LIPIDS_POLY_UNSATURATED) {\r\n        value = lipidData.unsaturatedPoly;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_LIPIDS_TRANSFATTY_ACIDS) {\r\n        value = lipidData.transFattyAcids;\r\n    }\r\n\r\n\r\n    // Carbohydrates\r\n\r\n    if (selectedValue === Constants.DATA_CARBS_DIETARY_FIBERS) {\r\n        value = baseData.dietaryFibers;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_CARBS_SUGAR) {\r\n        value = carbsData.sugar;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_CARBS_GLUCOSE) {\r\n        value = carbsData.glucose;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_CARBS_FRUCTOSE) {\r\n        value = carbsData.fructose;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_CARBS_GALACTOSE) {\r\n        value = carbsData.galactose;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_CARBS_SUCROSE) {\r\n        value = carbsData.sucrose;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_CARBS_LACTOSE) {\r\n        value = carbsData.lactose;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_CARBS_MALTOSE) {\r\n        value = carbsData.maltose;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_CARBS_STARCH) {\r\n        value = carbsData.starch;\r\n    }\r\n\r\n\r\n    // Proteins\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_ALANINE) {\r\n        value = proteinData.alanine;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_ARGININE) {\r\n        value = proteinData.arginine;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_ASPARTIC_ACID) {\r\n        value = proteinData.asparticAcid;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_CYSTINE) {\r\n        value = proteinData.cystine;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_GLUTAMIC_ACID) {\r\n        value = proteinData.glutamicAcid;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_GLYCINE) {\r\n        value = proteinData.glycine;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_HISTIDINE) {\r\n        value = proteinData.histidine;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_ISOLEUCINE) {\r\n        value = proteinData.isoleucine;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_LEUCINE) {\r\n        value = proteinData.leucine;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_LYSINE) {\r\n        value = proteinData.lysine;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_METHIONINE) {\r\n        value = proteinData.methionine;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_PHENYLALANINE) {\r\n        value = proteinData.phenylalanine;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_PROLINE) {\r\n        value = proteinData.proline;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_SERINE) {\r\n        value = proteinData.serine;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_THREONINE) {\r\n        value = proteinData.threonine;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_TRYPTOPHAN) {\r\n        value = proteinData.tryptophan;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_TYROSINE) {\r\n        value = proteinData.tyrosine;\r\n    }\r\n\r\n    if (selectedValue === Constants.DATA_PROTEIN_VALINE) {\r\n        value = proteinData.valine;\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\n\r\nfunction getPortionValue(value, portionSize) {\r\n    const portionValue = value / 100 * portionSize;\r\n    return autoRound(portionValue);\r\n}","import {ChartItem} from \"../../service/RankingService\";\r\nimport {useContext} from \"react\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {color_green} from \"../../config/ChartConfig\";\r\nimport {getBarChartOptionsForRanking} from \"../../service/ChartConfigurationService\";\r\nimport {Bar} from \"react-chartjs-2\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\n\r\ninterface RankingChartProps {\r\n    chartItems: Array<ChartItem>\r\n    unit: string\r\n    selectedElement: string\r\n}\r\n\r\nexport function RankingChart(props: RankingChartProps) {\r\n    const {language} = useContext(LanguageContext)\r\n\r\n    const createChartData = () => {\r\n        const labels: Array<String> = [];\r\n        const data: Array<number> = [];\r\n\r\n        for (let i = 0; i < props.chartItems.length; i++) {\r\n            const chartItem = props.chartItems[i];\r\n\r\n            const name = chartItem.name\r\n            labels.push(name);\r\n            data.push(chartItem.value);\r\n        }\r\n\r\n        return {\r\n            labels: labels,\r\n            datasets: [{\r\n                data: data,\r\n                backgroundColor: color_green,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        };\r\n    }\r\n\r\n    const getOptions = () => {\r\n        let options = getBarChartOptionsForRanking(props.selectedElement, props.unit)\r\n        options = {\r\n            ...options, plugins: {\r\n                ...options.plugins, title: {\r\n                    ...options.plugins.title,\r\n                    position: \"left\"\r\n                }\r\n            }\r\n        }\r\n        return options\r\n    }\r\n\r\n\r\n    const chartData: any = createChartData();\r\n    const options = getOptions();\r\n    const dataAvailable = chartData.datasets.length > 0 && chartData.datasets[0].data.length > 0;\r\n\r\n    const width = 50 * props.chartItems.length + 150;\r\n\r\n    return (\r\n        <div>\r\n            <div className=\"smooth-scroll\" style={{overflowX: \"auto\", position: \"absolute\", maxWidth: \"1000px\"}}>\r\n                {dataAvailable &&\r\n                <div style={{position: \"relative\", width: `${width}px`}}>\r\n                    <Bar id=\"chart\"\r\n                         data={chartData}\r\n                         height={500}\r\n                         options={options}\r\n                    />\r\n                </div>\r\n                }\r\n                {!dataAvailable &&\r\n                <span>{applicationStrings.label_noData[language]}</span>\r\n                }\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n\r\n}","import {useContext, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {ChartItem, getOrderedFoodList} from \"../../service/RankingService\";\r\nimport {convertAbsoluteValueToDailyRequirement} from \"../../service/calculation/DietaryRequirementService\";\r\nimport * as Constants from \"./../../config/Constants\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {RankingSelector} from \"./RankingSelector\";\r\nimport {RankingChart} from \"./RankingChart\";\r\nimport {maxElementsInRankingChart} from \"../../config/ApplicationSetting\";\r\nimport ReactSelectOption from \"../../types/ReactSelectOption\";\r\n\r\nexport function RankingContainer() {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const {language} = useContext(LanguageContext)\r\n\r\n    const [chartItems, setChartItems] = useState<Array<ChartItem>>([])\r\n    const [unit, setUnit] = useState<string>(\"g\")\r\n    const [selectedValue, setSelectedValue] = useState<ReactSelectOption | null>(null)\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const openChart = (selectedCategory, selectedValue, use100gram, transformToDietaryRequirements) => {\r\n        if (!selectedValue) {\r\n            setChartItems([])\r\n            return\r\n        }\r\n\r\n        let category = 0;\r\n        if (selectedCategory) {\r\n            category = selectedCategory.value;\r\n        }\r\n\r\n        setSelectedValue(selectedValue)\r\n\r\n        const {foodItems, foodClasses, dietaryRequirements} = applicationContext.foodDataCorpus\r\n        const userData = applicationContext.userData\r\n\r\n        let orderedChartItems = getOrderedFoodList(foodItems, foodClasses, category,\r\n            selectedValue.value, use100gram, language, applicationContext?.foodDataCorpus.foodNames,\r\n            applicationContext?.foodDataCorpus.conditions);\r\n\r\n        if (transformToDietaryRequirements && dietaryRequirements) {\r\n            for (let i = 0; i < orderedChartItems.length; i++) {\r\n                orderedChartItems[i].value = convertAbsoluteValueToDailyRequirement(\r\n                    dietaryRequirements,\r\n                    selectedValue.value,\r\n                    orderedChartItems[i].value,\r\n                    userData\r\n                );\r\n            }\r\n        }\r\n\r\n        const unit = getUnit(selectedValue.value, transformToDietaryRequirements)\r\n\r\n        if (orderedChartItems.length > maxElementsInRankingChart) {\r\n            orderedChartItems = orderedChartItems.slice(0, maxElementsInRankingChart + 1)\r\n        }\r\n\r\n        setChartItems(orderedChartItems)\r\n        setUnit(unit)\r\n    }\r\n\r\n\r\n    const getUnit = (selectedValue, transformToDietaryRequirements) => {\r\n        if (selectedValue === Constants.DATA_ENERGY) {\r\n            return \"kCal\";\r\n        } else if (selectedValue === Constants.DATA_WATER\r\n            || selectedValue === Constants.DATA_LIPIDS\r\n            || selectedValue === Constants.DATA_CARBS\r\n            || selectedValue === Constants.DATA_CARBS_SUGAR\r\n            || selectedValue === Constants.DATA_PROTEINS\r\n            || selectedValue === Constants.DATA_CARBS_DIETARY_FIBERS\r\n            || selectedValue === Constants.DATA_LIPIDS_SATURATED\r\n            || selectedValue === Constants.DATA_LIPIDS_MONO_UNSATURATED\r\n            || selectedValue === Constants.DATA_LIPIDS_POLY_UNSATURATED\r\n            || selectedValue === Constants.DATA_LIPIDS_TRANSFATTY_ACIDS) {\r\n            return \"g\";\r\n        } else if (transformToDietaryRequirements) {\r\n            return \"%\";\r\n        } else {\r\n            return \"mg\";\r\n        }\r\n    }\r\n\r\n    const renderHelpText = () => {\r\n        const helpText = applicationStrings.text_ranking[language];\r\n\r\n        return (\r\n            <div className={\"container\"}>\r\n                <div className={\"row\"}>\r\n                    <div className=\"col-md-6 col-lg-5 infotextMenus\" style={{padding: \"24px\"}}>\r\n                        <i>{helpText}</i>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"container-fluid\" style={{paddingTop: \"24px\"}}>\r\n            <div className=\"row\">\r\n                <div className=\"col-3\">\r\n                    <RankingSelector openChart={openChart}/>\r\n                </div>\r\n                {chartItems && chartItems.length > 0 &&\r\n                <div className=\"col-9\">\r\n                    <RankingChart chartItems={chartItems}\r\n                                  unit={unit}\r\n                    selectedElement={selectedValue ? selectedValue.label : \"\"}/>\r\n                </div>\r\n                }\r\n                {!chartItems &&\r\n                renderHelpText()\r\n                }\r\n                {chartItems && chartItems.length === 0 &&\r\n                applicationStrings.label_noData[language]\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n\r\n}","import Header from \"./Header\";\r\nimport Switch from \"react-bootstrap/Switch\";\r\nimport {\r\n    PATH_CONTACT,\r\n    PATH_DIRECT_COMPARE,\r\n    PATH_FOODCOMPARE,\r\n    PATH_FOODDATA_PANEL,\r\n    PATH_HOME,\r\n    PATH_MOBILE_APP, PATH_RANKING,\r\n    PATH_USERSETTINGS\r\n} from \"../config/Constants\";\r\nimport {Home} from \"./Home\";\r\nimport FoodDataPanelContainer from \"./fooddatapanel/FoodDataPanelContainer\";\r\nimport DirectCompareContainer from \"./directcompare/DirectCompareContainer\";\r\nimport {FoodCompareApp} from \"./FoodCompareApp\";\r\nimport {UserSettings} from \"./UserSettings\";\r\nimport {ContactContainer} from \"./contact/ContactContainer\";\r\nimport React, {useContext} from \"react\";\r\nimport {BrowserRouter as Router, Route} from 'react-router-dom'\r\nimport {ApplicationDataContextStore} from \"../contexts/ApplicationDataContext\";\r\nimport {isMobile, BrowserView} from \"react-device-detect\";\r\nimport {RankingContainer} from \"./ranking/RankingContainer\";\r\nimport {Chart} from \"chart.js\";\r\nimport annotationPlugin from \"chartjs-plugin-annotation\";\r\n\r\nexport function WebPageContainer() {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    // Registering requires some time and should only be performed when the real site is loaded.\r\n    if (!isMobile || applicationContext.useAsMobile !== null) {\r\n        Chart.register(annotationPlugin)\r\n    }\r\n\r\n    // NOTE: If the user is on a mobile device, we only render the page after he decided whether he wants to stay or not\r\n\r\n    return (\r\n        <div>\r\n            {(!isMobile || applicationContext.useAsMobile !== null) &&\r\n            <div>\r\n                <Router>\r\n                    <Header/>\r\n                    <Switch>\r\n                        <Route path={PATH_FOODCOMPARE} component={Home}/>\r\n                        <Route path={PATH_HOME} component={Home}/>\r\n                        <Route path={PATH_FOODDATA_PANEL} component={FoodDataPanelContainer}/>\r\n                        <Route path={PATH_DIRECT_COMPARE} component={DirectCompareContainer}/>\r\n                        <Route path={PATH_RANKING} component={RankingContainer}/>\r\n                        <Route path={PATH_MOBILE_APP} component={FoodCompareApp}/>\r\n                        <Route path={PATH_USERSETTINGS} component={UserSettings}/>\r\n                        <Route path={PATH_CONTACT} component={ContactContainer}/>\r\n                        <Route exact path={\"/\"} component={Home}/>\r\n                    </Switch>\r\n                </Router>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n\r\n}","import './App.css';\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"bootstrap/dist/js/bootstrap.min.js\";\r\nimport {NotificationContainer} from 'react-notifications'\r\nimport ApplicationDataContextProvider, {ApplicationDataContextStore} from \"./contexts/ApplicationDataContext\";\r\nimport React, {useContext, useEffect} from \"react\";\r\n\r\nimport {LanguageProvider} from \"./contexts/LangContext\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport GA4React from \"ga-4-react\";\r\nimport {ANALYTICS_MESS_ID} from \"./config/ApplicationKeys\";\r\n\r\n\r\nimport MobileDeviceCheck from \"./components/MobileDeviceCheck\";\r\nimport {WebPageContainer} from \"./components/WebPageContainer\";\r\nimport {isMobile} from \"react-device-detect\";\r\n\r\n\r\nconst ga4react = new GA4React(ANALYTICS_MESS_ID);\r\n\r\nfunction initializeGA4() {\r\n    (async () => {\r\n        try {   // NOTE: uBlock Origin may cause a crash here\r\n            await ga4react.initialize();\r\n        } catch (e) {\r\n            console.log(\"GA4 React initialization error \", e)\r\n        }\r\n    })();\r\n}\r\n\r\nfunction App(): JSX.Element {\r\n    useEffect(() => {\r\n        ReactTooltip.rebuild()\r\n    })\r\n\r\n    initializeGA4()\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <NotificationContainer/>\r\n            <ReactTooltip/>\r\n            <LanguageProvider>\r\n                <ApplicationDataContextProvider>\r\n                    <MobileDeviceCheck/>\r\n                    <WebPageContainer/>\r\n                </ApplicationDataContextProvider>\r\n            </LanguageProvider>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\n\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport {hydrate, render} from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\n\r\nif (rootElement && rootElement.hasChildNodes()) {\r\n    hydrate(<App />, rootElement);\r\n} else {\r\n    render(\r\n        <App />, rootElement);\r\n}\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n\r\n\r\n"],"sourceRoot":""}