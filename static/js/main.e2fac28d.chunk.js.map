{"version":3,"sources":["static/image/carousel sync /^/.*$","static/image/carousel/Img-de-1.png","static/image/carousel/Img-de-2.png","static/image/carousel/Img-de-3.png","static/image/carousel/Img-de-4.png","static/image/carousel/Img-de-5.png","static/image/carousel/Img-de-6.png","static/image/carousel/Img-en-1.png","static/image/carousel/Img-en-2.png","static/image/carousel/Img-en-3.png","static/image/carousel/Img-en-4.png","static/image/carousel/Img-en-5.png","static/image/carousel/Img-en-6.png","service/NutrientDataImportService.ts","config/Constants.ts","config/ApplicationSetting.ts","service/LanguageService.ts","service/nutrientdata/NameTypeService.ts","contexts/ApplicationDataContext.tsx","static/labels.ts","service/nutrientdata/CategoryService.ts","service/nutrientdata/FoodClassService.ts","service/nutrientdata/FoodItemsService.ts","service/nutrientdata/PortionDataService.ts","contexts/LangContext.tsx","components/foodselector/FoodSelector.tsx","components/foodselector/CompositeFoodList.tsx","service/FoodDataAggregationService.ts","components/foodselector/FoodSelectorModal.tsx","service/calculation/MathService.ts","config/ChartConfig.ts","service/ChartService.ts","components/fooddatapanel/charts/helper/ChartOptionSelector..tsx","components/fooddatapanel/charts/helper/CustomLegend.tsx","components/fooddatapanel/charts/BaseDataChart.tsx","config/EnergyConstants.ts","service/calculation/EnergyService.ts","components/fooddatapanel/charts/EnergyDataChart.tsx","service/calculation/DietaryRequirementService.ts","components/fooddatapanel/charts/MineralVitaminChart.tsx","components/fooddatapanel/charts/LipidsDataChart.tsx","components/fooddatapanel/charts/ProteinDataChart.tsx","components/fooddatapanel/charts/CarbsDataChart.tsx","components/fooddatapanel/ChartPanel.tsx","components/fooddatapanel/FoodDataTable.tsx","components/fooddatapanel/charts/InfoData.tsx","components/fooddatapanel/FoodDataPageBody.tsx","components/HelpModal.tsx","components/fooddatapanel/FoodDataPageHeader.tsx","service/HelpService.ts","service/TableService.ts","components/fooddatapanel/FoodDataPage.tsx","components/ConfirmationDialog.tsx","components/fooddatapanel/FoodAnalyzerContainer.tsx","components/fooddatapanel/TabContainer.tsx","components/fooddatapanel/FoodDataPanelContainer.tsx","static/image/logo.png","components/Header.tsx","static/image/text.png","components/UserSettings.tsx","static/image/impressum-german.png","static/image/impressum-english.png","components/Contact.tsx","components/Home.tsx","static/image/app.png","components/FoodCompareApp.tsx","App.tsx","config/GoogleTools.ts","reportWebVitals.ts","index.tsx"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","loadFoodDataCorpus","categories","nutrientdata","conditions","portionTypes","sources","foodNames","foodClasses","foodItems","dietaryRequirements","AMOUNT_PORTION","CHART_TYPE_PIE","CHART_TYPE_BAR","CHART_VITAMINS","CHART_MINERALS","DISPLAYMODE_TABLE","DISPLAYMODE_CHART","GRAM","CARBS_DATA_BASE","CARBS_DATA_DETAIL","LIPIDS_DATA_BASE","LIPIDS_DATA_OMEGA","PATH_FOODDATA_PANEL","PATH_HOME","PATH_CONTACT","PATH_MOBILE_APP","PATH_USERSETTINGS","LANGUAGE_DE","LANGUAGE_EN","SEX_MALE","SEX_FEMALE","TAB_BASE_DATA","TAB_ENERGY_DATA","TAB_VITAMIN_DATA","TAB_MINERAL_DATA","TAB_LIPIDS_DATA","TAB_CARBS_DATA","TAB_PROTEINS_DATA","TAB_INFO","mobileAppPath","initialUserDataSize","initialUserDataSex","initialUserDataPregnant","initialUserDataBreastfeeding","initialUserDataLeisureSports","initialChartConfigData","baseChartConfig","chartType","showLegend","showDetails","vitaminChartConfig","portionType","expandTo100","mineralChartConfig","lipidsChartConfig","subChart","carbsChartConfig","proteinChartConfig","getName","nameType","language","germanName","englishName","getNameFromFoodNameList","foodNameList","find","ApplicationDataContextStore","createContext","ApplicationDataContextProvider","setSelectedFoodDataPanelTab","selectedTab","setState","state","applicationData","foodDataPanel","selectedFoodItemIndex","addItemToFoodDataPanel","foodItem","newItems","selectedFoodItems","push","removeItemFromFoodDataPanel","foodItemId","filter","selectedFoodItem","newIndex","currentIndex","length","removeAllItemsFromFoodDataPanel","setUserData","userData","updateAllFoodItemNames","newLanguage","newFoodItems","foodName","nameId","tab","updateChartConfig","chartConfig","chartConfigData","foodDataCorpus","selectedDataPage","displayMode","age","size","weight","sex","pregnant","breastFeeding","palValue","leisureSports","initialValues","debug","setSelectedTab","NutrientDataImportService","this","Provider","value","props","children","Component","applicationStrings","button_add","de","en","button_cancel","button_close","button_getstarted","button_no","button_select","button_show","button_submit","button_yes","checkbox_chartoption_showLegend","checkbox_chartoption_showDetails","checkbox_english","checkbox_expand100g","checkbox_german","confirm_close_all_tabs","home_carousel_0","home_carousel_1","home_carousel_2","home_carousel_3","home_carousel_4","home_carousel_5","home_text_1","home_text_2","label_amount","label_amount_short","label_category","label_charttype","label_charttype_pie","label_charttype_bar","label_charttype_carbs_base","label_charttype_carbs_detail","label_charttype_energy","label_charttype_lipids_base","label_charttype_lipids_base_title","label_charttype_lipids_omega","label_charttype_lipids_omega_title","label_charttype_minerals","label_charttype_proteins","label_charttype_vitamins","label_chart_bmr","label_chart_energyExpenditure","label_chart_nutrientComposition","label_chart_totalComposition","label_datatype","label_foodclass","label_fooditem","label_foodselector","label_foodselector_composite","label_info","label_info_category","label_info_foodClass","label_info_foodId","label_info_foodName","label_info_portion","label_info_portionType","label_info_preparation","label_info_source","label_language","label_noData","label_nutrient_ash","label_nutrient_carbohydrates","label_nutrient_carbohydrates_short","label_nutrient_carbohydrates_fructose","label_nutrient_carbohydrates_galactose","label_nutrient_carbohydrates_glucose","label_nutrient_carbohydrates_lactose","label_nutrient_carbohydrates_maltose","label_nutrient_carbohydrates_starch","label_nutrient_carbohydrates_sucrose","label_nutrient_dietaryFibers","label_nutrient_dietaryFibers_short","label_nutrient_energy","label_nutrient_lipids","label_nutrient_lipids_saturated","label_nutrient_lipids_unsaturated","label_nutrient_lipids_unsaturated_mono","label_nutrient_lipids_unsaturated_poly","label_nutrient_lipids_transfattyAcids","label_nutrient_lipids_omega3","label_nutrient_lipids_omega6","label_nutrient_lipids_cholesterol","label_nutrient_min","label_nutrient_min_calcium","label_nutrient_min_copper","label_nutrient_min_iron","label_nutrient_min_magnesium","label_nutrient_min_manganese","label_nutrient_min_phosphorus","label_nutrient_min_potassimum","label_nutrient_min_selenium","label_nutrient_min_sodium","label_nutrient_min_zinc","label_nutrient_omega3","label_nutrient_omega6","label_nutrient_proteins","label_nutrient_proteins_alanine","label_nutrient_proteins_arginine","label_nutrient_proteins_asparticAcid","label_nutrient_proteins_cystine","label_nutrient_proteins_glysine","label_nutrient_proteins_glutamicAcid","label_nutrient_proteins_histidine","label_nutrient_proteins_isoleucine","label_nutrient_proteins_leucine","label_nutrient_proteins_lysine","label_nutrient_proteins_methionine","label_nutrient_proteins_phenylalanine","label_nutrient_proteins_proline","label_nutrient_proteins_serine","label_nutrient_proteins_threonine","label_nutrient_proteins_tryptophan","label_nutrient_proteins_tyrosine","label_nutrient_proteins_valine","label_nutrient_remainder","label_nutrient_sugar","label_nutrient_vit","label_nutrient_vit_a","label_nutrient_vit_b1","label_nutrient_vit_b2","label_nutrient_vit_b3","label_nutrient_vit_b5","label_nutrient_vit_b6","label_nutrient_vit_b9","label_nutrient_vit_b12","label_nutrient_vit_c","label_nutrient_vit_d","label_nutrient_vit_e","label_nutrient_vit_k","label_nutrient_water","label_overview","label_portion","label_prefix_hereof","label_reference","label_unknown","label_userSettings_age","label_userSettings_breastfeeding","label_userSettings_leisureSports","label_userSettings_leisureSports_tooltip","label_userSettings_palValue","label_userSettings_pregnant","label_userSettings_sex","label_userSettings_sex_male","label_userSettings_sex_female","label_userSettings_size","label_userSettings_weight","menu_food_data_panel","menu_home","menu_mobile_app","menu_ranking","menu_settings","menu_contact","message_error_existing_element","message_error_incomplete_form","message_error_invalid_portion","message_userdata_success","message_userdata_error_title","message_userdata_error_age","message_userdata_error_size","message_userdata_error_weight","palcat_name_1","palcat_desc_1","palcat_name_2","palcat_desc_2","palcat_name_3","palcat_desc_3","palcat_name_4","palcat_desc_4","palcat_name_5","palcat_desc_5","palcat_name_6","palcat_desc_6","palcat_name_7","palcat_desc_7","portion_100g","portion_individual","text_contact_disclaimer1","text_contact_disclaimer2","text_contact_source1","text_contact_source2","text_contact_source3","text_contact_source4","text_empty_fooddatapanel","text_foodcompareapp_1","text_foodcompareapp_2","text_setUserdata_p1","text_setUserdata_p2","text_setUserdata_p3","tooltip_icon_charts","tooltip_icon_close","tooltip_icon_newFoodItem","tooltip_icon_newFoodItemStack","tooltip_icon_removeAll","tooltip_icon_table","getCategorySelectList","nameTypeList","sort","names","forEach","reactSelectOptions","name","index","label","getReactSelectOptionsList","getFoodClassSelectList","category","filteredFoodClasses","foodClass","getFoodClassesOfCategory","nameKey","console","error","obj1","obj2","localeCompare","getFoodItemsSelectList","filteredFoodItems","foodClassId","getFoodItemsOfFoodclass","condition","conditionId","conditionName","getPortionReactSelectList","portionData","portionElement","portionTypeIndex","findIndex","portionName","amount","getDefaultPortionData","portionDataList","defaultPortionIndex","defaultPortionId","LanguageContext","userLanguageChange","selectedLanguage","LanguageProvider","preferredLanguage","navigator","useState","setLanguage","provider","selectedLanaguage","FoodSelector","selectedCategory","setSelectedCategory","selectdFoodClass","setSelectedFoodClass","setSelectedFoodItem","selectedPortion","setSelectedPortion","portionAmount","setPortionAmount","categoriesList","setCategoriesList","foodClassesList","setFoodClassesList","foodItemsList","setFoodItemsList","portionsList","setPortionsList","useContext","useEffect","categoryItems","foodItemsOfFoodClass","defaultPortion","makeSelectedFoodItemObject","updateFoodClasses","foodClassItems","updateFoodItem","updatePortionsList","portion","newFoodItem","updateSelectedFoodItem","amount_label","compositeSelector","className","options","onChange","disabled","target","parseInt","isNaN","CompositeFoodList","languageContext","applicationContext","renderLine","style","borderBottom","paddingTop","Button","onClick","deleteItem","onDeleteItem","log","maxHeight","overflowY","combineFoodItems","compositeList","portionSize","nutrientDataList","baseData","energy","carbohydrates","lipids","proteins","water","dietaryFibers","alcohol","ash","portionFactor","createFinalValue","buildBaseDataObject","vitaminData","a","b1","b2","b3","b5","b6","b7","b9","b12","c","d","k","buildVitaminDataObject","mineralData","calcium","iron","magnesium","phosphorus","potassium","sodium","zinc","copper","manganese","selenium","buildMineralDataObject","carbohydrateData","glucose","fructose","galactose","sucrose","maltose","lactose","starch","sugar","buildCarbohydrateData","lipidData","unsaturatedMono","unsaturatedPoly","saturated","omega3","omega6","omegaUncertain","cholesterol","transFattyAcids","omegaData","uncertain","omegaRatio","uncertainRatio","buildLipidData","proteinData","tryptophan","threonine","isoleucine","leucine","lysine","methionine","cystine","phenylalanine","tyrosine","valine","arginine","histidine","alanine","asparticAcid","glutamicAcid","glycine","proline","serine","buildProteinData","nutrientObject","sourceItemId","source","url","i","nutrientData","threshold","removeNutrientObjectsWithNullValues","buildAggregatedNutrientDataList","Date","getTime","aggregated","compositeSubElements","totalPortionAmount","FoodSelectorModal","setCompositeList","onSubmit","onSubmitComposite","onSubmitSingleItem","NotificationManager","selectedFoodItemCallback","onHide","aggregatedSelectedFoodItem","title","Modal","show","Header","Body","newList","splice","Footer","autoRound","round","digits","roundFactor","Math","pow","color_yellow","color_red","color_brown","color_gray","color_chart_green_1","color_chart_green_2","color_chart_green_3","color_chart_yellow_1","color_chart_yellow_2","color_chart_yellow_3","color_chart_orange","color_chart_misc","basedata_chart_height","default_chart_height","color_water","color_lipids","color_carbs","color_carbs_sugar","color_carbs_dietaryFibers","color_proteins","color_lipids_saturated","color_lipids_unsaturated_mono","color_lipids_unsaturated_poly","color_lipids_omega3","color_lipids_omega6","color_lipids_misc","color_ash","getBarChartOptions","unit","maxYValue","yAxis","display","text","min","max","getOptions","y","getPieChartOptions","scalesObject","maintainAspectRatio","responsive","plugins","fontSize","tooltip","getToolTips","legend","undefined","scales","enabled","callbacks","tooltipItem","formattedValue","ChartOptionSelector","Form","Label","Check","inline","type","checked","handleRadioButtonClick","paddingRight","defaultChecked","handleLegendCheckboxClick","detailsCheckboxAvailable","handleDetailsCheckboxClick","CustomLegend","borderLeft","paddingLeft","legendData","element","indent","verticalSpace","separateNextElement","marginLeft","marginBottom","background","color","marginTop","item","renderLegend","BaseDataChart","lang","setChartType","setShowLegend","setShowDetails","newChartConfig","legendAllowed","height","totalChartData","labels","datasets","data","backgroundColor","ChartConfig","borderWidth","borderColor","createTotalChartData","width","renderTotalChart","nutrientChartData","totalValue","carbValue","carbValuePerc","sugarValuePerc","dietaryFibersPerc","lipidValuePerc","proteinsValuePerc","values","backgroundColors","createNutrientChartData","renderNutrientChart","getLegendData","event","PAL_CATEGORY_1","PAL_CATEGORY_2","PAL_CATEGORY_3","PAL_CATEGORY_4","PAL_CATEGORY_5","PAL_CATEGORY_6","PAL_CATEGORY_7","createPalCategoryName","languageLabel","energyLabel","EnergyConstants","EnergyDataChart","energy100g","Chart","register","annotationPlugin","averagePortion","energyPortion","createEnergyLevelChart","bmr","calculateBMR","totalEnergy","calculateTotalEnergyConsumption","annotation","annotations","line1","mode","scaleID","yMin","yMax","content","line2","determineDailyRequirement","dailyRequirementObject","ageGroupRequirements","senior","preSenior","midLifeAdult","youngAdult","youth","male","femalePregnant","femaleBreastFeeding","female","determineFoodRequirementRatio","amountInFood","dailyRequirement","determineProteinRequirementRatio","requirement","MineralVitaminChart","chartConfigVitamins","chartConfigMinerals","chartType_vitamins","setChartType_vitamins","expand100_vitamins","setExpand100_vitamins","chartType_minerals","setChartType_minerals","expand100_minerals","setExpand100_minerals","selectedSubChart","handleExpandCheckbox","requirementData","vitaminRequirementData","createVitaminChartData","mineralRequirementData","createMineralChartData","maxValue","expand100","renderFormLine","LipidsDataChart","chartSelection","setChartSelection","lipidsData","totalLipidsAmount","handleChartSelectionChange","omegaDataAvailabe","chartColType","Constants","renderChart","lipidsType","totalAmount","valueSaturated","valueUnsaturatedMono","valueUnsaturatedPoly","valueRemainder","valueOmega3","valueOmega6","valueUncertain","createOmegaChartData","ProteinDataChart","setPortionType","setExpand100","proteinRequirementData","createProteinChartData","dataExists","CarbsDataChart","detailChartData","valueGlucose","valueFructose","valueGalactose","valueSucrose","valueLactose","valueMaltose","valueStarch","valueMisc","createDetailChartData","basicChartData","totalCarbsAmount","valueSugar","valueDietaryFibers","warn","createBasicChartData","includes","getLegendBaseChart","getLegendDetailsChart","ChartPanel","chart","selectedDataTab","FoodDataTable","tableData","margin","striped","hover","isKey","dataField","InfoData","createRow","key","renderSubTable","bordered","padding","foodNameId","foodClassNameId","usdaId","sourceLine2","foodClassName","categoryId","categoryName","tableDataGeneral","getGeneralTableData","foodPortion","portionValue","portionObject","tableDataPortion","getTableDataPortion","getTableDataCombinedFood","FoodDataPageBody","maxWidth","minWidth","HelpModal","helpText","role","data-dismiss","aria-label","closeHelpModal","dangerouslySetInnerHTML","__html","FoodDataPageHeader","helpModalId","setHelpModalId","fullName","handlePageButtonClick","setInfoPage","setDisplayMode","enabledDisplayButtonClasses","disabledDisplayButtonClasses","chartButtonClasses","tablesButtonClasses","foodNamesList","paddingBottom","variant","languageId","entry","require","entries","languageSection","contentArray","getHelpText","ButtonGroup","vertical","active","infoPage","renderPageTabs","data-tip","createTableObject","value_100g","valuePortion","calculatePortionData","MathService","value_portion","FoodDataPage","setSelectedDataTab","setTableData","updatePage","tableDataList","createBaseDataTable","createEnergyTable","createVitaminTable","firstNutrientData","createMineralTable","createLipidsTable","createCarbsTable","createProteinTable","newMode","datapage","ConfirmationDialog","okLabel","cancelLabel","confirmation","proceed","enableEscape","backdrop","keyboard","Title","React","confirmAction","createConfirmation","confirmable","FoodAnalyzerContainer","showFoodSelector","setShowFoodSelector","showFoodAggregatedFoodSelector","setShowAggregatedFoodSelector","onSelectFoodItemSubmit","component","onNewFoodItemSelected","onCloseAllTabs","deleteIconEnabled","ReactTooltip","rebuild","marginRight","TabContainer","tabPanelClass","tabContentClass","buttonTab","border","verticalAlign","minHeight","alignItems","cursor","onTabClick","onTabChange","activeIndex","FoodDataPanelContainer","selectedTabIndex","newTabIndex","indexToSet","foodId","location","useLocation","handleLanguageButtonClick","activePath","pathname","src","float-start","to","UserSettings","setAge","setSize","setWeight","setSex","setPregnant","setBreastFeeding","setPalValue","leisureSport","setLeisureSport","changePregnant","changeBreastFeeding","changeAdditionalPalPorts","checkInputValidity","showMessage","message","renderTextField","callback","FormControl","value_age","value_size","value_weight","FormGroup","controlId","palCategories","userDataPalValue","palObject","descriptionCode","getPalCategory","description","changePalValue","renderPalList","success","submitUserData","Contact","impressumPath","impressum_de","impressum_en","images","Home","displayedImage","setDisplayedImage","imageChanged","image","fontWeight","langKey","pic1","default","pic2","pic3","pic4","pic5","pic6","captionAttribute","imageCaption","showArrows","infiniteLoop","autoPlay","interval","transitionTime","selectedItem","textAlign","fontStyle","renderCarousel","FoodCompareApp","link","window","open","focus","href","appPath","ga4react","GA4React","App","useGA4React","Switch","path","exact","initialize","render","StrictMode","document","getElementById","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","rootElement","hasChildNodes","hydrate"],"mappings":"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","file":"static/js/main.e2fac28d.chunk.js","sourcesContent":["var map = {\n\t\"./Img-de-1.png\": 370,\n\t\"./Img-de-2.png\": 371,\n\t\"./Img-de-3.png\": 372,\n\t\"./Img-de-4.png\": 373,\n\t\"./Img-de-5.png\": 374,\n\t\"./Img-de-6.png\": 375,\n\t\"./Img-en-1.png\": 376,\n\t\"./Img-en-2.png\": 377,\n\t\"./Img-en-3.png\": 378,\n\t\"./Img-en-4.png\": 379,\n\t\"./Img-en-5.png\": 380,\n\t\"./Img-en-6.png\": 381\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 369;","export default __webpack_public_path__ + \"static/media/Img-de-1.f461d8cb.png\";","export default __webpack_public_path__ + \"static/media/Img-de-2.6f0bfc36.png\";","export default __webpack_public_path__ + \"static/media/Img-de-3.f67e30a1.png\";","export default __webpack_public_path__ + \"static/media/Img-de-4.fd525cd7.png\";","export default __webpack_public_path__ + \"static/media/Img-de-5.4b2dfd28.png\";","export default __webpack_public_path__ + \"static/media/Img-de-6.0a5a2015.png\";","export default __webpack_public_path__ + \"static/media/Img-en-1.e75dca7d.png\";","export default __webpack_public_path__ + \"static/media/Img-en-2.ad08b464.png\";","export default __webpack_public_path__ + \"static/media/Img-en-3.f117714f.png\";","export default __webpack_public_path__ + \"static/media/Img-en-4.ec0ccf6b.png\";","export default __webpack_public_path__ + \"static/media/Img-en-5.afac79a2.png\";","export default __webpack_public_path__ + \"static/media/Img-en-6.3238f1c7.png\";","import NameType from '../types/nutrientdata/NameType'\r\nimport Source from '../types/nutrientdata/Source'\r\nimport FoodItem from '../types/nutrientdata/FoodItem'\r\nimport DietaryRequirement from '../types/nutrientdata/DietaryRequirement'\r\n\r\nimport nutrientdata from \"./../static/data/nutrientdata_foodcompare.json\";\r\nimport FoodDataCorpus from \"../types/nutrientdata/FoodDataCorpus\"\r\nimport FoodClass from \"../types/nutrientdata/FoodClass\";\r\n\r\nexport function loadFoodDataCorpus(): FoodDataCorpus {\r\n\tconst categories = loadCategories()\r\n\tconst conditions = loadConditions()\r\n\tconst portionTypes = loadPortionTypes()\r\n\tconst sources = loadSources()\r\n\tconst foodNames = loadFoodNames()\r\n\tconst foodClasses = loadFoodClasses()\r\n\tconst nutrientData = loadNutrientData()\r\n\tconst dietaryRequirements = loadDietaryRequirements()\r\n\r\n\treturn {\r\n\t\tcategories: categories,\r\n\t\tconditions: conditions,\r\n\t\tportionTypes: portionTypes,\r\n\t\tsources: sources,\r\n\t\tfoodNames: foodNames,\r\n\t\tfoodClasses: foodClasses,\r\n\t\tfoodItems: nutrientData,\r\n\t\tdietaryRequirements: dietaryRequirements\r\n\t}\r\n}\r\n\r\nexport function loadConditions(): Array<NameType> {\r\n\treturn nutrientdata.conditions;\r\n}\r\n\r\nexport function loadPortionTypes(): Array<NameType> {\r\n\treturn nutrientdata.portionTypes;\r\n}\r\n\r\nexport function loadFoodNames(): Array<NameType> {\r\n\treturn nutrientdata.foodNames;\r\n}\r\n\r\nexport function loadSources(): Array<Source> {\r\n\treturn nutrientdata.sources;\r\n}\r\n\r\nexport function loadCategories(): Array<NameType> {\r\n\treturn nutrientdata.categories;\r\n}\r\n\r\nexport function loadFoodClasses(): Array<FoodClass> {\r\n\treturn nutrientdata.foodClasses;\r\n}\r\n\r\nexport function loadNutrientData(): Array<FoodItem> {\r\n\treturn nutrientdata.foodItems;\r\n}\r\n\r\nexport function loadDietaryRequirements(): DietaryRequirement {\r\n\treturn nutrientdata.dietaryRequirements;\r\n}","export const AMOUNT_PORTION = \"amount portion\"\r\nexport const AMOUNT_100g = \"amount 100g\"\r\n\r\nexport const CHART_TYPE_PIE = \"pie chart\"\r\nexport const CHART_TYPE_BAR = \"bar chart\"\r\n\r\nexport const CHART_VITAMINS = \"chart vitamins\"\r\nexport const CHART_MINERALS = \"chart minerals\"\r\n\r\nexport const DATA_MINERAL_CALCIUM = \"data calcium\";\r\nexport const DATA_MINERAL_IRON = \"data iron\";\r\nexport const DATA_MINERAL_MAGNESIUM = \"data magnesium\";\r\nexport const DATA_MINERAL_PHOSPHORUS = \"data phosphorous\";\r\nexport const DATA_MINERAL_POTASSIUM = \"data potassium\";\r\nexport const DATA_MINERAL_SODIUM = \"data sodium\";\r\nexport const DATA_MINERAL_ZINC = \"data zinc\";\r\nexport const DATA_MINERAL_SELENIUM = \"data selenium\";\r\nexport const DATA_MINERAL_MANGANESE = \"data manganese\";\r\nexport const DATA_MINERAL_COPPER = \"data copper\";\r\n\r\nexport const DATA_VITAMINS_A = \"data a\";\r\nexport const DATA_VITAMINS_B1 = \"data b1\";\r\nexport const DATA_VITAMINS_B2 = \"data b2\";\r\nexport const DATA_VITAMINS_B3 = \"data b3\";\r\nexport const DATA_VITAMINS_B5 = \"data b5\";\r\nexport const DATA_VITAMINS_B6 = \"data b6\";\r\nexport const DATA_VITAMINS_B9 = \"data b9\";\r\nexport const DATA_VITAMINS_B12 = \"data b12\";\r\nexport const DATA_VITAMINS_C = \"data c\";\r\nexport const DATA_VITAMINS_D = \"data d\";\r\nexport const DATA_VITAMINS_E = \"data e\";\r\nexport const DATA_VITAMINS_K = \"data k\";\r\n\r\nexport const DISPLAYMODE_TABLE = \"displaymode table\"\r\nexport const DISPLAYMODE_CHART = \"displaymode chart\"\r\n\r\nexport const GRAM = \"gram\"\r\n\r\nexport const CARBS_DATA_BASE = \"carbs data base chart\";\r\nexport const CARBS_DATA_DETAIL = \"carbs data detail chart\"\r\n\r\nexport const LIPIDS_DATA_BASE = \"lipids data base chart\";\r\nexport const LIPIDS_DATA_OMEGA = \"lipids data omega chart\"\r\n\r\nexport const PATH_FOODDATA_PANEL = \"/datapanel\";\r\nexport const PATH_HOME = \"/home\";\r\nexport const PATH_CONTACT = \"/contact\";\r\nexport const PATH_MOBILE_APP = \"/mobileapp\";\r\nexport const PATH_RANKING = \"/ranking\";\r\nexport const PATH_USERSETTINGS= \"/usersettings\";\r\n\r\nexport const LANGUAGE_DE = \"de\";\r\nexport const LANGUAGE_EN = \"en\";\r\n\r\nexport const SEX_MALE = \"sex male\"\r\nexport const SEX_FEMALE = \"sex female\"\r\n\r\nexport const SUBCHART_VITAMIN = \"vitamin subchart\"\r\nexport const SUBCHART_MINERAL = \"mineral subchart\"\r\n\r\nexport const TAB_BASE_DATA = \"tab_base_data\"\r\nexport const TAB_ENERGY_DATA = \"tab_energy_data\"\r\nexport const TAB_VITAMIN_DATA = \"tab_vitamin_data\"\r\nexport const TAB_MINERAL_DATA = \"tab_mineral_data\"\r\nexport const TAB_LIPIDS_DATA = \"tab_lipids_data\"\r\nexport const TAB_CARBS_DATA = \"tab_carps_data\"\r\nexport const TAB_PROTEINS_DATA = \"tab_proteins_data\"\r\nexport const TAB_INFO = \"tab_info\"","import {AMOUNT_PORTION, CARBS_DATA_BASE, CHART_TYPE_PIE, LIPIDS_DATA_BASE, SEX_MALE} from \"./Constants\";\r\nimport {ChartConfigData} from \"../types/livedata/ChartConfigData\";\r\n\r\nexport const release = \"1.1\"\r\nexport const buildDate = \"2021-07-07\"\r\n\r\nexport const mobileAppPath = \"https://play.google.com/store/apps/details?id=com.parapps.foodcompareapp\"\r\n\r\nexport const minimalOmegaRatio = 0.3\r\nexport const maximalPortionSize = 5000\r\nexport const defaultPanelHeight = '468px'\r\n\r\nexport const initialUserDataAge = 35\r\nexport const initialUserDataSize = 175\r\nexport const initialUserDataWeight = 75\r\nexport const initialUserDataSex = SEX_MALE\r\nexport const initialUserDataPregnant = false\r\nexport const initialUserDataBreastfeeding = false\r\nexport const initialUserDataPalValue = 1.6\r\nexport const initialUserDataLeisureSports = false\r\n\r\nexport const initialChartConfigData: ChartConfigData = {\r\n    baseChartConfig: {\r\n        chartType: CHART_TYPE_PIE,\r\n        showLegend: true,\r\n        showDetails: false\r\n    },\r\n    vitaminChartConfig: {\r\n        portionType: AMOUNT_PORTION,\r\n        expandTo100: false\r\n    },\r\n    mineralChartConfig: {\r\n        portionType: AMOUNT_PORTION,\r\n        expandTo100: false\r\n    },\r\n    lipidsChartConfig: {\r\n        chartType: CHART_TYPE_PIE,\r\n        showLegend: true,\r\n        subChart: LIPIDS_DATA_BASE\r\n    },\r\n    carbsChartConfig: {\r\n        chartType: CHART_TYPE_PIE,\r\n        showLegend: true,\r\n        subChart: CARBS_DATA_BASE\r\n    },\r\n    proteinChartConfig: {\r\n        portionType: AMOUNT_PORTION,\r\n        expandTo100: false\r\n    }\r\n}","import NameType from \"../types/nutrientdata/NameType\";\r\n\r\nexport default function getName(nameType: NameType, language: string): string {\r\n    if(language === 'de') {\r\n        return nameType.germanName\r\n    } else {\r\n        return nameType.englishName\r\n    }\r\n}\r\n\r\n\r\n","import NameType from \"../../types/nutrientdata/NameType\";\r\nimport ReactSelectOption from \"../../types/ReactSelectOption\";\r\nimport getName from \"../LanguageService\";\r\n\r\nexport function getReactSelectOptionsList(nameTypeList: Array<NameType>, language: string, sort?: boolean): Array<ReactSelectOption> {\r\n    const names: Array<string> = []\r\n\r\n    if(nameTypeList && nameTypeList.length > 0) {\r\n        nameTypeList.forEach(nameType => names.push(getName(nameType, language)))\r\n    }\r\n\r\n    if(sort) {\r\n        names.sort()\r\n    }\r\n\r\n    const reactSelectOptions: Array<ReactSelectOption> = []\r\n    names.forEach((name, index) => {\r\n        reactSelectOptions.push({\r\n            value: index,\r\n            label: name\r\n        })\r\n    })\r\n\r\n    return reactSelectOptions\r\n}\r\n\r\n\r\nexport function getNameFromFoodNameList(foodNameList: Array<NameType>, id: number, language: string): string | null {\r\n    const nameType = foodNameList.find(nameType => nameType.id === id)\r\n\r\n    if(nameType) {\r\n        return getName(nameType, language)\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n\r\n/*\r\n * General method to shorten the name of long food name.\r\n * name: The food name, e.g. \"Linen oil (at least 60 % lineul acid)\"\r\n * maxLength: The maximum length of the food name.\r\n */\r\nexport function shortenName(name, maxLength) {\r\n    if(name.length <= maxLength) {\r\n        return name;\r\n    }\r\n\r\n    if(name.includes(\"(\")) {\r\n        const indexOfBrace = name.indexOf(\"(\");\r\n        if(indexOfBrace >= maxLength-6) {\r\n            return name.substring(0, indexOfBrace-1).trim() + \"...\";\r\n        }\r\n    }\r\n\r\n    return name.substring(0, maxLength-3).trim() + \"...\";\r\n}","import {Component, createContext, ReactElement} from \"react\";\r\nimport * as NutrientDataImportService from \"../service/NutrientDataImportService\";\r\nimport FoodDataCorpus from \"../types/nutrientdata/FoodDataCorpus\";\r\nimport SelectedFoodItem from \"../types/livedata/SelectedFoodItem\";\r\nimport {ApplicationData} from \"../types/livedata/ApplicationData\";\r\nimport {DISPLAYMODE_CHART} from \"../config/Constants\";\r\nimport {UserData} from \"../types/livedata/UserData\";\r\nimport {\r\n    initialChartConfigData,\r\n    initialUserDataAge,\r\n    initialUserDataBreastfeeding,\r\n    initialUserDataLeisureSports,\r\n    initialUserDataPalValue,\r\n    initialUserDataPregnant,\r\n    initialUserDataSex,\r\n    initialUserDataSize,\r\n    initialUserDataWeight\r\n} from \"../config/ApplicationSetting\";\r\nimport {getNameFromFoodNameList} from \"../service/nutrientdata/NameTypeService\";\r\nimport NameType from \"../types/nutrientdata/NameType\";\r\nimport {ChartConfigData} from \"../types/livedata/ChartConfigData\";\r\n\r\nexport interface ApplicationDataContext {\r\n    foodDataCorpus: FoodDataCorpus\r\n    applicationData: ApplicationData\r\n    userData: UserData\r\n    selectedTab: number | null\r\n    debug: boolean\r\n    setSelectedTab: (number) => void\r\n    addItemToFoodDataPanel: (number) => void\r\n    removeItemFromFoodDataPanel: (number) => void\r\n    removeAllItemsFromFoodDataPanel: () => void\r\n    setUserData: (userData: UserData) => void\r\n    updateAllFoodItemNames: (foodNames: Array<NameType>, newLanguage: string) => void\r\n    updateChartConfig: (chartConfig: ChartConfigData) => void\r\n}\r\n\r\nexport const ApplicationDataContextStore = createContext<ApplicationDataContext | null>(null)\r\n\r\nexport default class ApplicationDataContextProvider extends Component<any, ApplicationDataContext> {\r\n\r\n    setSelectedFoodDataPanelTab = (selectedTab: number) => {\r\n        this.setState({\r\n            ...this.state,\r\n            applicationData: {\r\n                ...this.state.applicationData,\r\n                foodDataPanel: {...this.state.applicationData.foodDataPanel, selectedFoodItemIndex: selectedTab}\r\n            }\r\n        })\r\n    }\r\n\r\n    addItemToFoodDataPanel = (foodItem: SelectedFoodItem) => {\r\n        const newItems = this.state.applicationData.foodDataPanel.selectedFoodItems\r\n        newItems.push(foodItem)\r\n        this.setState({\r\n            ...this.state,\r\n            applicationData: {\r\n                ...this.state.applicationData,\r\n                foodDataPanel: {...this.state.applicationData.foodDataPanel, selectedFoodItems: newItems}\r\n            }\r\n        })\r\n    }\r\n\r\n    removeItemFromFoodDataPanel = (foodItemId: number) => {\r\n        const newItems = this.state.applicationData.foodDataPanel.selectedFoodItems.filter(\r\n            selectedFoodItem => selectedFoodItem.foodItem.id !== foodItemId\r\n        )\r\n\r\n        let newIndex = 0\r\n        let currentIndex = this.state.applicationData.foodDataPanel.selectedFoodItemIndex\r\n\r\n        if (newItems.length > 0) {\r\n            if (currentIndex < newItems.length) {\r\n                newIndex = currentIndex\r\n            } else {\r\n                newIndex = newItems.length - 1\r\n            }\r\n        }\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            applicationData: {\r\n                ...this.state.applicationData,\r\n                foodDataPanel: {\r\n                    ...this.state.applicationData.foodDataPanel,\r\n                    selectedFoodItems: newItems,\r\n                    selectedFoodItemIndex: newIndex\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    removeAllItemsFromFoodDataPanel = () => {\r\n        this.setState({\r\n            ...this.state,\r\n            applicationData: {\r\n                ...this.state.applicationData,\r\n                foodDataPanel: {\r\n                    ...this.state.applicationData.foodDataPanel,\r\n                    selectedFoodItems: [],\r\n                    selectedFoodItemIndex: 0\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    setUserData = (userData: UserData) => {\r\n        this.setState({\r\n            ...this.state,\r\n            userData: userData\r\n        })\r\n    }\r\n\r\n    updateAllFoodItemNames = (foodNames: Array<NameType>, newLanguage: string) => {\r\n        const selectedFoodItems = this.state.applicationData.foodDataPanel.selectedFoodItems\r\n        const newFoodItems = selectedFoodItems.map(selectedFoodItem => {\r\n            const foodName = selectedFoodItem.foodItem.nameId\r\n                ? getNameFromFoodNameList(foodNames, selectedFoodItem.foodItem.nameId, newLanguage)\r\n                : \"Individual\"\r\n            if(foodName) {\r\n                selectedFoodItem = {...selectedFoodItem, tab: foodName}\r\n            }\r\n            return selectedFoodItem\r\n        })\r\n\r\n        this.setState({\r\n            ...this.state,\r\n            applicationData: {\r\n                ...this.state.applicationData,\r\n                foodDataPanel: {\r\n                    ...this.state.applicationData.foodDataPanel,\r\n                    selectedFoodItems: newFoodItems,\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    updateChartConfig = (chartConfig: ChartConfigData) => {\r\n        this.setState({\r\n            ...this.state,\r\n            applicationData: {\r\n                ...this.state.applicationData,\r\n                foodDataPanel: {\r\n                    ...this.state.applicationData.foodDataPanel,\r\n                    chartConfigData: chartConfig\r\n                }\r\n            }\r\n        })\r\n    }\r\n\r\n    state: ApplicationDataContext = {\r\n        foodDataCorpus: {\r\n            categories: [],\r\n            conditions: [],\r\n            portionTypes: [],\r\n            sources: [],\r\n            foodNames: [],\r\n            foodClasses: [],\r\n            foodItems: [],\r\n            dietaryRequirements: null,\r\n        },\r\n        applicationData: {\r\n            foodDataPanel: {\r\n                selectedFoodItems: [],\r\n                selectedDataPage: 0,\r\n                displayMode: DISPLAYMODE_CHART,\r\n                selectedFoodItemIndex: 0,\r\n                chartConfigData: initialChartConfigData\r\n            }\r\n        },\r\n        userData: {\r\n            age: initialUserDataAge,\r\n            size: initialUserDataSize,\r\n            weight: initialUserDataWeight,\r\n            sex: initialUserDataSex,\r\n            pregnant: initialUserDataPregnant,\r\n            breastFeeding: initialUserDataBreastfeeding,\r\n            palValue: initialUserDataPalValue,\r\n            leisureSports: initialUserDataLeisureSports,\r\n            initialValues: true\r\n        },\r\n        selectedTab: null,\r\n        debug: true,\r\n        setSelectedTab: this.setSelectedFoodDataPanelTab,\r\n        addItemToFoodDataPanel: this.addItemToFoodDataPanel,\r\n        removeItemFromFoodDataPanel: this.removeItemFromFoodDataPanel,\r\n        removeAllItemsFromFoodDataPanel: this.removeAllItemsFromFoodDataPanel,\r\n        setUserData: this.setUserData,\r\n        updateAllFoodItemNames: this.updateAllFoodItemNames,\r\n        updateChartConfig: this.updateChartConfig\r\n    }\r\n\r\n    componentDidMount() {\r\n        const foodDataCorpus = NutrientDataImportService.loadFoodDataCorpus()\r\n        this.setState({\r\n            foodDataCorpus: foodDataCorpus\r\n        })\r\n    }\r\n\r\n    render(): ReactElement {\r\n        return (\r\n            <ApplicationDataContextStore.Provider value={{...this.state}}>\r\n                {this.props.children}\r\n            </ApplicationDataContextStore.Provider>\r\n        )\r\n    }\r\n\r\n}\r\n","export const applicationStrings = {\r\n    button_add: {\r\n        de: 'Hinzufgen',\r\n        en: 'Add'\r\n    },\r\n    button_cancel: {\r\n        de: 'Abbrechen',\r\n        en: 'Cancel'\r\n    },\r\n    button_close: {\r\n        de: 'Schlieen',\r\n        en: 'Close'\r\n    },\r\n    button_getstarted: {\r\n        de: 'Lebensmittel analysieren',\r\n        en: 'Get started'\r\n    },\r\n    button_no: {\r\n        de: 'Nein',\r\n        en: 'No'\r\n    },\r\n    button_select: {\r\n        de: 'Auswhlen',\r\n        en: 'Show'\r\n    },\r\n    button_show: {\r\n        de: 'Anzeigen',\r\n        en: 'Show'\r\n    },\r\n    button_submit: {\r\n        de: 'bernehmen',\r\n        en: 'Submit'\r\n    },\r\n    button_yes: {\r\n        de: 'Ja',\r\n        en: 'Yes'\r\n    },\r\n    checkbox_chartoption_showLegend: {\r\n        de: 'Legende anzeigen',\r\n        en: 'Show legend'\r\n    },\r\n    checkbox_chartoption_showDetails: {\r\n        de: 'Details anzeigen',\r\n        en: 'Show details'\r\n    },\r\n    checkbox_english: {\r\n        de: 'Englisch',\r\n        en: 'English'\r\n    },\r\n    checkbox_expand100g: {\r\n        de: 'Auf 100 % erweitern',\r\n        en: 'Expand to 100 %'\r\n    },\r\n    checkbox_german: {\r\n        de: 'Deutsch',\r\n        en: 'German'\r\n    },\r\n    confirm_close_all_tabs: {\r\n        de: 'Sollen wirklich alle Lebensmittel-Tabs geschlossen werden?',\r\n        en: 'Really close all food tabs?'\r\n    },\r\n    home_carousel_0: {\r\n        de: 'Vitamine in Lebensmitteln im Vergleich zum Tagesbedarf',\r\n        en: 'Vitamins in food compared to daily requirements'\r\n    },\r\n    home_carousel_1: {\r\n        de: 'Mineralstoffe in Lebensmitteln im Vergleich zum Tagesbedarf',\r\n        en: 'Minerals in food compared to daily requirements'\r\n    },\r\n    home_carousel_2: {\r\n        de: 'Nhrstoffzusammensetzung in einem Lebensmittel',\r\n        en: 'Food composition of nutrients'\r\n    },\r\n    home_carousel_3: {\r\n        de: 'Verteilung der Fettsuren (gesttigt / ungesttigt)',\r\n        en: 'Distribution of fatty acids (saturated / unsaturated)'\r\n    },\r\n    home_carousel_4: {\r\n        de: 'In Nahrungsmitteln enthaltene Aminosuren',\r\n        en: 'Amino acids conainted in foods'\r\n    },\r\n    home_carousel_5: {\r\n        de: 'Zusammenstellung von Mens (aggregierte Daten)',\r\n        en: 'Composite menus (aggregated data)'\r\n    },\r\n    home_text_1: {\r\n        de: 'Food Compare ist ein Webprojekt zur grafischen Darstellung der Zusammensetzung von Lebensmitteln. Whrend klassische Quellen die enthaltenen Inhaltsstoffe meist nur in tabellarischer Form angeben, verwendet Food Compare Grafiken und Diagramme, um den Gehalt an Vitaminen und Mineralstoffen, Kohlenhydraten, Fettsuren und Eiweien (Proteinen) leichter und bersichtlich darzustellen.',\r\n        en: 'FoodCompare is a web project to visually display information about food composition. While conventional resources commonly display nutrient data in tables, Food Compare provides charts and graphics to allow users a better understanding of the containing nutrients (carbohydrates, lipids, proteins) as well as vitamins and minerals.'\r\n    },\r\n    home_text_2: {\r\n        de: 'Das Hauptaugenmerk von Food Compare gilt jedoch nicht nur der Veranschaulichung einzelner Nahrungsmittel, sondern der Vergleichbarkeit von Nhrstoffen, Vitaminen und Mineralen in Lebensmittels. Dazu knnen beliebig viele Tabs geffnet und Lebensmittel damit leicht miteinander verglichen werden. So lassen sich bspw. auf einfache Weise der Vitamingehalt von einzelnen Obstsorten vergleichen, oder die Aufteilung von Kohlenhydraten, Fetten und Eiweien zwischen Grundnahrungsmitteln. Dabei erlaubt die Anwendung auch das Zusammenstellen von komplexen Mens, deren Gesamtgehalt an Nhrstoffen, Vitaminen und Mineralstoffen dann berechnet wird.',\r\n        en: 'The primary focus of Food Compare is to visually compare the composition and contents of different foods, though. Food items can be opened in different tabs so that nutrients, vitamins or minerals can be easily compare. As an example, users can compare the containing vitamins between different fruits or the nutrient composition between staple foods. In addition, the application allows to aggregate foods to more complex menus and will then calculate the overall amount of nutrients, vitamins and minerals in that menu.'\r\n    },\r\n    label_amount: {\r\n        de: 'Menge (Gramm)',\r\n        en: 'Amount (gram)'\r\n    },\r\n    label_amount_short: {\r\n        de: 'Gramm',\r\n        en: 'Gram'\r\n    },\r\n    label_category: {\r\n        de: 'Kategorie',\r\n        en: 'Category'\r\n    },\r\n    label_charttype: {\r\n        de: 'Diagrammart',\r\n        en: 'Chart type'\r\n    },\r\n    label_charttype_pie: {\r\n        de: 'Tortendiagramm',\r\n        en: 'Pie chart'\r\n    },\r\n    label_charttype_bar: {\r\n        de: 'Balkendiagramm',\r\n        en: 'Bar chart'\r\n    },\r\n    label_charttype_carbs_base: {\r\n        de: 'Allgemeine Werte',\r\n        en: 'Basic data'\r\n    },\r\n    label_charttype_carbs_detail: {\r\n        de: 'Detailwerte',\r\n        en: 'Detailed data'\r\n    },\r\n    label_charttype_energy: {\r\n        de: 'Grundumsatz und Gesamtumsatz (Energie)',\r\n        en: 'BMR and Energy Expenditure'\r\n    },\r\n    label_charttype_lipids_base: {\r\n        de: 'Allgemeine Werte',\r\n        en: 'Basic data'\r\n    },\r\n    label_charttype_lipids_base_title: {\r\n        de: 'Allgemeine Verteilung der Fettsuren',\r\n        en: 'Basic distributions of fatty acids'\r\n    },\r\n    label_charttype_lipids_omega: {\r\n        de: 'Omega-Werte',\r\n        en: 'Omega data'\r\n    },\r\n    label_charttype_lipids_omega_title: {\r\n        de: 'Allgemeine Verteilung der Omega-3/6-Fettsuren',\r\n        en: 'Basic distributions of Omega 3/6 acids'\r\n    },\r\n    label_charttype_minerals: {\r\n        de: 'Minerale (im Vgl. zum Tagesbedarf)',\r\n        en: 'Minerals (compared to dietary requirements)'\r\n    },\r\n    label_charttype_proteins: {\r\n        de: 'Proteine',\r\n        en: 'Proteins'\r\n    },\r\n    label_charttype_vitamins: {\r\n        de: 'Vitamine (im Vgl. zum Tagesbedarf)',\r\n        en: 'Vitamins (compared to dietary requirements)'\r\n    },\r\n    label_chart_bmr: {\r\n        de: 'Grundumsatz',\r\n        en: 'Basal Metabolic Rate (BMR)'\r\n    },\r\n    label_chart_energyExpenditure: {\r\n        de: 'Gesamtumsatz',\r\n        en: 'Energy Expenditure'\r\n    },\r\n    label_chart_nutrientComposition: {\r\n        de: 'Nhrstoffzusammensetzung',\r\n        en: 'Nutrient Composition'\r\n    },\r\n    label_chart_totalComposition: {\r\n        de: 'Gesamtzusammensetzung',\r\n        en: 'Total Composition'\r\n    },\r\n    label_datatype: {\r\n        de: 'Datentyp',\r\n        en: 'Data type'\r\n    },\r\n    label_foodclass: {\r\n        de: 'Lebensmittel',\r\n        en: 'Food Class'\r\n    },\r\n    label_fooditem: {\r\n        de: 'Typ',\r\n        en: 'Food type'\r\n    },\r\n    label_foodselector: {\r\n        de: 'Lebensmittelauswahl',\r\n        en: 'Food Selector'\r\n    },\r\n    label_foodselector_composite: {\r\n        de: 'Zusammenstellung eines Lebensmittels',\r\n        en: 'Composite food generation'\r\n    },\r\n    label_info: {\r\n        de: 'Info',\r\n        en: 'Info'\r\n    },\r\n    label_info_category: {\r\n        de: 'Kategorie',\r\n        en: 'Category'\r\n    },\r\n    label_info_foodClass: {\r\n        de: 'Lebensmittel-Klasse',\r\n        en: 'Food Class'\r\n    },\r\n    label_info_foodId: {\r\n        de: 'Lebensmittel ID',\r\n        en: 'Food Id'\r\n    },\r\n    label_info_foodName: {\r\n        de: 'Lebensmittel',\r\n        en: 'Food'\r\n    },\r\n    label_info_portion: {\r\n        de: 'Portionsdaten',\r\n        en: 'Portion data'\r\n    },\r\n    label_info_portionType: {\r\n        de: 'Portionstyp',\r\n        en: 'Portion type'\r\n    },\r\n    label_info_preparation: {\r\n        de: 'Zubereitungsart',\r\n        en: 'Preparation type'\r\n    },\r\n    label_info_source: {\r\n        de: 'Quelle',\r\n        en: 'Source'\r\n    },\r\n    label_language: {\r\n        de: 'Sprache',\r\n        en: 'Language'\r\n    },\r\n    label_noData: {\r\n        de: 'Keine Daten vorhanden',\r\n        en: 'No data available'\r\n    },\r\n    label_nutrient_ash: {\r\n        de: 'Reststoffe',\r\n        en: 'Ash'\r\n    },\r\n    label_nutrient_carbohydrates: {\r\n        de: 'Kohlenhydrate',\r\n        en: 'Carbohydrates'\r\n    },\r\n    label_nutrient_carbohydrates_short: {\r\n        de: 'Kohlenhyd.',\r\n        en: 'Carbs'\r\n    },\r\n    label_nutrient_carbohydrates_fructose: {\r\n        de: 'Fruktose',\r\n        en: 'Fructose'\r\n    },\r\n    label_nutrient_carbohydrates_galactose: {\r\n        de: 'Galaktose',\r\n        en: 'Galactose'\r\n    },\r\n    label_nutrient_carbohydrates_glucose: {\r\n        de: 'Glukose (Traubenzucker)',\r\n        en: 'Glucose'\r\n    },\r\n    label_nutrient_carbohydrates_lactose: {\r\n        de: 'Laktose',\r\n        en: 'Lactose'\r\n    },\r\n    label_nutrient_carbohydrates_maltose: {\r\n        de: 'Maltose',\r\n        en: 'Maltose'\r\n    },\r\n    label_nutrient_carbohydrates_starch: {\r\n        de: 'Strke',\r\n        en: 'Starch'\r\n    },\r\n    label_nutrient_carbohydrates_sucrose: {\r\n        de: 'Sukrose',\r\n        en: 'Sucrose'\r\n    },\r\n    label_nutrient_dietaryFibers: {\r\n        de: 'Ballaststoffe',\r\n        en: 'Dietary fibers'\r\n    },\r\n    label_nutrient_dietaryFibers_short: {\r\n        de: 'Ballastst.',\r\n        en: 'Dietary fib.'\r\n    },\r\n    label_nutrient_energy: {\r\n        de: 'Energie',\r\n        en: 'Energy'\r\n    },\r\n    label_nutrient_lipids: {\r\n        de: 'Fett',\r\n        en: 'Fats'\r\n    },\r\n    label_nutrient_lipids_saturated: {\r\n        de: 'Gesttigte Fettsuren',\r\n        en: 'Saturated fatty acids'\r\n    },\r\n    label_nutrient_lipids_unsaturated: {\r\n        de: 'Ungesttigte Fettsuren',\r\n        en: 'Unsaturated fatty acids'\r\n    },\r\n    label_nutrient_lipids_unsaturated_mono: {\r\n        de: 'Einfach ungesttigte Fettsuren',\r\n        en: 'Mono-unsaturated fatty acids'\r\n    },\r\n    label_nutrient_lipids_unsaturated_poly: {\r\n        de: 'Mehrfach ungesttigte Fettsuren',\r\n        en: 'Poly-unsaturated fatty acids'\r\n    },\r\n    label_nutrient_lipids_transfattyAcids: {\r\n        de: 'Transfettsuren',\r\n        en: 'Transfatty acids'\r\n    },\r\n    label_nutrient_lipids_omega3: {\r\n        de: 'Omega-3-Fettsuren',\r\n        en: 'Omega-3 fatty acids'\r\n    },\r\n    label_nutrient_lipids_omega6: {\r\n        de: 'Omega-6-Fettsuren',\r\n        en: 'Omega-6 fatty acids'\r\n    },\r\n    label_nutrient_lipids_cholesterol: {\r\n        de: 'Cholesterin',\r\n        en: 'Cholesterol'\r\n    },\r\n    label_nutrient_min: {\r\n        de: 'Mineralstoffe',\r\n        en: 'Minerals'\r\n    },\r\n    label_nutrient_min_calcium: {\r\n        de: 'Kalzium',\r\n        en: 'Calcium'\r\n    },\r\n    label_nutrient_min_copper: {\r\n        de: 'Kupfer',\r\n        en: 'Copper'\r\n    },\r\n    label_nutrient_min_iron: {\r\n        de: 'Eisen',\r\n        en: 'Iron'\r\n    },\r\n    label_nutrient_min_magnesium: {\r\n        de: 'Magnesium',\r\n        en: 'Magnesium'\r\n    },\r\n    label_nutrient_min_manganese: {\r\n        de: 'Mangan',\r\n        en: 'Manganese'\r\n    },\r\n    label_nutrient_min_phosphorus: {\r\n        de: 'Phosphor',\r\n        en: 'Phosphorus'\r\n    },\r\n    label_nutrient_min_potassimum: {\r\n        de: 'Kalium',\r\n        en: 'Potassimum'\r\n    },\r\n    label_nutrient_min_selenium: {\r\n        de: 'Selen',\r\n        en: 'Selenium'\r\n    },\r\n    label_nutrient_min_sodium: {\r\n        de: 'Natrium',\r\n        en: 'Sodium'\r\n    },\r\n    label_nutrient_min_zinc: {\r\n        de: 'Zink',\r\n        en: 'Zinc'\r\n    },\r\n    label_nutrient_omega3: {\r\n        de: 'Omega-3-Fettsuren',\r\n        en: 'Omega-3 Fatty acids'\r\n    },\r\n    label_nutrient_omega6: {\r\n        de: 'Omega-6-Fettsuren',\r\n        en: 'Omega-6 Fatty acids'\r\n    },\r\n    label_nutrient_proteins: {\r\n        de: 'Eiwei',\r\n        en: 'Proteins'\r\n    },\r\n    label_nutrient_proteins_alanine: {\r\n        de: 'Alanin',\r\n        en: 'Alanine'\r\n    },\r\n    label_nutrient_proteins_arginine: {\r\n        de: 'Arginin',\r\n        en: 'Arginin'\r\n    },\r\n    label_nutrient_proteins_asparticAcid: {\r\n        de: 'Asparaginsure',\r\n        en: 'Aspartic acid'\r\n    },\r\n    label_nutrient_proteins_cystine: {\r\n        de: 'Cystein',\r\n        en: 'Cystein'\r\n    },\r\n    label_nutrient_proteins_glysine: {\r\n        de: 'Glysin',\r\n        en: 'Glysine'\r\n    },\r\n    label_nutrient_proteins_glutamicAcid: {\r\n        de: 'Glutamin',\r\n        en: 'Glutamic acid'\r\n    },\r\n    label_nutrient_proteins_histidine: {\r\n        de: 'Histidin',\r\n        en: 'Histidine'\r\n    },\r\n    label_nutrient_proteins_isoleucine: {\r\n        de: 'Isoleucin',\r\n        en: 'Isoleucin'\r\n    },\r\n    label_nutrient_proteins_leucine: {\r\n        de: 'Leucin',\r\n        en: 'Leucin'\r\n    },\r\n    label_nutrient_proteins_lysine: {\r\n        de: 'Lysin',\r\n        en: 'Lysine'\r\n    },\r\n    label_nutrient_proteins_methionine: {\r\n        de: 'Methionin',\r\n        en: 'Methionin'\r\n    },\r\n    label_nutrient_proteins_phenylalanine: {\r\n        de: 'Phenylalanin',\r\n        en: 'Phenylalanin'\r\n    },\r\n    label_nutrient_proteins_proline: {\r\n        de: 'Prolin',\r\n        en: 'Proline'\r\n    },\r\n    label_nutrient_proteins_serine: {\r\n        de: 'Serin',\r\n        en: 'Serine'\r\n    },\r\n    label_nutrient_proteins_threonine: {\r\n        de: 'Threonin',\r\n        en: 'Threonine'\r\n    },\r\n    label_nutrient_proteins_tryptophan: {\r\n        de: 'Tryptophan',\r\n        en: 'Tryptophan'\r\n    },\r\n    label_nutrient_proteins_tyrosine: {\r\n        de: 'Tyrosin',\r\n        en: 'Tyrosin'\r\n    },\r\n    label_nutrient_proteins_valine: {\r\n        de: 'Valin',\r\n        en: 'Valin'\r\n    },\r\n    label_nutrient_remainder: {\r\n        de: 'Rest',\r\n        en: 'Remainder'\r\n    },\r\n    label_nutrient_sugar: {\r\n        de: 'Zucker',\r\n        en: 'Sugar'\r\n    },\r\n    label_nutrient_vit: {\r\n        de: 'Vitamine',\r\n        en: 'Vitamins'\r\n    },\r\n    label_nutrient_vit_a: {\r\n        de: 'Vitamin A (Retinol, Retinal, ...)',\r\n        en: 'Vitamin A (Retinol, Retinal, ...)'\r\n    },\r\n    label_nutrient_vit_b1: {\r\n        de: 'Vitamin B1 (Thiamine)',\r\n        en: 'Vitamin B1 (Thiamine)'\r\n    },\r\n    label_nutrient_vit_b2: {\r\n        de: 'Vitamin B2 (Riboflavin)',\r\n        en: 'Vitamin B2 (Riboflavin)'\r\n    },\r\n    label_nutrient_vit_b3: {\r\n        de: 'Vitamin B3 (Niacin)',\r\n        en: 'Vitamin B3 (Niacin)'\r\n    },\r\n    label_nutrient_vit_b5: {\r\n        de: 'Vitamin B5 (Pantothensure)',\r\n        en: 'Vitamin B5 (Pantothenic acid)'\r\n    },\r\n    label_nutrient_vit_b6: {\r\n        de: 'Vitamin B6',\r\n        en: 'Vitamin B6'\r\n    },\r\n    label_nutrient_vit_b9: {\r\n        de: 'Vitamin B9 (Folsure)',\r\n        en: 'Vitamin B9 (Folate)'\r\n    },\r\n    label_nutrient_vit_b12: {\r\n        de: 'Vitamin B12',\r\n        en: 'Vitamin B12'\r\n    },\r\n    label_nutrient_vit_c: {\r\n        de: 'Vitamin C',\r\n        en: 'Vitamin C'\r\n    },\r\n    label_nutrient_vit_d: {\r\n        de: 'Vitamin D',\r\n        en: 'Vitamin D'\r\n    },\r\n    label_nutrient_vit_e: {\r\n        de: 'Vitamin E',\r\n        en: 'Vitamin E'\r\n    },\r\n    label_nutrient_vit_k: {\r\n        de: 'Vitamin K',\r\n        en: 'Vitamin K'\r\n    },\r\n    label_nutrient_water: {\r\n        de: 'Wasser',\r\n        en: 'Water'\r\n    },\r\n    label_overview: {\r\n        de: 'bersicht',\r\n        en: 'Overview'\r\n    },\r\n    label_portion: {\r\n        de: 'Portion',\r\n        en: 'Portion'\r\n    },\r\n    label_prefix_hereof: {\r\n        de: 'davon',\r\n        en: 'hereof'\r\n    },\r\n    label_reference: {\r\n        de: 'Bezug',\r\n        en: 'Reference'\r\n    },\r\n    label_unknown: {\r\n        de: 'Unbekannt',\r\n        en: 'Unknown'\r\n    },\r\n    label_userSettings_age: {\r\n        de: 'Alter',\r\n        en: 'Age'\r\n    },\r\n    label_userSettings_breastfeeding: {\r\n        de: 'stillend',\r\n        en: 'breast-feeding'\r\n    },\r\n    label_userSettings_leisureSports: {\r\n        de: 'Freizeitsport',\r\n        en: 'Leisure sports'\r\n    },\r\n    label_userSettings_leisureSports_tooltip: {\r\n        de: 'Angabe, ob Sie an dem betreffenden Tag zustzlich zu Ihrer Ttigkeit nennenswert Sport ausgebt haben, z.B. 30-45 min joggen oder 45-60 min Rad fahren (erhht PAL-Wert um 0.3)',\r\n        en: 'Specifies whether you did some notable (leisure) sports or activity that day, like 30-45 minutes jogging or 45-60 minutes biking (increases PAL-value by 0.3)'\r\n    },\r\n    label_userSettings_palValue: {\r\n        de: 'PAL-Value',\r\n        en: 'Pal Value'\r\n    },\r\n    label_userSettings_pregnant: {\r\n        de: 'schwanger',\r\n        en: 'pregnant'\r\n    },\r\n    label_userSettings_sex: {\r\n        de: 'Geschlecht',\r\n        en: 'Sex'\r\n    },\r\n    label_userSettings_sex_male: {\r\n        de: 'mnnlich',\r\n        en: 'male'\r\n    },\r\n    label_userSettings_sex_female: {\r\n        de: 'weiblich',\r\n        en: 'female'\r\n    },\r\n    label_userSettings_size: {\r\n        de: 'Krpergre',\r\n        en: 'Size'\r\n    },\r\n    label_userSettings_weight: {\r\n        de: 'Gewicht',\r\n        en: 'Weight'\r\n    },\r\n    menu_food_data_panel: {\r\n        de: 'Lebensmittel analysieren',\r\n        en: 'Food data analyzer'\r\n    },\r\n    menu_home: {\r\n        de: 'Home',\r\n        en: 'Home'\r\n    },\r\n    menu_mobile_app: {\r\n        de: 'Mobile App',\r\n        en: 'Mobile App'\r\n    },\r\n    menu_ranking: {\r\n        de: 'Lebensmittel Ranking',\r\n        en: 'Food ranking'\r\n    },\r\n    menu_settings: {\r\n        de: 'User Einstellungen',\r\n        en: 'User settings'\r\n    },\r\n    menu_contact: {\r\n        de: 'Kontakt',\r\n        en: 'Contact'\r\n    },\r\n    message_error_existing_element: {\r\n        de: 'Das ausgewhlte Element befindet sich bereits im Datenbereich. Ein Lebensmittel darf nur einmal hinzugefgt werden.',\r\n        en: 'The selected food item already exists in your list. A food item can be added only once.'\r\n    },\r\n    message_error_incomplete_form: {\r\n        de: 'Das Formular ist unvollstndig ausgefllt.',\r\n        en: 'The form is incomplete.'\r\n    },\r\n    message_error_invalid_portion: {\r\n        de: 'Geben Sie bitte eine Portion zwischen 1 und 5000 Gramm an.',\r\n        en: 'Please specify a portion amount between 1 and 5000 gram.'\r\n    },\r\n    message_userdata_success: {\r\n        de: 'nderungen wurden gespeichert.',\r\n        en: 'Saved changes.'\r\n    },\r\n    message_userdata_error_title: {\r\n        de: 'Fehlerhafte Eingabe',\r\n        en: 'Invalid input'\r\n    },\r\n    message_userdata_error_age: {\r\n        de: 'Geben Sie bitte ein Alter zwischen 15 und 100 Jahren ein.',\r\n        en: 'Please enter an age between 15 and 100 years.'\r\n    },\r\n    message_userdata_error_size: {\r\n        de: 'Geben Sie bitte eine Krpergre zwischen 80 und 225 cm ein.',\r\n        en: 'Please enter a body height between 80 and 225 cm.'\r\n    },\r\n    message_userdata_error_weight: {\r\n        de: 'Geben Sie bitte ein Gewicht zwischen 30 und 250 kg ein.',\r\n        en: 'Please enter a body weight between 30 and 250 kg.'\r\n    },\r\n    palcat_name_1: {\r\n        de: 'Extrem niedrige Aktivitt',\r\n        en: 'Extremely light activity.'\r\n    },\r\n    palcat_desc_1: {\r\n        de: 'Bspw. ans Bett gebundene Menschen.',\r\n        en: 'Such as bed-ridden people.'\r\n    },\r\n    palcat_name_2: {\r\n        de: 'Sehr nierdige Aktivitt',\r\n        en: 'Very light activity'\r\n    },\r\n    palcat_desc_2: {\r\n        de: 'Bspw. sehr einfache Broarbeit in permanent sitzender Haltung, Reisende in einem Flugzeug oder Zug (sitzend).',\r\n        en: 'Such as very light office work (permanently seated), passengers sitting in a train or airplane.'\r\n    },\r\n    palcat_name_3: {\r\n        de: 'Niedrige Aktivitt',\r\n        en: 'Light activity'\r\n    },\r\n    palcat_desc_3: {\r\n        de: 'berwiegend sitzende Ttigkeit, mit Phasen im stehenden Zustand (z.B. Berufsfahrer, rzte, Lehrer, Schler) oder dem Ausfhren zustzlicher leichter Ttigkeiten (z.B. einfache Haushaltsttigkeiten).',\r\n        en: 'Mostly seated activity, with phases of standing activity (e.g., drivers, doctors, students, teachers...) or additional tasks like simple household chores.'\r\n    },\r\n    palcat_name_4: {\r\n        de: 'Mige Aktivitt',\r\n        en: 'Mediocre Activity'\r\n    },\r\n    palcat_desc_4: {\r\n        de: 'berwiegende Stehende Ttigkeit (z.B. Handwerker, Verkufer, Kellner, Krankenschwester).',\r\n        en: 'Mostly standing activity (e.g. shop assistants, waiters, craftsmen, nurses).'\r\n    },\r\n    palcat_name_5: {\r\n        de: 'Hohe Aktivitt',\r\n        en: 'High activity'\r\n    },\r\n    palcat_desc_5: {\r\n        de: 'Krperlich schwere Arbeit, z.B. Bauarbeiter, Mbelpacker, Sportlehrer.',\r\n        en: 'Hard work, such as construction workers, movers, gym teachers etc.'\r\n    },\r\n    palcat_name_6: {\r\n        de: 'Sehr hohe Aktivitt',\r\n        en: 'Very high activity'\r\n    },\r\n    palcat_desc_6: {\r\n        de: 'Krperlich sehr schwere Arbeit, z.B. Bauarbeiter, Mbelpacker, Fitnesstrainer, Bergarbeiter.',\r\n        en: 'Very hard work, such as construction workers, movers, fitness trainers, miners etc.'\r\n    },\r\n    palcat_name_7: {\r\n        de: 'Extrem hohe Aktivitt',\r\n        en: 'Extremely high activity'\r\n    },\r\n    palcat_desc_7: {\r\n        de: 'Bspw. (Hoch-) Leistungssportler.',\r\n        en: 'Such as professional athletes.'\r\n    },\r\n    portion_100g: {\r\n        de: '100 Gramm',\r\n        en: '100 Gram'\r\n    },\r\n    portion_individual: {\r\n        de: 'Individuell',\r\n        en: 'Individual'\r\n    },\r\n    text_contact_disclaimer1: {\r\n        de: 'Alle Rechte vorbehalten.',\r\n        en: 'All rights reserved.'\r\n    },\r\n    text_contact_disclaimer2: {\r\n        de: 'Food Compare basiert auf freien Datenquellen, die im Quellenabschnitt weiter unten aufgelistet sind. Es besteht keinerlei Garantie fr die Korrektheit oder Zuverlssigkeit der ins Projekt geladenen und im Projekt verwendeten Daten. Vinus ist ein freies Programm zur Visualisierung von Nhrwerten in Lebensmitteln, das in keiner Weise medizinische oder biologische Befunde ersetzt, sondern lediglich bestehende Nhrwertdaten und -quellen grafisch aufbereitet darstellt.',\r\n        en: 'Food Compare is based upon free data sources listed in the sources section below. There is no warranty for the correctness or reliability of the data imported to and used within the project. Vinus is a free visualization tool for food nutrients, which does not replace in any way medical or biological food and nutrient data sources and will merely supplement existing food nutrient sources for laypeople that are interested in this matter.'\r\n    },\r\n    text_contact_source1: {\r\n        de: 'Quellen:',\r\n        en: 'Sources:',\r\n    },\r\n    text_contact_source2: {\r\n        de: 'Nhrwert-Daten:',\r\n        en: 'Nutrient Data:',\r\n    },\r\n    text_contact_source3: {\r\n        de: 'Daten fr Tagesbedarf von Vitaminen/Mineralstoffen:',\r\n        en: 'Source for Dietary Requirement of Minerals and Vitamins',\r\n    },\r\n    text_contact_source4: {\r\n        de: 'Berechnung von Grundumsatz und PAL:',\r\n        en: 'Calculation of BMR and PAL:',\r\n    },\r\n    text_empty_fooddatapanel: {\r\n        de: 'Klicken Sie links auf den Plus-Button, um Lebensmittel zum Analysebereich hinzufgen. Es knnen beliebig viele Lebensmittel hinzugefgt werden. Klicken Sie den Stapel-Button, um ein komplexes Lebensmittel bzw. ein Men zusammenzustellen, dessen Gesamtwerte dann agezeigt werden.',\r\n        en: 'Click the plus button on the left to add food elements to the analysis panel. You can add as many food elements as you like. Click the stack button if you want to create complex meals to show their total nutrient data.'\r\n    },\r\n    text_foodcompareapp_1: {\r\n        de: 'Fr Androidgerte bieten wir eine Mobilversion von Food Compare an, welche dieselben Funktionen wie die Website beinhaltet. Zustzlich knnen Lebensmittel dort auch nach einem bestimmten Nhrstoff, Vitamin oder Mineralstoff sortiert werden. So lassen sich leicht Lebensmittel mit den hchsten Werten von einer Gruppe identifizieren.',\r\n        en: 'For Android devices we also provide a mobile app containing the same functionality as the website. Additionally, the mobile app also allows you to rank food by specific nutrients, vitamins or minerals to support users in identifying food elements that have the highest amount of a specific nutrient aspect.',\r\n    },\r\n    text_foodcompareapp_2: {\r\n        de: 'App im Playstore erhalten',\r\n        en: 'Get the App from the Playstore'\r\n    },\r\n    text_setUserdata_p1: {\r\n        de: 'Es werden aktuell Standardwerte fr einen durchschnittlichen Erwachsenen (mnnlich, 35 Jahre) angezeigt.',\r\n        en: 'You are currently seeing the reference data for an average adult (male, 35 years).'\r\n    },\r\n    text_setUserdata_p2: {\r\n        de: 'Geben Sie, bei Bedarf, in den Einstellungen Ihre eigenen Krperdaten fr ein genaueres Ergebnis ein.',\r\n        en: 'For more accurate data, if necessary, please enter your personal body data in the settings menu.'\r\n    },\r\n    text_setUserdata_p3: {\r\n        de: 'Die Referenzwerte beziehen sich auf die eingestellten Nutzerdaten.',\r\n        en: 'The reference data refer to your entered body data.'\r\n    },\r\n    tooltip_icon_charts: {\r\n        de: 'Diagramm-Modus',\r\n        en: 'Chart mode'\r\n    },\r\n    tooltip_icon_close: {\r\n        de: 'Tab schlieen',\r\n        en: 'Close tab'\r\n    },\r\n    tooltip_icon_newFoodItem: {\r\n        de: 'Lebensmittel hinzufgen',\r\n        en: 'Add food item'\r\n    },\r\n    tooltip_icon_newFoodItemStack: {\r\n        de: 'Kombinierte Liste an Lebensmitteln hinzufgen (aggregierte Daten)',\r\n        en: 'Add composite list of food items (aggregated data)'\r\n    },\r\n    tooltip_icon_removeAll: {\r\n        de: 'Alle Tabs schlieen',\r\n        en: 'Close all data tabs'\r\n    },\r\n    tooltip_icon_table: {\r\n        de: 'Tabellen-Modus',\r\n        en: 'Table mode'\r\n    }\r\n}","import ReactSelectOption from \"../../types/ReactSelectOption\";\r\nimport NameType from \"../../types/nutrientdata/NameType\";\r\nimport {getReactSelectOptionsList} from \"./NameTypeService\";\r\n\r\nexport function getCategorySelectList(categories: Array<NameType>, language: string): Array<ReactSelectOption> {\r\n    return getReactSelectOptionsList(categories, language)\r\n}\r\n\r\n","import {ReactSelectFoodClassOption} from \"../../types/ReactSelectOption\";\r\nimport FoodClass from \"../../types/nutrientdata/FoodClass\";\r\nimport getName from \"../LanguageService\";\r\nimport NameType from \"../../types/nutrientdata/NameType\";\r\n\r\nexport function getFoodClassSelectList(foodClasses: Array<FoodClass>, category: number, foodNames: Array<NameType>, language: string): Array<ReactSelectFoodClassOption> {\r\n    const filteredFoodClasses = getFoodClassesOfCategory(foodClasses, category)\r\n\r\n    if(!filteredFoodClasses || filteredFoodClasses.length === 0) {\r\n        return []\r\n    }\r\n\r\n    const reactSelectOptions: Array<ReactSelectFoodClassOption> = []\r\n    filteredFoodClasses.forEach(foodClass => {\r\n        const nameId = foodClass.nameKey\r\n        if(nameId > foodNames.length) {\r\n            console.error(`Illegal food name Id in food class having ID=${foodClass.id}`)\r\n            return\r\n        }\r\n        const nameType = foodNames[nameId-1]\r\n        const foodName = getName(nameType, language)\r\n        reactSelectOptions.push({\r\n            value: foodClass,\r\n            label: foodName\r\n        })\r\n    })\r\n\r\n    reactSelectOptions.sort((obj1, obj2) => obj1.label.localeCompare(obj2.label))\r\n    return reactSelectOptions\r\n}\r\n\r\n\r\nfunction getFoodClassesOfCategory(foodClasses: Array<FoodClass>, category: number): Array<FoodClass> {\r\n    return foodClasses.filter(foodClass => {\r\n        if(category === 0) {\r\n            return foodClass\r\n        } else if(foodClass.category === category) {\r\n            return foodClass\r\n        } else {\r\n            return null\r\n        }\r\n    })\r\n}","import FoodItem from \"../../types/nutrientdata/FoodItem\";\r\nimport NameType from \"../../types/nutrientdata/NameType\";\r\nimport {ReactSelectFoodItemOption} from \"../../types/ReactSelectOption\";\r\nimport getName from \"../LanguageService\";\r\n\r\nexport function getFoodItem(foodItemId: number, foodItems: Array<FoodItem>): FoodItem | null {\r\n    const index = foodItems.findIndex(foodItem => foodItem.id === foodItemId)\r\n    if(index >= 0) {\r\n        return foodItems[index]\r\n    } else {\r\n        return null\r\n    }\r\n}\r\n\r\nexport function getFoodItemsSelectList(foodItems: Array<FoodItem>, foodClass: number, foodNames: Array<NameType>, conditions: Array<NameType>, language: string): Array<ReactSelectFoodItemOption> {\r\n    const filteredFoodItems = getFoodItemsOfFoodclass(foodItems, foodClass)\r\n    const reactSelectOptions: Array<ReactSelectFoodItemOption> = []\r\n\r\n    if(filteredFoodItems && filteredFoodItems.length > 0) {\r\n        filteredFoodItems.forEach(foodItem => {\r\n            const nameId = foodItem.nameId!!\r\n            if(nameId > foodNames.length) {\r\n                console.error(`Illegal food name Id in food item having ID=${foodItem.id}`)\r\n                return\r\n            }\r\n            const nameType = foodNames[nameId-1]\r\n            let foodName = getName(nameType, language)\r\n            const condition = conditions.find(condition => condition.id === foodItem.conditionId)\r\n            const conditionName =condition ? getName(condition, language) : null\r\n\r\n            if(conditionName) {\r\n                foodName = `${foodName} (${conditionName})`\r\n            }\r\n\r\n            reactSelectOptions.push({\r\n                value: foodItem,\r\n                label: foodName\r\n            })\r\n        })\r\n    }\r\n\r\n    return reactSelectOptions\r\n}\r\n\r\n\r\nfunction getFoodItemsOfFoodclass(foodItems: Array<FoodItem>, foodClassId: number): Array<FoodItem> {\r\n    return foodItems.filter(foodItem => {\r\n        if(foodItem.foodClass === foodClassId) {\r\n            return foodItem\r\n        } else {\r\n            return null\r\n        }\r\n    })\r\n}","import NameType from \"../../types/nutrientdata/NameType\";\r\nimport {ReactSelectPortionOption} from \"../../types/ReactSelectOption\";\r\nimport FoodItem, {PortionData} from \"../../types/nutrientdata/FoodItem\";\r\nimport getName from \"../LanguageService\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\n\r\n\r\nexport function getPortionReactSelectList(portionData: Array<PortionData>, portionTypes: Array<NameType>, language: string): Array<ReactSelectPortionOption> {\r\n    const reactSelectOptions: Array<ReactSelectPortionOption> = []\r\n    portionData.forEach(portionElement => {\r\n        const portionTypeIndex = portionTypes.findIndex(portionType => {\r\n             return portionType.id === portionElement.portionType\r\n        })\r\n\r\n        const portionType = portionTypes[portionTypeIndex]\r\n        const portionName = getName(portionType, language)\r\n        reactSelectOptions.push({\r\n            value: portionElement,\r\n            label: portionName\r\n        })\r\n    })\r\n\r\n    reactSelectOptions.push({\r\n        value: {amount: 100, portionType: 1},\r\n        label: applicationStrings.portion_100g[language]\r\n    })\r\n\r\n    reactSelectOptions.push({\r\n        value: {amount: 0, portionType: 0},\r\n        label: applicationStrings.portion_individual[language]\r\n    })\r\n\r\n    return reactSelectOptions\r\n}\r\n\r\n\r\nexport function getDefaultPortionData(foodItem: FoodItem, portionDataList: Array<ReactSelectPortionOption>): ReactSelectPortionOption {\r\n    let defaultPortionIndex = portionDataList.findIndex(portionData => {\r\n        return portionData.value.portionType === foodItem.defaultPortionId\r\n    })\r\n\r\n    if (defaultPortionIndex < 0 || defaultPortionIndex >= portionDataList.length) {\r\n        defaultPortionIndex = 0;\r\n    }\r\n\r\n    return portionDataList[defaultPortionIndex]\r\n}","import {createContext, useState} from \"react\";\r\nimport {LANGUAGE_DE, LANGUAGE_EN} from \"../config/Constants\";\r\n\r\nexport interface LanguageProviderProps {\r\n    language: string\r\n    userLanguageChange: (selectedLanguage: string) => void\r\n}\r\n\r\nexport const LanguageContext = createContext<LanguageProviderProps>({\r\n    language: 'en',\r\n    userLanguageChange: (selectedLanguage) => {return 'en'}\r\n});\r\n\r\nexport function LanguageProvider({ children }) {\r\n    const userLanguage = navigator.language;\r\n    const preferredLanguage = userLanguage === 'de' ? LANGUAGE_DE : LANGUAGE_EN\r\n\r\n    const [language, setLanguage] = useState(preferredLanguage);\r\n\r\n\r\n    const userLanguageChange = (selectedLanaguage: string): void => {\r\n        const newLanguage = selectedLanaguage ? selectedLanaguage : LANGUAGE_EN\r\n        setLanguage(newLanguage);\r\n    }\r\n\r\n    const provider: LanguageProviderProps = {\r\n        language,\r\n        userLanguageChange\r\n    };\r\n\r\n    return (\r\n        <LanguageContext.Provider value={provider}>\r\n            {children}\r\n        </LanguageContext.Provider>\r\n    );\r\n};\r\n\r\n\r\n\r\n","import {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport Select from 'react-select';\r\nimport ReactSelectOption, {\r\n    ReactSelectFoodClassOption,\r\n    ReactSelectFoodItemOption,\r\n    ReactSelectPortionOption\r\n} from \"../../types/ReactSelectOption\";\r\nimport {getCategorySelectList} from \"../../service/nutrientdata/CategoryService\";\r\nimport {getFoodClassSelectList} from \"../../service/nutrientdata/FoodClassService\";\r\nimport {getFoodItemsSelectList} from \"../../service/nutrientdata/FoodItemsService\";\r\nimport FoodItem, {PortionData} from \"../../types/nutrientdata/FoodItem\";\r\nimport {getDefaultPortionData, getPortionReactSelectList} from \"../../service/nutrientdata/PortionDataService\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport FoodClass from \"../../types/nutrientdata/FoodClass\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\n\r\nexport interface FoodSelectorProps {\r\n    updateSelectedFoodItem: (selectedFoodItem: SelectedFoodItem) => void\r\n    compositeSelector: boolean\r\n}\r\n\r\nexport default function FoodSelector(props: FoodSelectorProps): JSX.Element {\r\n    const [selectedCategory, setSelectedCategory] = useState<ReactSelectOption | null>(null)\r\n    const [selectdFoodClass, setSelectedFoodClass] = useState<ReactSelectFoodClassOption | null>(null)\r\n    const [selectedFoodItem, setSelectedFoodItem] = useState<ReactSelectFoodItemOption | null>(null)\r\n    const [selectedPortion, setSelectedPortion] = useState<ReactSelectPortionOption | null>(null)\r\n    const [portionAmount, setPortionAmount] = useState<number>(0)\r\n\r\n    const [categoriesList, setCategoriesList] = useState<Array<ReactSelectOption>>([])\r\n    const [foodClassesList, setFoodClassesList] = useState<Array<ReactSelectFoodClassOption>>([])\r\n    const [foodItemsList, setFoodItemsList] = useState<Array<ReactSelectFoodItemOption>>([])\r\n    const [portionsList, setPortionsList] = useState<Array<ReactSelectPortionOption>>([])\r\n\r\n    const applicationData = useContext(ApplicationDataContextStore)\r\n    const {language} = useContext(LanguageContext)\r\n\r\n    useEffect(() => {\r\n        if (applicationData && applicationData.foodDataCorpus && categoriesList.length === 0) {\r\n            const foodDataCorpus = applicationData.foodDataCorpus\r\n\r\n            if (foodDataCorpus.categories) {\r\n                const categoryItems = getCategorySelectList(foodDataCorpus.categories, language)\r\n                setCategoriesList(categoryItems)\r\n            }\r\n\r\n            if (foodDataCorpus.foodClasses) {\r\n                const foodClasses = getFoodClassSelectList(foodDataCorpus.foodClasses, 0, applicationData.foodDataCorpus.foodNames, language)\r\n                setFoodClassesList(foodClasses)\r\n                const foodClass = foodClasses[0]\r\n                setSelectedFoodClass(foodClass)\r\n\r\n                if (foodDataCorpus.foodItems && foodClasses) {\r\n                    const foodItemsOfFoodClass = getFoodItemsSelectList(foodDataCorpus.foodItems, foodClasses[0].value.id, foodDataCorpus.foodNames,\r\n                        foodDataCorpus.conditions, language)\r\n\r\n                    setFoodItemsList(foodItemsOfFoodClass)\r\n                    setSelectedFoodItem(foodItemsOfFoodClass[0])\r\n                    const foodItem = foodItemsOfFoodClass[0].value\r\n\r\n                    if (foodItem && foodItem.portionData) {\r\n                        const portionDataList = getPortionReactSelectList(foodItem.portionData, foodDataCorpus.portionTypes, language)\r\n                        setPortionsList(portionDataList)\r\n\r\n                        const defaultPortion = getDefaultPortionData(foodItem, portionDataList)\r\n                        setSelectedPortion(defaultPortion)\r\n                        setPortionAmount(defaultPortion.value.amount)\r\n\r\n                        makeSelectedFoodItemObject(foodItem, foodClass.value, defaultPortion.value)\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            // Update data for outer component whenever render is triggered\r\n            makeSelectedFoodItemObject(selectedFoodItem?.value, selectdFoodClass?.value, selectedPortion?.value)\r\n        }\r\n\r\n    }, [selectedFoodItem, selectedPortion, selectdFoodClass, selectedCategory, portionAmount])\r\n\r\n    if (!applicationData) {\r\n        return <div/>\r\n    }\r\n\r\n    const handleCategoryChange = (category: ReactSelectOption) => {\r\n        setSelectedCategory(category)\r\n        updateFoodClasses(category)\r\n    }\r\n\r\n    const handleFoodClassChange = (foodClass: ReactSelectFoodClassOption) => {\r\n        setSelectedFoodClass(foodClass)\r\n        updateFoodItem(foodClass)\r\n    }\r\n\r\n    const handleFoodItemChange = (foodItem: ReactSelectFoodItemOption) => {\r\n        setSelectedFoodItem(foodItem)\r\n        updatePortionsList(foodItem.value)\r\n    }\r\n\r\n    const handlePortionChange = (portion: ReactSelectPortionOption) => {\r\n        setSelectedPortion(portion)\r\n        setPortionAmount(portion.value.amount)\r\n    }\r\n\r\n    const handlePortionAmountChange = (e) => {\r\n        if (!e.target.value) {\r\n            setPortionAmount(0)\r\n            return\r\n        }\r\n\r\n        const amount = parseInt(e.target.value)\r\n\r\n        if (!isNaN(amount)) {\r\n            setPortionAmount(amount)\r\n        }\r\n    }\r\n\r\n    const updateFoodClasses = (category: ReactSelectOption) => {\r\n        const foodClasses = applicationData.foodDataCorpus.foodClasses\r\n\r\n        if (foodClasses) {\r\n            const foodClassItems = getFoodClassSelectList(foodClasses, category.value, applicationData.foodDataCorpus.foodNames, language)\r\n            setFoodClassesList(foodClassItems)\r\n            setSelectedFoodClass(foodClassItems[0])\r\n            updateFoodItem(foodClassItems[0])\r\n        }\r\n    }\r\n\r\n    const updateFoodItem = (foodClass: ReactSelectFoodClassOption) => {\r\n        const foodItems = applicationData.foodDataCorpus.foodItems\r\n        const foodNames = applicationData.foodDataCorpus.foodNames\r\n        const conditions = applicationData.foodDataCorpus.conditions\r\n\r\n        if (foodItems) {\r\n            const foodClassItems = getFoodItemsSelectList(foodItems, foodClass.value.id, foodNames, conditions, language)\r\n            setFoodItemsList(foodClassItems)\r\n            setSelectedFoodItem(foodClassItems[0])\r\n\r\n            const foodItem = foodClassItems[0].value\r\n            if (foodItem) {\r\n                updatePortionsList(foodItem)\r\n            }\r\n        }\r\n    }\r\n\r\n    const updatePortionsList = (foodItem: FoodItem) => {\r\n        const portionDataList = getPortionReactSelectList(foodItem.portionData!!, applicationData.foodDataCorpus.portionTypes, language)\r\n        setPortionsList(portionDataList)\r\n        const defaultPortion = getDefaultPortionData(foodItem, portionDataList)\r\n        setSelectedPortion(defaultPortion)\r\n        setPortionAmount(defaultPortion.value.amount)\r\n    }\r\n\r\n    const makeSelectedFoodItemObject = (foodItem: FoodItem | undefined, foodClass: FoodClass | undefined, portion: PortionData | undefined) => {\r\n        if (!foodItem || !foodClass || !portion) {\r\n            return\r\n        }\r\n\r\n        if (portion.portionType === 0) {\r\n            portion.amount = portionAmount\r\n        }\r\n\r\n        const newFoodItem: SelectedFoodItem = {\r\n            foodItem: foodItem,\r\n            foodClass: foodClass,\r\n            portion: portion\r\n        }\r\n\r\n        props.updateSelectedFoodItem(newFoodItem)\r\n    }\r\n\r\n    const amount_label = props.compositeSelector ? `${applicationStrings.label_amount_short[language]}:` : `${applicationStrings.label_amount[language]}:`\r\n\r\n    return <div>\r\n        <div className=\"container\">\r\n            <div className=\"column select-menu form-section\">\r\n                <span className={'form-label'}>{applicationStrings.label_category[language]}:</span>\r\n                <Select options={categoriesList}\r\n                        value={selectedCategory ? selectedCategory : categoriesList[0]}\r\n                        onChange={(value) => handleCategoryChange(value)}\r\n                />\r\n            </div>\r\n            <div className=\"column select-menu form-section\">\r\n                <span className={'form-label'}>{applicationStrings.label_foodclass[language]}:</span>\r\n                <Select options={foodClassesList}\r\n                        value={selectdFoodClass ? selectdFoodClass : foodClassesList[0]}\r\n                        onChange={(value) => handleFoodClassChange(value)}\r\n                />\r\n            </div>\r\n            <div className=\"column select-menu form-section\">\r\n                <span className={'form-label'}>{applicationStrings.label_fooditem[language]}:</span>\r\n                <Select options={foodItemsList}\r\n                        value={selectedFoodItem ? selectedFoodItem : foodItemsList[0]}\r\n                        onChange={handleFoodItemChange}\r\n                />\r\n            </div>\r\n            <div className=\"column select-menu form-section\">\r\n                <div className={\"row\"}>\r\n                    <div className={\"col-md-9\"}>\r\n                        <span\r\n                            className={'form-label'}>{applicationStrings.label_fooditem[language]}:</span>\r\n                        <Select options={portionsList}\r\n                                value={selectedPortion ? selectedPortion : portionsList[0]}\r\n                                onChange={(value) => handlePortionChange(value)}/>\r\n                    </div>\r\n                    <div className={\"col-md-3\"}>\r\n                        <span\r\n                            className={'form-label'}>{amount_label}</span>\r\n                        <input className=\"form-control inputfield\"\r\n                               disabled={selectedPortion?.value.portionType !== 0}\r\n                               value={portionAmount}\r\n                               onChange={handlePortionAmountChange}\r\n                        />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n}","import FoodItem from \"../../types/nutrientdata/FoodItem\";\r\nimport {round} from \"../../service/calculation/MathService\";\r\nimport React, {useContext} from \"react\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {getNameFromFoodNameList} from \"../../service/nutrientdata/NameTypeService\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {Button} from \"react-bootstrap\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {FaTrash} from \"react-icons/all\";\r\n\r\nexport interface CompositeFoodListProps {\r\n    selectedFoodItems: Array<SelectedFoodItem>\r\n    deleteItem: (index: number) => void\r\n}\r\n\r\nexport function CompositeFoodList(props: CompositeFoodListProps) {\r\n    const languageContext = useContext(LanguageContext)\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n\r\n    const onDeleteItem = (index: number) => {\r\n        props.deleteItem(index)\r\n    }\r\n\r\n    const renderLine = (selectedFoodItem: SelectedFoodItem, index: number) => {\r\n        if(applicationContext) {\r\n            const name = getNameFromFoodNameList(applicationContext.foodDataCorpus.foodNames, selectedFoodItem.foodItem.nameId!!, languageContext.language)\r\n\r\n            return <div className={\"row\"}\r\n                        key={`composite food list ${index}`}\r\n                        style={{borderBottom: \"1px solid #dddddd\", paddingTop: \"6px\"}}>\r\n                <div className={\"col-1\"}>\r\n                    <b>{index+1}.</b>\r\n                </div>\r\n                <div className={\"col-8\"}>\r\n                    {name}\r\n                    <br/>\r\n                    {selectedFoodItem.portion.amount} g\r\n                </div>\r\n                <div className={\"col-3\"}>\r\n                    <Button onClick={() => onDeleteItem(index)}>\r\n                        <FaTrash/>\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        }\r\n\r\n        return <div></div>\r\n    }\r\n\r\n\r\n    console.log('Selected food items', props.selectedFoodItems)\r\n\r\n    return <div className={\"container\"} style={{maxHeight: \"300px\", overflowY: \"auto\"}}>\r\n        {props.selectedFoodItems.map((selectedFoodItem, index) => renderLine(selectedFoodItem, index))}\r\n    </div>\r\n\r\n}","import SelectedFoodItem from \"../types/livedata/SelectedFoodItem\";\r\nimport FoodItem, {\r\n    BaseData,\r\n    CarbohydrateData,\r\n    LipidData,\r\n    MineralData,\r\n    NutrientData,\r\n    ProteinData,\r\n    VitaminData\r\n} from \"../types/nutrientdata/FoodItem\";\r\n\r\nexport default function combineFoodItems(compositeList: Array<SelectedFoodItem>): SelectedFoodItem {\r\n    let portionSize = 0;\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        portionSize += selectedFoodItem.portion.amount\r\n    })\r\n\r\n    const nutrientDataList = buildAggregatedNutrientDataList(compositeList, portionSize);\r\n    const id = new Date().getTime();\r\n\r\n    const aggreatedFoodItem: FoodItem = {\r\n        id: id,\r\n        nutrientDataList: nutrientDataList,\r\n        aggregated: true\r\n    }\r\n\r\n    let combinedFoodItem: SelectedFoodItem = {\r\n        id: id,\r\n        foodItem: aggreatedFoodItem,\r\n        portion: {\r\n            portionType: 999,\r\n            amount: portionSize\r\n        },\r\n        compositeSubElements: compositeList\r\n    };\r\n\r\n    return combinedFoodItem;\r\n}\r\n\r\n\r\nfunction buildAggregatedNutrientDataList(compositeList: Array<SelectedFoodItem>, portionSize: number): Array<NutrientData> {\r\n    const baseData = buildBaseDataObject(compositeList, portionSize);\r\n    const vitaminData = buildVitaminDataObject(compositeList, portionSize);\r\n    const mineralData = buildMineralDataObject(compositeList, portionSize);\r\n    const carbohydrateData = buildCarbohydrateData(compositeList, portionSize);\r\n    const lipidData = buildLipidData(compositeList, portionSize);\r\n    const proteinData = buildProteinData(compositeList, portionSize);\r\n\r\n    let nutrientObject: NutrientData = {\r\n        sourceItemId: \"0\",\r\n        source: {id: 0, url: \"\", name: \"\"},\r\n        baseData: baseData,\r\n        vitaminData: vitaminData,\r\n        mineralData: mineralData,\r\n        carbohydrateData: carbohydrateData,\r\n        lipidData: lipidData,\r\n        proteinData: proteinData\r\n    }\r\n\r\n    nutrientObject = removeNutrientObjectsWithNullValues(nutrientObject, compositeList);\r\n\r\n    const nutrientDataList: Array<NutrientData> = [];\r\n    nutrientDataList.push(nutrientObject);\r\n\r\n    return nutrientDataList;\r\n}\r\n\r\n\r\n/**\r\n * Removes all nutrient data elements that do not exist in ALL of the food elements within the list.\r\n * @param nutrientObject\r\n * @param compositeList\r\n */\r\nfunction removeNutrientObjectsWithNullValues(nutrientObject: NutrientData, compositeList: Array<SelectedFoodItem>) {\r\n    if (!compositeList) {\r\n        return nutrientObject;\r\n    }\r\n\r\n    for (let i = 0; i < compositeList.length; i++) {\r\n        let foodItem = compositeList[i].foodItem;\r\n        const nutrientData = foodItem.nutrientDataList[0];\r\n\r\n        const threshold = 0.1;   // Defines the amount of base data which must exist to set a sub-value to null.\r\n\r\n        // Remove base data\r\n        if (nutrientData.baseData.carbohydrates >= threshold) {\r\n            if (nutrientData.baseData.dietaryFibers == null) {\r\n                nutrientObject.baseData.dietaryFibers = null;\r\n            }\r\n        }\r\n\r\n\r\n        // Lipid data\r\n        if (nutrientData.baseData.lipids >= threshold) {\r\n            if (!nutrientData.lipidData || nutrientData.lipidData.saturated == null) {\r\n                nutrientObject.lipidData.saturated = null;\r\n            }\r\n\r\n            if (!nutrientData.lipidData || nutrientData.lipidData.unsaturatedMono == null) {\r\n                nutrientObject.lipidData.unsaturatedMono = null;\r\n            }\r\n\r\n            if (!nutrientData.lipidData || nutrientData.lipidData.unsaturatedPoly == null) {\r\n                nutrientObject.lipidData.unsaturatedPoly = null;\r\n            }\r\n\r\n            if (!nutrientData.lipidData || nutrientData.lipidData.transFattyAcids == null) {\r\n                nutrientObject.lipidData.transFattyAcids = null;\r\n            }\r\n\r\n            if (!nutrientData.lipidData || nutrientData.lipidData.cholesterol == null) {\r\n                nutrientObject.lipidData.cholesterol = null;\r\n            }\r\n\r\n            if (!nutrientData.lipidData.omegaData &&\r\n                (nutrientData.lipidData && nutrientData.lipidData.unsaturatedPoly && nutrientData.lipidData.unsaturatedPoly > threshold)) {\r\n                nutrientObject.lipidData.omegaData = null;\r\n            }\r\n        }\r\n\r\n\r\n        // Carbohydrate data\r\n        if (nutrientData.baseData.carbohydrates >= threshold) {\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.sugar == null) {\r\n                nutrientObject.carbohydrateData.sugar = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.glucose == null) {\r\n                nutrientObject.carbohydrateData.glucose = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.fructose == null) {\r\n                nutrientObject.carbohydrateData.fructose = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.galactose == null) {\r\n                nutrientObject.carbohydrateData.galactose = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.sucrose == null) {\r\n                nutrientObject.carbohydrateData.sucrose = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.lactose == null) {\r\n                nutrientObject.carbohydrateData.lactose = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.maltose == null) {\r\n                nutrientObject.carbohydrateData.maltose = null;\r\n            }\r\n\r\n            if (!nutrientData.carbohydrateData || nutrientData.carbohydrateData.starch == null) {\r\n                nutrientObject.carbohydrateData.starch = null;\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    return nutrientObject;\r\n}\r\n\r\n\r\nfunction buildBaseDataObject(compositeList: Array<SelectedFoodItem>, portionSize: number): BaseData {\r\n    let energy = 0;\r\n    let carbohydrates = 0;\r\n    let lipids = 0;\r\n    let proteins = 0;\r\n    let water = 0;\r\n    let dietaryFibers = 0;\r\n    let alcohol = 0;\r\n    let ash = 0;\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        const baseData = selectedFoodItem.foodItem.nutrientDataList[0].baseData;\r\n        const userSetPortion = selectedFoodItem.portion.amount;\r\n        const portionFactor = userSetPortion / 100;\r\n\r\n        energy += (baseData.energy ? baseData.energy : 0) * portionFactor;\r\n        carbohydrates += baseData.carbohydrates * portionFactor;\r\n        lipids += baseData.lipids * portionFactor;\r\n        proteins += baseData.proteins * portionFactor;\r\n        water += baseData.water * portionFactor;\r\n        dietaryFibers += (baseData.dietaryFibers ? baseData.dietaryFibers : 0) * portionFactor;\r\n        alcohol += (baseData.alcohol ? baseData.alcohol : 0) * portionFactor;\r\n        ash += (baseData.ash ? baseData.ash : 0) * portionFactor;\r\n    })\r\n\r\n    return {\r\n        energy: createFinalValue(energy, portionSize),\r\n        carbohydrates: createFinalValue(carbohydrates, portionSize),\r\n        lipids: createFinalValue(lipids, portionSize),\r\n        proteins: createFinalValue(proteins, portionSize),\r\n        water: createFinalValue(water, portionSize),\r\n        dietaryFibers: createFinalValue(dietaryFibers, portionSize),\r\n        alcohol: alcohol,\r\n        ash: ash\r\n    }\r\n\r\n}\r\n\r\n\r\nfunction buildVitaminDataObject(compositeList: Array<SelectedFoodItem>, portionSize: number): VitaminData {\r\n    let a = 0\r\n    let b1 = 0\r\n    let b2 = 0\r\n    let b3 = 0\r\n    let b5 = 0\r\n    let b6 = 0\r\n    let b7 = 0\r\n    let b9 = 0\r\n    let b12 = 0\r\n    let c = 0\r\n    let d = 0\r\n    let e = 0\r\n    let k = 0\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        const vitaminData = selectedFoodItem.foodItem.nutrientDataList[0].vitaminData\r\n        const userSetPortion = selectedFoodItem.portion.amount\r\n        const portionFactor = userSetPortion / 100\r\n\r\n        a += (vitaminData.a ? vitaminData.a : 0) * portionFactor\r\n        b1 += (vitaminData.b1 ? vitaminData.b1 : 0) * portionFactor\r\n        b2 += (vitaminData.b2 ? vitaminData.b2 : 0) * portionFactor\r\n        b3 += (vitaminData.b3 ? vitaminData.b3 : 0) * portionFactor\r\n        b5 += (vitaminData.b5 ? vitaminData.b5 : 0) * portionFactor\r\n        b6 += (vitaminData.b6 ? vitaminData.b6 : 0) * portionFactor\r\n        b7 += (vitaminData.b7 ? vitaminData.b7 : 0) * portionFactor\r\n        b9 += (vitaminData.b9 ? vitaminData.b9 : 0) * portionFactor\r\n        b12 += (vitaminData.b12 ? vitaminData.b12 : 0) * portionFactor\r\n        c += (vitaminData.c ? vitaminData.c : 0) * portionFactor\r\n        d += (vitaminData.d ? vitaminData.d : 0) * portionFactor\r\n        e += (vitaminData.e ? vitaminData.e : 0) * portionFactor\r\n        k += (vitaminData.k ? vitaminData.k : 0) * portionFactor\r\n    })\r\n\r\n    return {\r\n        a: createFinalValue(a, portionSize),\r\n        b1: createFinalValue(b1, portionSize),\r\n        b2: createFinalValue(b2, portionSize),\r\n        b3: createFinalValue(b3, portionSize),\r\n        b5: createFinalValue(b5, portionSize),\r\n        b6: createFinalValue(b6, portionSize),\r\n        b7: createFinalValue(b7, portionSize),\r\n        b9: createFinalValue(b9, portionSize),\r\n        b12: createFinalValue(b12, portionSize),\r\n        c: createFinalValue(c, portionSize),\r\n        d: createFinalValue(d, portionSize),\r\n        e: createFinalValue(e, portionSize),\r\n        k: createFinalValue(k, portionSize),\r\n    }\r\n}\r\n\r\n\r\nfunction buildMineralDataObject(compositeList: Array<SelectedFoodItem>, portionSize: number): MineralData {\r\n    let calcium = 0;\r\n    let iron = 0;\r\n    let magnesium = 0;\r\n    let phosphorus = 0;\r\n    let potassium = 0;\r\n    let sodium = 0;\r\n    let zinc = 0;\r\n    let copper = 0;\r\n    let manganese = 0;\r\n    let selenium = 0;\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        const mineralData = selectedFoodItem.foodItem.nutrientDataList[0].mineralData\r\n        const userSetPortion = selectedFoodItem.portion.amount\r\n        const portionFactor = userSetPortion / 100\r\n\r\n        calcium += (mineralData.calcium ? mineralData.calcium : 0) * portionFactor;\r\n        iron += (mineralData.iron ? mineralData.iron : 0) * portionFactor;\r\n        magnesium += (mineralData.magnesium ? mineralData.magnesium : 0)\r\n        phosphorus += (mineralData.phosphorus ? mineralData.phosphorus : 0)\r\n        potassium += (mineralData.potassium ? mineralData.potassium : 0)\r\n        sodium += (mineralData.sodium ? mineralData.sodium : 0)\r\n        zinc += (mineralData.zinc ? mineralData.zinc : 0)\r\n        copper += (mineralData.copper ? mineralData.copper : 0)\r\n        manganese += (mineralData.manganese ? mineralData.manganese : 0)\r\n        selenium += (mineralData.selenium ? mineralData.selenium : 0)\r\n    })\r\n\r\n    return {\r\n        calcium: createFinalValue(calcium, portionSize),\r\n        iron: createFinalValue(iron, portionSize),\r\n        magnesium: createFinalValue(magnesium, portionSize),\r\n        phosphorus: createFinalValue(phosphorus, portionSize),\r\n        potassium: createFinalValue(potassium, portionSize),\r\n        sodium: createFinalValue(sodium, portionSize),\r\n        zinc: createFinalValue(zinc, portionSize),\r\n        copper: createFinalValue(copper, portionSize),\r\n        manganese: createFinalValue(manganese, portionSize),\r\n        selenium: createFinalValue(selenium, portionSize),\r\n    }\r\n}\r\n\r\n\r\nfunction buildCarbohydrateData(compositeList: Array<SelectedFoodItem>, portionSize: number): CarbohydrateData {\r\n    let glucose = 0;\r\n    let fructose = 0;\r\n    let galactose = 0;\r\n    let sucrose = 0;\r\n    let maltose = 0;\r\n    let lactose = 0;\r\n    let starch = 0;\r\n    let sugar = 0;\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        const carbohydrateData = selectedFoodItem.foodItem.nutrientDataList[0].carbohydrateData\r\n        const userSetPortion = selectedFoodItem.portion.amount\r\n        const portionFactor = userSetPortion / 100\r\n\r\n        glucose += (carbohydrateData.glucose ? carbohydrateData.glucose : 0) * portionFactor;\r\n        fructose += (carbohydrateData.fructose ? carbohydrateData.fructose : 0) * portionFactor;\r\n        galactose += (carbohydrateData.galactose ? carbohydrateData.galactose : 0) * portionFactor;\r\n        sucrose += (carbohydrateData.sucrose ? carbohydrateData.sucrose : 0) * portionFactor;\r\n        maltose += (carbohydrateData.maltose ? carbohydrateData.maltose : 0) * portionFactor;\r\n        lactose += (carbohydrateData.lactose ? carbohydrateData.lactose : 0) * portionFactor;\r\n        starch += (carbohydrateData.starch ? carbohydrateData.starch : 0) * portionFactor;\r\n        sugar += (carbohydrateData.sugar ? carbohydrateData.sugar : 0) * portionFactor;\r\n    })\r\n\r\n    return {\r\n        glucose: createFinalValue(glucose, portionSize),\r\n        fructose: createFinalValue(fructose, portionSize),\r\n        galactose: createFinalValue(galactose, portionSize),\r\n        sucrose: createFinalValue(sucrose, portionSize),\r\n        maltose: createFinalValue(maltose, portionSize),\r\n        lactose: createFinalValue(lactose, portionSize),\r\n        starch: createFinalValue(starch, portionSize),\r\n        sugar: createFinalValue(sugar, portionSize),\r\n    }\r\n}\r\n\r\n\r\nfunction buildProteinData(compositeList: Array<SelectedFoodItem>, portionSize: number): ProteinData {\r\n    let tryptophan = 0;\r\n    let threonine = 0;\r\n    let isoleucine = 0;\r\n    let leucine = 0;\r\n    let lysine = 0;\r\n    let methionine = 0;\r\n    let cystine = 0;\r\n    let phenylalanine = 0;\r\n    let tyrosine = 0;\r\n    let valine = 0;\r\n    let arginine = 0;\r\n    let histidine = 0;\r\n    let alanine = 0;\r\n    let asparticAcid = 0;\r\n    let glutamicAcid = 0;\r\n    let glycine = 0;\r\n    let proline = 0;\r\n    let serine = 0;\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        const proteinData = selectedFoodItem.foodItem.nutrientDataList[0].proteinData\r\n        const userSetPortion = selectedFoodItem.portion.amount\r\n        const portionFactor = userSetPortion / 100\r\n\r\n        tryptophan += (proteinData.tryptophan ? proteinData.tryptophan : 0) * portionFactor;\r\n        threonine += (proteinData.threonine ? proteinData.threonine : 0) * portionFactor;\r\n        isoleucine += (proteinData.isoleucine ? proteinData.isoleucine : 0) * portionFactor;\r\n        leucine += (proteinData.leucine ? proteinData.leucine : 0) * portionFactor;\r\n        lysine += (proteinData.lysine ? proteinData.lysine : 0) * portionFactor;\r\n        methionine += (proteinData.methionine ? proteinData.methionine : 0) * portionFactor;\r\n        cystine += (proteinData.cystine ? proteinData.cystine : 0) * portionFactor;\r\n        phenylalanine += (proteinData.phenylalanine ? proteinData.phenylalanine : 0) * portionFactor;\r\n        tyrosine += (proteinData.tyrosine ? proteinData.tyrosine : 0) * portionFactor;\r\n        valine += (proteinData.valine ? proteinData.valine : 0) * portionFactor;\r\n        arginine += (proteinData.arginine ? proteinData.arginine : 0) * portionFactor;\r\n        histidine += (proteinData.histidine ? proteinData.histidine : 0) * portionFactor;\r\n        alanine += (proteinData.alanine ? proteinData.alanine : 0) * portionFactor;\r\n        asparticAcid += (proteinData.asparticAcid ? proteinData.asparticAcid : 0) * portionFactor;\r\n        glutamicAcid += (proteinData.glutamicAcid ? proteinData.glutamicAcid : 0) * portionFactor;\r\n        glycine += (proteinData.glycine ? proteinData.glycine : 0) * portionFactor;\r\n        proline += (proteinData.proline ? proteinData.proline : 0) * portionFactor;\r\n        serine += (proteinData.serine ? proteinData.serine : 0) * portionFactor;\r\n    })\r\n\r\n    return {\r\n        tryptophan: createFinalValue(tryptophan, portionSize),\r\n        threonine: createFinalValue(threonine, portionSize),\r\n        isoleucine: createFinalValue(isoleucine, portionSize),\r\n        leucine: createFinalValue(leucine, portionSize),\r\n        lysine: createFinalValue(lysine, portionSize),\r\n        methionine: createFinalValue(methionine, portionSize),\r\n        cystine: createFinalValue(cystine, portionSize),\r\n        phenylalanine: createFinalValue(phenylalanine, portionSize),\r\n        tyrosine: createFinalValue(tyrosine, portionSize),\r\n        valine: createFinalValue(valine, portionSize),\r\n        arginine: createFinalValue(arginine, portionSize),\r\n        histidine: createFinalValue(histidine, portionSize),\r\n        alanine: createFinalValue(alanine, portionSize),\r\n        asparticAcid: createFinalValue(asparticAcid, portionSize),\r\n        glutamicAcid: createFinalValue(glutamicAcid, portionSize),\r\n        glycine: createFinalValue(glycine, portionSize),\r\n        proline: createFinalValue(proline, portionSize),\r\n        serine: createFinalValue(serine, portionSize),\r\n    }\r\n\r\n}\r\n\r\n\r\nfunction buildLipidData(compositeList: Array<SelectedFoodItem>, portionSize: number): LipidData {\r\n    let unsaturatedMono = 0;\r\n    let unsaturatedPoly = 0;\r\n    let saturated = 0;\r\n    let omega3 = 0;\r\n    let omega6 = 0;\r\n    let omegaUncertain = 0;\r\n    let cholesterol = 0;\r\n    let transFattyAcids = 0;\r\n\r\n    compositeList.forEach(selectedFoodItem => {\r\n        const lipidData = selectedFoodItem.foodItem.nutrientDataList[0].lipidData\r\n        const userSetPortion = selectedFoodItem.portion.amount\r\n        const portionFactor = userSetPortion / 100\r\n\r\n        unsaturatedMono += (lipidData.unsaturatedMono ? lipidData.unsaturatedMono : 0) * portionFactor;\r\n        unsaturatedPoly += (lipidData.unsaturatedPoly ? lipidData.unsaturatedPoly : 0) * portionFactor;\r\n        saturated += (lipidData.saturated ? lipidData.saturated : 0) * portionFactor;\r\n        omega3 += (lipidData.omegaData?.omega3 ? lipidData.omegaData.omega3 : 0) * portionFactor;\r\n        omega6 += (lipidData.omegaData?.omega6 ? lipidData.omegaData.omega6 : 0) * portionFactor;\r\n        omegaUncertain += (lipidData.omegaData?.uncertain ? lipidData.omegaData.uncertain : 0) * portionFactor;\r\n        cholesterol += (lipidData.cholesterol ? lipidData.cholesterol : 0) * portionFactor;\r\n        transFattyAcids += (lipidData.transFattyAcids ? lipidData.transFattyAcids : 0) * portionFactor;\r\n    })\r\n\r\n    const omegaRatio = (omega3 + omega6) / (omega3 + omega6 + omegaUncertain)\r\n\r\n    return {\r\n        unsaturatedMono: createFinalValue(unsaturatedMono, portionSize),\r\n        unsaturatedPoly: createFinalValue(unsaturatedPoly, portionSize),\r\n        saturated: createFinalValue(saturated, portionSize),\r\n        omegaData: {\r\n            omega3: createFinalValue(omega3, portionSize),\r\n            omega6: createFinalValue(omega6, portionSize),\r\n            uncertain: createFinalValue(omegaUncertain, portionSize),\r\n            uncertainRatio: omegaRatio\r\n        },\r\n        cholesterol: createFinalValue(cholesterol, portionSize),\r\n        transFattyAcids: createFinalValue(transFattyAcids, portionSize),\r\n    }\r\n}\r\n\r\n\r\nfunction createFinalValue(value, totalPortionAmount) {\r\n    return (value / totalPortionAmount) * 100;\r\n}","import React, {useContext, useState} from 'react'\r\n\r\nimport {Button, Modal} from 'react-bootstrap'\r\n\r\nimport {NotificationManager} from 'react-notifications'\r\nimport 'react-notifications/lib/notifications.css';\r\n\r\nimport FoodSelector from \"./FoodSelector\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {CompositeFoodList} from \"./CompositeFoodList\";\r\nimport {maximalPortionSize} from \"../../config/ApplicationSetting\";\r\nimport combineFoodItems from \"../../service/FoodDataAggregationService\";\r\n\r\nexport interface FoodSelectorModalProps {\r\n    onHide: () => void,\r\n    selectedFoodItemCallback: (selectedFoodItem: SelectedFoodItem) => void\r\n    compositeSelector: boolean\r\n}\r\n\r\n\r\nconst FoodSelectorModal: React.FC<FoodSelectorModalProps> = (props: FoodSelectorModalProps) => {\r\n    const [selectedFoodItem, setSelectedFoodItem] = useState<SelectedFoodItem | null>(null)\r\n    const [compositeList, setCompositeList] = useState<Array<SelectedFoodItem>>([])\r\n\r\n    const applicationData = useContext(ApplicationDataContextStore)\r\n    const {language} = useContext(LanguageContext)\r\n\r\n    if (!applicationData) {\r\n        return <div/>\r\n    }\r\n\r\n    const updateSelectedFoodItem = (selectedFoodItem: SelectedFoodItem): void => {\r\n        setSelectedFoodItem(selectedFoodItem)\r\n    }\r\n\r\n    const addCompositeElement = () => {\r\n        if (selectedFoodItem !== null) {\r\n            const newList: Array<SelectedFoodItem> = [...compositeList]\r\n            newList.push(selectedFoodItem)\r\n            setCompositeList(newList)\r\n        }\r\n    }\r\n\r\n    const deleteCompositeElement = (index: number) => {\r\n        const newList: Array<SelectedFoodItem> = [...compositeList]\r\n        newList.splice(index, 1)\r\n        setCompositeList(newList)\r\n    }\r\n\r\n    const onSubmit = () => {\r\n        if (props.compositeSelector) {\r\n            onSubmitComposite()\r\n        } else {\r\n            onSubmitSingleItem()\r\n        }\r\n    }\r\n\r\n    const onSubmitSingleItem = () => {\r\n        const foodItemId = selectedFoodItem ? selectedFoodItem.foodItem.id : null\r\n        if (foodItemId) {\r\n            const existingItemInList = applicationData?.applicationData.foodDataPanel.selectedFoodItems.find(foodItem => foodItem.id === foodItemId)\r\n\r\n            if (existingItemInList) {\r\n                NotificationManager.error(applicationStrings.message_error_existing_element[language])\r\n                return\r\n            }\r\n        }\r\n\r\n        if (!selectedFoodItem || !selectedFoodItem.foodItem || !selectedFoodItem.foodClass || !selectedFoodItem.portion) {\r\n            NotificationManager.error(applicationStrings.message_error_incomplete_form[language])\r\n        } else if (selectedFoodItem.portion.amount < 1 || selectedFoodItem.portion.amount > maximalPortionSize) {\r\n            NotificationManager.error(applicationStrings.message_error_invalid_portion[language])\r\n        } else {\r\n            props.selectedFoodItemCallback(selectedFoodItem)\r\n            props.onHide()\r\n        }\r\n    }\r\n\r\n    const onSubmitComposite = () => {\r\n        const aggregatedSelectedFoodItem = combineFoodItems(compositeList)\r\n\r\n        if(!aggregatedSelectedFoodItem) {\r\n            console.error('Error while creating aggregated food item.')\r\n            return\r\n        }\r\n\r\n        props.selectedFoodItemCallback(aggregatedSelectedFoodItem)\r\n        props.onHide()\r\n    }\r\n\r\n    const onCancel = () => {\r\n        props.onHide()\r\n    }\r\n\r\n    const title = props.compositeSelector ? applicationStrings.label_foodselector_composite[language] : applicationStrings.label_foodselector[language]\r\n\r\n    return (\r\n        <Modal size={'lg'} show={true} onHide={props.onHide}>\r\n            <Modal.Header>\r\n                <b>{title}</b>\r\n            </Modal.Header>\r\n            <Modal.Body>\r\n                <div>\r\n                    {!props.compositeSelector ?\r\n                        <FoodSelector updateSelectedFoodItem={updateSelectedFoodItem} compositeSelector={false}/>\r\n                        :\r\n                        <div className={\"container\"}>\r\n                            <div className={\"row\"}>\r\n                                <div className={\"col-6\"}>\r\n                                    <FoodSelector updateSelectedFoodItem={updateSelectedFoodItem}\r\n                                                  compositeSelector={true}/>\r\n                                </div>\r\n                                <div className={\"col-6\"}>\r\n                                    <CompositeFoodList selectedFoodItems={compositeList}\r\n                                                       deleteItem={deleteCompositeElement}/>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </Modal.Body>\r\n            <Modal.Footer>\r\n                <div className={\"container-fluid\"}>\r\n                    {props.compositeSelector ?\r\n                        <Button className={\"form-button float-end\"}\r\n                                onClick={onSubmit}\r\n                                disabled={!compositeList || compositeList.length < 1}>\r\n                            {applicationStrings.button_show[language]}\r\n                        </Button>\r\n                        :\r\n                        <Button className={\"form-button float-end\"} onClick={onSubmit}>\r\n                            {applicationStrings.button_select[language]}\r\n                        </Button>\r\n                    }\r\n\r\n                    {props.compositeSelector &&\r\n                    <Button className={\"form-button float-end\"} onClick={addCompositeElement}>\r\n                        {applicationStrings.button_add[language]}\r\n                    </Button>\r\n                    }\r\n\r\n                    <Button className={\"btn-secondary form-button float-end\"} onClick={onCancel}>\r\n                        {applicationStrings.button_cancel[language]}\r\n                    </Button>\r\n                </div>\r\n            </Modal.Footer>\r\n        </Modal>\r\n    )\r\n\r\n}\r\n\r\nexport default FoodSelectorModal","/**\r\n * Checks whether a value is a positive integer value.\r\n */\r\nexport function isPositiveIntegerValue(value) {\r\n    const number = Number(value);\r\n    return Number.isInteger(number) && number > 0;\r\n}\r\n\r\n/**\r\n * Checks whether a value is a positive integer value or 0.\r\n */\r\nexport function isPositiveIntegerValueOrZero(value) {\r\n    const number = Number(value);\r\n    return Number.isInteger(number) && number >= 0;\r\n}\r\n\r\n/**\r\n * Rounds a value between 0 and 100 automatically to a reasonable number of digits:\r\n *\r\n * - Generally the value is rounded to one digit.\r\n * - Between 1 and 10, the value is rounded to two digits.\r\n * - Between 0.1 and 1, the value is rounded to three digits.\r\n * - Between 0.01 and 0.1, the value is rounded to four digits.\r\n * - Otherwise it is rounded to five digits.\r\n *\r\n */\r\nexport function autoRound(value) {\r\n    let roundFactor = 0;   // Default round factor\r\n\r\n    if(value >= 100) {\r\n        roundFactor = 0;\r\n    } else if(value < 100 && value >= 10) {\r\n        roundFactor = 1;\r\n    } else if(value < 10 && value >= 1) {\r\n        roundFactor = 2;\r\n    } else if(value < 1 && value >= 0.1) {\r\n        roundFactor = 3;\r\n    } else if(value < 0.1 && value >= 0.01) {\r\n        roundFactor = 4;\r\n    } else {\r\n        roundFactor = 5;\r\n    }\r\n\r\n    return round(value, roundFactor);\r\n}\r\n\r\n/**\r\n * Simple round function to round a number to a specific number of digits.\r\n */\r\nexport function round(value, digits) {\r\n    const roundFactor = Math.pow(10, digits);\r\n    return (Math.round(value * roundFactor)) / roundFactor;\r\n}","export const color_yellow = \"rgba(255, 255, 153, 1.0)\";   // Default for Lipids\r\nexport const color_green = \"rgba(132, 225, 132, 1.0)\";   // Default for Carbs\r\n\r\nexport const color_green_light = \"rgba(196, 236, 193, 1.0)\";   // Default for Sugar (as part of carbs)\r\nexport const color_red = \"rgba(255, 204, 204, 1.0)\";   // Default for proteins\r\nexport const color_blue = \"rgba(133, 193, 233, 1.0)\";   // Default for Water\r\nexport const color_purple = \"rgba(213, 205, 237, 1.0)\"; // Default color for a blue line\r\n\r\nexport const color_brown = \"rgba(202, 132, 0)\";\r\n\r\nexport const color_gray = \"rgba(235, 235, 235, 1.0)\"; // Default color for a blue line\r\nexport const color_line_blue = \"rgba(0, 107, 215, 1.0)\"; // Default color for a blue line\r\nexport const color_line_red = \"rgba(255, 102, 102, 1.0)\"; // Default color for a red line\r\n\r\nexport const color_chart_green_1 = \"rgba(39, 177, 96)\";\t\t// Dark green\r\nexport const color_chart_green_2 = \"rgba(137, 238, 137)\";\t// Normal green\r\nexport const color_chart_green_3 = \"rgba(214, 245, 214)\";\t\t// Light green\r\n\r\nexport const color_chart_yellow_1 = \"rgba(212, 172, 13)\";\t\t// Dark yellow\r\nexport const color_chart_yellow_2 = \"rgba(244, 208, 63)\";\t// Normal yellow\r\nexport const color_chart_yellow_3 = \"rgba(249, 231, 159)\";\t\t// Light yellow\r\n\r\nexport const color_chart_orange = \"rgba(230, 126, 34)\";\r\nexport const color_chart_misc = color_gray;\r\n\r\nexport const basedata_chart_height = 300;\r\nexport const basedata_piechart_width = 300;\r\nexport const basedata_barchart_width = 380;\r\n\r\nexport const default_chart_height = 380;\r\nexport const default_chart_width = 800;\r\n\r\nexport const energy_chart_height = 413;\r\n\r\nexport const minimal_table_height = energy_chart_height;\r\n\r\nexport const max_portion = 5000;\r\n\r\nexport const color_water = color_blue;\r\nexport const color_lipids = color_yellow;\r\nexport const color_carbs = color_green;\r\nexport const color_carbs_sugar = color_green_light;\r\nexport const color_carbs_dietaryFibers = color_chart_green_1;\r\nexport const color_carbs_misc = color_gray;\r\n\r\nexport const color_proteins = color_red;\r\n\r\nexport const color_lipids_saturated = color_brown;\r\nexport const color_lipids_unsaturated_mono = color_chart_yellow_2;\r\nexport const color_lipids_unsaturated_poly = color_chart_yellow_3;\r\n\r\nexport const color_lipids_omega3 = color_chart_yellow_2;\r\nexport const color_lipids_omega6 = color_brown;\r\n\r\nexport const color_lipids_misc = color_gray;\r\n\r\nexport const color_ash = color_gray;","/**\r\n * Returns a default-styled configuration for a bar chart.\r\n *\r\n * title: The charts title.\r\n * unit: The unit to use for the axis title and tooltip.\r\n * minYValue: Optional, a pre-defined maxYValue for the Y axis (e.g. 100)\r\n */\r\nimport {shortenName} from \"./nutrientdata/NameTypeService\";\r\n\r\nexport function getBarChartOptions(title: string, unit: string, maxYValue?: number | undefined) {\r\n    let yAxis: any = {\r\n        title: {\r\n            display: true,\r\n            text: unit\r\n        }\r\n    }\r\n\r\n    if(maxYValue) {\r\n        yAxis = {...yAxis, min: 0, max: maxYValue}\r\n    }\r\n\r\n    const scalesObject = {y: yAxis}\r\n\r\n    return getOptions(title, unit, scalesObject);\r\n}\r\n\r\n\r\nexport function getBarChartOptionsForRanking(title: string, unit: string) {\r\n    const scales = getScalesForRankingChart(unit);\r\n    return getOptions(title, unit, scales);\r\n}\r\n\r\n\r\nexport function getPieChartOptions(title: string, unit: string) {\r\n    return getOptions(title, unit);\r\n}\r\n\r\n\r\nfunction getOptions(title: string, unit: string, scalesObject?: any | undefined) {\r\n    const titleObj = title ? {display: true, text: title, fontSize: 18} : null;\r\n\r\n    let options: any = {\r\n        maintainAspectRatio: false,\r\n        responsive: true,\r\n        plugins: {\r\n            title: titleObj,\r\n            tooltip: getToolTips(unit),\r\n            legend: {\r\n                display: false\r\n            },\r\n        }\r\n    }\r\n\r\n    if (scalesObject !== undefined) {\r\n        options = {...options, scales: scalesObject}\r\n    }\r\n\r\n    return options;\r\n}\r\n\r\nfunction getToolTips(unit: string) {\r\n    return {\r\n        enabled: true,\r\n        maintainAspectRatio: true,\r\n        callbacks: {\r\n            label: tooltipItem => `${tooltipItem.label}: ${tooltipItem.formattedValue} ${unit}`\r\n        }\r\n    };\r\n}\r\n\r\n\r\nfunction getScalesForRankingChart(unit: string) {\r\n    let scaleLabel: any | null = null;\r\n\r\n    if (unit) {\r\n        scaleLabel = {\r\n            display: true,\r\n            labelString: unit\r\n        }\r\n    }\r\n\r\n    let axesObj = {};\r\n    if (scaleLabel) {\r\n        axesObj[\"scaleLabel\"] = scaleLabel;\r\n    }\r\n\r\n    const yAxes = [axesObj];\r\n\r\n    const scales = {\r\n        yAxes: yAxes,\r\n        xAxes: [{\r\n            ticks: {\r\n                autoSkip: false,\r\n                callback: function (value, index, values) {\r\n                    return shortenName(value, 24);\r\n                }\r\n            }\r\n        }]\r\n    };\r\n\r\n    return scales;\r\n}","import {useContext} from \"react\";\r\nimport {LanguageContext} from \"../../../../contexts/LangContext\";\r\nimport {applicationStrings} from \"../../../../static/labels\";\r\nimport {CHART_TYPE_BAR, CHART_TYPE_PIE} from \"../../../../config/Constants\";\r\nimport {Form, FormCheck} from 'react-bootstrap';\r\n\r\ninterface ChartProps {\r\n    chartType: string\r\n    showLegend: boolean\r\n    showDetails?: boolean\r\n    detailsCheckboxAvailable?: boolean\r\n    handleRadioButtonClick: (event: any) => void\r\n    handleLegendCheckboxClick: (event: any) => void\r\n    handleDetailsCheckboxClick?: (event: any) => void\r\n}\r\n\r\nexport function ChartOptionSelector(props: ChartProps) {\r\n    const languageContext = useContext(LanguageContext)\r\n\r\n    return (\r\n        <div className=\"container form-main\">\r\n            <div className=\"row\">\r\n                <form className=\"form-inline form-group\">\r\n                    <Form.Label className=\"form-elements\">\r\n                        <b>{applicationStrings.label_charttype[languageContext.language]}:</b>\r\n                    </Form.Label>\r\n                    <Form.Check inline={true}\r\n                                label={applicationStrings.label_charttype_pie[languageContext.language]}\r\n                                type=\"radio\"\r\n                                value={CHART_TYPE_PIE}\r\n                                checked={props.chartType === CHART_TYPE_PIE}\r\n                                onChange={props.handleRadioButtonClick}>\r\n                    </Form.Check>\r\n                    <Form.Check inline={true}\r\n                                style={{paddingRight: \"48px\"}}\r\n                                label={applicationStrings.label_charttype_bar[languageContext.language]}\r\n                                type=\"radio\"\r\n                                value={CHART_TYPE_BAR}\r\n                                checked={props.chartType === CHART_TYPE_BAR}\r\n                                onChange={props.handleRadioButtonClick}>\r\n                    </Form.Check>\r\n                    <Form.Check inline={true}\r\n                                label={applicationStrings.checkbox_chartoption_showLegend[languageContext.language]}\r\n                                defaultChecked={props.showLegend}\r\n                                disabled={props.chartType === CHART_TYPE_BAR}\r\n                                onClick={props.handleLegendCheckboxClick}>\r\n                    </Form.Check>\r\n                    {props.detailsCheckboxAvailable &&\r\n                    <Form.Check inline={true}\r\n                                label={applicationStrings.checkbox_chartoption_showDetails[languageContext.language]}\r\n                                defaultChecked={props.showDetails}\r\n                                onClick={props.handleDetailsCheckboxClick}>\r\n                    </Form.Check>\r\n                    }\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}","import {ReactElement} from \"react\";\r\n\r\ninterface CustomLegendProps {\r\n    legendData: Array<any>\r\n}\r\n\r\nexport function CustomLegend(props: CustomLegendProps) {\r\n\r\n    const renderLegend = () => {\r\n        let legend: Array<ReactElement> = [];\r\n\r\n        for (let i = 0; i < props.legendData.length; i++) {\r\n            const element = props.legendData[i];\r\n            const indent = element.indent > 0 ? \"25px\" : \"0px\";\r\n            const verticalSpace = element.separateNextElement ? \"15px\" : \"0px\";\r\n            const id = `legendrow ${i}`;\r\n\r\n            legend.push(\r\n                <div key={id} className=\"row\" style={{marginLeft: indent, marginBottom: verticalSpace}}>\r\n                    <div style={{display: \"flex\"}}>\r\n                        <div className=\"legendItem\" style={{background: element.color}}></div>\r\n                        <p style={{marginTop: \"-3px\"}}>{element.item}</p>\r\n                    </div>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        return legend;\r\n    }\r\n\r\n\r\n    return (\r\n        <div className={\"form-main\"} style={{borderLeft: \"1px solid #aaaaaa\", paddingLeft: \"5px\"}}>\r\n            <div style={{paddingTop: \"4px\"}}>\r\n                {renderLegend()}\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n\r\n}","import {ChartProps} from \"../ChartPanel\";\r\nimport {useContext, useEffect, useState} from \"react\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport {autoRound} from \"../../../service/calculation/MathService\";\r\nimport * as ChartConfig from \"../../../config/ChartConfig\"\r\nimport {CHART_TYPE_BAR, CHART_TYPE_PIE} from \"../../../config/Constants\";\r\nimport {Bar, Pie} from \"react-chartjs-2\";\r\nimport {getBarChartOptions, getPieChartOptions} from \"../../../service/ChartService\";\r\nimport {ChartOptionSelector} from \"./helper/ChartOptionSelector.\";\r\nimport {CustomLegend} from \"./helper/CustomLegend\";\r\nimport {default_chart_height} from \"../../../config/ChartConfig\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {initialChartConfigData} from \"../../../config/ApplicationSetting\";\r\nimport {set} from \"react-ga\";\r\n\r\nexport default function BaseDataChart(props: ChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n\r\n    const chartConfig = applicationContext\r\n        ? applicationContext.applicationData.foodDataPanel.chartConfigData.baseChartConfig\r\n        : initialChartConfigData.baseChartConfig\r\n\r\n    const [chartType, setChartType] = useState<string>(chartConfig.chartType)\r\n    const [showLegend, setShowLegend] = useState<boolean>(chartConfig.showLegend)\r\n    const [showDetails, setShowDetails] = useState<boolean>(chartConfig.showDetails)\r\n\r\n    useEffect(() => {\r\n        updateChartConfig()\r\n    }, [chartType, showDetails, showLegend])\r\n\r\n    const updateChartConfig = () => {\r\n        if (applicationContext) {\r\n            const newChartConfig = {\r\n                ...applicationContext.applicationData.foodDataPanel.chartConfigData,\r\n                baseChartConfig: {\r\n                    chartType: chartType,\r\n                    showDetails: showDetails,\r\n                    showLegend: showLegend\r\n                }\r\n            }\r\n            applicationContext.updateChartConfig(newChartConfig)\r\n        }\r\n    }\r\n\r\n    const createTotalChartData = () => {\r\n        const nutrientData = props.selectedFoodItem.foodItem.nutrientDataList[0];\r\n\r\n        return {\r\n            labels: [applicationStrings.label_nutrient_water[lang],\r\n                applicationStrings.label_nutrient_carbohydrates_short[lang],\r\n                applicationStrings.label_nutrient_lipids[lang],\r\n                applicationStrings.label_nutrient_proteins[lang],\r\n                applicationStrings.label_nutrient_ash[lang]],\r\n            datasets: [{\r\n                label: applicationStrings.label_chart_totalComposition[lang],\r\n                data: [autoRound(nutrientData.baseData.water),\r\n                    autoRound(nutrientData.baseData.carbohydrates),\r\n                    autoRound(nutrientData.baseData.lipids),\r\n                    autoRound(nutrientData.baseData.proteins),\r\n                    autoRound(nutrientData.baseData.ash)\r\n                ],\r\n                backgroundColor: [\r\n                    ChartConfig.color_water,\r\n                    ChartConfig.color_carbs,\r\n                    ChartConfig.color_lipids,\r\n                    ChartConfig.color_proteins,\r\n                    ChartConfig.color_ash,\r\n                ],\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n\r\n        }\r\n    }\r\n\r\n\r\n    const createNutrientChartData = () => {\r\n        const nutrientData = props.selectedFoodItem.foodItem.nutrientDataList[0];\r\n        const totalValue = nutrientData.baseData.carbohydrates + nutrientData.baseData.lipids + nutrientData.baseData.proteins;\r\n\r\n        const sugar = nutrientData.carbohydrateData?.sugar ? nutrientData.carbohydrateData.sugar : 0\r\n        const dietaryFibers = nutrientData.baseData.dietaryFibers ? nutrientData.baseData.dietaryFibers : 0\r\n\r\n        let carbValue = showDetails ? (nutrientData.baseData.carbohydrates - sugar - dietaryFibers)\r\n            : nutrientData.baseData.carbohydrates;\r\n\r\n        if (carbValue < 0) {\r\n            carbValue = 0\r\n        }\r\n\r\n        const carbValuePerc = autoRound(carbValue / totalValue * 100)\r\n        const sugarValuePerc = autoRound(sugar / totalValue * 100)\r\n        const dietaryFibersPerc = autoRound(dietaryFibers / totalValue * 100)\r\n        const lipidValuePerc = autoRound(nutrientData.baseData.lipids / totalValue * 100)\r\n        const proteinsValuePerc = autoRound(nutrientData.baseData.proteins / totalValue * 100)\r\n\r\n        const labels = [applicationStrings.label_nutrient_lipids[lang],\r\n            applicationStrings.label_nutrient_proteins[lang],\r\n            applicationStrings.label_nutrient_carbohydrates_short[lang]]\r\n\r\n        const values = [lipidValuePerc, proteinsValuePerc, carbValuePerc];\r\n\r\n        const backgroundColors = [\r\n            ChartConfig.color_lipids,\r\n            ChartConfig.color_proteins,\r\n            ChartConfig.color_carbs\r\n        ];\r\n\r\n        if (showDetails) {\r\n            if (sugarValuePerc > 0) {\r\n                labels.push(applicationStrings.label_nutrient_sugar[lang]);\r\n                values.push(sugarValuePerc);\r\n                backgroundColors.push(ChartConfig.color_carbs_sugar);\r\n            }\r\n            if (dietaryFibersPerc > 0) {\r\n                labels.push(applicationStrings.label_nutrient_dietaryFibers_short[lang]);\r\n                values.push(dietaryFibersPerc);\r\n                backgroundColors.push(ChartConfig.color_carbs_dietaryFibers);\r\n            }\r\n        }\r\n\r\n        return {\r\n            labels: labels,\r\n            datasets: [{\r\n                label: applicationStrings.label_chart_nutrientComposition[lang],\r\n                data: values,\r\n                backgroundColor: backgroundColors,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        }\r\n    }\r\n\r\n\r\n    const getLegendData = () => {\r\n        const legendData: Array<any> = [\r\n            {\r\n                item: applicationStrings.label_nutrient_water[lang],\r\n                color: ChartConfig.color_water,\r\n                separateNextElement: true\r\n            },\r\n            {\r\n                item: applicationStrings.label_nutrient_lipids[lang],\r\n                color: ChartConfig.color_lipids\r\n            },\r\n            {\r\n                item: applicationStrings.label_nutrient_proteins[lang],\r\n                color: ChartConfig.color_proteins\r\n            },\r\n            {\r\n                item: applicationStrings.label_nutrient_carbohydrates_short[lang],\r\n                color: ChartConfig.color_carbs,\r\n            }\r\n        ];\r\n\r\n        if (showDetails) {\r\n            legendData.push(\r\n                {\r\n                    item: applicationStrings.label_nutrient_sugar[lang],\r\n                    color: ChartConfig.color_carbs_sugar,\r\n                    indent: 1,\r\n                },\r\n                {\r\n                    item: applicationStrings.label_nutrient_dietaryFibers[lang],\r\n                    color: ChartConfig.color_carbs_dietaryFibers,\r\n                    indent: 1,\r\n                    separateNextElement: true\r\n                }\r\n            );\r\n\r\n        }\r\n\r\n        legendData.push({\r\n            item: applicationStrings.label_nutrient_ash[lang],\r\n            color: ChartConfig.color_ash\r\n        })\r\n\r\n        return legendData;\r\n    }\r\n\r\n\r\n    const handleRadioButtonClick = (event: any) => {\r\n        setChartType(event.target.value)\r\n    }\r\n\r\n    const handleLegendCheckboxClick = () => {\r\n        setShowLegend(!showLegend)\r\n    }\r\n\r\n    const handleDetailsCheckboxClick = () => {\r\n        setShowDetails(!showDetails)\r\n    }\r\n\r\n    const legendAllowed = showLegend && chartType === CHART_TYPE_PIE\r\n\r\n    const getOptions = (title) => {\r\n        let options = chartType === CHART_TYPE_BAR ? getBarChartOptions(title, \"%\") : getPieChartOptions(title, \"%\")\r\n        return options\r\n    }\r\n\r\n    const renderTotalChart = () => {\r\n        const totalChartData = createTotalChartData();\r\n        if (!totalChartData) {\r\n            return <div/>\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {chartType === CHART_TYPE_PIE &&\r\n                <Pie\r\n                    data={totalChartData}\r\n                    height={ChartConfig.basedata_chart_height}\r\n                    width={ChartConfig.basedata_piechart_width}\r\n                    options={getOptions(applicationStrings.label_chart_totalComposition[lang])}\r\n                    type={\"pie\"}/>\r\n                }\r\n                {chartType === CHART_TYPE_BAR &&\r\n                <Bar\r\n                    data={totalChartData}\r\n                    height={ChartConfig.basedata_chart_height}\r\n                    width={ChartConfig.basedata_barchart_width}\r\n                    options={getOptions(applicationStrings.label_chart_totalComposition[lang])}\r\n                    type={\"bar\"}/>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    const renderNutrientChart = () => {\r\n        const nutrientChartData = createNutrientChartData();\r\n\r\n        return (\r\n            <div className=\"chart\">\r\n                {chartType === CHART_TYPE_PIE &&\r\n                <Pie\r\n                    data={nutrientChartData}\r\n                    height={ChartConfig.basedata_chart_height}\r\n                    width={ChartConfig.basedata_piechart_width}\r\n                    options={getOptions(applicationStrings.label_chart_nutrientComposition[lang])}\r\n                    type={\"pie\"}\r\n                />\r\n                }\r\n                {chartType === CHART_TYPE_BAR &&\r\n                <Bar\r\n                    data={nutrientChartData}\r\n                    height={ChartConfig.basedata_chart_height}\r\n                    width={ChartConfig.basedata_barchart_width}\r\n                    options={getOptions(applicationStrings.label_chart_nutrientComposition[lang])}\r\n                    type={\"bar\"}\r\n                />\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"d-flex\">\r\n                <div className=\"d-inline-block\">\r\n                    <div className=\"row\" style={{height: default_chart_height}}>\r\n                        <div className=\"col-6\">\r\n                            <div>{renderTotalChart()}</div>\r\n                        </div>\r\n                        <div className=\"col-6\">\r\n                            <div>{renderNutrientChart()}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                {legendAllowed &&\r\n                <div className=\"d-inline-block float-right\">\r\n                    <CustomLegend legendData={getLegendData()}/>\r\n                </div>\r\n                }\r\n            </div>\r\n            <div className=\"row chartFormLine\">\r\n                <ChartOptionSelector chartType={chartType}\r\n                                     showLegend={showLegend}\r\n                                     showDetails={showDetails}\r\n                                     detailsCheckboxAvailable={true}\r\n                                     handleRadioButtonClick={handleRadioButtonClick}\r\n                                     handleLegendCheckboxClick={handleLegendCheckboxClick}\r\n                                     handleDetailsCheckboxClick={handleDetailsCheckboxClick}/>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n\r\n}","export const PAL_CATEGORY_1 = 1.2;\r\nexport const PAL_CATEGORY_2 = 1.4;\r\nexport const PAL_CATEGORY_3 = 1.6;\r\nexport const PAL_CATEGORY_4 = 1.8;\r\nexport const PAL_CATEGORY_5 = 2.1;\r\nexport const PAL_CATEGORY_6 = 2.4;\r\nexport const PAL_CATEGORY_7 = 2.8;","import * as Constants from '../../config/Constants';\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport * as EnergyConstants from '../../config/EnergyConstants'\r\nimport {SEX_MALE} from \"../../config/Constants\";\r\nimport {PalCategory} from \"../../types/livedata/PalCategory\";\r\n\r\n\r\n/**\r\n * Creates a list of PAL categories with name and value for the user settings form.\r\n */\r\nexport function getPalCategories(language: string): Array<PalCategory> {\r\n    const palCategories = [\r\n        {label: createPalCategoryName(language, 1), value: EnergyConstants.PAL_CATEGORY_1},\r\n        {label: createPalCategoryName(language, 2), value: EnergyConstants.PAL_CATEGORY_2},\r\n        {label: createPalCategoryName(language, 3), value: EnergyConstants.PAL_CATEGORY_3},\r\n        {label: createPalCategoryName(language, 4), value: EnergyConstants.PAL_CATEGORY_4},\r\n        {label: createPalCategoryName(language, 5), value: EnergyConstants.PAL_CATEGORY_5},\r\n        {label: createPalCategoryName(language, 6), value: EnergyConstants.PAL_CATEGORY_6},\r\n        {label: createPalCategoryName(language, 7), value: EnergyConstants.PAL_CATEGORY_7},\r\n    ];\r\n\r\n    return palCategories;\r\n}\r\n\r\n/**\r\n * Returns the PAL category number of a PAL value.\r\n *\r\n * value: The PAL value, e.g. 1.4 or 1.6.\r\n */\r\nexport function getPalCategory(value: number): number {\r\n\r\n    switch(value) {\r\n        case EnergyConstants.PAL_CATEGORY_1:\r\n            return 1\r\n        case EnergyConstants.PAL_CATEGORY_2:\r\n            return 2\r\n        case EnergyConstants.PAL_CATEGORY_3:\r\n            return 3\r\n        case EnergyConstants.PAL_CATEGORY_4:\r\n            return 4\r\n        case EnergyConstants.PAL_CATEGORY_5:\r\n            return 5\r\n        case EnergyConstants.PAL_CATEGORY_6:\r\n            return 6\r\n        case EnergyConstants.PAL_CATEGORY_7:\r\n            return 7\r\n        default:\r\n            return 1\r\n    }\r\n}\r\n\r\nfunction createPalCategoryName(language, category): string {\r\n    const languageLabel = `palcat_name_${category}`;\r\n    const name = applicationStrings[languageLabel][language]\r\n\r\n    const energyLabel = `PAL_CATEGORY_${category}`;\r\n    const value = EnergyConstants[energyLabel];\r\n    return `${name} (${value})`;\r\n}\r\n\r\n\r\n/**\r\n * Calculates the Basal Metabolic Rate (BMR) of a person.\r\n */\r\nexport function calculateBMR(age: number, size: number, weight: number, sex: string): number {\r\n    if(sex === SEX_MALE) {\r\n        const bmr = 3.4 * weight + 15.3 * size - 6.8 * age - 961;\r\n        return Math.round(bmr);\r\n    } else {\r\n        const bmr = 2.4 * weight + 9.0 * size - 4.7 * age - 65;\r\n        return Math.round(bmr);\r\n    }\r\n}\r\n\r\n/**\r\n * Calculates the total energy consumption of a person in one day.\r\n *\r\n * bmr: The bmr value.\r\n * palValue: The pal value\r\n * leisureSports: Specifies whether leisure sports is performed or not (+0.3 PAL).\r\n */\r\nexport function calculateTotalEnergyConsumption(bmr: number, palValue: number, leisureSports: boolean): number {\r\n    if(leisureSports) {\r\n        palValue += 0.3;\r\n    }\r\n\r\n    return bmr * palValue;\r\n}","import {ChartProps} from \"../ChartPanel\";\r\nimport {useContext} from \"react\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport * as ChartConfig from \"../../../config/ChartConfig\"\r\nimport {Bar, Chart} from \"react-chartjs-2\";\r\nimport {getBarChartOptions} from \"../../../service/ChartService\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport {calculateBMR, calculateTotalEnergyConsumption} from \"../../../service/calculation/EnergyService\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {default_chart_height} from \"../../../config/ChartConfig\";\r\nimport annotationPlugin from 'chartjs-plugin-annotation'\r\n\r\nexport default function EnergyDataChart(props: ChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n\r\n    const nutrientData = props.selectedFoodItem.foodItem.nutrientDataList[0];\r\n    const energy100g = nutrientData.baseData.energy;\r\n\r\n    Chart.register(annotationPlugin)\r\n\r\n    if (!applicationContext || !energy100g) {\r\n        return <div>No data.</div>\r\n    }\r\n\r\n    const createEnergyLevelChart = () => {\r\n        const averagePortion = props.selectedFoodItem.portion.amount\r\n        const energyPortion = Math.round(energy100g / 100 * averagePortion);\r\n\r\n        return {\r\n            labels: [\"100 g\", \"Portion\"],\r\n            datasets: [{\r\n                data: [energy100g,\r\n                    energyPortion\r\n                ],\r\n                backgroundColor: [\r\n                    ChartConfig.color_yellow,\r\n                    ChartConfig.color_red,\r\n                ],\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n\r\n        }\r\n    }\r\n\r\n\r\n    const renderUserDataInfoPage = () => {\r\n        return (\r\n            <div style={{paddingLeft: \"50px\", paddingTop: \"50px\"}}>\r\n                {applicationContext.userData.initialValues ?\r\n                    (<div>\r\n                        <p>{applicationStrings.text_setUserdata_p1[lang]}</p>\r\n                        <p>{applicationStrings.text_setUserdata_p2[lang]}</p>\r\n                    </div>)\r\n                    :\r\n                    <p>{applicationStrings.text_setUserdata_p3[lang]}</p>\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    const getOptions = () => {\r\n        const {age, size, weight, sex, palValue, leisureSports} = applicationContext.userData\r\n        const bmr = calculateBMR(age, size, weight, sex);\r\n        const totalEnergy = calculateTotalEnergyConsumption(bmr, palValue, leisureSports);\r\n\r\n        const annotation = {\r\n            annotations: {\r\n                line1: {\r\n                    type: 'line',\r\n                    mode: 'horizontal',\r\n                    scaleID: 'y-axis-0',\r\n                    yMin: bmr,\r\n                    yMax: bmr,\r\n                    borderColor: ChartConfig.color_line_red,\r\n                    borderWidth: 4,\r\n                    label: {\r\n                        enabled: true,\r\n                        content: applicationStrings.label_chart_bmr[lang]\r\n                    }\r\n                },\r\n                line2:\r\n                    {\r\n                        type: 'line',\r\n                        mode: 'horizontal',\r\n                        scaleID: 'y-axis-0',\r\n                        yMin: totalEnergy,\r\n                        yMax: totalEnergy,\r\n                        borderColor: ChartConfig.color_line_blue,\r\n                        borderWidth: 4,\r\n                        label: {\r\n                            enabled: true,\r\n                            content: applicationStrings.label_chart_energyExpenditure[lang]\r\n                        }\r\n                    },\r\n            }\r\n        }\r\n\r\n        let options: any = getBarChartOptions(applicationStrings.label_charttype_energy[languageContext.language], \"kCal\");\r\n        options = {\r\n            ...options, plugins: {\r\n                ...options.plugins,\r\n                annotation: annotation\r\n            }\r\n        }\r\n\r\n        return options;\r\n    }\r\n\r\n    const data = createEnergyLevelChart();\r\n    if (!data) {\r\n        return <div style={{height: default_chart_height}}>{applicationStrings.label_noData[lang]}</div>\r\n    }\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-6\">\r\n                    <div>\r\n                        <Bar\r\n                            data={data}\r\n                            height={ChartConfig.default_chart_height}\r\n                            options={getOptions()}\r\n                            type={\"bar\"}\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-6\">\r\n                    {renderUserDataInfoPage()}\r\n                </div>\r\n            </div>\r\n            <div style={{height: \"64px\"}}></div>\r\n        </div>\r\n    )\r\n\r\n}","import * as Constants from '../../config/Constants';\r\nimport DietaryRequirement, {\r\n    RequirementAgeGroupData,\r\n    RequirementData\r\n} from \"../../types/nutrientdata/DietaryRequirement\";\r\nimport {UserData} from \"../../types/livedata/UserData\";\r\nimport {SEX_MALE} from \"../../config/Constants\";\r\n\r\n/*\r\n * Determines the daily requirements of a vitamin or mineral for a specific user.\r\n *\r\n * dailyRequirementObject: A vitamin or mineral requirement object (e.g. for Vitamin C or Iron).\r\n * userData: The user data object containing the user data.\r\n */\r\nexport function determineDailyRequirement(dailyRequirementObject: RequirementData, userData: UserData) {\r\n\r\n    let ageGroupRequirements\r\n    if (userData.age >= 65) {\r\n        ageGroupRequirements = dailyRequirementObject.senior;\r\n    } else if (userData.age >= 51) {\r\n        ageGroupRequirements = dailyRequirementObject.preSenior;\r\n    } else if (userData.age >= 26) {\r\n        ageGroupRequirements = dailyRequirementObject.midLifeAdult;\r\n    } else if (userData.age >= 19) {\r\n        ageGroupRequirements = dailyRequirementObject.youngAdult;\r\n    } else if (userData.age >= 15) {\r\n        ageGroupRequirements = dailyRequirementObject.youth;\r\n    } else {\r\n        ageGroupRequirements = dailyRequirementObject.youth;   // Default case (should not occur!)\r\n    }\r\n\r\n    let value\r\n    if (userData.sex === SEX_MALE) {\r\n        value = ageGroupRequirements.male;\r\n    } else {\r\n        if (userData.pregnant) {\r\n            value = ageGroupRequirements.femalePregnant!!;\r\n        } else if (userData.breastFeeding) {\r\n            value = ageGroupRequirements.femaleBreastFeeding!!;\r\n        } else {\r\n            value = ageGroupRequirements.female;\r\n        }\r\n    }\r\n\r\n    return value;\r\n}\r\n\r\n\r\n/*\r\n * Determines the ratio (percentage) of vitamins/minerals in food compared to the daily requirements of the user.\r\n * Example: The daily requirements of Vitamin C is 120 mg for the user. The food contains 24 mg C. The ratio is 0.2 (20 %).\r\n *\r\n * dailyRequirementObject: A vitamin or mineral requirement object (e.g. for Vitamin C or Iron).\r\n * userData: The user data object containing the user data.\r\n * portionSize: The portion size in gram (100 = default value, i.e., 100 gram).\r\n * amountInFood: The amount of the vitamin or mineral in the food (which is always 100 gram).\r\n */\r\nexport function determineFoodRequirementRatio(dailyRequirementObject: RequirementData, amountInFood: number, portionSize: number, userData: UserData): number {\r\n    const dailyRequirement = determineDailyRequirement(dailyRequirementObject, userData);\r\n    if (portionSize == 100) {\r\n        return Math.round(amountInFood / dailyRequirement * 1000) / 10;\r\n    } else {   // Calculate ration for a special amount (portion):\r\n        return Math.round(amountInFood / dailyRequirement * (portionSize * 10)) / 10;\r\n    }\r\n}\r\n\r\n\r\n/*\r\n * Determines the ratio (percentage) of proteins in food compared to the daily requirements of the user.\r\n * Example: The daily requirements of Lysine is 30 mg per kg. The user weights 80 kg. His dietary requirement\r\n * is thus 30 * 80 = 2400 mg per day. The food contains 240 mg C. The ratio is 0.1 (10 %).\r\n *\r\n * dailyRequirementObject: A protein requirement object for a specific protein (e.g. for Lycin).\r\n * userData: The user data object containing the user data.\r\n * portionSize: The portion size in gram (100 = default value, i.e., 100 gram).\r\n * amountInFood: The amount of the vitamin or mineral in the food (which is always 100 gram).\r\n */\r\nexport function determineProteinRequirementRatio(requirement: number, amountInFood: number, portionSize: number, userData: UserData) {\r\n    const dailyRequirement = (requirement * userData.weight) / 1000;\r\n\r\n    if (portionSize == 100) {\r\n        return Math.round(amountInFood / dailyRequirement * 1000) / 10;\r\n    } else {   // Calculate ration for a special amount (portion):\r\n        return Math.round(amountInFood / dailyRequirement * (portionSize * 10)) / 10;\r\n    }\r\n}\r\n\r\n\r\nexport function convertAbsoluteValueToDailyRequirement(dailyRequirements: DietaryRequirement, item: string, amount: number, userData: UserData) {\r\n    let dailyRequirementObject\r\n\r\n    if (item === Constants.DATA_VITAMINS_A) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.a;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B1) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b1;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B2) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b2;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B3) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b3;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B5) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b5;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B6) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b6;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B9) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b9;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_B12) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.b12;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_C) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.c;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_D) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.d;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_E) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.e;\r\n    }\r\n\r\n    if (item === Constants.DATA_VITAMINS_K) {\r\n        dailyRequirementObject = dailyRequirements.vitaminRequirementData.k;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_CALCIUM) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.calcium;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_COPPER) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.copper;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_IRON) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.iron;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_MAGNESIUM) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.magnesium;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_MANGANESE) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.manganese;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_PHOSPHORUS) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.phosphorus;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_POTASSIUM) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.potassium;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_SELENIUM) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.selenium;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_SODIUM) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.sodium;\r\n    }\r\n\r\n    if (item === Constants.DATA_MINERAL_ZINC) {\r\n        dailyRequirementObject = dailyRequirements.mineralRequirementData.zinc;\r\n    }\r\n\r\n    if (!dailyRequirementObject) {\r\n        console.error('No requirement data object generated.')\r\n        return 0\r\n    }\r\n\r\n    const dailyRequirement = determineDailyRequirement(dailyRequirementObject, userData);\r\n    return Math.round(amount / dailyRequirement * 1000) / 10;\r\n}","import {ChartProps} from \"../ChartPanel\";\r\nimport {useContext, useEffect, useState} from \"react\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {AMOUNT_PORTION, CHART_MINERALS, CHART_VITAMINS, GRAM} from \"../../../config/Constants\";\r\nimport {determineFoodRequirementRatio} from \"../../../service/calculation/DietaryRequirementService\";\r\nimport * as ChartConfig from \"../../../config/ChartConfig\"\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport {getBarChartOptions} from \"../../../service/ChartService\"\r\nimport {Form} from \"react-bootstrap\";\r\nimport {Bar} from \"react-chartjs-2\";\r\nimport {initialChartConfigData} from \"../../../config/ApplicationSetting\";\r\n\r\ninterface MineralVitaminChartProps extends ChartProps {\r\n    selectedSubChart: string\r\n}\r\n\r\nexport default function MineralVitaminChart(props: MineralVitaminChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n\r\n    const chartConfigVitamins = applicationContext\r\n        ? applicationContext.applicationData.foodDataPanel.chartConfigData.vitaminChartConfig\r\n        : initialChartConfigData.vitaminChartConfig\r\n\r\n    const chartConfigMinerals = applicationContext\r\n        ? applicationContext.applicationData.foodDataPanel.chartConfigData.mineralChartConfig\r\n        : initialChartConfigData.mineralChartConfig\r\n\r\n    const [chartType_vitamins, setChartType_vitamins] = useState<string>(chartConfigVitamins.portionType)\r\n    const [expand100_vitamins, setExpand100_vitamins] = useState<boolean>(chartConfigVitamins.expandTo100)\r\n    const [chartType_minerals, setChartType_minerals] = useState<string>(chartConfigMinerals.portionType)\r\n    const [expand100_minerals, setExpand100_minerals] = useState<boolean>(chartConfigMinerals.expandTo100)\r\n\r\n    useEffect(() => {\r\n        updateChartConfig()\r\n    }, [chartType_vitamins, chartType_minerals, expand100_vitamins, expand100_minerals])\r\n\r\n    const updateChartConfig = () => {\r\n        if (applicationContext) {\r\n            const newChartConfig = {\r\n                ...applicationContext.applicationData.foodDataPanel.chartConfigData,\r\n                vitaminChartConfig: {\r\n                    portionType: chartType_vitamins,\r\n                    expandTo100: expand100_vitamins\r\n                },\r\n                mineralChartConfig: {\r\n                    portionType: chartType_minerals,\r\n                    expandTo100: expand100_minerals\r\n                }\r\n            }\r\n            applicationContext.updateChartConfig(newChartConfig)\r\n        }\r\n    }\r\n\r\n    if (!applicationContext || applicationContext.foodDataCorpus.dietaryRequirements === null) {\r\n        return <div/>\r\n    }\r\n\r\n\r\n    const createVitaminChartData = () => {\r\n        const vitaminData = props.selectedFoodItem.foodItem.nutrientDataList[0].vitaminData;\r\n        const requirementData = applicationContext.foodDataCorpus.dietaryRequirements?.vitaminRequirementData;\r\n\r\n        if (!vitaminData || !requirementData) {\r\n            return null\r\n        }\r\n\r\n        const amount = chartType_vitamins === GRAM ? 100 : props.selectedFoodItem.portion.amount;\r\n\r\n        const labels: Array<string> = [];\r\n        const data: Array<number> = [];\r\n\r\n        if (vitaminData.a !== null) {\r\n            labels.push(\"A\");\r\n            data.push(determineFoodRequirementRatio(requirementData.a, vitaminData.a, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (vitaminData.b1 !== null) {\r\n            labels.push(\"B1\");\r\n            data.push(determineFoodRequirementRatio(requirementData.b1, vitaminData.b1, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (vitaminData.b2 !== null) {\r\n            labels.push(\"B2\");\r\n            data.push(determineFoodRequirementRatio(requirementData.b2, vitaminData.b2, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (vitaminData.b3 !== null) {\r\n            labels.push(\"B3\");\r\n            data.push(determineFoodRequirementRatio(requirementData.b3, vitaminData.b3, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (vitaminData.b5 !== null) {\r\n            labels.push(\"B5\");\r\n            data.push(determineFoodRequirementRatio(requirementData.b5, vitaminData.b5, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (vitaminData.b6 !== null) {\r\n            labels.push(\"B6\");\r\n            data.push(determineFoodRequirementRatio(requirementData.b6, vitaminData.b6, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (vitaminData.b9 !== null) {\r\n            labels.push(\"B9\");\r\n            data.push(determineFoodRequirementRatio(requirementData.b9, vitaminData.b9, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (vitaminData.b12 !== null) {\r\n            labels.push(\"B12\");\r\n            data.push(determineFoodRequirementRatio(requirementData.b12, vitaminData.b12, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (vitaminData.c !== null) {\r\n            labels.push(\"C\");\r\n            data.push(determineFoodRequirementRatio(requirementData.c, vitaminData.c, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (vitaminData.d !== null) {\r\n            labels.push(\"D\");\r\n            data.push(determineFoodRequirementRatio(requirementData.d, vitaminData.d, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (vitaminData.e !== null) {\r\n            labels.push(\"E\");\r\n            data.push(determineFoodRequirementRatio(requirementData.e, vitaminData.e, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (vitaminData.k !== null) {\r\n            labels.push(\"K\");\r\n            data.push(determineFoodRequirementRatio(requirementData.k, vitaminData.k, amount, applicationContext.userData));\r\n        }\r\n\r\n        return {\r\n            labels: labels,\r\n            datasets: [{\r\n                label: applicationStrings.label_charttype_vitamins[lang],\r\n                data: data,\r\n                backgroundColor: ChartConfig.color_chart_green_3,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n\r\n        }\r\n    }\r\n\r\n    const createMineralChartData = () => {\r\n        const mineralData = props.selectedFoodItem.foodItem.nutrientDataList[0].mineralData;\r\n        const requirementData = applicationContext.foodDataCorpus.dietaryRequirements?.mineralRequirementData;\r\n\r\n        if (!mineralData || !requirementData) {\r\n            return null\r\n        }\r\n\r\n        const amount = chartType_minerals === GRAM ? 100 : props.selectedFoodItem.portion.amount;\r\n\r\n        const labels: Array<string> = [];\r\n        const data: Array<number> = [];\r\n\r\n        if (mineralData.calcium !== null) {\r\n            labels.push(applicationStrings.label_nutrient_min_calcium[lang]);\r\n            data.push(determineFoodRequirementRatio(requirementData.calcium, mineralData.calcium, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (mineralData.iron !== null) {\r\n            labels.push(applicationStrings.label_nutrient_min_iron[lang]);\r\n            data.push(determineFoodRequirementRatio(requirementData.iron, mineralData.iron, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (mineralData.magnesium !== null) {\r\n            labels.push(applicationStrings.label_nutrient_min_magnesium[lang]);\r\n            data.push(determineFoodRequirementRatio(requirementData.magnesium, mineralData.magnesium, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (mineralData.phosphorus !== null) {\r\n            labels.push(applicationStrings.label_nutrient_min_phosphorus[lang]);\r\n            data.push(determineFoodRequirementRatio(requirementData.phosphorus, mineralData.phosphorus, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (mineralData.potassium !== null) {\r\n            labels.push(applicationStrings.label_nutrient_min_potassimum[lang]);\r\n            data.push(determineFoodRequirementRatio(requirementData.potassium, mineralData.potassium, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (mineralData.sodium !== null) {\r\n            labels.push(applicationStrings.label_nutrient_min_sodium[lang]);\r\n            data.push(determineFoodRequirementRatio(requirementData.sodium, mineralData.sodium, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (mineralData.zinc !== null) {\r\n            labels.push(applicationStrings.label_nutrient_min_zinc[lang]);\r\n            data.push(determineFoodRequirementRatio(requirementData.zinc, mineralData.zinc, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (mineralData.copper !== null) {\r\n            labels.push(applicationStrings.label_nutrient_min_copper[lang]);\r\n            data.push(determineFoodRequirementRatio(requirementData.copper, mineralData.copper, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (mineralData.manganese !== null) {\r\n            labels.push(applicationStrings.label_nutrient_min_manganese[lang]);\r\n            data.push(determineFoodRequirementRatio(requirementData.manganese, mineralData.manganese, amount, applicationContext.userData));\r\n        }\r\n\r\n        if (mineralData.selenium !== null) {\r\n            labels.push(applicationStrings.label_nutrient_min_selenium[lang]);\r\n            data.push(determineFoodRequirementRatio(requirementData.selenium, mineralData.selenium, amount, applicationContext.userData));\r\n        }\r\n\r\n        const chartData = {\r\n            labels: labels,\r\n            datasets: [{\r\n                label: applicationStrings.label_charttype_minerals[lang],\r\n                data: data,\r\n                backgroundColor: ChartConfig.color_purple,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n\r\n        }\r\n\r\n        return chartData;\r\n    }\r\n\r\n    const handleRadioButtonClick = (event: any) => {\r\n        if (props.selectedSubChart === CHART_VITAMINS) {\r\n            setChartType_vitamins(event.target.value)\r\n        } else if (props.selectedSubChart === CHART_MINERALS) {\r\n            setChartType_minerals(event.target.value)\r\n        }\r\n    }\r\n\r\n    const handleExpandCheckbox = (event: any) => {\r\n        if (props.selectedSubChart === CHART_VITAMINS) {\r\n            setExpand100_vitamins(!expand100_vitamins)\r\n        } else if (props.selectedSubChart === CHART_MINERALS) {\r\n            setExpand100_minerals(!expand100_minerals)\r\n        }\r\n    }\r\n\r\n    const getOptions = (title, maxValue) => {\r\n        const expand100 = props.selectedSubChart === CHART_VITAMINS ? expand100_vitamins : expand100_minerals;\r\n        const maxYvalue = expand100 && maxValue < 100 ? 100 : undefined\r\n        return getBarChartOptions(title, \"%\", maxYvalue);\r\n    }\r\n\r\n\r\n    const renderFormLine = () => {\r\n        const label_portion = `${applicationStrings.label_portion[lang]} (${props.selectedFoodItem.portion.amount} g)`;\r\n\r\n        const chartType = props.selectedSubChart === CHART_VITAMINS ? chartType_vitamins : chartType_minerals;\r\n        const expand100 = props.selectedSubChart === CHART_VITAMINS ? expand100_vitamins : expand100_minerals;\r\n\r\n        return (\r\n            <div className=\"container-fluid form-main\">\r\n                <div className=\"row foodDataPageHeader\">\r\n                    <form className=\"form-inline form-group\">\r\n                        <Form.Label className={\"form-elements\"}>\r\n                            <b>{applicationStrings.label_reference[lang]}:</b>\r\n                        </Form.Label>\r\n                        <Form.Check type=\"radio\"\r\n                                    inline={true}\r\n                                    label={\"100g\"}\r\n                                    value={GRAM}\r\n                                    checked={(chartType === GRAM)}\r\n                                    onChange={handleRadioButtonClick}\r\n                        />\r\n                        <Form.Check type=\"radio\"\r\n                                    inline={true}\r\n                                    style={{paddingRight: \"48px\"}}\r\n                                    label={label_portion}\r\n                                    value={AMOUNT_PORTION}\r\n                                    checked={chartType === AMOUNT_PORTION}\r\n                                    onChange={handleRadioButtonClick}\r\n                        />\r\n                        <Form.Check className=\"form-radiobutton\"\r\n                                    inline={true}\r\n                                    label={applicationStrings.checkbox_expand100g[lang]}\r\n                                    checked={expand100}\r\n                                    onChange={handleExpandCheckbox}>\r\n                        </Form.Check>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    const data = props.selectedSubChart === CHART_VITAMINS ? createVitaminChartData() : createMineralChartData();\r\n    if(!data) {\r\n        return <div/>\r\n    }\r\n\r\n    const maxValue = (data && data.datasets && data.datasets.length > 0) ? Math.max(...data.datasets[0].data) : 0;\r\n\r\n    const title = props.selectedSubChart === CHART_VITAMINS ? applicationStrings.label_charttype_vitamins[lang] :\r\n        applicationStrings.label_charttype_minerals[lang];\r\n\r\n    const options = getOptions(title, maxValue);\r\n\r\n    console.log('Options:', options)\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className={\"col-12\"}>\r\n                    <Bar\r\n                        data={data}\r\n                        height={ChartConfig.default_chart_height}\r\n                        options={options}\r\n                        type={\"bar\"}\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className=\"row chartFormLine\">\r\n                {renderFormLine()}\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}","import {ChartProps} from \"../ChartPanel\";\r\nimport {useContext, useEffect, useState} from \"react\";\r\n\r\nimport * as ChartConfig from \"../../../config/ChartConfig\"\r\nimport {default_chart_height} from \"../../../config/ChartConfig\"\r\nimport * as Constants from \"../../../config/Constants\"\r\nimport {CHART_TYPE_BAR, CHART_TYPE_PIE} from \"../../../config/Constants\"\r\nimport {Bar, Pie} from \"react-chartjs-2\";\r\nimport {getBarChartOptions, getPieChartOptions} from \"../../../service/ChartService\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {autoRound} from \"../../../service/calculation/MathService\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport {OmegaData} from \"../../../types/nutrientdata/FoodItem\";\r\nimport {initialChartConfigData, minimalOmegaRatio} from \"../../../config/ApplicationSetting\";\r\nimport {CustomLegend} from \"./helper/CustomLegend\";\r\nimport {ChartOptionSelector} from \"./helper/ChartOptionSelector.\";\r\nimport {Form} from \"react-bootstrap\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\n\r\nexport default function LipidsDataChart(props: ChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n\r\n    const chartConfig = applicationContext\r\n        ? applicationContext.applicationData.foodDataPanel.chartConfigData.lipidsChartConfig\r\n        : initialChartConfigData.lipidsChartConfig\r\n\r\n    const [chartType, setChartType] = useState<string>(chartConfig.chartType)\r\n    const [showLegend, setShowLegend] = useState<boolean>(chartConfig.showLegend)\r\n    const [chartSelection, setChartSelection] = useState<string>(chartConfig.subChart)\r\n\r\n    useEffect(() => {\r\n        updateChartConfig()\r\n    }, [chartType, showLegend, chartSelection])\r\n\r\n    const updateChartConfig = () => {\r\n        if (applicationContext) {\r\n            const newChartConfig = {\r\n                ...applicationContext.applicationData.foodDataPanel.chartConfigData,\r\n                lipidsChartConfig: {\r\n                    chartType: chartType,\r\n                    showLegend: showLegend,\r\n                    subChart: chartSelection\r\n                }\r\n            }\r\n            applicationContext.updateChartConfig(newChartConfig)\r\n        }\r\n    }\r\n\r\n    const lipidsData = props.selectedFoodItem.foodItem.nutrientDataList[0].lipidData;\r\n    const totalLipidsAmount = props.selectedFoodItem.foodItem.nutrientDataList[0].baseData.lipids;\r\n\r\n    const handleChartSelectionChange = (event: any) => {\r\n        setChartSelection(event.target.value)\r\n    }\r\n\r\n    const createTotalChartData = (totalAmount: number, saturated: number, unsaturatedMono: number, unsaturatedPoly: number): any => {\r\n        const valueSaturated = autoRound(lipidsData.saturated!! / totalAmount * 100);\r\n        const valueUnsaturatedMono = autoRound(lipidsData.unsaturatedMono!! / totalAmount * 100);\r\n        const valueUnsaturatedPoly = autoRound(lipidsData.unsaturatedPoly!! / totalAmount * 100);\r\n\r\n        let valueRemainder = totalAmount - (saturated + unsaturatedMono + unsaturatedPoly);\r\n        valueRemainder = autoRound(valueRemainder / totalAmount * 100);\r\n\r\n        if (valueRemainder < 0) {\r\n            console.error(\"Fatty acids sum is erroneous. Food-Obj: \", props.selectedFoodItem);\r\n            valueRemainder = 0;\r\n        }\r\n\r\n        return {\r\n            labels: [applicationStrings.label_nutrient_lipids_saturated[lang],\r\n                applicationStrings.label_nutrient_lipids_unsaturated_mono[lang],\r\n                applicationStrings.label_nutrient_lipids_unsaturated_poly[lang],\r\n                applicationStrings.label_nutrient_remainder[lang]],\r\n            datasets: [{\r\n                data: [valueSaturated,\r\n                    valueUnsaturatedMono,\r\n                    valueUnsaturatedPoly,\r\n                    valueRemainder],\r\n                backgroundColor: [\r\n                    ChartConfig.color_lipids_saturated,\r\n                    ChartConfig.color_lipids_unsaturated_mono,\r\n                    ChartConfig.color_lipids_unsaturated_poly,\r\n                    ChartConfig.color_lipids_misc,\r\n                ],\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        };\r\n    }\r\n\r\n\r\n    const createOmegaChartData = (totalAmount: number, omegaData: OmegaData) => {\r\n        if (omegaData.omega3 === null || omegaData.omega6 === null || omegaData.uncertain === null) {\r\n            return null;\r\n        }\r\n\r\n        const valueOmega3 = autoRound(omegaData.omega3 / totalAmount * 100);\r\n        const valueOmega6 = autoRound(omegaData.omega6 / totalAmount * 100);\r\n        const valueUncertain = autoRound(omegaData.uncertain / totalAmount * 100);\r\n\r\n        return {\r\n            labels: [applicationStrings.label_nutrient_omega3[lang],\r\n                applicationStrings.label_nutrient_omega6[lang],\r\n                applicationStrings.label_unknown[lang]],\r\n            datasets: [{\r\n                data: [valueOmega3,\r\n                    valueOmega6,\r\n                    valueUncertain],\r\n                backgroundColor: [\r\n                    ChartConfig.color_lipids_omega3,\r\n                    ChartConfig.color_lipids_omega6,\r\n                    ChartConfig.color_lipids_misc,\r\n                ],\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        };\r\n\r\n    }\r\n\r\n\r\n    const getLegendBaseChart = () => {\r\n\r\n        return [\r\n            {\r\n                item: applicationStrings.label_nutrient_lipids_saturated[lang],\r\n                color: ChartConfig.color_lipids_saturated,\r\n            },\r\n            {\r\n                item: applicationStrings.label_nutrient_lipids_unsaturated_mono[lang],\r\n                color: ChartConfig.color_lipids_unsaturated_mono\r\n            },\r\n            {\r\n                item: applicationStrings.label_nutrient_lipids_unsaturated_poly[lang],\r\n                color: ChartConfig.color_lipids_unsaturated_poly,\r\n            },\r\n            {\r\n                item: applicationStrings.label_nutrient_remainder[lang],\r\n                color: ChartConfig.color_lipids_misc\r\n            },\r\n        ];\r\n    }\r\n\r\n\r\n    const getLegendOmegaChart = () => {\r\n        return [\r\n            {\r\n                item: applicationStrings.label_nutrient_omega3[lang],\r\n                color: ChartConfig.color_lipids_omega3,\r\n            },\r\n            {\r\n                item: applicationStrings.label_nutrient_omega6[lang],\r\n                color: ChartConfig.color_lipids_omega6\r\n            },\r\n            {\r\n                item: applicationStrings.label_unknown[lang],\r\n                color: ChartConfig.color_lipids_misc,\r\n            },\r\n        ];\r\n    }\r\n\r\n\r\n    const handleRadioButtonClick = (event: any) => {\r\n        setChartType(event.target.value)\r\n    }\r\n\r\n    const handleLegendCheckbox = () => {\r\n        setShowLegend(!showLegend)\r\n    }\r\n\r\n\r\n    const lipidData = props.selectedFoodItem.foodItem.nutrientDataList[0].lipidData;\r\n\r\n    let omegaDataAvailabe = false\r\n    if (lipidData.omegaData && lipidData.omegaData.uncertainRatio && lipidData.omegaData.uncertainRatio <= minimalOmegaRatio) {\r\n        omegaDataAvailabe = true\r\n    }\r\n\r\n    const chartColType = chartType === CHART_TYPE_PIE ? \"col-6\" : \"col-8\";\r\n\r\n    const getOptions = () => {\r\n        let title;\r\n\r\n        if (chartSelection === Constants.LIPIDS_DATA_BASE) {\r\n            title = applicationStrings.label_charttype_lipids_base_title[lang]\r\n        } else if (chartSelection === Constants.LIPIDS_DATA_OMEGA) {\r\n            title = applicationStrings.label_charttype_lipids_omega_title[lang];\r\n        }\r\n\r\n        if (chartType === CHART_TYPE_BAR) {\r\n            return getBarChartOptions(title, \"%\");\r\n        } else {\r\n            return getPieChartOptions(title, \"%\");\r\n        }\r\n    }\r\n\r\n    const renderChartSelector = () => {\r\n        return (\r\n            <Form>\r\n                <Form.Label>\r\n                    <b>{applicationStrings.label_datatype[languageContext.language]}:</b>\r\n                </Form.Label>\r\n                <Form.Check inline={false}\r\n                            label={applicationStrings.label_charttype_lipids_base[lang]}\r\n                            type=\"radio\"\r\n                            value={Constants.LIPIDS_DATA_BASE}\r\n                            checked={chartSelection === Constants.LIPIDS_DATA_BASE}\r\n                            onChange={handleChartSelectionChange}>\r\n                </Form.Check>\r\n                <Form.Check inline={false}\r\n                            label={applicationStrings.label_charttype_lipids_omega[lang]}\r\n                            type=\"radio\"\r\n                            value={Constants.LIPIDS_DATA_OMEGA}\r\n                            checked={chartSelection === Constants.LIPIDS_DATA_OMEGA}\r\n                            onChange={handleChartSelectionChange}>\r\n                </Form.Check>\r\n            </Form>\r\n        )\r\n    }\r\n\r\n    const renderChart = (lipidsType) => {\r\n        const {saturated, unsaturatedMono, unsaturatedPoly, omegaData} = lipidData\r\n\r\n        let data\r\n        if (lipidsType === Constants.LIPIDS_DATA_BASE) {\r\n            if (!saturated || !unsaturatedMono || !unsaturatedPoly) {\r\n                return <div style={{height: default_chart_height}}>{applicationStrings.label_noData[lang]}</div>\r\n            }\r\n            data = createTotalChartData(totalLipidsAmount, saturated, unsaturatedMono, unsaturatedPoly);\r\n        } else if (lipidsType === Constants.LIPIDS_DATA_OMEGA) {\r\n            if (omegaData) {\r\n                data = createOmegaChartData(totalLipidsAmount, omegaData)\r\n            }\r\n\r\n            if (!omegaData) {\r\n                return <div style={{height: default_chart_height}}>{applicationStrings.label_noData[lang]}</div>\r\n            }\r\n        }\r\n\r\n        if (!data) {\r\n            return <div style={{height: default_chart_height}}>{applicationStrings.label_noData[lang]}</div>\r\n        }\r\n\r\n        console.log('Oh')\r\n\r\n        return (\r\n            <div>\r\n                {chartType === CHART_TYPE_PIE &&\r\n                <Pie data={data}\r\n                     height={ChartConfig.default_chart_height}\r\n                     options={getOptions()}\r\n                     type=\"pie\"\r\n                />\r\n                }\r\n                {chartType === CHART_TYPE_BAR &&\r\n                <Bar data={data}\r\n                     height={ChartConfig.default_chart_height}\r\n                     options={getOptions()}\r\n                     type=\"bar\"\r\n                />\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-3 text-align-center\">\r\n                    {renderChartSelector()}\r\n                </div>\r\n                <div className={chartColType}>\r\n                    {chartSelection === Constants.LIPIDS_DATA_BASE &&\r\n                    renderChart(Constants.LIPIDS_DATA_BASE)\r\n                    }\r\n                    {omegaDataAvailabe && chartSelection === Constants.LIPIDS_DATA_OMEGA &&\r\n                    renderChart(Constants.LIPIDS_DATA_OMEGA)\r\n                    }\r\n                    {!omegaDataAvailabe && chartSelection === Constants.LIPIDS_DATA_OMEGA &&\r\n                    <div style={{height: default_chart_height}}>{applicationStrings.label_noData[lang]}</div>\r\n                    }\r\n                </div>\r\n\r\n                {showLegend && chartType === CHART_TYPE_PIE &&\r\n                <div className=\"col-3\">\r\n                    {chartSelection === Constants.LIPIDS_DATA_BASE &&\r\n                    <CustomLegend legendData={getLegendBaseChart()}/>\r\n                    }\r\n                    {chartSelection === Constants.LIPIDS_DATA_OMEGA &&\r\n                    <CustomLegend legendData={getLegendOmegaChart()}/>\r\n                    }\r\n                </div>\r\n                }\r\n            </div>\r\n            <div className=\"row chartFormLine\">\r\n                <ChartOptionSelector chartType={chartType}\r\n                                     showLegend={showLegend}\r\n                                     handleRadioButtonClick={handleRadioButtonClick}\r\n                                     handleLegendCheckboxClick={handleLegendCheckbox}/>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}","import {ChartProps} from \"../ChartPanel\";\r\nimport {useContext, useEffect, useState} from \"react\";\r\nimport {AMOUNT_PORTION, CHART_MINERALS, CHART_VITAMINS, GRAM} from \"../../../config/Constants\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport {determineProteinRequirementRatio} from \"../../../service/calculation/DietaryRequirementService\";\r\nimport * as ChartConfig from \"../../../config/ChartConfig\"\r\nimport {getBarChartOptions} from \"../../../service/ChartService\"\r\nimport {Col, Form} from \"react-bootstrap\";\r\nimport {Bar} from \"react-chartjs-2\";\r\nimport {initialChartConfigData} from \"../../../config/ApplicationSetting\";\r\n\r\nexport default function ProteinDataChart(props: ChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n\r\n    const chartConfig = applicationContext\r\n        ? applicationContext.applicationData.foodDataPanel.chartConfigData.proteinChartConfig\r\n        : initialChartConfigData.proteinChartConfig\r\n\r\n\r\n    const [portionType, setPortionType] = useState<string>(chartConfig.portionType)\r\n    const [expand100, setExpand100] = useState<boolean>(chartConfig.expandTo100)\r\n\r\n    useEffect(() => {\r\n        updateChartConfig()\r\n    }, [portionType, expand100])\r\n\r\n    const updateChartConfig = () => {\r\n        if (applicationContext) {\r\n            const newChartConfig = {\r\n                ...applicationContext.applicationData.foodDataPanel.chartConfigData,\r\n                proteinChartConfig: {\r\n                    portionType: portionType,\r\n                    expandTo100: expand100\r\n                }\r\n            }\r\n            applicationContext.updateChartConfig(newChartConfig)\r\n        }\r\n    }\r\n\r\n\r\n    const createProteinChartData = () => {\r\n        const proteinData = props.selectedFoodItem.foodItem.nutrientDataList[0].proteinData;\r\n        if(!proteinData || !applicationContext) {\r\n            return null;\r\n        }\r\n\r\n        const requirementData = applicationContext.foodDataCorpus.dietaryRequirements?.proteinRequirementData;\r\n        if(!requirementData) {\r\n            return null;\r\n        }\r\n\r\n        const userData = applicationContext.userData;\r\n        const amount = portionType === AMOUNT_PORTION ? props.selectedFoodItem.portion.amount : 100;\r\n\r\n        const labels: Array<string> = [];\r\n        const data: Array<number>  = [];\r\n\r\n        if (proteinData.histidine !== null) {\r\n            labels.push(applicationStrings.label_nutrient_proteins_histidine[lang]);\r\n            data.push(determineProteinRequirementRatio(\r\n                requirementData.histidine, proteinData.histidine, amount, userData)\r\n            )\r\n        }\r\n\r\n        if (proteinData.isoleucine !== null) {\r\n            labels.push(applicationStrings.label_nutrient_proteins_isoleucine[lang]);\r\n            data.push(determineProteinRequirementRatio(\r\n                requirementData.isoleucine, proteinData.isoleucine, amount, userData)\r\n            )\r\n        }\r\n\r\n        if (proteinData.leucine !== null) {\r\n            labels.push(applicationStrings.label_nutrient_proteins_leucine[lang]);\r\n            data.push(determineProteinRequirementRatio(\r\n                requirementData.leucine, proteinData.leucine, amount, userData)\r\n            )\r\n        }\r\n\r\n        if (proteinData.lysine !== null) {\r\n            labels.push(applicationStrings.label_nutrient_proteins_lysine[lang]);\r\n            data.push(determineProteinRequirementRatio(\r\n                requirementData.lysine, proteinData.lysine, amount, userData)\r\n            )\r\n        }\r\n\r\n        if (proteinData.methionine !== null) {\r\n            labels.push(applicationStrings.label_nutrient_proteins_methionine[lang]);\r\n            data.push(determineProteinRequirementRatio(\r\n                requirementData.methionine, proteinData.methionine, amount, userData)\r\n            )\r\n        }\r\n\r\n        if (proteinData.phenylalanine !== null) {\r\n            labels.push(applicationStrings.label_nutrient_proteins_phenylalanine[lang]);\r\n            data.push(determineProteinRequirementRatio(\r\n                requirementData.phenylalanine, proteinData.phenylalanine, amount, userData)\r\n            )\r\n        }\r\n\r\n        if (proteinData.threonine !== null) {\r\n            labels.push(applicationStrings.label_nutrient_proteins_threonine[lang]);\r\n            data.push(determineProteinRequirementRatio(\r\n                requirementData.threonine, proteinData.threonine, amount, userData)\r\n            )\r\n        }\r\n\r\n        if (proteinData.tryptophan !== null) {\r\n            labels.push(applicationStrings.label_nutrient_proteins_tryptophan[lang]);\r\n            data.push(determineProteinRequirementRatio(\r\n                requirementData.tryptophan, proteinData.tryptophan, amount, userData)\r\n            )\r\n        }\r\n\r\n        if (proteinData.valine !== null) {\r\n            labels.push(applicationStrings.label_nutrient_proteins_valine[lang]);\r\n            data.push(determineProteinRequirementRatio(\r\n                requirementData.valine, proteinData.valine, amount, userData)\r\n            )\r\n        }\r\n\r\n        if (proteinData.cystine !== null) {\r\n            labels.push(applicationStrings.label_nutrient_proteins_cystine[lang]);\r\n            data.push(determineProteinRequirementRatio(\r\n                requirementData.cystine, proteinData.cystine, amount, userData)\r\n            )\r\n        }\r\n\r\n        return {\r\n            labels: labels,\r\n            datasets: [{\r\n                label: applicationStrings.label_charttype_proteins[lang],\r\n                data: data,\r\n                backgroundColor: ChartConfig.color_proteins,\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        }\r\n    }\r\n\r\n\r\n    const handleRadioButtonClick = (event: any) => {\r\n        setPortionType(event.target.value)\r\n    }\r\n\r\n    const handleExpandCheckbox = (event: any) => {\r\n            setExpand100(!expand100)\r\n    }\r\n\r\n    const getOptions = (title, maxValue) => {\r\n        const maxYvalue = expand100 && maxValue < 100 ? 100 : undefined\r\n        return getBarChartOptions(title, \"%\", maxYvalue);\r\n    }\r\n\r\n    const renderFormLine = () => {\r\n        const label_portion = `${applicationStrings.label_portion[lang]} (${props.selectedFoodItem.portion.amount} g)`;\r\n\r\n        return (\r\n            <div className=\"container-fluid form-main\">\r\n                <div className=\"row foodDataPageHeader\">\r\n                    <form className=\"form-inline form-group\">\r\n                        <Form.Label className={\"form-elements\"}>\r\n                            <b>{applicationStrings.label_reference[lang]}:</b>\r\n                        </Form.Label>\r\n                        <Form.Check type=\"radio\"\r\n                                    inline={true}\r\n                                    label={\"100g\"}\r\n                                    value={GRAM}\r\n                                    checked={(portionType === GRAM)}\r\n                                    onChange={handleRadioButtonClick}\r\n                        />\r\n                        <Form.Check type=\"radio\"\r\n                                    inline={true}\r\n                                    style={{paddingRight: \"48px\"}}\r\n                                    label={label_portion}\r\n                                    value={AMOUNT_PORTION}\r\n                                    checked={portionType === AMOUNT_PORTION}\r\n                                    onChange={handleRadioButtonClick}\r\n                        />\r\n                        <Form.Check className=\"form-radiobutton\"\r\n                                    inline={true}\r\n                                    label={applicationStrings.checkbox_expand100g[lang]}\r\n                                    checked={expand100}\r\n                                    onChange={handleExpandCheckbox}>\r\n                        </Form.Check>\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const data = createProteinChartData();\r\n    if(!data) {\r\n        return <div/>\r\n    }\r\n\r\n    const maxValue = (data && data.datasets && data.datasets.length > 0) ? Math.max(...data.datasets[0].data) : 0;\r\n    const options = getOptions(applicationStrings.label_charttype_proteins[lang], maxValue);\r\n    const dataExists = data.datasets && data.datasets[0].data && data.datasets[0].data.length > 0\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                    {dataExists &&\r\n                    <Bar\r\n                        data={data}\r\n                        height={ChartConfig.default_chart_height}\r\n                        options={options}\r\n                        type={\"bar\"}\r\n                    />\r\n                    }\r\n                    {!dataExists &&\r\n                    <p className=\"text-center\" style={{ height: ChartConfig.default_chart_height }}>\r\n                        {applicationStrings.label_noData[lang]}\r\n                    </p>\r\n                    }\r\n                </div>\r\n            </div>\r\n            <div className=\"row chartFormLine\">\r\n                {renderFormLine()}\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}","import {ChartProps} from \"../ChartPanel\";\r\nimport {useContext, useEffect, useState} from \"react\";\r\nimport * as ChartConfig from \"../../../config/ChartConfig\"\r\nimport * as Constants from \"../../../config/Constants\"\r\nimport {CHART_TYPE_BAR, CHART_TYPE_PIE} from \"../../../config/Constants\";\r\nimport {Bar, Pie} from \"react-chartjs-2\";\r\nimport {getBarChartOptions, getPieChartOptions} from \"../../../service/ChartService\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {autoRound} from \"../../../service/calculation/MathService\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport {Form} from \"react-bootstrap\";\r\nimport {CustomLegend} from \"./helper/CustomLegend\";\r\nimport {ChartOptionSelector} from \"./helper/ChartOptionSelector.\";\r\nimport {initialChartConfigData} from \"../../../config/ApplicationSetting\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\n\r\nexport default function CarbsDataChart(props: ChartProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n\r\n    const chartConfig = applicationContext\r\n        ? applicationContext.applicationData.foodDataPanel.chartConfigData.carbsChartConfig\r\n        : initialChartConfigData.carbsChartConfig\r\n\r\n    const [chartType, setChartType] = useState<string>(chartConfig.chartType)\r\n    const [showLegend, setShowLegend] = useState<boolean>(chartConfig.showLegend)\r\n    const [chartSelection, setChartSelection] = useState<string>(chartConfig.subChart)\r\n\r\n    useEffect(() => {\r\n        updateChartConfig()\r\n    }, [chartType, showLegend, chartSelection])\r\n\r\n    const updateChartConfig = () => {\r\n        if (applicationContext) {\r\n            const newChartConfig = {\r\n                ...applicationContext.applicationData.foodDataPanel.chartConfigData,\r\n                carbsChartConfig: {\r\n                    chartType: chartType,\r\n                    showLegend: showLegend,\r\n                    subChart: chartSelection\r\n                }\r\n            }\r\n            applicationContext.updateChartConfig(newChartConfig)\r\n        }\r\n    }\r\n\r\n    const carbohydrateData = props.selectedFoodItem.foodItem.nutrientDataList[0].carbohydrateData;\r\n\r\n    const handleChartSelectionChange = (event: any) => {\r\n        setChartSelection(event.target.value)\r\n    }\r\n\r\n    const createBasicChartData = () => {\r\n        const totalCarbsAmount = props.selectedFoodItem.foodItem.nutrientDataList[0].baseData.carbohydrates;\r\n        const dietaryFibers = props.selectedFoodItem.foodItem.nutrientDataList[0].baseData.dietaryFibers;\r\n        const sugar = carbohydrateData.sugar\r\n\r\n        if (!sugar || !dietaryFibers) {\r\n            return null\r\n        }\r\n\r\n        const valueSugar = autoRound(sugar / totalCarbsAmount * 100);\r\n        const valueDietaryFibers = autoRound(dietaryFibers / totalCarbsAmount * 100);\r\n\r\n        if (totalCarbsAmount === 0) {\r\n            return null;\r\n        }\r\n\r\n        let valueMisc = totalCarbsAmount - (sugar + dietaryFibers);\r\n        valueMisc = autoRound(valueMisc / totalCarbsAmount * 100);\r\n\r\n        if (valueMisc < 0) {\r\n            console.warn(\"Carbo hydrate value is erroneous. Food-Obj: \", props.selectedFoodItem);\r\n            valueMisc = 0;\r\n        }\r\n\r\n        return {\r\n            labels: [applicationStrings.label_nutrient_sugar[lang],\r\n                applicationStrings.label_nutrient_dietaryFibers[lang],\r\n                applicationStrings.label_nutrient_remainder[lang]\r\n            ],\r\n            datasets: [{\r\n                data: [valueSugar,\r\n                    valueDietaryFibers,\r\n                    valueMisc],\r\n                backgroundColor: [\r\n                    ChartConfig.color_chart_green_3,\r\n                    ChartConfig.color_chart_green_2,\r\n                    ChartConfig.color_chart_misc,\r\n                ],\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        }\r\n    }\r\n\r\n\r\n    const createDetailChartData = () => {\r\n        const carbohydrateData = props.selectedFoodItem.foodItem.nutrientDataList[0].carbohydrateData;\r\n\r\n        const totalAmount = props.selectedFoodItem.foodItem.nutrientDataList[0].baseData.carbohydrates;\r\n\r\n        const valueGlucose = carbohydrateData.glucose !== null ? autoRound(carbohydrateData.glucose / totalAmount * 100) : null;\r\n        const valueFructose = carbohydrateData.fructose !== null ? autoRound(carbohydrateData.fructose / totalAmount * 100) : null;\r\n        const valueGalactose = carbohydrateData.galactose !== null ? autoRound(carbohydrateData.galactose / totalAmount * 100) : null;\r\n        const valueSucrose = carbohydrateData.sucrose !== null ? autoRound(carbohydrateData.sucrose / totalAmount * 100) : null;\r\n        const valueLactose = carbohydrateData.lactose !== null ? autoRound(carbohydrateData.lactose / totalAmount * 100) : null;\r\n        const valueMaltose = carbohydrateData.maltose !== null ? autoRound(carbohydrateData.maltose / totalAmount * 100) : null;\r\n        const valueStarch = carbohydrateData.starch !== null ? autoRound(carbohydrateData.starch / totalAmount * 100) : null;\r\n\r\n        if (!valueMaltose && !valueSucrose && !valueLactose && !valueGlucose && !valueFructose && !valueGalactose) {\r\n            return null\r\n        }\r\n\r\n        let valueMisc = 100\r\n        const labels: Array<String> = []\r\n        const values: Array<number> = []\r\n\r\n        if (valueGlucose) {\r\n            valueMisc -= valueGlucose\r\n            labels.push(applicationStrings.label_nutrient_carbohydrates_glucose[lang])\r\n            values.push(valueGlucose)\r\n        }\r\n        if (valueFructose) {\r\n            valueMisc -= valueFructose\r\n            labels.push(applicationStrings.label_nutrient_carbohydrates_fructose[lang])\r\n            values.push(valueFructose)\r\n        }\r\n        if (valueGalactose) {\r\n            valueMisc -= valueGalactose\r\n            labels.push(applicationStrings.label_nutrient_carbohydrates_galactose[lang])\r\n            values.push(valueGalactose)\r\n        }\r\n        if (valueSucrose) {\r\n            valueMisc -= valueSucrose\r\n            labels.push(applicationStrings.label_nutrient_carbohydrates_sucrose[lang])\r\n            values.push(valueSucrose)\r\n        }\r\n        if (valueLactose) {\r\n            valueMisc -= valueLactose\r\n            labels.push(applicationStrings.label_nutrient_carbohydrates_lactose[lang])\r\n            values.push(valueLactose)\r\n        }\r\n        if (valueMaltose) {\r\n            valueMisc -= valueMaltose\r\n            labels.push(applicationStrings.label_nutrient_carbohydrates_maltose[lang])\r\n            values.push(valueMaltose)\r\n        }\r\n        if (valueStarch) {\r\n            valueMisc -= valueStarch\r\n            labels.push(applicationStrings.label_nutrient_carbohydrates_starch[lang])\r\n            values.push(valueStarch)\r\n        }\r\n\r\n        valueMisc = autoRound(valueMisc);\r\n        labels.push(applicationStrings.label_nutrient_remainder[lang])\r\n        values.push(valueMisc)\r\n\r\n        return {\r\n            labels: labels,\r\n            datasets: [{\r\n                data: values,\r\n                backgroundColor: [\r\n                    ChartConfig.color_chart_green_1,\r\n                    ChartConfig.color_chart_green_2,\r\n                    ChartConfig.color_chart_green_3,\r\n                    ChartConfig.color_chart_yellow_1,\r\n                    ChartConfig.color_chart_yellow_2,\r\n                    ChartConfig.color_chart_yellow_3,\r\n                    ChartConfig.color_chart_orange,\r\n                    ChartConfig.color_chart_misc\r\n                ],\r\n                borderWidth: 2,\r\n                borderColor: '#555',\r\n            }]\r\n        };\r\n    }\r\n\r\n\r\n    const getLegendBaseChart = (labels: Array<String>) => {\r\n        const legendData: Array<any> = []\r\n\r\n        if(labels.includes(applicationStrings.label_nutrient_sugar[lang])) {\r\n            legendData.push(            {\r\n                item: applicationStrings.label_nutrient_sugar[lang],\r\n                color: ChartConfig.color_chart_green_3,\r\n            })\r\n        }\r\n\r\n        if(labels.includes(applicationStrings.label_nutrient_dietaryFibers[lang])) {\r\n            legendData.push(            {\r\n                item: applicationStrings.label_nutrient_dietaryFibers[lang],\r\n                color: ChartConfig.color_chart_green_2,\r\n            })\r\n        }\r\n\r\n        if(labels.includes(applicationStrings.label_nutrient_remainder[lang])) {\r\n            legendData.push(            {\r\n                item: applicationStrings.label_nutrient_remainder[lang],\r\n                color: ChartConfig.color_chart_misc,\r\n            })\r\n        }\r\n\r\n        return legendData;\r\n    }\r\n\r\n\r\n    const getLegendDetailsChart = (labels: Array<String>) => {\r\n        const legendData: Array<any> = []\r\n\r\n        if(labels.includes(applicationStrings.label_nutrient_carbohydrates_glucose[lang])) {\r\n            legendData.push(            {\r\n                item: applicationStrings.label_nutrient_carbohydrates_glucose[lang],\r\n                color: ChartConfig.color_chart_green_1,\r\n            })\r\n        }\r\n\r\n        if(labels.includes(applicationStrings.label_nutrient_carbohydrates_fructose[lang])) {\r\n            legendData.push(            {\r\n                item: applicationStrings.label_nutrient_carbohydrates_fructose[lang],\r\n                color: ChartConfig.color_chart_green_2,\r\n            })\r\n        }\r\n\r\n        if(labels.includes(applicationStrings.label_nutrient_carbohydrates_galactose[lang])) {\r\n            legendData.push(            {\r\n                item: applicationStrings.label_nutrient_carbohydrates_galactose[lang],\r\n                color: ChartConfig.color_chart_green_3,\r\n            })\r\n        }\r\n\r\n        if(labels.includes(applicationStrings.label_nutrient_carbohydrates_sucrose[lang])) {\r\n            legendData.push(            {\r\n                item: applicationStrings.label_nutrient_carbohydrates_sucrose[lang],\r\n                color: ChartConfig.color_chart_yellow_1,\r\n            })\r\n        }\r\n\r\n        if(labels.includes(applicationStrings.label_nutrient_carbohydrates_lactose[lang])) {\r\n            legendData.push(            {\r\n                item: applicationStrings.label_nutrient_carbohydrates_lactose[lang],\r\n                color: ChartConfig.color_chart_yellow_2,\r\n            })\r\n        }\r\n\r\n        if(labels.includes(applicationStrings.label_nutrient_carbohydrates_maltose[lang])) {\r\n            legendData.push(            {\r\n                item: applicationStrings.label_nutrient_carbohydrates_maltose[lang],\r\n                color: ChartConfig.color_chart_yellow_3,\r\n            })\r\n        }\r\n\r\n        if(labels.includes(applicationStrings.label_nutrient_carbohydrates_starch[lang])) {\r\n            legendData.push(            {\r\n                item: applicationStrings.label_nutrient_carbohydrates_starch[lang],\r\n                color: ChartConfig.color_chart_orange,\r\n            })\r\n        }\r\n\r\n        if(labels.includes(applicationStrings.label_nutrient_remainder[lang])) {\r\n            legendData.push(            {\r\n                item: applicationStrings.label_nutrient_remainder[lang],\r\n                color: ChartConfig.color_chart_misc,\r\n            })\r\n        }\r\n\r\n        return legendData;\r\n    }\r\n\r\n\r\n    const handleRadioButtonClick = (event: any) => {\r\n        setChartType(event.target.value)\r\n    }\r\n\r\n    const handleLegendCheckbox = () => {\r\n        setShowLegend(!showLegend)\r\n    }\r\n\r\n    const getOptions = () => {\r\n        let title;\r\n\r\n        if (chartSelection === Constants.CARBS_DATA_BASE) {\r\n            title = applicationStrings.label_charttype_carbs_base[lang];\r\n        } else if (chartSelection === Constants.CARBS_DATA_DETAIL) {\r\n            title = applicationStrings.label_charttype_carbs_detail[lang];\r\n        }\r\n\r\n        if (chartType === CHART_TYPE_BAR) {\r\n            return getBarChartOptions(title, \"%\");\r\n        } else {\r\n            return getPieChartOptions(title, \"%\");\r\n        }\r\n    }\r\n\r\n\r\n    const renderChartSelector = () => {\r\n        return (\r\n            <Form>\r\n                <Form.Label>\r\n                    <b>{applicationStrings.label_datatype[lang]}:</b>\r\n                </Form.Label>\r\n                <Form.Check inline={false}\r\n                            label={applicationStrings.label_charttype_carbs_base[lang]}\r\n                            type=\"radio\"\r\n                            value={Constants.CARBS_DATA_BASE}\r\n                            checked={chartSelection === Constants.CARBS_DATA_BASE}\r\n                            onChange={handleChartSelectionChange}>\r\n                </Form.Check>\r\n                <Form.Check inline={false}\r\n                            label={applicationStrings.label_charttype_carbs_detail[lang]}\r\n                            type=\"radio\"\r\n                            value={Constants.CARBS_DATA_DETAIL}\r\n                            checked={chartSelection === Constants.CARBS_DATA_DETAIL}\r\n                            onChange={handleChartSelectionChange}>\r\n                </Form.Check>\r\n            </Form>\r\n        )\r\n    }\r\n\r\n\r\n    const renderChart = (data: any) => {\r\n        if (!data) {\r\n            return (\r\n                <div style={{height: ChartConfig.default_chart_height}}>\r\n                    {applicationStrings.label_noData[lang]}\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <div>\r\n                {chartType === CHART_TYPE_PIE &&\r\n                <Pie data={data}\r\n                     height={ChartConfig.default_chart_height}\r\n                     options={getOptions()}\r\n                     type=\"pie\"\r\n                />\r\n                }\r\n                {chartType === CHART_TYPE_BAR &&\r\n                <Bar data={data}\r\n                     height={ChartConfig.default_chart_height}\r\n                     options={getOptions()}\r\n                     type={\"bar\"}\r\n                />\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    const chartColType = chartType === CHART_TYPE_PIE ? \"col-6\" : \"col-8\";\r\n    const detailChartData = createDetailChartData()\r\n    const basicChartData = createBasicChartData()\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col-3\" style={{display: \"block\"}}>\r\n                    {renderChartSelector()}\r\n                </div>\r\n                <div className={chartColType}>\r\n                    {chartSelection === Constants.CARBS_DATA_BASE &&\r\n                    renderChart(basicChartData)\r\n                    }\r\n                    {detailChartData && chartSelection === Constants.CARBS_DATA_DETAIL &&\r\n                    renderChart(detailChartData)\r\n                    }\r\n                    {!detailChartData && chartSelection === Constants.CARBS_DATA_DETAIL &&\r\n                    <div style={{height: ChartConfig.default_chart_height}}>\r\n                        {applicationStrings.label_noData[lang]}\r\n                    </div>\r\n                    }\r\n                </div>\r\n\r\n                {showLegend && chartType === Constants.CHART_TYPE_PIE &&\r\n                <div className=\"col-3\">\r\n                    {chartSelection === Constants.CARBS_DATA_BASE && basicChartData &&\r\n                    <CustomLegend legendData={getLegendBaseChart(basicChartData.labels)}/>\r\n                    }\r\n                    {chartSelection === Constants.CARBS_DATA_DETAIL && detailChartData &&\r\n                    <CustomLegend legendData={getLegendDetailsChart(detailChartData.labels)}/>\r\n                    }\r\n                </div>\r\n                }\r\n            </div>\r\n            <div className=\"row chartFormLine\">\r\n                <ChartOptionSelector chartType={chartType}\r\n                                     showLegend={showLegend}\r\n                                     handleRadioButtonClick={handleRadioButtonClick}\r\n                                     handleLegendCheckboxClick={handleLegendCheckbox}/>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n\r\n}","import SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport BaseDataChart from \"./charts/BaseDataChart\";\r\nimport EnergyDataChart from \"./charts/EnergyDataChart\";\r\nimport {\r\n    CHART_MINERALS,\r\n    CHART_VITAMINS,\r\n    TAB_BASE_DATA,\r\n    TAB_CARBS_DATA,\r\n    TAB_ENERGY_DATA,\r\n    TAB_INFO,\r\n    TAB_LIPIDS_DATA,\r\n    TAB_MINERAL_DATA,\r\n    TAB_PROTEINS_DATA,\r\n    TAB_VITAMIN_DATA\r\n} from \"../../config/Constants\";\r\nimport MineralVitaminChart from \"./charts/MineralVitaminChart\";\r\nimport LipidsDataChart from \"./charts/LipidsDataChart\";\r\nimport ProteinDataChart from \"./charts/ProteinDataChart\";\r\nimport CarbsDataChart from \"./charts/CarbsDataChart\";\r\nimport {InfoData} from \"./charts/InfoData\";\r\n\r\ninterface ChartPanelProps {\r\n    selectedFoodItem: SelectedFoodItem\r\n    selectedDataTab: string\r\n}\r\n\r\nexport interface ChartProps {\r\n    selectedFoodItem: SelectedFoodItem\r\n}\r\n\r\nexport function ChartPanel(props: ChartPanelProps) {\r\n\r\n        let chart = <div>Nothing to show</div>;\r\n        if(props.selectedDataTab === TAB_BASE_DATA) {\r\n            chart = <BaseDataChart selectedFoodItem={props.selectedFoodItem} />\r\n        } else if(props.selectedDataTab === TAB_ENERGY_DATA) {\r\n            chart = <EnergyDataChart selectedFoodItem={props.selectedFoodItem} />\r\n        } else if(props.selectedDataTab === TAB_VITAMIN_DATA) {\r\n            chart = <MineralVitaminChart selectedFoodItem={props.selectedFoodItem} selectedSubChart={CHART_VITAMINS} />\r\n        } else if(props.selectedDataTab === TAB_MINERAL_DATA) {\r\n            chart = <MineralVitaminChart selectedFoodItem={props.selectedFoodItem} selectedSubChart={CHART_MINERALS} />\r\n        } else if(props.selectedDataTab === TAB_LIPIDS_DATA) {\r\n            chart = <LipidsDataChart selectedFoodItem={props.selectedFoodItem}  />\r\n        } else if(props.selectedDataTab === TAB_CARBS_DATA) {\r\n            chart = <CarbsDataChart selectedFoodItem={props.selectedFoodItem}  />\r\n        } else if(props.selectedDataTab === TAB_PROTEINS_DATA) {\r\n            chart = <ProteinDataChart selectedFoodItem={props.selectedFoodItem}  />\r\n        }\r\n\r\n        return(\r\n            <div style={{paddingTop: \"24px\"}}>\r\n                {chart}\r\n            </div>\r\n        )\r\n}","import FoodItem from \"../../types/nutrientdata/FoodItem\";\r\nimport {FoodTableDataObject} from \"../../types/livedata/SelectedFoodItemData\";\r\nimport {BootstrapTable, TableHeaderColumn} from 'react-bootstrap-table';\r\nimport {useContext} from \"react\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {minimal_table_height} from \"../../config/ChartConfig\";\r\nimport 'react-bootstrap-table/dist/react-bootstrap-table-all.min.css';\r\nimport {defaultPanelHeight} from \"../../config/ApplicationSetting\";\r\n\r\ninterface FoodDataTableProps {\r\n    tableData: Array<FoodTableDataObject>\r\n}\r\n\r\nexport function FoodDataTable(props: FoodDataTableProps) {\r\n    const dataExists = props.tableData && props.tableData.length > 0;\r\n    const language = useContext(LanguageContext)\r\n\r\n    return(\r\n        <div style={{height: \"418px\", margin: \"25px\", overflowY: \"auto\" }}>\r\n            {dataExists &&\r\n            <BootstrapTable className=\"table-sm\" data={props.tableData} striped hover>\r\n                <TableHeaderColumn isKey dataField='label'>Element</TableHeaderColumn>\r\n                <TableHeaderColumn dataField='value_100g'>per 100 g</TableHeaderColumn>\r\n                <TableHeaderColumn dataField='value_portion'>per Portion</TableHeaderColumn>\r\n            </BootstrapTable>\r\n            }\r\n            {!dataExists &&\r\n            <div className=\"text-center\">{applicationStrings.label_noData[language.language]}</div>\r\n            }\r\n        </div>\r\n    );\r\n}","import React, {useContext} from \"react\";\r\nimport {LanguageContext} from \"../../../contexts/LangContext\";\r\nimport {BootstrapTable, TableHeaderColumn} from 'react-bootstrap-table';\r\nimport SelectedFoodItem from \"../../../types/livedata/SelectedFoodItem\";\r\nimport {ApplicationDataContextStore} from \"../../../contexts/ApplicationDataContext\";\r\nimport {getNameFromFoodNameList} from \"../../../service/nutrientdata/NameTypeService\";\r\nimport {applicationStrings} from \"../../../static/labels\";\r\nimport getName from \"../../../service/LanguageService\";\r\nimport {defaultPanelHeight} from \"../../../config/ApplicationSetting\";\r\n\r\ninterface InfoDataProps {\r\n    selectedFoodItem: SelectedFoodItem\r\n}\r\n\r\ninterface RowElement {\r\n    key: string,\r\n    value: string\r\n}\r\n\r\nexport function InfoData(props: InfoDataProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n\r\n    const createInfoItem = (key, value) => {\r\n        return (<span className=\"tab-infoitem\"><b><span style={{paddingRight: \"4px\"}}>{key}:</span></b>{value}</span>);\r\n    }\r\n\r\n    const createRow = (key, value): RowElement => {\r\n        return {\r\n            key: key,\r\n            value: value\r\n        }\r\n    }\r\n\r\n    const getGeneralTableData = (): Array<RowElement> => {\r\n        if (!applicationContext) {\r\n            return []\r\n        }\r\n\r\n        const foodNameId = props.selectedFoodItem.foodItem.nameId\r\n        const foodName = foodNameId ? getNameFromFoodNameList(applicationContext.foodDataCorpus.foodNames, foodNameId, lang) : ''\r\n\r\n        const foodClass = props.selectedFoodItem.foodClass;\r\n        const foodClassNameId = props.selectedFoodItem.foodClass ? props.selectedFoodItem.foodClass.nameKey : null\r\n\r\n        const sourceItemId = props.selectedFoodItem.foodItem.usdaId\r\n        const source = `United States Department of Agriculture (USDA)`;\r\n        const sourceLine2 = `ID = ${sourceItemId}`;\r\n        const foodClassName = foodClassNameId ? getNameFromFoodNameList(applicationContext.foodDataCorpus.foodNames, foodClassNameId, lang) : null;\r\n\r\n        const categoryId = props.selectedFoodItem.foodClass ?  props.selectedFoodItem.foodClass.category : null\r\n        const category = categoryId ? applicationContext.foodDataCorpus.categories.find(category => category.id === categoryId) : null\r\n        const categoryName = category ? getName(category, lang) : null;\r\n\r\n        const conditionId = props.selectedFoodItem.foodItem.conditionId\r\n        const condition = applicationContext.foodDataCorpus.conditions.find(condition => condition.id === conditionId)\r\n        const conditionName = condition ? getName(condition, lang) : null;\r\n\r\n        const tableDataGeneral: Array<RowElement> = [];\r\n\r\n        tableDataGeneral.push(\r\n            createRow(`${applicationStrings.label_info_foodName[lang]}:`, foodName)\r\n        );\r\n        tableDataGeneral.push(\r\n            createRow(`${applicationStrings.label_info_preparation[lang]}:`, conditionName)\r\n        );\r\n        tableDataGeneral.push(\r\n            createRow(`${applicationStrings.label_info_foodId[lang]}:`, props.selectedFoodItem.foodItem.id)\r\n        );\r\n        tableDataGeneral.push(\r\n            createRow(`${applicationStrings.label_info_foodClass[lang]}:`, foodClassName)\r\n        );\r\n        tableDataGeneral.push(\r\n            createRow(`${applicationStrings.label_info_category[lang]}:`, categoryName)\r\n        );\r\n        tableDataGeneral.push(\r\n            createRow(`${applicationStrings.label_info_source[lang]}:`, source)\r\n        );\r\n        tableDataGeneral.push(\r\n            createRow(\"\", sourceLine2)\r\n        );\r\n\r\n        return tableDataGeneral;\r\n    }\r\n\r\n    const getTableDataPortion = () => {\r\n        const foodPortion = props.selectedFoodItem.portion;\r\n        const portionValue = `${foodPortion.amount} g`;\r\n\r\n        const portionObject = applicationContext?.foodDataCorpus.portionTypes.find(portion => portion.id === foodPortion.portionType)\r\n        if (portionObject) {\r\n            const portionName = foodPortion.portionType !== 0 ? getName(portionObject, lang) : applicationStrings.portion_individual[lang];\r\n            const tableDataPortion: Array<RowElement> = [];\r\n\r\n            tableDataPortion.push(\r\n                createRow(`${applicationStrings.label_info_portionType[lang]}:`, portionName)\r\n            );\r\n\r\n            tableDataPortion.push(\r\n                createRow(`${applicationStrings.label_portion[lang]}:`, portionValue)\r\n            );\r\n\r\n            return tableDataPortion\r\n        }\r\n\r\n\r\n        return [];\r\n    }\r\n\r\n\r\n    const getTableDataCombinedFood = () => {\r\n        // const individualList = props.foodItem.individualData;\r\n        // const tableData = [];\r\n        //\r\n        // for(let i=0; i < individualList.length; i++) {\r\n        //     tableData.push(\r\n        //         createRow(`${individualList[i].name}:`, `${individualList[i].portion} g`)\r\n        //     );\r\n        // }\r\n        //\r\n        // return tableData;\r\n    }\r\n\r\n\r\n    const renderSubTable = (data) => {\r\n        return (\r\n            <div>\r\n                <BootstrapTable bordered={false} data={data}>\r\n                    <TableHeaderColumn className=\"tableHeaderClass\" dataField='key' isKey width=\"200px\"/>\r\n                    <TableHeaderColumn className=\"tableHeaderClass\" dataField='value'/>\r\n                </BootstrapTable>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    return (\r\n        <div style={{height: defaultPanelHeight, padding: \"15px\"}}>\r\n            {props.selectedFoodItem.foodItem.foodClass !== 0 &&\r\n            <div>\r\n                <div>\r\n                    {renderSubTable(getGeneralTableData())}\r\n                </div>\r\n                <div style={{paddingTop: \"30px\"}}>\r\n                    <h5>{applicationStrings.label_info_portion[lang]}</h5>\r\n                    {renderSubTable(getTableDataPortion())}\r\n                </div>\r\n            </div>\r\n            }\r\n            {props.selectedFoodItem.foodItem.foodClass === 0 &&\r\n            <div>\r\n                <h5>Individual</h5>\r\n                {renderSubTable(getTableDataCombinedFood())}\r\n            </div>\r\n            }\r\n\r\n        </div>\r\n    );\r\n\r\n\r\n}","import {FoodTableDataObject} from \"../../types/livedata/SelectedFoodItemData\";\r\nimport {DISPLAYMODE_CHART, DISPLAYMODE_TABLE, TAB_INFO} from \"../../config/Constants\";\r\nimport {ChartPanel} from \"./ChartPanel\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {FoodDataTable} from \"./FoodDataTable\";\r\nimport {InfoData} from \"./charts/InfoData\";\r\n\r\ninterface FoodDataPageBodyProps {\r\n    tableData: Array<FoodTableDataObject>\r\n    displayMode: string\r\n    selectedDataTab: string\r\n    selectedFoodItem: SelectedFoodItem\r\n}\r\n\r\nexport default function FoodDataPageBody(props: FoodDataPageBodyProps) {\r\n\r\n    const renderDataPage = () => {\r\n        return (\r\n            <div>\r\n                {props.displayMode === DISPLAYMODE_TABLE &&\r\n                <div className=\"col\">\r\n                    <FoodDataTable tableData={props.tableData}/>\r\n                </div>\r\n                }\r\n                {props.displayMode === DISPLAYMODE_CHART &&\r\n                <div className=\"col\">\r\n                    <ChartPanel selectedFoodItem={props.selectedFoodItem} selectedDataTab={props.selectedDataTab}/>\r\n                </div>\r\n                }\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className={\"form-main\"} style={{maxWidth: \"1000px\", minWidth: \"780px\"}}>\r\n            {props.selectedDataTab === TAB_INFO &&\r\n            <InfoData selectedFoodItem={props.selectedFoodItem}/>\r\n            }\r\n            {props.selectedDataTab !== TAB_INFO &&\r\n            renderDataPage()\r\n            }\r\n        </div>\r\n    )\r\n\r\n}","import {ReactElement, useContext} from \"react\";\r\nimport {LanguageContext} from \"../contexts/LangContext\";\r\nimport {applicationStrings} from \"../static/labels\";\r\nimport {HelpText} from \"../service/HelpService\";\r\n\r\ninterface HelpModalProps {\r\n    helpText: HelpText\r\n    closeHelpModal: () => void\r\n}\r\n\r\nexport function HelpModal(props: HelpModalProps): ReactElement {\r\n    const languageContext = useContext(LanguageContext)\r\n\r\n    if (!props.helpText) {\r\n        return (<div>No data available.</div>);\r\n    }\r\n\r\n\r\n    return (\r\n        <div className=\"modal\" style={{display: \"block\"}} role=\"dialog\">\r\n            <div className=\"modal-dialog\" role=\"document\">\r\n                <div className=\"modal-content\">\r\n                    <div className=\"modal-header\">\r\n                        <h5 className=\"modal-title\">{props.helpText.title}</h5>\r\n                        <button type=\"button\"\r\n                                className=\"btn-close\"\r\n                                data-dismiss=\"modal\"\r\n                                aria-label=\"Close\"\r\n                                onClick={props.closeHelpModal}>\r\n                        </button>\r\n                    </div>\r\n                    <div className=\"modal-body\">\r\n                        <span dangerouslySetInnerHTML={{__html: props.helpText.content}}/>\r\n                    </div>\r\n                    <div className=\"modal-footer\">\r\n                        <button type=\"button\"\r\n                                className=\"btn btn-primary\"\r\n                                onClick={props.closeHelpModal}>\r\n                            {applicationStrings.button_close[languageContext.language]}\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}","import {useContext, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {Button, ButtonGroup} from \"react-bootstrap\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {FaChartBar, FaQuestionCircle, FaThList, FaTimes} from \"react-icons/all\";\r\nimport {\r\n    DISPLAYMODE_CHART,\r\n    DISPLAYMODE_TABLE,\r\n    TAB_BASE_DATA,\r\n    TAB_CARBS_DATA,\r\n    TAB_ENERGY_DATA,\r\n    TAB_INFO,\r\n    TAB_LIPIDS_DATA,\r\n    TAB_MINERAL_DATA,\r\n    TAB_PROTEINS_DATA,\r\n    TAB_VITAMIN_DATA\r\n} from \"../../config/Constants\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport {getNameFromFoodNameList} from \"../../service/nutrientdata/NameTypeService\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport FoodDataPageBody from \"./FoodDataPageBody\";\r\nimport {FoodTableDataObject} from \"../../types/livedata/SelectedFoodItemData\";\r\nimport {HelpModal} from \"../HelpModal\";\r\nimport {getHelpText, HelpText} from \"../../service/HelpService\";\r\nimport getName from \"../../service/LanguageService\";\r\n\r\n\r\ninterface FoodDataPageHeaderProps {\r\n    displayMode: string\r\n    setDisplayMode: (id: string) => void\r\n    infoPage: string\r\n    setInfoPage: (id: string) => void\r\n    selectedFoodItem: SelectedFoodItem\r\n    tableData: Array<FoodTableDataObject>\r\n    selectedDataTab: string\r\n}\r\n\r\nexport default function FoodDataPageHeader(props: FoodDataPageHeaderProps) {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n\r\n    const [helpModalId, setHelpModalId] = useState<number>(0)\r\n\r\n    if (applicationContext === null) {\r\n        return <div/>\r\n    }\r\n\r\n    const handlePageButtonClick = (value: string) => {\r\n        props.setInfoPage(value)\r\n    }\r\n\r\n    const handleRadioButtonClick = (value: string) => {\r\n        props.setDisplayMode(value)\r\n    }\r\n\r\n    const closeTab = () => {\r\n        const id = (props.selectedFoodItem.foodItem.id)\r\n        applicationContext.removeItemFromFoodDataPanel(id)\r\n    }\r\n\r\n    const help = () => {\r\n        switch (props.infoPage) {\r\n            case TAB_BASE_DATA:\r\n                setHelpModalId(1)\r\n                return;\r\n            case TAB_ENERGY_DATA:\r\n                setHelpModalId(2)\r\n                return;\r\n            case TAB_VITAMIN_DATA:\r\n                setHelpModalId(3)\r\n                return;\r\n            case TAB_MINERAL_DATA:\r\n                setHelpModalId(4)\r\n                return;\r\n            case TAB_LIPIDS_DATA:\r\n                setHelpModalId(5)\r\n                return;\r\n            case TAB_INFO:\r\n                setHelpModalId(6)\r\n                return;\r\n            case TAB_CARBS_DATA:\r\n                setHelpModalId(7)\r\n                return;\r\n            case TAB_PROTEINS_DATA:\r\n                setHelpModalId(8)\r\n                return;\r\n            default:\r\n                return;\r\n        }\r\n\r\n    }\r\n\r\n\r\n    const renderPageTabs = () => {\r\n        const variant = \"link\"\r\n        const helpText: HelpText | null = helpModalId > 0 ? getHelpText(helpModalId, languageContext.language) : null\r\n\r\n        return (\r\n            <div className={\"d-flex\"}>\r\n                {helpText !== null &&\r\n                <HelpModal helpText={helpText} closeHelpModal={() => setHelpModalId(0)}></HelpModal>\r\n                }\r\n                <ButtonGroup vertical>\r\n                    <Button className=\"btn btn-link header-link\"\r\n                            onClick={() => handlePageButtonClick(TAB_BASE_DATA)}\r\n                            variant={variant}\r\n                            active={props.infoPage === TAB_BASE_DATA}>\r\n                        {applicationStrings.label_overview[languageContext.language]}\r\n                    </Button>\r\n                    <Button className=\"btn btn-link header-link header-link\"\r\n                            onClick={() => handlePageButtonClick(TAB_ENERGY_DATA)}\r\n                            variant={variant}\r\n                            active={props.infoPage === TAB_ENERGY_DATA}>\r\n                        {applicationStrings.label_nutrient_energy[languageContext.language]}\r\n                    </Button>\r\n                    <Button className=\"btn btn-link header-link\"\r\n                            onClick={() => handlePageButtonClick(TAB_VITAMIN_DATA)}\r\n                            variant={variant}\r\n                            active={props.infoPage === TAB_VITAMIN_DATA}>\r\n                        {applicationStrings.label_nutrient_vit[languageContext.language]}\r\n                    </Button>\r\n                    <Button className=\"btn btn-link page-head-button header-link\"\r\n                            onClick={() => handlePageButtonClick(TAB_MINERAL_DATA)}\r\n                            variant={variant}\r\n                            active={props.infoPage === TAB_MINERAL_DATA}>\r\n                        {applicationStrings.label_nutrient_min[languageContext.language]}\r\n                    </Button>\r\n                    <Button className=\"btn btn-link page-head-button header-link\"\r\n                            onClick={() => handlePageButtonClick(TAB_LIPIDS_DATA)}\r\n                            variant={variant}\r\n                            active={props.infoPage === TAB_LIPIDS_DATA}>\r\n                        {applicationStrings.label_nutrient_lipids[languageContext.language]}\r\n                    </Button>\r\n                    <Button className=\"btn btn-link page-head-button header-link\"\r\n                            onClick={() => handlePageButtonClick(TAB_CARBS_DATA)}\r\n                            variant={variant}\r\n                            active={props.infoPage === TAB_CARBS_DATA}>\r\n                        {applicationStrings.label_nutrient_carbohydrates[languageContext.language]}\r\n                    </Button>\r\n                    <Button className=\"btn btn-link page-head-button header-link\"\r\n                            onClick={() => handlePageButtonClick(TAB_PROTEINS_DATA)}\r\n                            variant={variant}\r\n                            active={props.infoPage === TAB_PROTEINS_DATA}>\r\n                        {applicationStrings.label_nutrient_proteins[languageContext.language]}\r\n                    </Button>\r\n                    <Button className=\"btn btn-link page-head-button header-link\"\r\n                            onClick={() => handlePageButtonClick(TAB_INFO)}\r\n                            variant={variant}\r\n                            active={props.infoPage === TAB_INFO}>\r\n                        {applicationStrings.label_info[languageContext.language]}\r\n                    </Button>\r\n                </ButtonGroup>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const enabledDisplayButtonClasses = \"btn button-displaymode-enabled\"\r\n    const disabledDisplayButtonClasses = \"btn button-displaymode-disabled\"\r\n\r\n    const chartButtonClasses = props.displayMode === DISPLAYMODE_CHART ? enabledDisplayButtonClasses\r\n        : disabledDisplayButtonClasses;\r\n\r\n    const tablesButtonClasses = props.displayMode === DISPLAYMODE_TABLE ? enabledDisplayButtonClasses\r\n        : disabledDisplayButtonClasses;\r\n\r\n    const foodNamesList = applicationContext.foodDataCorpus.foodNames;\r\n\r\n\r\n    let foodName\r\n    if(props.selectedFoodItem.foodItem.nameId) {\r\n        foodName = getNameFromFoodNameList(foodNamesList, props.selectedFoodItem.foodItem.nameId, languageContext.language)\r\n    } else {\r\n        foodName = 'Individual'\r\n    }\r\n\r\n    let fullName\r\n    const portionSize = props.selectedFoodItem.portion.amount\r\n\r\n    if(!props.selectedFoodItem.foodItem.aggregated) {\r\n        const condition = applicationContext.foodDataCorpus.conditions.find(condition => condition.id === props.selectedFoodItem.foodItem.conditionId)\r\n        const conditionName = condition ? getName(condition, languageContext.language) : \"\"\r\n        fullName = `${foodName} (${conditionName}, ${portionSize} g)`\r\n    } else {\r\n        fullName = `${foodName} (${portionSize} g)`\r\n    }\r\n\r\n    return (\r\n        <div style={{paddingBottom: \"6px\"}}>\r\n            <div className={\"row d-flex flex-nowrap\"}>\r\n                <div className=\"col-md-2 col-sm-3\">\r\n                    <div className={\"card\"}>\r\n                        <div className=\"card-body\" style={{paddingRight: \"30px\"}}>\r\n                            {renderPageTabs()}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className={\"col\"}>\r\n                    <div className=\"row d-flex flex-nowrap\" style={{marginTop: \"10px\"}}>\r\n                        <div className=\"col-md-8\" style={{paddingTop: \"6px\", paddingLeft: \"32px\"}}>\r\n                            <div style={{borderBottom: \"1px solid #BBBBBB\", paddingLeft: \"12px\"}}>\r\n                                <b>{fullName}</b>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-md-auto\">\r\n                            <div style={{width: \"200px\", padding: \"0px !important\", margin: \"0px !important\"}}>\r\n                                <div className=\"btn-group\" role=\"group\">\r\n                                    <Button className={chartButtonClasses}\r\n                                            onClick={() => handleRadioButtonClick(DISPLAYMODE_CHART)}\r\n                                            active={props.displayMode === DISPLAYMODE_CHART}\r\n                                            data-tip={applicationStrings.tooltip_icon_charts[languageContext.language]}>\r\n                                        <ReactTooltip/>\r\n                                        <FaChartBar/>\r\n                                    </Button>\r\n                                    <Button className={tablesButtonClasses}\r\n                                            onClick={() => handleRadioButtonClick(DISPLAYMODE_TABLE)}\r\n                                            active={props.displayMode === DISPLAYMODE_TABLE}\r\n                                            data-tip={applicationStrings.tooltip_icon_table[languageContext.language]}>\r\n                                        <FaThList/>\r\n                                    </Button>\r\n                                </div>\r\n\r\n                                <div className=\"btn-group\" role=\"group\" style={{paddingLeft: \"24px\"}}>\r\n                                    <Button className={\"btn-primary button-foodPanelHead\"}\r\n                                            onClick={help}\r\n                                            active={props.displayMode === DISPLAYMODE_CHART}>\r\n                                        <ReactTooltip/>\r\n                                        <FaQuestionCircle/>\r\n                                    </Button>\r\n                                    <Button className={\"button-closeTab\"}\r\n                                            onClick={closeTab}\r\n                                            data-tip={applicationStrings.tooltip_icon_close[languageContext.language]}>\r\n                                        <ReactTooltip/>\r\n                                        <FaTimes/>\r\n                                    </Button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <FoodDataPageBody selectedFoodItem={props.selectedFoodItem}\r\n                                      tableData={props.tableData}\r\n                                      displayMode={props.displayMode}\r\n                                      selectedDataTab={props.selectedDataTab}\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}","import {LANGUAGE_EN} from \"../config/Constants\";\r\n\r\nexport interface HelpText {\r\n    title: string,\r\n    content: string\r\n}\r\n\r\nexport function getHelpText(helpModalId: number, languageId: string): HelpText | null {\r\n    const helpFile = require(\"../static/help/help.json\");\r\n\r\n    let helpEntry = 0;\r\n    const entry = helpFile.entries.find( (entry) => entry.id === helpModalId);\r\n\r\n    if(entry) {\r\n        const languageSection = languageId === LANGUAGE_EN ? entry.en : entry.de;\r\n        const title = languageSection.title;\r\n        const contentArray = languageSection.content;\r\n\r\n        let content = \"\";\r\n        for(let i=0; i < contentArray.length; i++) {\r\n            content += contentArray[i];\r\n            if(i < (contentArray.length-1)) {\r\n                content += \"<br />\"\r\n            }\r\n        }\r\n\r\n        return {\r\n            title: title,\r\n            content: content\r\n        };\r\n    }\r\n\r\n    return null\r\n}","import * as MathService from './calculation/MathService';\r\nimport {applicationStrings} from \"../static/labels\";\r\nimport {FoodTableDataObject} from \"../types/livedata/SelectedFoodItemData\";\r\nimport FoodItem from \"../types/nutrientdata/FoodItem\";\r\n\r\nexport function createBaseDataTable(foodItem: FoodItem, portion: number, language: string): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject> = [];\r\n\r\n    const {water, carbohydrates, lipids, proteins, dietaryFibers, ash} = foodItem.nutrientDataList[0].baseData\r\n    const {sugar}  = foodItem.nutrientDataList[0].carbohydrateData\r\n\r\n    if(water) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_water[language],\r\n            water,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(carbohydrates) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates[language],\r\n            carbohydrates,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(sugar) {\r\n        tableData.push(createTableObject(\r\n            `${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_sugar[language]}`,\r\n            sugar,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(dietaryFibers) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_dietaryFibers[language],\r\n            dietaryFibers,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(lipids) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_lipids[language],\r\n            lipids,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteins) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins[language],\r\n            proteins,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(ash) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_ash[language],\r\n            ash,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\n\r\nexport function createVitaminTable(foodItem: FoodItem, portion: number, language: string): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject>  = [];\r\n\r\n    if(foodItem.nutrientDataList[0].vitaminData.a != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_a[language],\r\n            foodItem.nutrientDataList[0].vitaminData.a,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(foodItem.nutrientDataList[0].vitaminData.b1 != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_b1[language],\r\n            foodItem.nutrientDataList[0].vitaminData.b1,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(foodItem.nutrientDataList[0].vitaminData.b2 != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_b2[language],\r\n            foodItem.nutrientDataList[0].vitaminData.b2,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(foodItem.nutrientDataList[0].vitaminData.b3 != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_b3[language],\r\n            foodItem.nutrientDataList[0].vitaminData.b3,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(foodItem.nutrientDataList[0].vitaminData.b5 != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_b5[language],\r\n            foodItem.nutrientDataList[0].vitaminData.b5,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(foodItem.nutrientDataList[0].vitaminData.b6 != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_b6[language],\r\n            foodItem.nutrientDataList[0].vitaminData.b6,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(foodItem.nutrientDataList[0].vitaminData.b9 != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_b9[language],\r\n            foodItem.nutrientDataList[0].vitaminData.b9,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(foodItem.nutrientDataList[0].vitaminData.b12 != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_b12[language],\r\n            foodItem.nutrientDataList[0].vitaminData.b12,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(foodItem.nutrientDataList[0].vitaminData.c != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_c[language],\r\n            foodItem.nutrientDataList[0].vitaminData.c,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(foodItem.nutrientDataList[0].vitaminData.d != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_d[language],\r\n            foodItem.nutrientDataList[0].vitaminData.d,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(foodItem.nutrientDataList[0].vitaminData.e != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_e[language],\r\n            foodItem.nutrientDataList[0].vitaminData.e,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(foodItem.nutrientDataList[0].vitaminData.k != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_vit_k[language],\r\n            foodItem.nutrientDataList[0].vitaminData.k,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\nexport function createMineralTable(foodItem: FoodItem, portion: number, language: string): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject>  = [];\r\n\r\n    const firstNutrientData = foodItem.nutrientDataList[0];\r\n\r\n    if(firstNutrientData.mineralData.calcium != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_calcium[language],\r\n            firstNutrientData.mineralData.calcium,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.iron != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_iron[language],\r\n            firstNutrientData.mineralData.iron,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.magnesium != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_magnesium[language],\r\n            firstNutrientData.mineralData.magnesium,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.phosphorus != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_phosphorus[language],\r\n            firstNutrientData.mineralData.phosphorus,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.potassium != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_potassimum[language],\r\n            firstNutrientData.mineralData.potassium,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.sodium != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_sodium[language],\r\n            firstNutrientData.mineralData.sodium,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.zinc != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_zinc[language],\r\n            firstNutrientData.mineralData.zinc,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.copper != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_copper[language],\r\n            firstNutrientData.mineralData.copper,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.manganese != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_manganese[language],\r\n            firstNutrientData.mineralData.manganese,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.mineralData.selenium != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_min_selenium[language],\r\n            firstNutrientData.mineralData.selenium,\r\n            portion, \"mg\")\r\n        );\r\n    }\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\nexport function createLipidsTable(foodItem: FoodItem, portion: number, language: string): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject>  = [];\r\n    const firstNutrientData = foodItem.nutrientDataList[0];\r\n\r\n    if(firstNutrientData.lipidData.saturated != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_lipids_saturated[language],\r\n            firstNutrientData.lipidData.saturated,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.lipidData.unsaturatedMono != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_lipids_unsaturated_mono[language],\r\n            firstNutrientData.lipidData.unsaturatedMono,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.lipidData.unsaturatedPoly != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_lipids_unsaturated_poly[language],\r\n            firstNutrientData.lipidData.unsaturatedPoly,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.lipidData.omegaData) {\r\n        if(firstNutrientData.lipidData.omegaData.omega3 != null) {\r\n            tableData.push(createTableObject(\r\n                `${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_lipids_omega3[language]}`,\r\n                firstNutrientData.lipidData.omegaData.omega3,\r\n                portion, \"g\")\r\n            );\r\n        }\r\n\r\n        if(firstNutrientData.lipidData.omegaData.omega6 != null) {\r\n            tableData.push(createTableObject(\r\n                `${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_lipids_omega6[language]}`,\r\n                firstNutrientData.lipidData.omegaData.omega6,\r\n                portion, \"g\")\r\n            );\r\n        }\r\n    }\r\n\r\n    if(firstNutrientData.lipidData.transFattyAcids != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_lipids_transfattyAcids[language],\r\n            firstNutrientData.lipidData.transFattyAcids,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.lipidData.cholesterol != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_lipids_cholesterol[language],\r\n            firstNutrientData.lipidData.cholesterol,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\nexport function createEnergyTable(foodItem: FoodItem, portion: number, language: string): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject>  = [];\r\n    const energy = foodItem.nutrientDataList[0].baseData.energy !== null ? foodItem.nutrientDataList[0].baseData.energy : 0;\r\n\r\n    tableData.push(createTableObject(\r\n        \"kcal\",\r\n        energy,\r\n        portion, \"\")\r\n    );\r\n\r\n    tableData.push(createTableObject(\r\n        \"kJ\",\r\n        MathService.round(4.186 * energy, 1),\r\n        portion, \"\")\r\n    );\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\n\r\nexport function createCarbsTable(foodItem: FoodItem, portion: number, language: string): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject>  = [];\r\n\r\n    const firstNutrientData = foodItem.nutrientDataList[0];\r\n\r\n    tableData.push(createTableObject(\r\n        applicationStrings.label_nutrient_carbohydrates[language],\r\n        firstNutrientData.baseData.carbohydrates,\r\n        portion, \"g\")\r\n    );\r\n\r\n    if(firstNutrientData.carbohydrateData.sugar != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_sugar[language],\r\n            firstNutrientData.carbohydrateData.sugar,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.baseData.dietaryFibers != null) {\r\n        tableData.push(createTableObject(\r\n            `${applicationStrings.label_prefix_hereof[language]} ${applicationStrings.label_nutrient_dietaryFibers[language]}`,\r\n            firstNutrientData.baseData.dietaryFibers,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.carbohydrateData.glucose != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_glucose[language],\r\n            firstNutrientData.carbohydrateData.glucose,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.carbohydrateData.fructose != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_fructose[language],\r\n            firstNutrientData.carbohydrateData.fructose,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.carbohydrateData.galactose != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_galactose[language],\r\n            firstNutrientData.carbohydrateData.galactose,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.carbohydrateData.sucrose != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_sucrose[language],\r\n            firstNutrientData.carbohydrateData.sucrose,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.carbohydrateData.lactose != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_lactose[language],\r\n            firstNutrientData.carbohydrateData.lactose,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.carbohydrateData.maltose != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_maltose[language],\r\n            firstNutrientData.carbohydrateData.maltose,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(firstNutrientData.carbohydrateData.starch != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_carbohydrates_starch[language],\r\n            firstNutrientData.carbohydrateData.starch,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\n\r\nexport function createProteinTable(foodItem: FoodItem, portion: number, language: string): Array<FoodTableDataObject> {\r\n    let tableData: Array<FoodTableDataObject>  = [];\r\n\r\n    const proteinData = foodItem.nutrientDataList[0].proteinData;\r\n    if(!proteinData) {\r\n        return tableData;\r\n    }\r\n\r\n    if(proteinData.tryptophan != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_tryptophan[language],\r\n            proteinData.tryptophan,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.threonine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_threonine[language],\r\n            proteinData.threonine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.isoleucine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_isoleucine[language],\r\n            proteinData.isoleucine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.leucine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_leucine[language],\r\n            proteinData.leucine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.lysine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_lysine[language],\r\n            proteinData.lysine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.methionine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_methionine[language],\r\n            proteinData.methionine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.cystine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_cystine[language],\r\n            proteinData.cystine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.phenylalanine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_phenylalanine[language],\r\n            proteinData.phenylalanine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.tyrosine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_tyrosine[language],\r\n            proteinData.tyrosine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.valine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_valine[language],\r\n            proteinData.valine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.arginine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_arginine[language],\r\n            proteinData.arginine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.histidine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_histidine[language],\r\n            proteinData.histidine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.alanine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_alanine[language],\r\n            proteinData.alanine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.asparticAcid != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_asparticAcid[language],\r\n            proteinData.asparticAcid,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.glutamicAcid != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_glutamicAcid[language],\r\n            proteinData.glutamicAcid,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.glycine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_glysine[language],\r\n            proteinData.glycine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.proline != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_proline[language],\r\n            proteinData.proline,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    if(proteinData.serine != null) {\r\n        tableData.push(createTableObject(\r\n            applicationStrings.label_nutrient_proteins_serine[language],\r\n            proteinData.serine,\r\n            portion, \"g\")\r\n        );\r\n    }\r\n\r\n    return tableData;\r\n}\r\n\r\n\r\nfunction createTableObject(label: string, value_100g: number, portion: number, unit: String): FoodTableDataObject {\r\n    const valuePortion = calculatePortionData(value_100g, portion);\r\n    return {\r\n        label: label,\r\n        value_100g: `${MathService.autoRound(value_100g)} ${unit}`,\r\n        value_portion: `${MathService.autoRound(valuePortion)} ${unit}`\r\n    }\r\n}\r\n\r\n\r\nfunction calculatePortionData(value: number | null, portionSize: number) {\r\n    if(value === null || value === undefined) {\r\n        return \"n/a\";\r\n    } else if(value === 0) {\r\n        return 0;\r\n    }\r\n    return (value / 100) * portionSize;\r\n}","import SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport {getNameFromFoodNameList} from \"../../service/nutrientdata/NameTypeService\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport FoodDataPageHeader from \"./FoodDataPageHeader\";\r\nimport FoodDataPageBody from \"./FoodDataPageBody\";\r\nimport {FoodTableDataObject} from \"../../types/livedata/SelectedFoodItemData\";\r\nimport {\r\n    DISPLAYMODE_CHART,\r\n    TAB_BASE_DATA,\r\n    TAB_CARBS_DATA,\r\n    TAB_ENERGY_DATA,\r\n    TAB_LIPIDS_DATA,\r\n    TAB_MINERAL_DATA,\r\n    TAB_PROTEINS_DATA,\r\n    TAB_VITAMIN_DATA\r\n} from \"../../config/Constants\";\r\nimport {\r\n    createBaseDataTable,\r\n    createCarbsTable,\r\n    createEnergyTable,\r\n    createLipidsTable,\r\n    createMineralTable,\r\n    createProteinTable,\r\n    createVitaminTable\r\n} from \"../../service/TableService\";\r\n\r\ninterface FoodDataPageProps {\r\n    selectedFoodItem: SelectedFoodItem\r\n}\r\n\r\nexport default function FoodDataPage(props: FoodDataPageProps) {\r\n    const applicationData = useContext(ApplicationDataContextStore)\r\n    const {language} = useContext(LanguageContext)\r\n\r\n    const [displayMode, setDisplayMode] = useState<string>(DISPLAYMODE_CHART)\r\n    const [selectedDataTab, setSelectedDataTab] = useState<string>(TAB_BASE_DATA)\r\n    const [tableData, setTableData] = useState<Array<FoodTableDataObject>>([])\r\n\r\n    useEffect(() => {\r\n        updatePage()\r\n    }, [displayMode, selectedDataTab, props.selectedFoodItem])\r\n\r\n    if (!applicationData) {\r\n        return <div/>\r\n    }\r\n\r\n    const onNewDataPage = (datapage: string) => {\r\n        setSelectedDataTab(datapage)\r\n        updatePage()\r\n    }\r\n\r\n    const onDisplayModeChange = (newMode: string) => {\r\n        setDisplayMode(newMode)\r\n        updatePage()\r\n    }\r\n\r\n    const updatePage = () => {   // Central update method when any (radio) button was clicked\r\n        let tableDataList: Array<FoodTableDataObject> = [];\r\n        const {foodItem, portion} = props.selectedFoodItem\r\n\r\n        if (selectedDataTab === TAB_BASE_DATA) {\r\n            tableDataList = createBaseDataTable(foodItem, portion.amount, language);\r\n        } else if (selectedDataTab === TAB_ENERGY_DATA) {\r\n            tableDataList = createEnergyTable(foodItem, portion.amount, language);\r\n        } else if (selectedDataTab === TAB_VITAMIN_DATA) {\r\n            tableDataList = createVitaminTable(foodItem, portion.amount, language);\r\n        } else if (selectedDataTab === TAB_MINERAL_DATA) {\r\n            tableDataList = createMineralTable(foodItem, portion.amount, language);\r\n        } else if (selectedDataTab === TAB_LIPIDS_DATA) {\r\n            tableDataList = createLipidsTable(foodItem, portion.amount, language);\r\n        } else if (selectedDataTab === TAB_CARBS_DATA) {\r\n            tableDataList = createCarbsTable(foodItem, portion.amount, language);\r\n        } else if (selectedDataTab === TAB_PROTEINS_DATA) {\r\n            tableDataList = createProteinTable(foodItem, portion.amount, language);\r\n        }\r\n\r\n        setTableData(tableDataList)\r\n    }\r\n\r\n    if (applicationData.debug) {\r\n        console.log('FoodDataPage: Render, tabledata = ', tableData)\r\n    }\r\n\r\n    return <div>\r\n        <FoodDataPageHeader displayMode={displayMode}\r\n                            setDisplayMode={onDisplayModeChange}\r\n                            infoPage={selectedDataTab}\r\n                            setInfoPage={onNewDataPage}\r\n                            selectedFoodItem={props.selectedFoodItem}\r\n                            tableData={tableData}\r\n                            selectedDataTab={selectedDataTab}\r\n        />\r\n    </div>\r\n\r\n}","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nimport {confirmable, createConfirmation} from \"react-confirm\";\r\nimport {Button, Modal} from \"react-bootstrap\";\r\nimport {applicationStrings} from \"../static/labels\";\r\n\r\ninterface ConfirmationDialogProps {\r\n    okLabel: string,\r\n    cancelLabel: string,\r\n    title: string,\r\n    confirmation: string,\r\n    show: boolean,\r\n    proceed: (procedd: boolean) => void, // called when ok button is clicked.\r\n    enableEscape: boolean\r\n};\r\n\r\nclass ConfirmationDialog extends React.Component<ConfirmationDialogProps> {\r\n\r\n    render() {\r\n        const {\r\n            okLabel,\r\n            cancelLabel,\r\n            title,\r\n            confirmation,\r\n            show,\r\n            proceed,\r\n            enableEscape = true\r\n        } = this.props;\r\n\r\n        return (\r\n            <div className=\"static-modal\">\r\n                <Modal\r\n                    show={show}\r\n                    onHide={() => proceed(false)}\r\n                    backdrop={enableEscape ? true : \"static\"}\r\n                    keyboard={enableEscape}\r\n                >\r\n                    <Modal.Header>\r\n                        <Modal.Title>{title}</Modal.Title>\r\n                    </Modal.Header>\r\n                    <Modal.Body>{confirmation}</Modal.Body>\r\n                    <Modal.Footer>\r\n                        <Button onClick={() => proceed(false)}>{cancelLabel}</Button>\r\n                        <Button\r\n                            className=\"primary button-l\"\r\n                            onClick={() => proceed(true)}>\r\n                            {okLabel}\r\n                        </Button>\r\n                    </Modal.Footer>\r\n                </Modal>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\n\r\nexport function confirmAction(\r\n    confirmation,\r\n    okLabel,\r\n    cancelLabel,\r\n    options = {}\r\n) {\r\n    return createConfirmation(confirmable(ConfirmationDialog))({\r\n        confirmation,\r\n        okLabel,\r\n        cancelLabel,\r\n        ...options\r\n    });\r\n}\r\n","import React, {useContext, useState} from 'react'\r\nimport {Button} from 'react-bootstrap'\r\n\r\nimport FoodSelectorModal from '../foodselector/FoodSelectorModal'\r\nimport {FaLayerGroup, FaPlusSquare, FaTrash} from \"react-icons/all\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {getNameFromFoodNameList} from \"../../service/nutrientdata/NameTypeService\";\r\nimport FoodDataPage from \"./FoodDataPage\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {confirmAction} from \"../ConfirmationDialog\";\r\nimport ReactTooltip from \"react-tooltip\";\r\n\r\ninterface FoodAnalyzerContainerProps {\r\n    onNewFoodItemSelected: () => void\r\n}\r\n\r\nexport default function FoodAnalyzerContainer(props: FoodAnalyzerContainerProps) {\r\n    const applicationData = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n\r\n    const [showFoodSelector, setShowFoodSelector] = useState<Boolean>(false)\r\n    const [showFoodAggregatedFoodSelector, setShowAggregatedFoodSelector] = useState<Boolean>(false)\r\n\r\n    const onHide = (): void => {\r\n        setShowFoodSelector(false)\r\n        setShowAggregatedFoodSelector(false)\r\n    }\r\n\r\n    const onSelectFoodItemSubmit = (selectedFoodItem: SelectedFoodItem): void => {\r\n        if (applicationData === null) {\r\n            return\r\n        }\r\n\r\n        let foodName\r\n        if(selectedFoodItem.foodItem.nameId) {\r\n            foodName = getNameFromFoodNameList(applicationData.foodDataCorpus.foodNames,\r\n                selectedFoodItem.foodItem.nameId, languageContext.language)\r\n        } else {\r\n            foodName = 'Individual'\r\n        }\r\n\r\n        if (foodName === null) {\r\n            console.error('No food name available.')\r\n            return\r\n        }\r\n\r\n        selectedFoodItem.component = <FoodDataPage selectedFoodItem={selectedFoodItem}/>\r\n        selectedFoodItem.tab = foodName\r\n        selectedFoodItem.id = selectedFoodItem.foodItem.id\r\n        applicationData?.addItemToFoodDataPanel(selectedFoodItem)\r\n\r\n        if (applicationData?.debug) {\r\n            console.log('FoodAnalyzerContainer: Set new selected item and execute callback. Selected item = ', selectedFoodItem)\r\n        }\r\n\r\n        props.onNewFoodItemSelected()\r\n    }\r\n\r\n    const onCloseAllTabs = async () => {\r\n        if (await confirmAction(\r\n            applicationStrings.confirm_close_all_tabs[languageContext.language],\r\n            applicationStrings.button_yes[languageContext.language],\r\n            applicationStrings.button_no[languageContext.language],\r\n            {}\r\n        )) {\r\n            applicationData?.removeAllItemsFromFoodDataPanel()\r\n        }\r\n    }\r\n\r\n    if (applicationData?.debug) {\r\n        console.log('FoodAnalyzerContainer: Render')\r\n    }\r\n\r\n    const selectedFoodItems = applicationData?.applicationData.foodDataPanel.selectedFoodItems\r\n    const deleteIconEnabled = selectedFoodItems && selectedFoodItems.length > 0\r\n\r\n    ReactTooltip.rebuild()\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                {showFoodSelector &&\r\n                <FoodSelectorModal onHide={onHide} selectedFoodItemCallback={onSelectFoodItemSubmit} compositeSelector={false}/>\r\n                }\r\n                { showFoodAggregatedFoodSelector &&\r\n                <FoodSelectorModal onHide={onHide} selectedFoodItemCallback={onSelectFoodItemSubmit} compositeSelector={true}/>\r\n                }\r\n                <div className={\"text-center\"} style={{paddingTop: \"16px\"}}>\r\n                    <Button onClick={() => setShowFoodSelector(!showFoodSelector)}\r\n                            className={\"btn\"}\r\n                            style={{marginRight: \"12px\"}}\r\n                            data-tip={applicationStrings.tooltip_icon_newFoodItem[languageContext.language]}>\r\n                        <FaPlusSquare/>\r\n                    </Button>\r\n                    <Button onClick={() => setShowAggregatedFoodSelector(!showFoodAggregatedFoodSelector)}\r\n                            className={\"btn\"}\r\n                            style={{marginRight: \"12px\"}}\r\n                            data-tip={applicationStrings.tooltip_icon_newFoodItemStack[languageContext.language]}>\r\n                        <FaLayerGroup/>\r\n                    </Button>\r\n                    <Button onClick={() => onCloseAllTabs()}\r\n                            disabled={deleteIconEnabled === false}\r\n                            data-tip={applicationStrings.tooltip_icon_removeAll[languageContext.language]}>\r\n                        <FaTrash/>\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}","import React, {Component, useContext} from \"react\";\r\nimport CloseableTabs from 'react-closeable-tabs';\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\n\r\ninterface TabContainerProps {\r\n    onTabChange: (id: number) => void\r\n    indexToSet: number\r\n}\r\n\r\n// Origin: Vinus Online\r\nexport default function TabContainer(props: TabContainerProps) {\r\n    const applicationData = useContext(ApplicationDataContextStore)\r\n\r\n    const style = {\r\n        buttonTab: {\r\n            border: \"border border-secondary\",\r\n            background: \"none\",\r\n            display: \"inline-flex\",\r\n            verticalAlign: \"middle\",\r\n            minHeight: \"30px\",\r\n            alignItems: \"center\",\r\n            cursor: \"pointer\",\r\n            marginTop: \"-12px\",\r\n            borderBottom: \"2px solid transparent\"\r\n        }\r\n    }\r\n\r\n    if(applicationData?.debug) {\r\n        console.log('TabContainer: Render, food panel data = ', applicationData.applicationData.foodDataPanel.selectedFoodItems)\r\n    }\r\n\r\n    if (!applicationData || !applicationData.applicationData.foodDataPanel.selectedFoodItems) {\r\n        return <div/>\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <CloseableTabs\r\n                data={applicationData.applicationData.foodDataPanel.selectedFoodItems}\r\n                tabPanelClass=\"tab-panel\"\r\n                tabContentClass=\"tab-content mainPanel\"\r\n                style={style}\r\n                onTabClick={(id) => props.onTabChange(id)}\r\n                activeIndex={applicationData.applicationData.foodDataPanel.selectedFoodItemIndex}\r\n            />\r\n        </div>\r\n    )\r\n}","import FoodAnalyzerContainer from \"./FoodAnalyzerContainer\";\r\nimport {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../../contexts/ApplicationDataContext\";\r\nimport TabContainer from \"./TabContainer\";\r\nimport SelectedFoodItem from \"../../types/livedata/SelectedFoodItem\";\r\nimport {applicationStrings} from \"../../static/labels\";\r\nimport {LanguageContext} from \"../../contexts/LangContext\";\r\n\r\n\r\nexport default function FoodDataPanelContainer() {\r\n    const applicationData = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n\r\n    if (!applicationData) {\r\n        return <div/>\r\n    }\r\n\r\n    const selectedFoodItems = applicationData.applicationData.foodDataPanel.selectedFoodItems\r\n\r\n    const onTabChange = (foodId) => {\r\n        for (let i = 0; i < selectedFoodItems.length; i++) {\r\n            if (selectedFoodItems[i].id === foodId) {\r\n                applicationData.setSelectedTab(i)\r\n            }\r\n        }\r\n    }\r\n\r\n    const onNewFoodItemSelected = (): void => {\r\n        const newTabIndex = applicationData.applicationData.foodDataPanel.selectedFoodItems.length - 1\r\n        applicationData.setSelectedTab(newTabIndex)\r\n    }\r\n\r\n    const selectedTabIndex = applicationData.applicationData.foodDataPanel.selectedFoodItemIndex\r\n\r\n    if (!(selectedTabIndex >= 0)) {\r\n        return <div/>\r\n    }\r\n\r\n    const selectedFoodItem = applicationData.applicationData.foodDataPanel.selectedFoodItems[selectedTabIndex]\r\n\r\n    if (applicationData.debug) {\r\n        console.log('FoodDataPanelContainer: Render, selected food item = ', selectedFoodItem)\r\n    }\r\n\r\n\r\n    return <div>\r\n        {selectedFoodItem !== null &&\r\n        <div className=\"container-fluid\" style={{paddingTop: \"20px\"}}>\r\n            <div className=\"row\">\r\n                <div className={\"col-2\"}>\r\n                    <FoodAnalyzerContainer onNewFoodItemSelected={onNewFoodItemSelected}/>\r\n                </div>\r\n                <div className=\"col-10 media app\" style={{maxWidth: \"1100px\", marginTop: \"-10px\"}}>\r\n                    {selectedFoodItems && selectedFoodItems.length > 0 ?\r\n                        <div>\r\n                            <TabContainer indexToSet={selectedTabIndex} onTabChange={onTabChange}/>\r\n                        </div>\r\n                        :\r\n                        <div style={{padding: \"24px\"}}>\r\n                            <i>\r\n                                {applicationStrings.text_empty_fooddatapanel[languageContext.language]}\r\n                            </i>\r\n                        </div>\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n        }\r\n    </div>\r\n\r\n\r\n}","export default \"data:image/png;base64,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\"","import logo from '../static/image/logo.png'\r\nimport text from '../static/image/text.png'\r\nimport {Button} from \"react-bootstrap\";\r\nimport {\r\n    LANGUAGE_DE,\r\n    LANGUAGE_EN,\r\n    PATH_FOODDATA_PANEL,\r\n    PATH_HOME,\r\n    PATH_CONTACT,\r\n    PATH_RANKING,\r\n    PATH_USERSETTINGS, PATH_MOBILE_APP\r\n} from \"../config/Constants\";\r\nimport {useContext} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../contexts/ApplicationDataContext\";\r\nimport {applicationStrings} from \"../static/labels\";\r\nimport {LanguageContext} from \"../contexts/LangContext\";\r\nimport {Link} from 'react-router-dom';\r\nimport { useLocation } from 'react-router-dom';\r\n\r\n\r\nexport default function Header() {\r\n    const applicationData = useContext(ApplicationDataContextStore)\r\n    const {language, userLanguageChange} = useContext(LanguageContext)\r\n    const location = useLocation();\r\n\r\n    if (applicationData === null) {\r\n        return <div/>\r\n    }\r\n\r\n    const handleLanguageButtonClick = (event: any): void => {\r\n        userLanguageChange(event.target.value)\r\n        applicationData.updateAllFoodItemNames(applicationData.foodDataCorpus.foodNames, event.target.value)\r\n    }\r\n\r\n    const activePath = location.pathname && location.pathname !== \"/\" ? location.pathname : PATH_HOME\r\n\r\n    console.log('ABC:', activePath)\r\n\r\n    const renderMenus = () => {\r\n        return (\r\n            <div className=\"btn-group\" role=\"group\">\r\n                <div className=\"header-menu\">\r\n                    <Link to={PATH_HOME}>\r\n                        <Button className=\"header-link\"\r\n                                value={PATH_HOME}\r\n                                variant={'link'}\r\n                                active={activePath === PATH_HOME}>\r\n                            {applicationStrings.menu_home[language]}\r\n                        </Button>\r\n                    </Link>\r\n                </div>\r\n                <div className=\"header-menu\">\r\n                    <Link to={PATH_FOODDATA_PANEL}>\r\n                        <Button className=\"header-link\"\r\n                                value={PATH_FOODDATA_PANEL}\r\n                                variant={'link'}\r\n                                active={activePath === PATH_FOODDATA_PANEL}>\r\n                            {applicationStrings.menu_food_data_panel[language]}\r\n                        </Button>\r\n                    </Link>\r\n                </div>\r\n                {/*<div className=\"header-menu\">*/}\r\n                {/*    <Button className=\"blink header-link\"*/}\r\n                {/*            value={MENU_RANKING}*/}\r\n                {/*            variant={'link'}*/}\r\n                {/*            active={props.selectedMenu === MENU_RANKING}*/}\r\n                {/*            onClick={props.changeMenu}>*/}\r\n                {/*        {applicationStrings.menu_ranking[language]}*/}\r\n                {/*    </Button>*/}\r\n                {/*</div>*/}\r\n                <div className=\"header-menu\">\r\n                    <Link to={PATH_MOBILE_APP}>\r\n                        <Button className=\"header-link\"\r\n                                value={PATH_MOBILE_APP}\r\n                                variant={'link'}\r\n                                active={activePath === PATH_MOBILE_APP}>\r\n                            {applicationStrings.menu_mobile_app[language]}\r\n                        </Button>\r\n                    </Link>\r\n                </div>\r\n                <div className=\"header-menu\">\r\n                    <Link to={PATH_USERSETTINGS}>\r\n                        <Button className=\"link header-link\"\r\n                                value={PATH_USERSETTINGS}\r\n                                variant={'link'}\r\n                                active={activePath === PATH_USERSETTINGS}>\r\n                            {applicationStrings.menu_settings[language]}\r\n                        </Button>\r\n                    </Link>\r\n                </div>\r\n                <div className=\"header-menu\">\r\n                    <Link to={PATH_CONTACT}>\r\n                        <Button className=\"link header-link\"\r\n                                variant={'link'}\r\n                                value={PATH_CONTACT}\r\n                                active={activePath === PATH_CONTACT}>\r\n                            {applicationStrings.menu_contact[language]}\r\n                        </Button>\r\n                    </Link>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    const renderLanguageButtons = () => {\r\n        return (\r\n            <div className=\"form-language text-right\">\r\n                <form className=\"form-group\">\r\n                    <label className=\"form-elements\">\r\n                        <b>{applicationStrings.label_language[language]}</b>\r\n                    </label>\r\n                    <label className=\"form-elements\">\r\n                        <input className=\"form-radiobutton\"\r\n                               type=\"radio\"\r\n                               value={LANGUAGE_EN}\r\n                               checked={language === LANGUAGE_EN}\r\n                               onChange={handleLanguageButtonClick}\r\n                        />\r\n                        {applicationStrings.checkbox_english[language]}\r\n                    </label>\r\n                    <label className=\"form-elements-largespace\">\r\n                        <input className=\"form-radiobutton\"\r\n                               type=\"radio\"\r\n                               value={LANGUAGE_DE}\r\n                               checked={(language === LANGUAGE_DE)}\r\n                               onChange={handleLanguageButtonClick}\r\n                        />\r\n                        {applicationStrings.checkbox_german[language]}\r\n                    </label>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row header\">\r\n                <div className=\"col-1\"\r\n                     style={{paddingLeft: \"10px\", paddingTop: \"8px\", minWidth: \"120px\", maxWidth: \"120px\"}}>\r\n                    <img src={logo}/>\r\n                </div>\r\n                <div className=\"col\">\r\n                    <div className=\"container-fluid\">\r\n                        <div className=\"row\" float-start>\r\n                            <div className=\"col-5 text-start\" style={{paddingTop: \"5px\"}}>\r\n                                <img src={text}/>\r\n                            </div>\r\n                            <div className=\"col text-end\" style={{paddingTop: \"6px\"}}>\r\n                                {renderLanguageButtons()}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"row\" style={{marginTop: \"3px\"}}>\r\n                            <div className=\"col-md-12 text-start\">\r\n                                {renderMenus()}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}","export default \"data:image/png;base64,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\"","import React, {useContext, useEffect, useState} from \"react\";\r\nimport {ApplicationDataContextStore} from \"../contexts/ApplicationDataContext\";\r\nimport {LanguageContext} from \"../contexts/LangContext\";\r\nimport {SEX_FEMALE, SEX_MALE} from \"../config/Constants\";\r\nimport {UserData} from \"../types/livedata/UserData\";\r\nimport {\r\n    initialUserDataAge,\r\n    initialUserDataBreastfeeding,\r\n    initialUserDataLeisureSports,\r\n    initialUserDataPregnant,\r\n    initialUserDataSex,\r\n    initialUserDataSize,\r\n    initialUserDataWeight\r\n} from \"../config/ApplicationSetting\";\r\nimport {applicationStrings} from \"../static/labels\";\r\nimport {NotificationManager} from 'react-notifications'\r\nimport 'react-notifications/lib/notifications.css';\r\nimport {Form, FormControl, FormGroup} from \"react-bootstrap\";\r\nimport Select from 'react-select';\r\nimport {getPalCategories, getPalCategory} from \"../service/calculation/EnergyService\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport ReactSelectOption from \"../types/ReactSelectOption\";\r\n\r\nexport function UserSettings() {\r\n    const applicationContext = useContext(ApplicationDataContextStore)\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n\r\n    const [age, setAge] = useState<number>(initialUserDataAge)\r\n    const [size, setSize] = useState<number>(initialUserDataSize)\r\n    const [weight, setWeight] = useState<number>(initialUserDataWeight)\r\n    const [sex, setSex] = useState<string>(initialUserDataSex)\r\n    const [pregnant, setPregnant] = useState<boolean>(initialUserDataPregnant)\r\n    const [breastFeeding, setBreastFeeding] = useState<boolean>(initialUserDataBreastfeeding)\r\n    const [palValue, setPalValue] = useState<ReactSelectOption | null>(null)\r\n    const [leisureSport, setLeisureSport] = useState<boolean>(initialUserDataLeisureSports)\r\n\r\n    useEffect(() => {\r\n        if(applicationContext) {\r\n            setAge(applicationContext.userData.age)\r\n            setSize(applicationContext.userData.size)\r\n            setWeight(applicationContext.userData.weight)\r\n            setSex(applicationContext.userData.sex)\r\n            setPregnant(applicationContext.userData.pregnant)\r\n            setBreastFeeding(applicationContext.userData.breastFeeding)\r\n            setLeisureSport(applicationContext.userData.leisureSports)\r\n        }\r\n    }, [])\r\n\r\n    const changeAge = (event: any) => {\r\n        setAge(event.target.value)\r\n    }\r\n\r\n    const changeSize = (event: any) => {\r\n        setSize(event.target.value)\r\n    }\r\n\r\n    const changeWeight = (event: any) => {\r\n        setWeight(event.target.value)\r\n    }\r\n\r\n    const handleRadioButtonClick = (event: any) => {\r\n        const value = event.target.value;\r\n        const sex = value === SEX_MALE ? SEX_MALE : SEX_FEMALE;\r\n        if (sex === SEX_MALE) {\r\n            setPregnant(false)\r\n            setBreastFeeding(false)\r\n        }\r\n        setSex(sex)\r\n    }\r\n\r\n    const changePregnant = (event: any) => {\r\n        setPregnant(!pregnant)\r\n    }\r\n\r\n    const changeBreastFeeding = (event: any) => {\r\n        setBreastFeeding(!breastFeeding)\r\n    }\r\n\r\n    const changeAdditionalPalPorts = (event: any) => {\r\n        setLeisureSport(!leisureSport)\r\n    }\r\n\r\n    const changePalValue = (value: ReactSelectOption) => {\r\n        setPalValue(value)\r\n    }\r\n\r\n    const submitUserData = () => {\r\n        if (!applicationContext) {\r\n            return\r\n        }\r\n\r\n        const userData: UserData = {\r\n            age: age,\r\n            size: size,\r\n            weight: weight,\r\n            sex: sex,\r\n            pregnant: pregnant,\r\n            breastFeeding: breastFeeding,\r\n            palValue: palValue ? palValue.value : applicationContext.userData.palValue,\r\n            leisureSports: leisureSport,\r\n            initialValues: false\r\n        }\r\n\r\n        const inputOk = checkInputValidity(userData)\r\n\r\n        if (inputOk) {\r\n            applicationContext.setUserData(userData)\r\n            NotificationManager.success(applicationStrings.message_userdata_success[lang])\r\n        }\r\n    }\r\n\r\n\r\n    const checkInputValidity = (userData: UserData) => {\r\n        const {age, size, weight} = userData\r\n\r\n        if (age != null && (age < 15 || age > 100)) {\r\n            showMessage(applicationStrings.message_userdata_error_age[lang]);\r\n            return false;\r\n        } else if (size != null && (size < 80 || size > 225)) {\r\n            showMessage(applicationStrings.message_userdata_error_size[lang]);\r\n            return false;\r\n        } else if (weight != null && (weight < 30 || weight > 250)) {\r\n            showMessage(applicationStrings.message_userdata_error_weight[lang]);\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    const showMessage = (message: string) => {\r\n        NotificationManager.error(message)\r\n    }\r\n\r\n    const renderTextField = (label, value, callback) => {\r\n        return (\r\n            <div className=\"form-row\">\r\n                <Form.Label className=\"form-label\">{label}:</Form.Label>\r\n                <FormControl\r\n                    className=\"inputfield\"\r\n                    type=\"text\"\r\n                    value={value}\r\n                    onChange={callback}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const renderSexRadioButtons = () => {\r\n        return (\r\n            <div className=\"form-row-indent\">\r\n                <Form.Label className=\"form-elements\">\r\n                    <Form.Check type=\"radio\"\r\n                                inline={true}\r\n                                label={applicationStrings.label_userSettings_sex_male[lang]}\r\n                                value={SEX_MALE}\r\n                                checked={(sex === SEX_MALE)}\r\n                                onChange={handleRadioButtonClick}\r\n                    />\r\n                </Form.Label>\r\n                <Form.Label className=\"form-elements-largespace\">\r\n                    <Form.Check type=\"radio\"\r\n                                inline={true}\r\n                                label={applicationStrings.label_userSettings_sex_female[lang]}\r\n                                value={SEX_FEMALE}\r\n                                checked={(sex !== SEX_MALE)}\r\n                                onChange={handleRadioButtonClick}\r\n                    />\r\n                </Form.Label>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const renderFemaleCheckboxes = () => {\r\n        return (\r\n            <div className=\"form\" style={{marginLeft: \"48px\", marginBottom: \"10px\"}}>\r\n                <div>\r\n                    <Form.Check inline className=\"form-radiobutton\"\r\n                                checked={pregnant === true}\r\n                                disabled={sex === SEX_MALE}\r\n                                label={applicationStrings.label_userSettings_pregnant[lang]}\r\n                                onClick={changePregnant}>\r\n                    </Form.Check>\r\n                </div>\r\n                <div>\r\n                    <Form.Check inline className=\"form-radiobutton\"\r\n                                checked={breastFeeding === true}\r\n                                disabled={sex === SEX_MALE}\r\n                                label={applicationStrings.label_userSettings_breastfeeding[lang]}\r\n                                onClick={changeBreastFeeding}>\r\n                    </Form.Check>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    const renderPalList = (userData: UserData) => {\r\n        const palCategories = getPalCategories(lang);\r\n        if (!palCategories) {\r\n            return <div/>\r\n        }\r\n\r\n        if (!palValue) {   // Initialize pal value first time\r\n            let userDataPalValue = palCategories.find(palObject => palObject.value === userData.palValue)\r\n            if (!userDataPalValue) {\r\n                console.error('Error: Pal object could not be determined.')\r\n                userDataPalValue = palCategories[0]\r\n            }\r\n            setPalValue(userDataPalValue)\r\n        }\r\n\r\n        if (!palValue) {\r\n            return <div/>\r\n        }\r\n\r\n        const descriptionCode = `palcat_desc_${getPalCategory(palValue.value)}`\r\n        const description = applicationStrings[descriptionCode][lang];\r\n\r\n        return (\r\n            <div className=\"form-row\">\r\n                <div style={{width: \"450px\", paddingTop: \"30px\"}}>\r\n                    <label className=\"form-label\">{applicationStrings.label_userSettings_palValue[lang]}:</label>\r\n                    <Select options={palCategories}\r\n                            value={palValue}\r\n                            onChange={(value) => changePalValue(value)}\r\n                    />\r\n                </div>\r\n                <p className=\"infotext\">\r\n                    {description}\r\n                </p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    const renderActivityCheckboxes = () => {\r\n        return (\r\n            <div className=\"form-row-indent\" style={{marginTop: \"-15px\"}}>\r\n                <label className=\"form-elements\"\r\n                       data-tip={applicationStrings.label_userSettings_leisureSports_tooltip[lang]}>\r\n                    <ReactTooltip/>\r\n                    <Form.Check inline className=\"form-radiobutton\"\r\n                                label={applicationStrings.label_userSettings_leisureSports[lang]}\r\n                                checked={leisureSport === true}\r\n                                onClick={changeAdditionalPalPorts}>\r\n                    </Form.Check>\r\n                </label>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const renderSubmitButton = () => {\r\n        return (\r\n            <div className=\"text-center\">\r\n                <button type=\"button\"\r\n                        className=\"btn btn-primary button-base\"\r\n                        onClick={() => submitUserData()}>\r\n                    {applicationStrings.button_submit[lang]}\r\n                </button>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    if (!applicationContext) {\r\n        return <div/>\r\n    }\r\n\r\n    const value_age = (age != null) ? age : initialUserDataAge\r\n    const value_size = (size != null) ? size : initialUserDataSize\r\n    const value_weight = (weight != null) ? weight : initialUserDataWeight\r\n\r\n    return (\r\n        <div className=\"container\">\r\n            <div className=\"row userDataSettings\">\r\n                <div className=\"col-12\">\r\n                    <form>\r\n                        <FormGroup controlId=\"formBasicText\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-6\">\r\n                                    {renderTextField(applicationStrings.label_userSettings_age[lang], value_age, changeAge)}\r\n                                    {renderTextField(applicationStrings.label_userSettings_size[lang], value_size, changeSize)}\r\n                                    {renderTextField(applicationStrings.label_userSettings_weight[lang], value_weight, changeWeight)}\r\n                                </div>\r\n                                <div className=\"col-6\">\r\n                                    <Form.Label className=\"form-label\" style={{paddingLeft: \"20px\"}}>\r\n                                        {applicationStrings.label_userSettings_sex[lang]}\r\n                                    </Form.Label>\r\n                                    {renderSexRadioButtons()}\r\n                                    {renderFemaleCheckboxes()}\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row\">\r\n                                {renderPalList(applicationContext.userData)}\r\n                                {renderActivityCheckboxes()}\r\n                            </div>\r\n                        </FormGroup>\r\n                        {renderSubmitButton()}\r\n                    </form>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}","export default __webpack_public_path__ + \"static/media/impressum-german.92ba80d6.png\";","export default __webpack_public_path__ + \"static/media/impressum-english.f6495d9a.png\";","import {useContext} from \"react\";\r\nimport {LanguageContext} from \"../contexts/LangContext\";\r\nimport {applicationStrings} from \"../static/labels\";\r\nimport {LANGUAGE_DE} from \"../config/Constants\";\r\n\r\nimport impressum_de from '../static/image/impressum-german.png';\r\nimport impressum_en from '../static/image/impressum-english.png';\r\nimport {buildDate, release} from \"../config/ApplicationSetting\";\r\n\r\nexport function Contact() {\r\n    const languageContext = useContext(LanguageContext)\r\n    const lang = languageContext.language\r\n\r\n    const renderDisclaimer = () => {\r\n        return(\r\n            <div>\r\n                <p>\r\n                    <b>{applicationStrings.text_contact_disclaimer1[lang]}</b>\r\n                </p>\r\n                <p>\r\n                    <i>\r\n                        {applicationStrings.text_contact_disclaimer2[lang]}\r\n                    </i>\r\n                </p>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    const renderSources = () => {\r\n        return (\r\n            <div style={{paddingTop: \"50px\"}}>\r\n                <h4>{applicationStrings.text_contact_source1[lang]}</h4>\r\n                <h5>{applicationStrings.text_contact_source2[lang]}</h5>\r\n                <p>United States Department of Agriculture (USDA)</p>\r\n                <h5>{applicationStrings.text_contact_source3[lang]}</h5>\r\n                <p>Deutsche Gesellschaft fr Ernhrung e.V.</p>\r\n                <h5>{applicationStrings.text_contact_source4[lang]}</h5>\r\n                <p>Prakash S. Shetty, Christiani J. K. Henry, Alison E. Black and A. M. Prentice:<br/>\r\n                    \"Energy requirements of adults: an update on basal metabolic rates (BMRs) and physical activity levels (PALs).\",<br/>\r\n                    European journal of clinical nutrition (1996), Volume 50, Suppl 1, pp. 11-23\r\n                </p>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    const impressumPath = lang === LANGUAGE_DE ? impressum_de : impressum_en;\r\n\r\n    return(\r\n        <div className=\"container-fluid\"  style={{paddingLeft: \"50px\", paddingTop: \"20px\"}}>\r\n            <div className=\"row\">\r\n                <div className=\"col-6\" style={{paddingBottom: \"40px\", paddingRight: \"80px\"}}>\r\n                    <div>\r\n                        <h1>\r\n                            Food Compare\r\n                        </h1>\r\n                        <h6>\r\n                            Version {release}\r\n                        </h6>\r\n                        <h6>\r\n                            Build time: {buildDate}\r\n                        </h6>\r\n                    </div>\r\n                    <div style={{paddingTop: \"50px\"}}>\r\n                        {renderDisclaimer()}\r\n                        {renderSources()}\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-6\">\r\n                    <div style={{height: '180px'}}>\r\n                        <img src={impressumPath} style={{height: '180px'}} />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n\r\n}","import {useContext, useState} from \"react\";\r\nimport {LanguageContext} from \"../contexts/LangContext\";\r\nimport {Carousel} from 'react-responsive-carousel';\r\nimport {applicationStrings} from \"../static/labels\";\r\n\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\r\nimport {Link} from 'react-router-dom';\r\nimport {PATH_FOODDATA_PANEL} from \"../config/Constants\";\r\n\r\nconst images = require.context('../static/image/carousel', true);\r\n\r\n\r\nexport function Home() {\r\n    const languageContext = useContext(LanguageContext)\r\n    const [displayedImage, setDisplayedImage] = useState<number>(0)\r\n\r\n    const imageChanged = (image) => {\r\n        setDisplayedImage(image)\r\n    }\r\n\r\n    const renderCarousel = () => {\r\n        let langKey = languageContext.language\r\n\r\n        const pic1 = images(`./Img-${langKey}-1.png`).default;\r\n        const pic2 = images(`./Img-${langKey}-2.png`).default;\r\n        const pic3 = images(`./Img-${langKey}-3.png`).default;\r\n        const pic4 = images(`./Img-${langKey}-4.png`).default;\r\n        const pic5 = images(`./Img-${langKey}-5.png`).default;\r\n        const pic6 = images(`./Img-${langKey}-6.png`).default;\r\n\r\n        const captionAttribute = `home_carousel_${displayedImage}`;\r\n        const imageCaption = applicationStrings[captionAttribute][languageContext.language];\r\n\r\n        return (\r\n            <div style={{paddingTop: \"20px\", paddingBottom: \"50px\"}}>\r\n                <Carousel showArrows={true}\r\n                          infiniteLoop={true} autoPlay={true}\r\n                          interval={6000}\r\n                          transitionTime={800}\r\n                          selectedItem={displayedImage}\r\n                          onChange={imageChanged}>\r\n                    <div>\r\n                        <img src={pic1}/>\r\n                    </div>\r\n                    <div>\r\n                        <img src={pic2}/>\r\n                    </div>\r\n                    <div>\r\n                        <img src={pic3}/>\r\n                    </div>\r\n                    <div>\r\n                        <img src={pic4}/>\r\n                    </div>\r\n                    <div>\r\n                        <img src={pic5}/>\r\n                    </div>\r\n                    <div>\r\n                        <img src={pic6}/>\r\n                    </div>\r\n                </Carousel>\r\n                <div style={{textAlign: \"center\", fontStyle: \"oblique\"}}>\r\n                    {imageCaption}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n\r\n    const renderStartButton = () => {\r\n        return (\r\n            <div className=\"text-center\">\r\n                <Link to={PATH_FOODDATA_PANEL}>\r\n                <button type=\"button\"\r\n                        className=\"btn btn-warning button-apply media app\"\r\n                        style={{minWidth: \"150px\"}}>\r\n\t\t\t\t\t<span style={{fontWeight: \"bold\"}}>\r\n\t\t\t\t\t\t{applicationStrings.button_getstarted[languageContext.language]}\r\n\t\t\t\t\t</span>\r\n                </button>\r\n                </Link>\r\n            </div>\r\n        )\r\n    }\r\n\r\n    return (\r\n        <div className=\"media home app\" style={{margin: \"0 auto\"}}>\r\n            <div className={\"container-fluid\"}>\r\n                <div className=\"row\">\r\n                    <div className={\"col-5\"}>\r\n                        <p>{applicationStrings.home_text_1[languageContext.language]}</p>\r\n                        <p>{applicationStrings.home_text_2[languageContext.language]}</p>\r\n                        {renderStartButton()}\r\n                    </div>\r\n                    <div className={\"col-7\"} style={{paddingLeft: \"45px\"}}>\r\n                        {renderCarousel()}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n\r\n}","export default __webpack_public_path__ + \"static/media/app.efc3a150.png\";","import {useContext} from \"react\";\r\nimport {LanguageContext} from \"../contexts/LangContext\";\r\nimport {applicationStrings} from \"../static/labels\";\r\n\r\nimport appPath from '../static/image/app.png';\r\nimport {Button} from \"react-bootstrap\";\r\nimport {mobileAppPath} from \"../config/ApplicationSetting\";\r\n\r\nexport function FoodCompareApp() {\r\n    const languageContext = useContext(LanguageContext)\r\n\r\n    const linkToPlayStore = () => {\r\n        const link = window.open(mobileAppPath, '_blank')\r\n        if(link) {\r\n            link.focus()\r\n        } else {\r\n            window.location.href = mobileAppPath\r\n        }\r\n    }\r\n\r\n    return <div className={\"container media app\"} style={{paddingTop: \"24px\"}}>\r\n        <div className={\"row\"}>\r\n            <div className={\"col-6\"}>\r\n                {applicationStrings.text_foodcompareapp_1[languageContext.language]}\r\n                <div className=\"text-center\" style={{paddingTop: \"32px\"}}>\r\n                    <button type=\"button\"\r\n                            className=\"btn btn-warning button-apply media app\"\r\n                            onClick={linkToPlayStore}\r\n                            style={{minWidth: \"250px\"}}>\r\n\t\t\t\t\t<span style={{fontWeight: \"bold\"}}>\r\n\t\t\t\t\t\t{applicationStrings.text_foodcompareapp_2[languageContext.language]}\r\n\t\t\t\t\t</span>\r\n                    </button>\r\n                </div>\r\n            </div>\r\n            <div className={\"col-6\"}>\r\n                <img src={appPath} className={\"media mobile-app-img\"}/>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n}","import './App.css';\r\n\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"bootstrap/dist/js/bootstrap.min.js\";\r\nimport {NotificationContainer} from 'react-notifications'\r\nimport ApplicationDataContextProvider from \"./contexts/ApplicationDataContext\";\r\nimport FoodDataPanelContainer from \"./components/fooddatapanel/FoodDataPanelContainer\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport Header from \"./components/Header\";\r\nimport {\r\n    PATH_FOODDATA_PANEL,\r\n    PATH_HOME,\r\n    PATH_CONTACT,\r\n    PATH_RANKING,\r\n    PATH_USERSETTINGS,\r\n    PATH_MOBILE_APP\r\n} from \"./config/Constants\";\r\nimport {LanguageProvider} from \"./contexts/LangContext\";\r\nimport {UserSettings} from \"./components/UserSettings\";\r\nimport {Contact} from \"./components/Contact\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport GA4React, {useGA4React} from \"ga-4-react\";\r\nimport {ANALYTICS_MESS_ID} from \"./config/GoogleTools\";\r\nimport {render} from \"react-dom\";\r\nimport {Home} from \"./components/Home\";\r\nimport {FoodCompareApp} from \"./components/FoodCompareApp\";\r\nimport {BrowserRouter as Router, Route} from 'react-router-dom';\r\nimport Switch from \"react-bootstrap/Switch\";\r\n\r\n\r\nconst ga4react = new GA4React(ANALYTICS_MESS_ID);\r\n\r\nfunction App(): JSX.Element {\r\n    const ga = useGA4React();\r\n\r\n    useEffect(() => {\r\n        ReactTooltip.rebuild()\r\n    })\r\n\r\n    return (\r\n        <div className=\"App\">\r\n            <NotificationContainer/>\r\n            <ReactTooltip/>\r\n            <LanguageProvider>\r\n                <ApplicationDataContextProvider>\r\n                    <Router>\r\n                        <Header/>\r\n                        <Switch>\r\n                            <Route path={\"/foodcompare\"} component={Home}/>\r\n                            <Route path={PATH_HOME} component={Home}/>\r\n                            <Route path={PATH_FOODDATA_PANEL} component={FoodDataPanelContainer}/>\r\n                            <Route path={PATH_MOBILE_APP} component={FoodCompareApp}/>\r\n                            <Route path={PATH_USERSETTINGS} component={UserSettings}/>\r\n                            <Route path={PATH_CONTACT} component={Contact}/>\r\n                            <Route exact path={\"/\"} component={Home}/>\r\n                        </Switch>\r\n                    </Router>\r\n                </ApplicationDataContextProvider>\r\n            </LanguageProvider>\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\n(async () => {\r\n    await ga4react.initialize();\r\n    try {   // NOTE: uBlock Origin may cause a crash here\r\n        await ga4react.initialize();\r\n    } catch (e) {\r\n        console.error(e)\r\n    }\r\n    render(\r\n        <React.StrictMode>\r\n            <App/>\r\n        </React.StrictMode>,\r\n        document.getElementById(\"root\")\r\n    );\r\n})();\r\n\r\nexport default App;\r\n","export const ANALYTICS_MESS_ID = 'G-DXHX3Y13KZ'\r\n\r\nexport const ADSENSE_TRACKING_ID = 'ca-pub-2335013571820161'\r\n\r\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\r\nimport {hydrate, render} from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nconst rootElement = document.getElementById(\"root\");\r\nif (rootElement && rootElement.hasChildNodes()) {\r\n    hydrate(<App />, rootElement);\r\n} else {\r\n    render(<React.StrictMode>\r\n        <App />\r\n    </React.StrictMode>, rootElement);\r\n}\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n\r\n\r\n"],"sourceRoot":""}